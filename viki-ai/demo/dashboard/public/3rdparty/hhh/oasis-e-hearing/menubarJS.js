function closeChat() {
	if (typeof Comm100API != 'undefined' && typeof Comm100API === 'object' && typeof Comm100API.do === 'function'){
		Comm100API.do('livechat.chat.endChat');
		Comm100API.do('livechat.postChat.close');
	}
}
function Browser(){var B,C,A;this.isIE=false;this.isOP=false;this.isNS=false;this.version=null;B=navigator.userAgent;C="Opera";if((A=B.indexOf(C))>=0){this.isOP=true;this.version=parseFloat(B.substr(A+C.length));return }C="Netscape6/";if((A=B.indexOf(C))>=0){this.isNS=true;this.version=parseFloat(B.substr(A+C.length));return }C="Gecko";if((A=B.indexOf(C))>=0){this.isNS=true;this.version=6.1;return }C="MSIE";if((A=B.indexOf(C))){this.isIE=true;this.version=parseFloat(B.substr(A+C.length));return }}var browser=new Browser();var activeButton=null;if(browser.isIE){document.onmousedown=pageMousedown}else{document.addEventListener("mousedown",pageMousedown,true)}function pageMousedown(B){var A;if(activeButton==null){return }if(browser.isIE){A=window.event.srcElement}else{A=(B.target.tagName?B.target:B.target.parentNode)}if(A==activeButton){return }if(getContainerWith(A,"DIV","menu")==null){resetButton(activeButton);activeButton=null}}function buttonClick(B,C){var A;if(browser.isIE){A=window.event.srcElement}else{A=B.currentTarget}A.blur();if(A.menu==null){A.menu=document.getElementById(C);if(A.menu.isInitialized==null){menuInit(A.menu)}}if(activeButton!=null){resetButton(activeButton)}if(A!=activeButton){depressButton(A);activeButton=A}else{activeButton=null}return false}function buttonMouseover(B,C){var A;if(browser.isIE){A=window.event.srcElement}else{A=B.currentTarget}if(activeButton!=null&&activeButton!=A){buttonClick(B,C)}}function depressButton(B){var A,C;B.className+=" menuButtonActive";A=getPageOffsetLeft(B);C=getPageOffsetTop(B)+B.offsetHeight;if(browser.isIE){A+=B.offsetParent.clientLeft;C+=B.offsetParent.clientTop}B.menu.style.left=A+"px";B.menu.style.top=C+"px";B.menu.style.visibility="visible";if(B.menu.iframeEl!=null){B.menu.iframeEl.style.left=B.menu.style.left;B.menu.iframeEl.style.top=B.menu.style.top;B.menu.iframeEl.style.width=B.menu.offsetWidth+"px";B.menu.iframeEl.style.height=B.menu.offsetHeight+"px";B.menu.iframeEl.style.display=""}}function resetButton(A){removeClassName(A,"menuButtonActive");if(A.menu!=null){closeSubMenu(A.menu);A.menu.style.visibility="hidden";if(A.menu.iframeEl!=null){A.menu.iframeEl.style.display="none"}}}function menuMouseover(A){var B;if(browser.isIE){B=getContainerWith(window.event.srcElement,"DIV","menu")}else{B=A.currentTarget}if(B.activeItem!=null){closeSubMenu(B)}}function menuItemMouseover(C,H){var B,F,A,G;if(browser.isIE){B=getContainerWith(window.event.srcElement,"A","menuItem")}else{B=C.currentTarget}F=getContainerWith(B,"DIV","menu");if(F.activeItem!=null){closeSubMenu(F)}F.activeItem=B;B.className+=" menuItemHighlight";if(B.subMenu==null){B.subMenu=document.getElementById(H);if(B.subMenu.isInitialized==null){menuInit(B.subMenu)}}A=getPageOffsetLeft(B)+B.offsetWidth;G=getPageOffsetTop(B);var E,D;if(browser.isIE){E=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)+(document.documentElement.clientWidth!=0?document.documentElement.clientWidth:document.body.clientWidth);D=Math.max(document.documentElement.scrollTop,document.body.scrollTop)+(document.documentElement.clientHeight!=0?document.documentElement.clientHeight:document.body.clientHeight)}if(browser.isOP){E=document.documentElement.scrollLeft+window.innerWidth;D=document.documentElement.scrollTop+window.innerHeight}if(browser.isNS){E=window.scrollX+window.innerWidth;D=window.scrollY+window.innerHeight}E-=B.subMenu.offsetWidth;D-=B.subMenu.offsetHeight;if(A>E){A=Math.max(0,A-B.offsetWidth-B.subMenu.offsetWidth+(F.offsetWidth-B.offsetWidth))}G=Math.max(0,Math.min(G,D));B.subMenu.style.left=A+"px";B.subMenu.style.top=G+"px";B.subMenu.style.visibility="visible";if(B.subMenu.iframeEl!=null){B.subMenu.iframeEl.style.left=B.subMenu.style.left;B.subMenu.iframeEl.style.top=B.subMenu.style.top;B.subMenu.iframeEl.style.width=B.subMenu.offsetWidth+"px";B.subMenu.iframeEl.style.height=B.subMenu.offsetHeight+"px";B.subMenu.iframeEl.style.display=""}if(browser.isIE){window.event.cancelBubble=true}else{C.stopPropagation()}}function closeSubMenu(A){if(A==null||A.activeItem==null){return }if(A.activeItem.subMenu!=null){closeSubMenu(A.activeItem.subMenu);A.activeItem.subMenu.style.visibility="hidden";if(A.activeItem.subMenu.iframeEl!=null){A.activeItem.subMenu.iframeEl.style.display="none"}A.activeItem.subMenu=null}removeClassName(A.activeItem,"menuItemHighlight");A.activeItem=null}function menuInit(C){var G,B;var K,J;var H;var I,A;var F,E;if(browser.isIE){C.style.lineHeight="2.5ex";B=C.getElementsByTagName("SPAN");for(F=0;F<B.length;F++){if(hasClassName(B[F],"menuItemArrow")){B[F].style.fontFamily="Webdings";B[F].firstChild.nodeValue="4"}}}G=C.getElementsByTagName("A");if(G.length>0){H=G[0].offsetWidth}else{return }for(F=0;F<G.length;F++){B=G[F].getElementsByTagName("SPAN");K=null;J=null;for(E=0;E<B.length;E++){if(hasClassName(B[E],"menuItemText")){K=B[E]}if(hasClassName(B[E],"menuItemArrow")){J=B[E]}}if(K!=null&&J!=null){K.style.paddingRight=(H-(K.offsetWidth+J.offsetWidth))+"px";if(browser.isOP){J.style.marginRight="0px"}}}if(browser.isIE){I=G[0].offsetWidth;G[0].style.width=I+"px";A=G[0].offsetWidth-I;I-=A;G[0].style.width=I+"px"}if(browser.isIE){var D=document.createElement("IFRAME");D.src="javascript:false";C.iframeEl=C.parentNode.insertBefore(D,C);C.iframeEl.style.display="none";C.iframeEl.style.position="absolute"}C.isInitialized=true}function getContainerWith(C,A,B){while(C!=null){if(C.tagName!=null&&C.tagName==A&&hasClassName(C,B)){return C}C=C.parentNode}return C}function hasClassName(C,A){var B,D;D=C.className.split(" ");for(B=0;B<D.length;B++){if(D[B]==A){return true}}return false}function removeClassName(D,A){var B,E,C;if(D.className==null){return }C=new Array();E=D.className.split(" ");for(B=0;B<E.length;B++){if(E[B]!=A){C.push(E[B])}}D.className=C.join(" ")}function getPageOffsetLeft(B){var A;A=B.offsetLeft;if(B.offsetParent!=null){A+=getPageOffsetLeft(B.offsetParent)}return A}function getPageOffsetTop(A){var B;B=A.offsetTop;if(A.offsetParent!=null){B+=getPageOffsetTop(A.offsetParent)}return B}function killsession(){if(window.confirm("Are you sure you want to logoff?")){closeChat();return true;window.location("logout.cfm")}else{return false}}
function MenuSubmit(A){document.PTForm.wheretogo.value=A;document.PTForm.submit();return false}
function clearRadios(A){for(i=0;i<document.PTForm[A].length;i++){document.PTForm[A][i].checked=false}}function ShowComments(A){window.open("../../getcomment.cfm?patienttaskkey="+A,"CalendarWindow","width=450,height=650,scrollbars=yes,resize=yes")}function showInactive(B,A){for(x=1;x<200;x++){target=document.getElementById(B+x);ThisLabel=document.getElementById(B+A);if(target){target.style.display="none"}}ThisLabel&&(ThisLabel.style.display="inline")}function DeActivateMCode(A){target=document.getElementById(A);target.className="";for(x=1;x<25;x++){target=document.getElementById(A+x);if(target){if(target.type.toLowerCase()=="textarea"){target.className="OASISComment";target.readOnly=false}else{if(target.type.toLowerCase()=="checkbox"){target.disabled=false}else{if(target.type.toLowerCase()=="radio"){target.disabled=false}else{if(target.type.toLowerCase()=="text"){target.className="Inputline";target.readOnly=false}else{if(target.tagName.toLowerCase()=="a"){target.style.display="inline"}}}}}}}}function ActivateMCode(A){target=document.getElementById(A);target.className="greytext";for(x=1;x<25;x++){target=document.getElementById(A+x);if(target){if(target.type.toLowerCase()=="textarea"){target.className="GreyComment";target.value="";target.readOnly=true}else{if(target.type.toLowerCase()=="checkbox"){target.checked=false;target.disabled=true}else{if(target.type.toLowerCase()=="radio"){target.checked=false;target.disabled=true}else{if(target.type.toLowerCase()=="text"){target.className="inputlinero";target.readOnly=true;target.value=""}else{if(target.tagName.toLowerCase()=="a"){target.style.display="none"}}}}}}}}
function Browser(){var B,C,A;this.isIE=false;this.isOP=false;this.isNS=false;this.version=null;B=navigator.userAgent;C="Opera";if((A=B.indexOf(C))>=0){this.isOP=true;this.version=parseFloat(B.substr(A+C.length));return }C="Netscape6/";if((A=B.indexOf(C))>=0){this.isNS=true;this.version=parseFloat(B.substr(A+C.length));return }C="Gecko";if((A=B.indexOf(C))>=0){this.isNS=true;this.version=6.1;return }C="MSIE";if((A=B.indexOf(C))){this.isIE=true;this.version=parseFloat(B.substr(A+C.length));return }}var browser=new Browser();var activeButton=null;if(browser.isIE){document.onmousedown=pageMousedown}else{document.addEventListener("mousedown",pageMousedown,true)}function pageMousedown(B){var A;if(activeButton==null){return }if(browser.isIE){A=window.event.srcElement}else{A=(B.target.tagName?B.target:B.target.parentNode)}if(A==activeButton){return }if(getContainerWith(A,"DIV","menu")==null){resetButton(activeButton);activeButton=null}}function buttonClick(B,C){var A;if(browser.isIE){A=window.event.srcElement}else{A=B.currentTarget}A.blur();if(A.menu==null){A.menu=document.getElementById(C);if(A.menu.isInitialized==null){menuInit(A.menu)}}if(activeButton!=null){resetButton(activeButton)}if(A!=activeButton){depressButton(A);activeButton=A}else{activeButton=null}return false}function buttonMouseover(B,C){var A;if(browser.isIE){A=window.event.srcElement}else{A=B.currentTarget}if(activeButton!=null&&activeButton!=A){buttonClick(B,C)}}function depressButton(B){var A,C;B.className+=" menuButtonActive";A=getPageOffsetLeft(B);C=getPageOffsetTop(B)+B.offsetHeight;if(browser.isIE){A+=B.offsetParent.clientLeft;C+=B.offsetParent.clientTop}B.menu.style.left=A+"px";B.menu.style.top=C+"px";B.menu.style.visibility="visible";if(B.menu.iframeEl!=null){B.menu.iframeEl.style.left=B.menu.style.left;B.menu.iframeEl.style.top=B.menu.style.top;B.menu.iframeEl.style.width=B.menu.offsetWidth+"px";B.menu.iframeEl.style.height=B.menu.offsetHeight+"px";B.menu.iframeEl.style.display=""}}function resetButton(A){removeClassName(A,"menuButtonActive");if(A.menu!=null){closeSubMenu(A.menu);A.menu.style.visibility="hidden";if(A.menu.iframeEl!=null){A.menu.iframeEl.style.display="none"}}}function menuMouseover(A){var B;if(browser.isIE){B=getContainerWith(window.event.srcElement,"DIV","menu")}else{B=A.currentTarget}if(B.activeItem!=null){closeSubMenu(B)}}function menuItemMouseover(C,H){var B,F,A,G;if(browser.isIE){B=getContainerWith(window.event.srcElement,"A","menuItem")}else{B=C.currentTarget}F=getContainerWith(B,"DIV","menu");if(F.activeItem!=null){closeSubMenu(F)}F.activeItem=B;B.className+=" menuItemHighlight";if(B.subMenu==null){B.subMenu=document.getElementById(H);if(B.subMenu.isInitialized==null){menuInit(B.subMenu)}}A=getPageOffsetLeft(B)+B.offsetWidth;G=getPageOffsetTop(B);var E,D;if(browser.isIE){E=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)+(document.documentElement.clientWidth!=0?document.documentElement.clientWidth:document.body.clientWidth);D=Math.max(document.documentElement.scrollTop,document.body.scrollTop)+(document.documentElement.clientHeight!=0?document.documentElement.clientHeight:document.body.clientHeight)}if(browser.isOP){E=document.documentElement.scrollLeft+window.innerWidth;D=document.documentElement.scrollTop+window.innerHeight}if(browser.isNS){E=window.scrollX+window.innerWidth;D=window.scrollY+window.innerHeight}E-=B.subMenu.offsetWidth;D-=B.subMenu.offsetHeight;if(A>E){A=Math.max(0,A-B.offsetWidth-B.subMenu.offsetWidth+(F.offsetWidth-B.offsetWidth))}G=Math.max(0,Math.min(G,D));B.subMenu.style.left=A+"px";B.subMenu.style.top=G+"px";B.subMenu.style.visibility="visible";if(B.subMenu.iframeEl!=null){B.subMenu.iframeEl.style.left=B.subMenu.style.left;B.subMenu.iframeEl.style.top=B.subMenu.style.top;B.subMenu.iframeEl.style.width=B.subMenu.offsetWidth+"px";B.subMenu.iframeEl.style.height=B.subMenu.offsetHeight+"px";B.subMenu.iframeEl.style.display=""}if(browser.isIE){window.event.cancelBubble=true}else{C.stopPropagation()}}function closeSubMenu(A){if(A==null||A.activeItem==null){return }if(A.activeItem.subMenu!=null){closeSubMenu(A.activeItem.subMenu);A.activeItem.subMenu.style.visibility="hidden";if(A.activeItem.subMenu.iframeEl!=null){A.activeItem.subMenu.iframeEl.style.display="none"}A.activeItem.subMenu=null}removeClassName(A.activeItem,"menuItemHighlight");A.activeItem=null}function menuInit(C){var G,B;var K,J;var H;var I,A;var F,E;if(browser.isIE){C.style.lineHeight="2.5ex";B=C.getElementsByTagName("SPAN");for(F=0;F<B.length;F++){if(hasClassName(B[F],"menuItemArrow")){B[F].style.fontFamily="Webdings";B[F].firstChild.nodeValue="4"}}}G=C.getElementsByTagName("A");if(G.length>0){H=G[0].offsetWidth}else{return }for(F=0;F<G.length;F++){B=G[F].getElementsByTagName("SPAN");K=null;J=null;for(E=0;E<B.length;E++){if(hasClassName(B[E],"menuItemText")){K=B[E]}if(hasClassName(B[E],"menuItemArrow")){J=B[E]}}if(K!=null&&J!=null){K.style.paddingRight=(H-(K.offsetWidth+J.offsetWidth))+"px";if(browser.isOP){J.style.marginRight="0px"}}}if(browser.isIE){I=G[0].offsetWidth;G[0].style.width=I+"px";A=G[0].offsetWidth-I;I-=A;G[0].style.width=I+"px"}if(browser.isIE){var D=document.createElement("IFRAME");D.src="javascript:false";C.iframeEl=C.parentNode.insertBefore(D,C);C.iframeEl.style.display="none";C.iframeEl.style.position="absolute"}C.isInitialized=true}function getContainerWith(C,A,B){while(C!=null){if(C.tagName!=null&&C.tagName==A&&hasClassName(C,B)){return C}C=C.parentNode}return C}function hasClassName(C,A){var B,D;D=C.className.split(" ");for(B=0;B<D.length;B++){if(D[B]==A){return true}}return false}function removeClassName(D,A){var B,E,C;if(D.className==null){return }C=new Array();E=D.className.split(" ");for(B=0;B<E.length;B++){if(E[B]!=A){C.push(E[B])}}D.className=C.join(" ")}function getPageOffsetLeft(B){var A;A=B.offsetLeft;if(B.offsetParent!=null){A+=getPageOffsetLeft(B.offsetParent)}return A}function getPageOffsetTop(A){var B;B=A.offsetTop;if(A.offsetParent!=null){B+=getPageOffsetTop(A.offsetParent)}return B}function killsession(){if(window.confirm("Are you sure you want to logoff?")){closeChat();return true;window.location("logout.cfm")}else{return false}}
function MenuSubmit(A,formName){
	if(!formName)
		formName = 'PTForm';
	formName = eval('document.' + formName)
	formName.wheretogo.value=A;
	formName.submit();
	return false
	}

function clearRadios(A){for(i=0;i<document.PTForm[A].length;i++){document.PTForm[A][i].checked=false}}function ShowComments(A){window.open("../../getcomment.cfm?patienttaskkey="+A,"CalendarWindow","width=450,height=650,scrollbars=yes,resize=yes")}function showInactive(B,A){for(x=1;x<200;x++){target=document.getElementById(B+x);ThisLabel=document.getElementById(B+A);if(target){target.style.display="none"}}ThisLabel&&(ThisLabel.style.display="inline")}function DeActivateMCode(A){target=document.getElementById(A);target.className="";for(x=1;x<25;x++){target=document.getElementById(A+x);if(target){if(target.type.toLowerCase()=="textarea"){target.className="OASISComment";target.readOnly=false}else{if(target.type.toLowerCase()=="checkbox"){target.disabled=false}else{if(target.type.toLowerCase()=="radio"){target.disabled=false}else{if(target.type.toLowerCase()=="text"){target.className="Inputline";target.readOnly=false}else{if(target.tagName.toLowerCase()=="a"){target.style.display="inline"}}}}}}}}function ActivateMCode(A){target=document.getElementById(A);target.className="greytext";for(x=1;x<25;x++){target=document.getElementById(A+x);if(target){if(target.type.toLowerCase()=="textarea"){target.className="GreyComment";target.value="";target.readOnly=true}else{if(target.type.toLowerCase()=="checkbox"){target.checked=false;target.disabled=true}else{if(target.type.toLowerCase()=="radio"){target.checked=false;target.disabled=true}else{if(target.type.toLowerCase()=="text"){target.className="inputlinero";target.readOnly=true;target.value=""}else{if(target.tagName.toLowerCase()=="a"){target.style.display="none"}}}}}}}}

function autofocus(C,A,B){if(C.value.length==A){E1=document.getElementById(B);E1&&E1.focus()}}

function formatTime(B){var A=B.value.length;if(A==2){B.value+=":"}B.value=B.value.replace(/::/,":")}function FormatDate(B){var A=B.value.length;if(A==2){if (B.value.charAt(1) == '/'){	B.value = '0' + B.value;}else{if (typeof window.event == "undefined" || event.keyCode != 8)	{B.value+="/"	}}}if(A==5){	if (B.value.charAt(4) == '/'){day = B.value.substring(0,3);	month = B.value.substring(3,6);B.value = day + '0' + month;}else{if (typeof window.event == "undefined" || event.keyCode != 8){B.value+="/"	}}}if (B.value.length==4 && B.value.charAt(3) == '/'){B.value = B.value.substring(0,3);}if (B.value.length==7 && B.value.charAt(6) == '/')	{B.value = B.value.substring(0,6);	}if (B.value.length>10)	{B.value = B.value.substring(0,10);}}function FormatPhone(B){var A=B.value.length;if(A==3){B.value+="-"}if(A==7){B.value+="-"}}

function checkUncheckAll(A){var C=A.form,B=0;for(B=0;B<C.length;B++){if(C[B].type=="checkbox"&&C[B].name!="checkall"&& (C[B].id.length == 0 || $('#'+C[B].id).parents('ul').css('display')!='none') ){C[B].checked=A.checked}}};

function checkUncheckAllNamed(A,D){var C=A.form,B=0;for(B=0;B<C.length;B++){if(C[B].type=="checkbox"&&C[B].name==D&& (C[B].id.length == 0 || $('#'+C[B].id).parents('ul').css('display')!='none') ){C[B].checked=A.checked}}};

function isDate(dateStr){var datePat=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/;var matchArray=dateStr.match(datePat);if(matchArray==null){return false;}
month=matchArray[1];day=matchArray[3];year=matchArray[5];if(month<1||month>12){return false;}
if(day<1||day>31){return false;}
if((month==4||month==6||month==9||month==11)&&day==31){return false;}
if(month==2){var isleap=(year%4==0&&(year%100!=0||year%400==0));if(day>29||(day==29&&!isleap)){return false;}}
if(year<1800 || year>2050){return false;}
return true;}



function isTime(timeStr){var timePat=/^(\d{1,2}):(\d{2})(:(\d{2}))?(\s?(AM|am|PM|pm))?$/;var matchArray=timeStr.match(timePat);if(matchArray==null){alert("Time is not in a valid format.");return false;}
hour=matchArray[1];minute=matchArray[2];second=matchArray[4];ampm=matchArray[6];if(second==""){second=null;}
if(ampm==""){ampm=null}
if(hour<0||hour>23){alert("Enter time in military format. ex 5:00 pm = 17:00");return false;}
if(minute<0||minute>59){alert("Minute must be between 0 and 59.");return false;}
if(second!=null&&(second<0||second>59)){alert("Second must be between 0 and 59.");return false;}
return true;
}


function URLEncode(urlVal )
{
	// The Javascript escape and unescape functions do not correspond
	// with what browsers actually do...
	var SAFECHARS = "0123456789" +					// Numeric
					"ABCDEFGHIJKLMNOPQRSTUVWXYZ" +	// Alphabetic
					"abcdefghijklmnopqrstuvwxyz" +
					"-_.!~*'(),";					// RFC2396 Mark characters
	var HEX = "0123456789ABCDEF";

	var plaintext = urlVal;
	var encoded = "";
	for (var i = 0; i < plaintext.length; i++ ) {
		var ch = plaintext.charAt(i);
	    if (ch == " ") {
		    encoded += "+";				// x-www-urlencoded, rather than %20
		} else if (SAFECHARS.indexOf(ch) != -1) {
		    encoded += ch;
		} else {
		    var charCode = ch.charCodeAt(0);
			if (charCode > 255) {
				encoded += "+";
			} else {
				encoded += "%";
				encoded += HEX.charAt((charCode >> 4) & 0xF);
				encoded += HEX.charAt(charCode & 0xF);
			}
		}
	} // for

	return encoded;

};

function isDecimal(str) 
{
	return /^[-+]?[0-9]+(\.[0-9]+)?$/.test(str);
}
function checkMileage(mileage){	

var mileage = mileage;
	if (mileage.length > 0 && !isDecimal(mileage))
	{
		window.alert("Please enter a correct mileage.")
		return false;
	}
}


/**
 * compiled: 2024-01-09 06:10:34
 * version: 1.8.137
 * commit: 05ad83d7222874896fdf42a4fe94a8c32276c765
 */

import{m as t,a as e,d as n,y as i,e as o,f as a,g as r,t as s,h as c,i as d,q as l,$ as u,b as p,c as h,j as f,F as g,p as m,k as w,P as b}from"./vendor.9a7e2f22.js";import{i as v,g as _,r as x,h as y,c as S,a as C,b as k,d as I,e as M,f as A,j as O,k as B,u as T,_ as j,l as P,m as F,n as N,o as W,p as V,q as D,s as R,t as E,v as z,w as L,x as H,y as q,z as U,A as G,B as K,C as Y,D as J,E as Q,F as Z,G as X,H as $,I as tt,J as et,K as nt,L as it,M as ot,N as at,O as rt,P as st,Q as ct,R as dt,S as lt,T as ut,U as pt,V as ht,W as ft,X as gt,Y as mt,Z as wt,$ as bt,a0 as vt,a1 as _t,a2 as xt,a3 as yt,a4 as St,a5 as Ct,a6 as kt,a7 as It,a8 as Mt,a9 as At,aa as Ot,ab as Bt,ac as Tt,ad as jt,ae as Pt,af as Ft,ag as Nt,ah as Wt,ai as Vt,aj as Dt,ak as Rt,al as Et,am as zt,an as Lt,ao as Ht,ap as qt,aq as Ut,ar as Gt,as as Kt,at as Yt,au as Jt,av as Qt,aw as Zt,ax as Xt,ay as $t,az as te,aA as ee,aB as ne,aC as ie,aD as oe,aE as ae,aF as re,aG as se}from"./common.16337153.js";var ce="centered",de="bottomMiddle",le="bottomRight",ue="centeredWithOverlayBackground",pe="middleLeft",he="middleRight",fe=".DayPicker-wrapper,.btn,.chat-input__toolbox,.emoji__cell,.form-fields .field-control-password .svg-icon{-webkit-user-select:none;-ms-user-select:none}.btn,button{-webkit-appearance:none}.btn,.buttonProgressContainer{position:relative;text-align:center}.btn,.buttonProgressBtnDefaultSize{width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}button{margin:0;padding:0;font-family:\"SourceSans Pro\",Arial;outline:0}.article-list:focus,.global-showFocus a:focus,.global-showFocus button:focus{outline:#000001 auto 5px}.btn{text-decoration:none;zoom:1;display:inline-block;margin-bottom:0;font-size:.93333rem;font-weight:400;cursor:pointer;background-image:none;border:1px solid transparent;line-height:1.7;padding:4px 10px;font-family:\"SourceSans Pro\",Arial;border-radius:5px;user-select:none;background-color:inherit;max-width:270px}.window--mobile:not(.window--ipad) .btn{max-width:unset}.window--circular .btn{border-radius:20px}.disabled{cursor:default;box-shadow:none!important}.btn-primary{color:#00000e;background:#00000a;border:1px solid #00000a}.btn-primary.disabled{background-color:#00000a!important;border:1px solid #00000a!important}.btn-primary:focus,.btn-primary:hover{background:#000003;border:1px solid #000003;text-decoration:none}.btn-primary:active{background:#000003;border:1px solid #000003;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-grey{color:#000;background:#e8e8e8;border:1px solid #e8e8e8}.btn-grey:focus,.btn-grey:hover{background:#c4c4c4;border:1px solid #c4c4c4;text-decoration:none}.btn-grey:active{background:#e8e8e8;border:1px solid #e8e8e8;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.buttonProgressBtnAnimated{animation-fill-mode:both}.buttonProgressContainerLoading .buttonProgressBtnAnimated,.buttonProgressContainerSuccess .buttonProgressBtnAnimated{animation-name:form__submit--loading;animation-duration:.4s;cursor:default}.window--ie .buttonProgressContainerLoading .buttonProgressBtnAnimated{animation:none;opacity:.65}@keyframes form__submit--loading{0%{border-radius:20px;text-indent:999em;background:#00000a;border:1px solid #00000a;width:128px;text-overflow:clip}99%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;text-overflow:clip}100%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;opacity:0;text-overflow:clip}}.lds-css,.lds-rolling{width:32px;height:32px}.buttonProgress__layerCircle{outline:0}.buttonProgress__layerCircle,.buttonProgress__layerLoading,.buttonProgress__layerSuccess,.lds-css{position:absolute;left:50%;top:50%;display:none}.buttonProgress__layerCircle,.buttonProgress__layerLoading,.lds-css{margin-top:-16px;margin-left:-16px}.buttonProgress__layerSuccess{margin-top:-8px;margin-left:-8px}.buttonProgressContainerLoading .buttonProgress__layerLoading,.buttonProgressContainerLoading .lds-css{display:block;animation:fadeIn 0s cubic-bezier(.785,.135,.15,.86) .4s both;cursor:default}.buttonProgressContainerSuccess .buttonProgress__layerLoading,.buttonProgressContainerSuccess .lds-css,.window--ie .buttonProgressContainerLoading .lds-css,.window--ie9 .select-box svg{display:none}.buttonProgressContainerSuccess .buttonProgress__layerCircle,.buttonProgressContainerSuccess .buttonProgress__layerSuccess{display:block;cursor:default}.buttonProgress__submitLoadingPath{fill:#00000a}.buttonProgress__submitCirclePath{stroke:#00000a;stroke-width:3px;stroke-dasharray:100;stroke-dashoffset:0;fill:#fff;fill-opacity:0}.buttonProgressContainerSuccess .buttonProgress__submitCirclePath{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:buttonProgress__submitCirclePath-dash;animation-duration:.5s}@keyframes buttonProgress__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}.buttonProgress__submitSuccessPath{fill:#00000a;stroke-width:1;-ms-transform:scale(0);transform:scale(0);opacity:0}.buttonProgressContainerSuccess .buttonProgress__submitSuccessPath{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:buttonProgress__submitSuccessPath-animation;animation-duration:.5s;animation-delay:542ms}@keyframes buttonProgress__submitSuccessPath-animation{0%{transform:scale(0);transform-origin:50% 50%;opacity:0}100%{transform:scale(1);transform-origin:50% 50%;opacity:1}}@keyframes lds-rolling{0%{transform:rotate(0) translateZ(0)}100%{transform:rotate(360deg) translateZ(0)}}.lds-rolling{position:absolute;border:3px solid #00000a;border-top-color:transparent;border-radius:50%;animation:lds-rolling .75s linear infinite}.window--ie .lds-rolling{animation:none}.form-fields--horizonal .container-checkboxlist,.form-fields--horizonal .container-radiolist{width:calc(100% - 80px);max-width:calc(100% - 80px)}.container-checkboxlist{display:inline-block;width:100%;max-width:100%}.container-checkbox{display:inline-block;position:relative;color:#333;padding-left:26px;width:100%;line-height:1.2rem}.container-checkbox.disable{pointer-events:none}.container-checkbox i{display:inline-block;width:16px;height:16px;position:absolute;left:0;top:0;margin-top:1px}.container-checkbox i.selected{display:block}.container-checkbox i.unselected,.horizontal,.prepend,.prependContainer{display:inline-block}.checkbox:focus+.selected .checkbox2,.selected .checkbox2{fill:#00000a}.checkbox2{fill:#ddd}.checkbox3{fill:#fff}.checkbox:focus+.unselected .checkbox2,.container-checkbox:hover>.unselected .checkbox2{fill:#00000a}.checkbox{position:absolute;z-index:-1;opacity:0;top:-2px;left:-2px;width:18px;height:16px}.horizontal{margin-right:10px}.control,.vertical{display:block}.container-checkbox input[type=Checkbox]:disabled~.checkbox__text,.container-checkbox input[type=Checkbox]:disabled~i svg{opacity:.6;pointer-events:none;cursor:default}.container-checkbox input[type=Checkbox]~.checkbox__text{cursor:pointer}.container-checkbox input[type=Checkbox]~i svg{cursor:pointer;width:15px;height:15px;margin-left:2px}.global-showFocus .container-checkbox input[type=Checkbox]:focus~i svg{outline:#00000a auto 1px}.checkbox1{fill-rule:evenodd;clip-rule:evenodd;fill:#fff}.selected .checkbox1{fill:#00000a}.control{position:relative;padding-left:26px;margin-bottom:6px;cursor:pointer;font-size:.933333333333rem;color:#333;line-height:1.2rem}.control .radioText{line-height:1.2rem;padding-left:0}.control input[type=radio]{position:absolute;z-index:-1;opacity:0;top:-2px;left:-5px;width:18px;height:18px}.controlIndicator{position:absolute;top:0;left:0;margin-top:1px;height:16px;width:16px;border-radius:50%;overflow:hidden}.controlRadio .controlIndicator svg{width:16px;height:16px;border:1px solid #ddd;border-radius:50%;background-color:#fff}.control input[type=radio]:checked~.controlIndicator svg,.control input[type=radio]:focus~.controlIndicator svg,.control:hover input[type=radio]~.controlIndicator svg{border:1px solid #00000a}.control input[type=radio]~.controlIndicator svg circle{fill:#fff}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:#00000a;stroke:#00000a;stroke-width:1px}.control input[type=radio]:disabled~.controlIndicator{opacity:.6;pointer-events:none}.control:hover input[type=radio]:disabled~.controlIndicator{border:none}.control input[type=radio]:checked~.controlIndicator svg circle:nth-child(2){fill:#fff}.global-showFocus .control input[type=radio]:focus~.controlIndicator{outline:#000003 auto 1px;outline-color:-webkit-focus-ring-color}.controlRadio.horizontal{float:left;margin-right:20px}.select-box{position:relative;padding:3px;height:35px;background:#fff;border-radius:5px}.select-box svg{position:absolute;width:9px;height:6px;top:calc(50% - 3px);right:10px;color:#333}.bubble-box,.select-box .select{width:100%;height:100%;bottom:0}.select-box .select{position:absolute;left:0;right:0;top:0;z-index:9;padding:5px 25px 5px 10px;background:0 0;color:#333;cursor:pointer;border:1px solid #ddd;outline:0;font-size:1.066667rem;font-family:inherit;appearance:none;border-radius:5px}.select-box .select:disabled{background-color:#f5f5f5}.embedded-window:not(.window--mobile) .select-box .select{font-size:.934rem}.select-box .select::-ms-expand{display:none}.select-box .select:focus{border-color:#00000a}.svg{width:16px;height:16px}.svg--loading{width:18px;height:18px}.svg--loadingChat{display:block;width:28px;height:28px;margin:0 auto}.svg.disabled{opacity:.3}svg:hover{cursor:pointer}.svg.disabled:hover{cursor:default}.svgPath{fill:#000;width:16px;height:16px}.svgRatePath1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathSendFile1{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svgPathVideo1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVideo2{fill:none}.svgPathVoice1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVoice2{fill:#000}.sendemail1{fill:none}.sendemail2{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svg:not(.disabled):hover .sendemail1,.svg:not(.disabled):hover .svgPathSendFile1,.svg:not(.disabled):hover .svgPathVideo1,.svg:not(.disabled):hover .svgPathVoice1,.svg:not(.disabled):hover .svgRatePath1{fill:rgba(0,0,0,.3)}.svg.active .svgRatePath1{fill:#000}.svg-white .svgPathVoice2,.svgClosePath,.svgMinimizePath,.svgPopupPath{fill:#fff}.svg-white .sendemail2,.svg-white .svgPathSendFile1,.svg-white .svgPathVideo1,.svg-white .svgPathVoice1,.svg-white .svgRatePath1{stroke:#fff}.svg-white:not(.disabled):hover .sendemail1,.svg-white:not(.disabled):hover .svgPathSendFile1,.svg-white:not(.disabled):hover .svgPathVideo1,.svg-white:not(.disabled):hover .svgPathVoice1,.svg-white:not(.disabled):hover .svgRatePath1{fill:rgba(255,255,255,.3)}.svg-white.active .svgRatePath1{fill:#fff!important}.svg-white.active .svgPathSendFile1{fill:#fff!important;stroke:#000001!important}.svg-white.active .sendemail2{fill:none!important;stroke:transparent!important}.svg-white.active .sendemail1{fill:#fff!important}.svg-sidewindow-icon{width:25px;height:25px;fill:#a2a2a2;position:relative;border:1px solid transparent}.sideWindow:not(.sideWindow--mobile) .svg-sidewindow-icon:focus,.sideWindow:not(.sideWindow--mobile) .svg-sidewindow-icon:hover{border:1px solid #a2a2a2;border-radius:50%}.svg-sidewindow-icon-select-dark{border:1px solid #a2a2a2;border-radius:50%;fill:#000;background-color:#a2a2a2}.svg-sidewindow-icon-select-light{border:1px solid #a2a2a2;border-radius:50%;fill:#fff;background-color:#a2a2a2}.svg-sidewindow-icon-select-light-mobile{border:none;fill:#00000a;background-color:#fdfdfd}.svg-sidewindow-icon-select-dark-mobile{border:none;fill:#fdfdfd;background-color:#000}.window--circular .input{padding:5px 20px;border-radius:20px}.input,.multipleText{padding:5px 10px;outline:0}.input{border:1px solid #ddd;font-size:1.066667rem;-webkit-appearance:none;border-radius:5px}.embedded-window:not(.window--mobile) .input{font-size:.934rem}.input:disabled{background-color:#f5f5f5}.input[readOnly]{border:0}input.attachTicket{width:100px;margin-left:5px}.input:not(.input--effect01):focus{border-color:#00000a;outline:0}.prepend{line-height:18px;padding:5px 5px 4px;background-color:#fafafa}.prependContainer .input{border-top-left-radius:0;border-bottom-left-radius:0}.prependIcon{float:left;padding:0 6px 0 0}.defaultIcon{display:block;width:24px;height:24px}.inputContainer{position:relative;display:inline-block}.input.input--effect01{border:1px solid #ddd}.input__focusBorder{display:block}.input.input--effect01:focus{border-color:#00000a;transition:26ms;transition-delay:182ms}.window--circular .input.input--effect01~.input__focusBorder::after,.window--circular .input.input--effect01~.input__focusBorder::before{left:20px}.input.input--effect01~.input__focusBorder::after,.input.input--effect01~.input__focusBorder::before{content:\"\";position:absolute;top:0;left:5px;width:0;height:1px;background-color:#00000a}.input.input--effect01~.input__focusBorder::after{top:auto;bottom:0}.input.input--effect01~.input__focusBorder i::after,.input.input--effect01~.input__focusBorder i::before{content:\"\";position:absolute;top:50%;left:0;width:1px;height:0;background:#ddd}.window--circular .input.input--effect01~.input__focusBorder i::after{top:20px;height:calc(100% - 40px)}.input.input--effect01:not(.error):focus~.input__focusBorder i::before{background-color:#00000a}.input.input--effect01~.input__focusBorder i::after{left:auto;right:0;top:5px;bottom:0;height:calc(100% - 10px)}.window--circular .input.input--effect01:focus~.input__focusBorder::after,.window--circular .input.input--effect01:focus~.input__focusBorder::before{width:calc(100% - 40px)}.input.input--effect01:focus~.input__focusBorder::after,.input.input--effect01:focus~.input__focusBorder::before{width:calc(100% - 10px);transition:156ms;transition-delay:26ms}.window--circular .input.input--effect01:focus~.input__focusBorder i::after,.window--circular .input.input--effect01:focus~.input__focusBorder i::before{height:calc(100% - 40px);top:20px}.input.input--effect01:focus~.input__focusBorder i::after,.input.input--effect01:focus~.input__focusBorder i::before{height:calc(100% - 10px);transition:26ms;top:5px}.input.input--effect01:focus~.input__focusBorder i::after{height:0;transition-delay:182ms;top:50%}.window--circular .input.input--effect01~.input__cornerLeft,.window--circular .input.input--effect01~.input__cornerRight{border-radius:20px}.input.input--effect01~.input__cornerLeft,.input.input--effect01~.input__cornerRight{width:0;display:block;border:0 solid #00000a;top:0;bottom:0;position:absolute;border-radius:5px}.window--circular .input.input--effect01:not(.error):focus~.input__cornerLeft,.window--circular .input.input--effect01:not(.error):focus~.input__cornerRight{width:20px}.input.input--effect01:not(.error):focus~.input__cornerLeft,.input.input--effect01:not(.error):focus~.input__cornerRight{width:10px;border-width:1px}.input.input--effect01:not(.error):focus~.input__cornerLeft{left:0;border-top-right-radius:0;border-bottom-right-radius:0;transition-delay:26ms;border-right-color:transparent}.input.input--effect01:not(.error):focus~.input__cornerRight{right:0;border-top-left-radius:0;border-bottom-left-radius:0;transition-delay:182ms;border-left-color:transparent;border-right-color:transparent}.input.error,.input.error:focus,.input.error:hover{border-color:#d34747}.input.error~.input__focusBorder i::after,.input.error~.input__focusBorder i::before,.input.error~.input__focusBorder::after,.input.error~.input__focusBorder::before{background:#d34747}input,textarea{-webkit-transform:translate3d(0,0,0)}input[type=search]{-webkit-appearance:textfield}.multipleText,.window--mobile input[type=search]{-webkit-appearance:none}input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.multipleText{border:1px solid #ddd;transition:border-color .2s;border-radius:5px;width:100%;font-size:1.0666667rem;overflow:auto}:not(.window--mobile) .multipleText{font-size:.934rem}.multipleText:disabled{background-color:#f5f5f5}.multipleText:focus{border-color:#00000a;outline:0}.multipleText.error,.multipleText.error:focus,.multipleText.error:hover{border-color:#d34747}.window--circular .multipleText{border-radius:20px;padding:15px}.bubble-box{visibility:hidden;position:absolute;background:rgba(0,0,0,.5);z-index:2147483645;right:0}.bubble{position:relative;width:305px;background:#fff;padding:28px 18px;font-size:1rem;line-height:20px;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,.3);z-index:99;text-align:left}.corner-style .prechatForm__social .prechatForm__socialBtn,.window--circular .bubble{border-radius:20px}.window--ie .bubble{top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.bubble-close,.rating .star{border:none;background:0 0;cursor:pointer}.bubble-box--show{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;visibility:visible;position:fixed}.window--ie .bubble-box--show{display:block}.bubble-box--show .bubble{animation:showBubble 333ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .bubble-box--show .bubble{animation:none}@keyframes showBubble{0%{transform:scale(0)}100%{transform:scale(1)}}.window--ie9 .bubble .bubble__operation .btn:first-child{margin-right:0}.bubble .bubble__operation .btn:first-child,.rating .star{margin-right:10px}.bubble-close{position:absolute;right:10px;top:10px}.bubble-close svg{width:10px;height:10px;fill:#626262}.bubble-close svg:hover{fill:#333}.bubble__operation{margin-top:10px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.embedded-end-chatConfirmAction .btn,.media-chat-ConfirmAction .btn{max-width:50%}.bubble--title{color:#333;font-size:1rem;margin-bottom:13px;word-wrap:break-word}.bubble--desc{font-size:1rem;color:#333;margin-bottom:27px;text-align:center}.rating{position:relative;height:24px}.rating .star{display:inline-block;position:relative;width:24px;height:24px;overflow:hidden}.rating .star svg{fill:#fff;stroke:#626262;width:24px;height:24px}.rating .star:last-child{margin-right:0}.window--bubble .form-fields--horizonal .rating .star{font-size:1.066667rem;line-height:16px;margin-right:6px}.window--circle .form-fields--horizonal .rating .star{font-size:1.666667rem;line-height:25px}.rating .starColor svg{fill:#c24700;stroke:#c24700}.window__headerContainer,.window__headerVessel{-ms-flex-negative:0;flex-shrink:0}.window__headerContainer:focus{outline:0}.window__header{width:100%;min-height:30px;border-radius:5px 5px 0 0;transition:height 50ms linear}.window--circular .window__header{border-radius:20px 20px 20px 0}.window--mobile:not(.window--ipad) .window--circular .window__header{border-radius:0}.window--classic .window__header--fadeInDown{animation:fadeInDown 292ms both cubic-bezier(.785,.135,.15,.86);animation-delay:.3s}.window--ie .window--classic .window__header--fadeInDown{animation:none}.window__headerBox{padding:15px 27px 18px;width:100%}.window__header--hasAvatar .window__headerBox,.window__headerBox.window__headerBox--banner,.window__headerBox.window__headerBox--hasAvatars{padding:24px 27px 23px}.window__headerBox--onlylogo{min-height:85px}.window__headerBox--fadeInDown{opacity:1;-ms-transform:translateY(0);transform:translateY(0)}.title-buttons__operation{display:block;float:left;padding-left:10px;padding-right:10px}.window--circle:not(.window--embedded) .title-buttons__operation,.window--classic:not(.window--embedded) .title-buttons__operation{line-height:1}.window--mobile .title-buttons__operation{padding:0 9.5px}.title-buttons__operation .icon{cursor:pointer}.title-buttons__operation--text{border-left:2px solid rgba(255,255,255,.5)}.window--circle .title-buttons__operation--text{border-left-color:#a3a3a3;line-height:13px}.window--classic .title-buttons__operation--text{border-left-color:#000007;line-height:13px}.title-buttons__operation--text a{color:#fff;text-decoration:none;cursor:pointer;display:block;max-height:21px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.window--circle .title-buttons__operation--text a{color:#a3a3a3}.window--classic .window__headerBox{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--classic .window__headerBox.window__headerBox--banner{display:block}.window--classic .window__headerBox--team{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.window--classic .header__agent--withlogo{margin-right:10px}.window--classic .title-buttons__operation--text a{color:#000004}.header__teamAvatar--gray .header__teamAvatarImg{filter:gray;-webkit-filter:grayscale(100%)}.window__operation{height:30px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around;padding-right:5px}.window__operation .icon-close,.window__operation .icon-endchat{width:12px}.window--mobile .window__operation .icon-close,.window--mobile .window__operation .icon-endchat{width:16px}.window__operation .header__operationContainer>button,.window__operation>button{margin:0 1px;height:20px;background:0 0;border:none;padding:4px 10px 0;position:relative;display:inline-block;text-align:right}.window__operation .header__operationContainer>button,button.menubar__btn{background:0 0;border:none}.window__operation .header__operationContainer>a:hover svg,.window__operation .header__operationContainer>button:hover svg,.window__operation>button:hover svg{opacity:1}.window--bubble .window__operation .header__operationContainer>a.window__operation-menu-icon{margin-left:0}.window__operation-menu-icon{cursor:pointer}.window__operation-menu-icon>svg{width:20px}.body__dialog-menu .window__operation-menu,.window__menu-show.window__operation-menu{display:block;position:relative;z-index:11}.window__operation-menu{display:none;position:absolute}.window__operation-menu::before{content:'';background-color:transparent;display:block;width:135px;height:20px;position:absolute;right:0;top:-20px}.form__submit,.window--ie9 .window--bubble .window__operation-menu{width:160px}.window--bubble .window__operation-menu{position:absolute;right:0;top:20px}.window__operation-menu li{height:30px;line-height:30px;text-align:left}.window__operation-menu li>button{margin:0;height:30px;padding-left:22px;padding-right:22px;display:block;cursor:pointer;color:#333;background:0 0;border:none;width:100%}.window__operation-menu li>button:focus,.window__operation-menu li>button:hover{background-color:#eee;outline:0}.window__operation-menu li>button>div.menu__text-container{float:left;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:170px;min-width:50px;font-size:15px}.window--bubble .window__operation-menu li>button{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--mobile .window__operation-menu li>button>div.menu__text-container>span{width:100%}.body__dialog-menu .window__operation-menu li>button:hover,.window--mobile .window__operation-menu li>button:hover{background-color:initial}.window__operation .window__operation-menu ul{background:#fff;border-radius:5px 0 5px 5px;border:1px solid #ddd;z-index:2147483645;padding:10px 0}.window__operation .window__operation-menu ul li>button>svg{fill:#333;margin-right:10px;float:left;margin-top:2px}.global-showFocus .window__operation .header__operationContainer>a:focus,.global-showFocus .window__operation .header__operationContainer>button:focus,.global-showFocus .window__operation>button:focus{outline:#000004 solid 2px;border-radius:2px}.window--bubble .window__operation .window__operation-menu ul li>button>svg{-ms-flex-negative:0;flex-shrink:0;margin-top:0}.window__operation .header__operationContainer>a>svg,.window__operation .header__operationContainer>button>svg,.window__operation>button>svg{fill:#000004}.window--bubble .window__operation .header__operationContainer>a>svg,.window--bubble .window__operation .header__operationContainer>button>svg,.window--bubble .window__operation>button>svg{fill:#000}.window__operation .header__operationContainer>button:hover,.window__operation>button:hover{background:rgba(0,0,0,.1)}.main-container .window__title{position:absolute;right:0;top:0}.window--classic .icon-close,.window--classic .icon-embedded,.window--classic .icon-minimize,.window--classic .icon-popup{color:#000004;font-size:.8rem}.header__bannerImg{max-height:90px;width:auto;height:auto}.window--classic .header__bannerImg{display:block;max-width:calc(100% + 54px);margin:0 -27px -23px}.window--classic .header__agentInfo{overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;max-width:100%}.window--classic .window__header--hasAvatar .header__agentInfo{height:45px}.window--classic .header__agentInfoNoAvatar{max-width:100%;width:100%;padding-left:0}.window--circle .header__agentInfo{width:100%}.window--classic .header__chatbot{height:50px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--classic .header__avatar{float:left;margin-right:17px;width:45px;height:45px;-ms-flex-item-align:start;align-self:flex-start;border-radius:50%}.header__avatarImage{-ms-transform:scale(1.05);transform:scale(1.05)}.window--classic .header__avatarImage{display:block;width:45px;height:45px;border-radius:50%}.header__agentBio,.window--circle .header__agentBio{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;text-overflow:ellipsis}.header__agent{position:relative}.window--circle .header__agent--compact{height:21px}.window--circle .header__agent--compact.with__title{height:38px}.header__agent--compact:hover::before{content:'';position:absolute;z-index:99;width:calc(100% + 10px);height:calc(100% + 10px);background:rgba(0,0,0,.1);border-radius:4px;left:-5px;top:-5px;cursor:pointer}.window--circle .header__agent--compact:hover::before{width:100%;height:calc(100% + 6px);left:0;top:-3px;border-radius:10px}.window--classic .header__agent{-ms-flex-align:center;align-items:center;max-width:100%;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:1;flex-shrink:1}.window--classic .header__agent--fadeInUp{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--classic .header__agent--fadeInUp{animation:none}.window--classic .header__agent.header__agent--withlogo{float:left;max-width:calc(100% - 110px);margin-top:11.5px;margin-bottom:11.5px}.window--classic .window__header--hasAvatar .header__agent--withlogo{margin-top:0;margin-bottom:0}.header__agentName,.header__agentTitle{max-width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.window--classic .header__agentName{font-size:1.133333rem;line-height:1.29;color:#000004;text-shadow:0 1px 0 rgba(0,0,0,.2)}.window--classic .header__agentTitle{font-size:.8rem;line-height:1.25;color:#000004;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.header__agentBio{max-height:80px;overflow:hidden;word-wrap:break-word}.window--classic .header__agentBio{font-size:.8rem;line-height:1.17;color:#000004;margin-top:4px;padding-left:60px;padding-bottom:2px;margin-bottom:-2px;max-height:84px;overflow-y:auto}.window--classic .header__agentBio a{color:#000004;border-bottom:1px solid #000007}.window--classic .header__logo{margin-left:auto;margin-top:20px;margin-bottom:5px}.window--classic .header__logoImg{max-height:45px;max-width:100px;display:block;float:right;width:auto;height:auto}.header__teamName{margin-top:0;font-family:\"SourceSans Pro\",Arial}.window--classic .header__teamName{font-size:1.133333rem;line-height:1.29;color:#000004;text-align:center;text-shadow:0 1px 0 rgba(0,0,0,.2);width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:8px}.window--classic .header__teamName+.header__teamAvatar,.window--classic .header__teamName.header__teamNameNoAvatar,.window--classic .window__headerBox--hasAvatars .header__teamName{margin-bottom:0}.window--classic .window__headerBox.window__headerBox--empty{padding-top:15px;padding-bottom:15px}.window--classic .header__teamAvatar{position:relative;width:142px;height:40px;margin:9px auto}.header__teamAvatarImg{background:#f4f5f6}.window--classic .header__teamAvatarImg{position:absolute;width:40px;height:40px;border-radius:100%}.window--classic .header__teamAvatarImg:nth-child(1){left:0;z-index:9}.window--classic .header__teamAvatarImg:nth-child(2){left:49px;z-index:8}.window--classic .header__teamAvatarImg:nth-child(3){left:99px;z-index:7}.window--classic .window__header--prechatWithAvatar{height:126px}.window--classic .header--compact{height:55px}.window--classic .header--compact .header__teamAvatar,.window--classic.animation--chatting .header__teamAvatar{-ms-transform:translateY(-105px);transform:translateY(-105px)}.window--classic.animation--chatting .header__teamName{-ms-transform:translateY(-60px);transform:translateY(-60px)}.window--circle .header{border-top-left-radius:20px;border-top-right-radius:20px}.window--circle .header__bannerImg{display:block;max-width:calc(100% + 40px);margin:0 0 -15px -20px}.window--circle .header__avatar{position:absolute;top:-69.5px;left:50%;margin-left:-35px}.body__dialog .window--embedded.window--circle .header__avatar::before,.body__dialog-menu .window--embedded.window--circle .header__avatar::before{content:'';position:absolute;top:0;left:0;height:50%;width:100%;border-radius:70px 70px 0 0;background-color:rgba(0,0,0,.5)}.body__dialog .window--mobile:not(.window--ipad) .window--circle .header__avatar::before,.body__dialog-menu .window--mobile:not(.window--ipad) .window--circle .header__avatar::before{height:0}.window--mobile .window--circle .header__avatar--withSideWindow,.window--mobile .window--circle .window__headerBox .header__teamAvatar--withSideWindow{left:50%}.window--circle .header__avatar--fadeInDown{animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--circle .header__avatar--fadeInDown{animation:none}.window--circle .header__avatarImage{display:block;border-radius:100%;width:65px;height:65px;margin:0 auto}.window--circle .header__agentInfo{text-align:center;margin-top:13px;display:-ms-flexbox;display:flex;display:-webkit-flex;flex-direction:column;-ms-flex-direction:column;-ms-flex-align:center;align-items:center}.window--circle .header__agentInfoNoAvatar{margin-top:0}.window--circle .header__agentName{max-width:calc(100% - 90px);margin:0 auto;font-size:1.13333333rem;color:#333;line-height:1.29;text-shadow:0 1px 0 rgba(0,0,0,.2)}.window--circle .header__agentTitle{font-size:.8rem;color:#333;margin-top:2px;line-height:1.25}.window--circle .header__agentBio{text-align:center;margin-top:2px;margin-bottom:1px;padding-bottom:2px;font-size:.8rem;color:#333;line-height:1.17;overflow:hidden;max-height:70px;width:100%;overflow-y:auto}.window--circle .header__agentBio a{color:#333;border-bottom:1px solid #333}.window--circle .header__agentBio a:hover{border-bottom-color:#333}.window--circle .header__teamName{font-size:1.133333333333333rem;line-height:1.29;color:#333;margin-top:21px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--circle .header__teamNameNoAvatar{margin-top:0}.window--circle .header__teamAvatar{position:absolute;left:50%;top:-22px;width:112px;height:42px;margin-bottom:10px;margin-left:-56px;animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--circle .header__teamAvatar{animation:none}.window--bubble .window__ssologin.window__ssologin--animation,.window__chat--animation,.window__form--animation{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.window--circle .header__teamAvatarImg{position:absolute;width:44px;height:44px;border:2px solid #fff;border-radius:100%;top:0}.window--circle .header__teamAvatarImg:nth-child(1){z-index:8}.window--circle .header__teamAvatarImg:nth-child(2){left:36px;z-index:9}.window--circle .header__teamAvatarImg:nth-child(3){right:0;z-index:10}.window--circle .icon-close,.window--circle .icon-embedded,.window--circle .icon-minimize,.window--circle .icon-popup{color:#a3a3a3;font-size:.8rem}.global-showFocus .window--circle .window__operation .header__operationContainer>button:focus,.global-showFocus .window--circle .window__operation>a:focus,.global-showFocus .window--circle .window__operation>button:focus{border-bottom-color:#5d5d5d}.window--circle .window__operation .header__operationContainer>a>svg,.window--circle .window__operation .header__operationContainer>button>svg,.window--circle .window__operation>button>svg{fill:#5d5d5d}.window--circle .window__headerBox{border-bottom:1px solid #ddd;width:calc(100% - 40px);margin:0 auto;padding-left:0;padding-right:0;padding-bottom:15px}.window--circle .window__headerBox .header__agent,.window--circle .window__headerBox .header__teamName{padding:0 40px}.window--circle .window__headerBox.window__headerBox--hasAvatars.window__headerBox--team{padding-bottom:15px}.window--circle .window__headerBox.window__headerBox--hasAvatars{padding-bottom:21px}.window--circle .window__headerBox.window__headerBox--empty{border-bottom:none}.window--circle .header-operator{margin-bottom:17px}.body__dialog .window--bubble .window__title,.body__dialog-menu .window--bubble .window__title{visibility:visible;opacity:1}.window--bubble:hover .window__title{visibility:visible;opacity:1;transition:opacity .4s cubic-bezier(.785,.135,.15,.86)}.window--mobile .window--bubble .window__title{visibility:visible;opacity:1}.window--bubble .header__avatar{position:absolute;top:-45px;left:50%;margin-left:-42px}.window--bubble .header__avatarImage{display:block;border-radius:100%;width:85px;height:85px;border:1px solid #000004}.window--bubble .header__agentInfo{text-align:center;margin-top:35px}.window--bubble .header__agentName{font-size:1.2rem;color:#000}.window--bubble .header__agentTitle{font-size:.933333rem;color:rgba(0,0,0,.3)}.window--bubble .header__agentBio{font-size:.933333rem;color:rgba(0,0,0,.5);margin-top:5px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-height:20px;max-height:80px;-webkit-line-clamp:4;-webkit-box-orient:vertical}.window--bubble .icon-close,.window--bubble .icon-embedded,.window--bubble .icon-minimize,.window--bubble .icon-popup{color:#fff;font-size:.8rem}.window--bubble .window__operation{border-radius:10px;padding:0 5px}.window__operation .header__operationContainer{position:relative;height:20px;text-align:right}.window--bubble .window__operation .header__operationContainer>a,.window--bubble .window__operation .header__operationContainer>button,.window--bubble .window__operation>button{padding:2px 4px}.window--bubble .main-container .window__title{right:4px;z-index:2147483645}.window--bubble .window__headerBox{padding-bottom:0}.window--bubble .header-operator{border-bottom:1px solid #ddd;padding-bottom:28px}.window--ie .window--classic .window__headerBox--banner{display:block}.window--bubble .window__ssologin{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1;padding:28px 40px}.window--bubble .window__ssologin.window__ssologin--animation{animation-delay:.3s}.window--circle .window__ssologin,.window--classic .window__ssologin,.window--mobile:not(.window--ipad) .window--bubble .window__ssologin{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-top:0}.window--circle .window__ssologin.window__ssologin--animation,.window--classic .window__ssologin.window__ssologin--animation,.window--mobile:not(.window--ipad) .window--bubble .window__ssologin.window__ssologin--animation{animation:ssologinAnimate 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window__ssologin--animation{animation:none!important}@keyframes ssologinAnimate{0%{opacity:0;transform:translate(-50%,0)}to{opacity:1;transform:translate(-50%,-50%)}}.window__ssologinError{font-size:.933333rem;line-height:18px;color:#de3939;margin-bottom:26px}.window__ssologinGreeting{font-size:.93333333rem;line-height:1.21;color:#333;margin-bottom:53px;text-align:center}.window__ssologinForm{text-align:center}.window__ssologinOperation{display:block;margin:0 auto 26px;overflow:hidden;text-overflow:ellipsis}.window__ssologinOperation:last-child{margin-bottom:0}.prechatForm__social{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.form-fields--horizonal .prechatForm__social{-ms-flex-pack:left;justify-content:left}.prechatForm__social .prechatForm__socialBtn{border:none;color:#fff;fill:#fff;border-radius:5px;font-size:14px;line-height:18px;-ms-flex-align:center;align-items:center;margin-right:12px;-ms-flex:1 1 350px;flex:1 1 350px;height:30px;max-width:130px;display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-wrap:wrap;flex-wrap:wrap;cursor:pointer}.nps .npsItem:last-child,.prechatForm__social .prechatForm__socialBtn:last-child{margin-right:0}.prechatForm__socialBtn svg{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.prechatForm__socialBtn span{display:block;-ms-flex-negative:1;flex-shrink:1;-ms-flex-positive:1;flex-grow:1;line-height:1.29;font-size:.9333333rem;-ms-transform:translateX(-10px);transform:translateX(-10px)}.prechatForm__socialBtn.socialBtn--simple{width:30px;height:30px;-ms-flex-positive:0;flex-grow:0;margin-right:10px;-ms-flex-preferred-size:30px;flex-basis:30px}.socialBtn--simple svg{height:30px}.socialBtn--simple span{display:none}.form-fields--horizonal .prechatForm__socialBtn span{line-height:1.25;font-size:.8rem}.prechatForm__socialBtn svg{height:24px;width:24px;margin-left:6px;margin-top:6px}.window--ie .form-fields--horizonal #social-login-icons{-ms-flex:0 0 70px;flex:0 0 70px}.prechatForm__login{color:#bbb}.prechatForm__divide{font-size:.8rem;position:relative;display:block;text-align:center;margin-top:10px;margin-bottom:20px;color:#626262}.prechatForm__divide::after,.prechatForm__divide::before{border-top:1px solid #ddd;width:40%;position:absolute;top:9px;content:''}.prechatForm__divide::before{left:0}.prechatForm__divide::after{right:0}.loading{display:block;background-size:50px}.icon-facebook{margin-right:10px;color:#39599c}.window--rtl .icon-facebook{margin-left:10px}.ssologin .window__ssologinForm{margin-bottom:30px}.captcha{perspective:100px;perspective-origin:left}:not(.window--ie) .window--rtl .captcha{perspective-origin:right}.window--edge .window--rtl .captcha,.window--ie .window--rtl .captcha{perspective-origin:0}.captcha>:first-child{transform:translateZ(-15px)}.window--bubble .captcha>:first-child{transform:translateZ(-13px)}.window--bubble.window--rtl .captcha>:first-child{transform:translateZ(-40px)}.form-fields--horizonal .captcha>:first-child{transform:translateZ(-70px)}.window__form_popout .captcha>:first-child{transform:translateZ(-8px)}.window__form_popout .form-fields--horizonal .captcha>:first-child{transform:translateZ(-53px)}.window__formContainer--bubble{overflow:hidden;overflow-y:auto;padding:0 27px;-ms-flex-positive:1;flex-grow:1;margin-top:30px}.window__form{overflow:auto;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;width:100%;padding:25px 45px 0;overflow-x:hidden}.window__form--animation{animation-delay:.3s}.window--ie .window__form--animation{animation:none}.window--bubble .window__form{padding:30px 17px 0 19px;border-radius:5px;-ms-flex-negative:0;flex-shrink:0;position:relative;margin-bottom:12px;overflow:visible}.window--circular .window--bubble .window__form{border-radius:20px}.window--mobile .window--bubble .icon-bubble-line{left:10px}.window--bubble .window__form .icon-bubble-line{position:absolute;left:-10px}.window--bubble .window__form .icon-bubble-line .bubbleline1{fill:#fff;stroke:#ddd;stroke-width:2px}.window--bubble .icon-bubble-line::before{color:#ddd}.window__formGreeting{font-size:.933333rem;line-height:1.285714;color:#666;margin-bottom:25px;word-wrap:break-word;word-break:break-word}.window__formGreeting a{color:#666;border-bottom:1px solid rgba(102,102,102,.6)!important}.window__chat .window__formGreeting{text-align:center}.window__formError{font-size:.933333rem;line-height:18px;color:#de3939;margin-bottom:26px}.form-fields .box-field{margin-bottom:15px}.form-fields .box-field input[type=file]{width:100%}.form-fields.form-fields--horizonal .box-field div.field-name+:not(.container-checkbox){-ms-flex-preferred-size:calc(100% - 80px);flex-basis:calc(100% - 80px)}#postchat-window .form-fields.form-fields--horizonal .box-field div.field-name+:not(.container-checkbox){max-width:calc(100% - 60px)}.form-fields.form-fields--horizonal .box-field input[type=file]{width:calc(100% - 80px)}.form-fields--horizonal .box-field{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap}.form__inputContainer{position:relative;text-align:center}.fieldControl__Ticket{display:-ms-flexbox;display:flex}.form-fields--horizonal .fieldControl__Ticket{-ms-flex-positive:1;flex-grow:1}.form__ticketPrefix{-ms-flex-negative:0;flex-shrink:0;line-height:35px;font-size:.934rem}.window--bubble .form-fields:not(.form-fields--horizonal) .fieldControl__Ticket .form__input--ie10{width:120px}.fieldControl__Ticket .form__inputContainer,.form-fields--horizonal .form__inputContainer,.form-fields--horizonal .multipleText,.form-fields--horizonal .select-box{-ms-flex-positive:1;flex-grow:1}.form-fields .field-name{margin-bottom:10px;color:#626262;word-wrap:break-word}.form-fields .checkbox__text{color:#626262;font-size:.8rem;font-family:'SourceSans Pro Bold',Arial;line-height:1rem;width:100%}.form-fields .container-checkboxlist .container-checkbox{display:block}.form-fields .container-checkboxlist>div+div{margin-top:6px}.form-fields .container-checkboxlist .checkbox__text{color:#333;text-transform:none;font-weight:400;font-size:.933333rem;line-height:1.2rem;font-family:'SourceSans Pro',Arial}.form-fields .field-control{-ms-flex-positive:1;flex-grow:1}.form-fields .field-control-password{position:relative}.form-fields .field-control-password input{padding-right:40px}.form-fields .field-control-password input[type=password]::-ms-reveal{display:none}.form-fields .field-control-password input[type=password]::-ms-clear{display:none}.form-fields .field-control-password input[type=password]::-o-clear{display:none}.form-fields .field-control-password .svg-icon{fill:#bebebe;position:absolute;top:0;right:10px;display:inline-block;width:40px;height:35px;margin-right:-10px;padding:7.5px 10px;font-size:35px;transition:fill .2s cubic-bezier(.4,0,.2,1) 0s;user-select:none}.form-fields.form-fields--horizonal .field-control,.form-fields.form-fields--horizonal .fieldControl__Ticket,.window--ie10 .fieldControl__Ticket .field-control,.window--ie10 .form-fields--horizonal .select-box{-ms-flex-negative:1;flex-shrink:1}.form-fields--horizonal .field-name{margin-bottom:0;margin-right:10px;-ms-flex:1 0 80px;flex:1 0 80px;max-width:80px;display:-ms-flexbox;display:flex}.form-fields--horizonal .field-name .field__label{display:inline-block;max-width:80px}.form-fields--horizonal .field-name.checkbox-label{-ms-flex-preferred-size:unset;flex-basis:unset;max-width:none;-ms-flex-negative:1;flex-shrink:1;display:none}.form-fields--horizonal .field-name.checkbox-label .field__label{max-width:none}.form-fields--horizonal .form__ticketPrefix{-ms-flex-negative:0;flex-shrink:0}.form-fields .field__requiredTag{margin-right:4px;margin-left:-7px;font-size:.8rem;line-height:1rem;fill:#ed1c24;vertical-align:middle;width:3px;height:15px;-ms-flex-negative:0;flex-shrink:0;float:left}.check-box .field__requiredTag{margin-top:2px}.window--rtl .form-fields .field__requiredTag{margin-left:4px;margin-right:-7px;float:right}.form-fields .field__label{font-size:.8rem;line-height:1rem;float:left;font-family:'SourceSans Pro Bold',Arial}.window--rtl .form-fields .field__label{float:right}.form-fields .field__requiredMsg{font-size:12px;color:#d31219;margin-top:4px}.form-fields .field__requiredMsg svg{fill:#d31219;overflow:visible;width:12px;height:12px;margin-right:4px}.filed__content .original_input{width:100%}.form-fields--horizonal .filed__content{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:100%}.form-fields--horizonal .field__requiredMsg:not(.field__requiredMsg--checkbox){margin-left:90px}.form__input{height:35px;width:100%}.form__textarea{height:auto}.form__submitContainer{position:relative;text-align:center;margin-top:30px;padding-bottom:30px}.bubble .form__submitContainer{padding:0;margin-top:23px}.form__submitContainer--loading .form__submit{animation-name:form__submit--loading;animation-duration:167ms}.form__layer-circle,.form__layer-success{position:absolute;left:50%;top:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);display:none}.form__submitContainer--loading .form__layer-circle,.form__submitContainer--loading .form__layer-success{display:block}.form__submitContainer--loading .form__submitCirclePath{stroke:#000001;stroke-width:3px;stroke-dasharray:100;stroke-dashoffset:100;fill:#fff;fill-opacity:0;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:form__submitCirclePath-dash;animation-duration:.5s;animation-delay:167ms}.window_botform{padding:0!important;height:100%}.window_botform .botform_title{margin:0 0 10px;text-align:center;color:#444648;font-size:16px}.botform__submitContainer{text-align:center;margin:10px 0 30px}.botform__submitContainer button{padding:5px 18px;border:1px solid #00000a;border-radius:5px;color:#fff;margin:0 4px;cursor:pointer;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:160px}.botForm__container,.botForm__content,.botForm__content_iframe,.botForm__content_webview{height:100%;overflow:auto}.botform__submitContainer button.btn-submit{background-color:#00000a;color:#00000e}.botform__submitContainer button.btn-cancel{background-color:#fff;color:#00000c}.botform__submitContainer button.btn-submit:focus,.botform__submitContainer button.btn-submit:hover{background-color:#000003;border-color:#000003}.botform__submitContainer button.btn-cancel:focus,.botform__submitContainer button.btn-cancel:hover{color:#000003;border-color:#000003}.botform__submitContainer button[disabled]{background-color:#f5f5f5!important;color:#888!important;border-color:#b5b1b1!important;cursor:default}.botconfirm_list li p{font-family:'SourceSans Pro',Arial;color:#333}.botconfirm_list li p:first-child{font-family:'SourceSans Pro Bold',Arial}@keyframes form__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}.form__submitContainer--loading .form__submitSuccessPath{fill:#00000a;stroke-width:1;-ms-transform:scale(0);transform:scale(0);opacity:0;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:form__submitSuccessPath-animation;animation-duration:.5s;animation-delay:542ms}@keyframes form__submitSuccessPath-animation{0%{transform:scale(0);transform-origin:50% 50%;opacity:0}100%{transform:scale(1);transform-origin:50% 50%;opacity:1}}.botForm__content_webview{width:100%}.botForm__content_iframe{width:100%;border:none}.form__gradient--white{position:absolute;height:25px;width:100%;bottom:0;background-image:linear-gradient(to bottom,transparent,rgba(255,255,255,.97) 86%,#fff)}.container-checkbox span,.control span{display:inline-block}.form-fields--horizonal .form__attachmentContainer{height:36px}.form-fields--horizonal .form__attachmentContainer input[type=file]{position:absolute;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%)}.window_sendForm{padding:0!important;height:100%}.window_sendForm .sendForm_title{margin:0 0 10px;text-align:center;color:#444648;font-size:16px}.sendForm__submitContainer{text-align:center;margin:10px 0 30px}.sendForm__submitContainer button{border:1px solid #00000a;margin:0 4px;cursor:pointer;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:160px;border-radius:4px;color:#fff;padding:6px 18px}.sendForm__submitContainer button.btn-submit{background-color:#00000a;color:#00000e}.sendForm__submitContainer button.btn-cancel{background-color:#fff;color:#00000c;border:1px solid #00000c}.sendForm__submitContainer button.btn-submit:focus,.sendForm__submitContainer button.btn-submit:hover{background-color:#000003;border-color:#000003}.sendForm__submitContainer button.btn-cancel:focus,.sendForm__submitContainer button.btn-cancel:hover{color:#000010;border-color:#000010}.sendForm__submitContainer button[disabled]{background-color:#f5f5f5!important;color:#888!important;border-color:#b5b1b1!important;cursor:default}.sendForm__container,.sendForm__content{height:100%;overflow:auto}.sendForm__container .form-note{padding-left:20px}.sendFormConfirm_list li p{font-family:'SourceSans Pro',Arial;color:#333}.sendFormConfirm_list{padding:20px;min-width:190px}.sendFormConfirm_list li{margin-bottom:10px}.sendFormConfirm_list li p{margin:0}.sendFormConfirm_list li p:first-child{font-family:'SourceSans Pro Bold',Arial;color:#666;margin:0}.invitation__name,.nps .npsItem{font-family:\"SourceSans Pro Bold\",Arial}.form-note,.nps .npsItem{color:#626262;font-size:12px}.form-note{display:block;margin-bottom:8px}.emoji,.nps{display:-ms-flexbox}.nps{display:flex;-ms-flex-pack:distribute;justify-content:space-around}.nps .npsItem{height:22px;width:22px;border:none;background:#e8e8e8;border-radius:100%;overflow:hidden;cursor:pointer;position:relative}.nps .npsItem--selected,.nps .npsItem:hover{background:#00000a;color:#00000e}.nps .npsItem svg{position:relative;width:100%;height:100%;fill:#e8e8e8;border-radius:50%}.nps .npsItem--selected svg,.nps .npsItem:hover svg{fill:#00000a;color:#000004}.nps .npsItem .npsItem-label{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:100%}.nps__label{font-size:11px;color:#626262;word-wrap:break-word}.nps__label--left{float:left;margin-top:5px;width:50%;padding-right:8px}.nps__label--right{float:right;margin-top:5px;width:50%;padding-left:8px;text-align:right}.window--rtl .nps .npsItem:last-child{margin-right:2px}.window--rtl .nps__label--left{float:right;padding-right:0;padding-left:8px}.window--rtl .nps__label--right{float:left;text-align:left;padding-left:0;padding-right:8px}.window--mobile .nps .npsItem:hover{background:#e8e8e8;color:#626262}.window--mobile .nps .npsItem--selected{background:#00000a!important;color:#000004!important}.form-fields--horizonal .nps .npsItem{height:13px;width:13px;line-height:13px}.emoji{position:absolute;left:0;bottom:0;box-shadow:var(--shadow2-color);border-radius:4px;overflow:hidden;background-color:var(--whitePopup-color);--scrollbar-width:8px;--emoji-width:32px;--emoji-height:32px;--emoji-list-padding:12px;--emoji-category-title-height:22px;--emoji-font-size:22px;--emoji-column-count:8;--emoji-row-count:8;--emoji-list-width:var(--emoji-width) * var(--emoji-column-count) + var(--emoji-list-padding) * 2;--emoji-list-height:var(--emoji-height) * var(--emoji-row-count) + var(--emoji-category-title-height);--black-color:#000000;--white-color:#FFFFFF;--whiteFixed-color:#FFFFFF;--whiteFixed8-color:rgba(255, 255, 255, 0.08);--whiteFixed12-color:rgba(255, 255, 255, 0.12);--whitePopup-color:#FFFFFF;--blackLight-color:rgba(33, 33, 33, 0.2);--blackMid-color:#999999;--blackDark-color:#595959;--blackFixed-color:#212121;--blackToast-color:rgba(33, 33, 33, 0.8);--grey8-color:rgba(114, 114, 114, 0.08);--greyN2bg-color:#FCFCFC;--greyBackground-color:#F0F0F0;--greyMenu-color:#F0F0F0;--shadow1-color:0px 1px 6px 0px rgba(0, 0, 0, 0.2);--shadow2-color:0px 2px 6px 0px rgba(0, 0, 0, 0.08);--shadow3-color:1px 2px 12px 0px rgba(0, 0, 0, 0.16);--greyScrollbar-color:#BCBBBA;--greyScrollbarHover-color:#A1A1A1;--greyToast-color:#D3D3D3;--tableTitle-color:#EDEDED;--bubbleBackground-color:#FFFFFF;--replyBackground-color:#F0F0F0;display:flex;-ms-flex-flow:column;flex-flow:column}.emoji__scroll-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:var(--emoji-list-padding);width:calc(var(--emoji-list-width));height:calc(var(--emoji-list-height))}.emoji__cell{font-family:var(--emoji-font);font-size:var(--emoji-font-size);width:var(--emoji-width);height:var(--emoji-height);line-height:1;-ms-flex-preferred-size:var(--emoji-width);flex-basis:var(--emoji-width);display:-ms-flexbox;display:flex;-ms-flex:none;flex:none;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;user-select:none;text-decoration:none;outline:0;border-radius:4px;padding:4px}.emoji__cell img{width:100%;height:100%}.emoji__cell.emoji__cell--selected,.emoji__cell:focus,.emoji__cell:hover{outline:0;background-color:rgba(114,114,114,.08);text-decoration:none}.window__chat{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;overflow:overlay;overflow-x:hidden!important;-webkit-overflow-scrolling:touch;width:100%;padding:18px 27px 0;margin-bottom:0}.chat__greetingContainer .window__chatSystemMessage,.chat__greetingContainer .window__formGreeting{margin-bottom:0;color:#666}.chat__greetingContainer .window__chatSystemMessage a[href],.chat__greetingContainer .window__formGreeting a[href]{color:#00000a;border-bottom:1px solid #00000a!important}.window--mobile .window--bubble .chat__greetingContainer{margin-bottom:16px}.window__chat--animation{animation-delay:.3s}.window--ie .window__chat--animation{animation:none}.window__chatSystemMessage{color:#626262;font-size:14px;text-align:center;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);word-wrap:break-word}.window--bubble .window__chat .window__chatSystemMessageContent{display:inline-block;background:#f8f8f8;line-height:1.57;padding:8px 14px;border-radius:5px;max-width:240px}.window__chatSystemMessage a,.window__chatSystemMessage a[href]{color:#00000c;border-bottom:1px solid #00000c}.window__chatSystemMessage a:hover,.window__chatSystemMessage a[href]:hover{color:#000010;border-bottom:1px solid #000010}.window__chatSystemMessage svg{fill:#00000c;position:relative;top:6px;right:3px}.window__chatSystemMessage svg:hover{fill:#000010}.window__chatAgent,.window__chatVisitor{display:-ms-flexbox;display:flex;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);position:relative}.window__chat>div>div+div>.chat-message-time,.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window__chat>div{padding-bottom:16px}.window__chat>div>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div+div{margin-top:16px}.window__chat>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--ie .window__chatAgent,.window--ie .window__chatSystemMessage,.window--ie .window__chatVisitor{animation:none}.window__chatVisitor{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.agentMessage__avatar{margin-right:15px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-negative:0;flex-shrink:0}.agentMessage__avatarImg{display:block;width:30px;height:30px;border-radius:100%;margin-bottom:15px}.agentMessage__pci{background:#f0f0f0;border:1px solid #ddd;border-radius:4px;padding:23px 20px 12px}.agentMessage__pciField{margin-bottom:7px;color:#888}.agentMessage__pciControl{margin-bottom:12px}.agentMessage__pciControl .form__input{height:30px;line-height:30px;width:calc(100% - 20px)}.window__chatAgentMessage p{margin:0}.window--circular .window__chatAgentMessage,.window--circular .window__chatVisitorMessage{border-radius:20px}.window__chatAgentMessage,.window__chatVisitorMessage{position:relative;font-size:.93333333rem;line-height:1.57;padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5}.window__chatAgentMessage_container{max-width:640px}.window__chatAgentMessage_container .chat-message-extra-info{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:4px}.window__chatAgentMessage_container .chat-message-extra-info>.chat-message-time{margin-left:8px}.window__chatAgentMessage_container .window__chatAgentMessage{max-width:100%;display:inline-block;border-top-left-radius:0;border-bottom-left-radius:5px}.window--mobile .window__chatAgentMessage{border:1px solid #f5f5f5}.window__formMessageContainer{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.window__formMessage{padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5;width:100%;max-width:600px}.window__formMessage .window__formGreeting{text-align:left;color:#000}.window--ie .window__chatVisitorMessage{margin-left:auto}.window__chatAgentMessage{border-top-left-radius:0}.window__chatVisitorMessage{background-color:#000001;color:#000;border-top-right-radius:0;margin-left:67px;max-width:640px}@keyframes bounceOut{20%{width:5px;height:5px;border-radius:5px;opacity:1}50%,55%{width:8px;height:8px;border-radius:8px;opacity:1}to{width:2px;height:2px;border-radius:2px;opacity:0}}.dot_container{width:20px;height:20px;position:absolute;left:-20px;bottom:19px}.message--notSeen,.message--seen{display:inline-block;background:#00000c;width:6px;height:6px;border-radius:6px;position:relative;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);fill:#00000c}.message--seen{animation:bounceOut .5s linear forwards}.window--rtl .dot_container{left:-35px}.window--ie9 .message--seen{display:none}.file__icon--cancel{float:right}.file__icon--cancel svg{width:12px;height:12px;fill:#00000c}.file__icon--cancel svg:hover{fill:#000010}.window__chatMessageOrignal{display:block;opacity:.85}.window__chatMessageTranslatedTag{display:inline}.window__chatAgentMessage img:not(.emoji-char){display:inline-block}img.emoji-char{height:1.2em;width:1.2em;margin:0 .05em 0 .1em;vertical-align:-.2em}img.emoji-char-large{height:2em;width:2em;margin:0 .05em 0 .1em;vertical-align:-.2em}.invitation__message img.emoji-char-large,.window__chatMessageOrignal img.emoji-char-large{height:1.2em;width:1.2em;margin:0 .1em;vertical-align:-.2em}.window__chatAgentMessage .chatMessage__questionList li{color:#323dbf;line-height:1;margin-bottom:10px}.window__chatAgentMessage .chatMessage__questionList li span{margin-right:5px;display:inline-block;-ms-flex-negative:0;flex-shrink:0}.window__chatAgentMessage .chatMessage__questionList li:last-child{margin-bottom:0}.window__chatAgentMessage .chatMessage__questionList li a[href]{border-bottom-color:transparent}.window__chatAgentMessage .chatMessage__questionList li a[href]:active,.window__chatAgentMessage .chatMessage__questionList li a[href]:focus,.window__chatAgentMessage .chatMessage__questionList li a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.window__chatAgentMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatAgentMessage a[href]:active,.window__chatAgentMessage a[href]:focus,.window__chatAgentMessage a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.chat-message--img a,.chat-message--video video{min-width:60px!important;min-height:60px!important;border-bottom:none!important;overflow:hidden}.chat-message--img a{max-width:200px!important;max-height:200px!important;display:block}.chat-message--video video{max-width:250px!important;max-height:250px!important}.invitation__image,.invitation__name,.pasteImage img,.window__chatAgentMessage a,.window__chatVisitorMessage a{max-width:100%}.chat-message--img .image-container{margin:0 auto;height:100%}.chat-message--img img,.chat-message--video video{display:block;margin:0 auto;border:none}.window__chatVisitorMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatVisitorMessage a[href]:hover{border-bottom-color:#323dbf}.window__chatVisitorMessage button{border:none;background:0 0;margin:5px 0 0 9px;cursor:pointer}@keyframes message--show{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}.chat-time{opacity:0;color:#fff;font-size:.8rem;background:rgba(0,0,0,.6);padding:0 5px;line-height:17px;height:17px;border-radius:8px;transition:opacity 50ms linear;position:absolute;z-index:1}.chat-message-time{font-size:12px;font-family:\"SourceSans Pro\",Arial;color:#626262}.window__chatAgentName,.window__chatVisitorName{font-size:12px;font-family:\"SourceSans Pro\",Arial;color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--classic .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.chat-message--img,.window__chatAgentMessage.chat-message--video,.window__chatVisitorMessage.chat-message--video{padding:0}.window__chatAgentMessage{background:#fff;color:#000}.window__chatAgentMessage--file .icon-sendfile,.window__chatVisitorMessage--file .icon-sendfile{position:relative;top:3px;margin-right:5px;font-size:15px;color:#00000c}.window__chatAgentMessage--file a[href],.window__chatVisitorMessage--file a[href]{border:none}.kbsearch__container .window_chatError,.window--mobile .kbsearch__container .window_chatError,.window--mobile .window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 88px)}.window_chatError{position:absolute;z-index:99;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%);padding:10px 47px 10px 18px;box-shadow:0 0 5px rgba(0,0,0,.1);font-size:.8rem;line-height:1.17;text-align:left;bottom:0;width:calc(100% - 54px);border-radius:5px}.form-bottom .window_chatError{width:100%}.window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 38px)}.window--circular .window_chatError{border-radius:20px}.chatError__container{position:absolute;top:-20px;width:100%}.window_chatErrorClose{position:absolute;right:15px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);line-height:12px;cursor:pointer;background:0 0;border:none}.window_chatErrorClose svg{width:12px;height:12px}.window_chatError--urgency .window_chatErrorClose svg{fill:#BF0007}.window_chatError--mitigate .window_chatErrorClose svg{fill:#A05700}.window_chatError i{vertical-align:bottom}.window_chatError--mitigate{background:#fff6eb;border:1px solid #fff6eb;color:#A05700}.window_chatError--urgency{background:#fff2f2;border:1px solid #ffd6d8;color:#BF0007}.window--bubble .window__chatAgentMessage--file,.window--circle .window__chatAgentMessage--file::before{color:#000004}.window--circle .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window__chat>div{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--bubble .window__chatAgent{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.window--bubble .window__chatVisitor{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.window--bubble .chat-time{font-size:.8rem;padding:0 5px;top:0}.window--bubble .icon-bubble-line{position:absolute;width:10px;bottom:-1px}.window--bubble .icon-bubble-line .svgPath{width:auto;height:auto}.window--bubble .window__chatVisitorMessage{max-width:calc(100% - 50px)}.window__chatVisitorMessage .chat-message--loading{position:absolute;left:-30px;top:50%;margin-top:-11px}.window--bubble .window__chat{padding:30px 15px 0 27px;margin-bottom:0;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.window--bubble .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window--bubble__messageNoAvatar{margin-left:0;padding-left:15px;display:block}.chatMessage__questionList{margin-top:19px}.chatMessage__questionList li>a{display:inline}.chatMessage__questionList--disc{list-style-type:disc;padding-left:20px}.window__chatAgentMessage .chatMessage__questionList.chatMessage__questionList--disc li{display:list-item}.window__chatAgentMessage .btn{margin-top:16px}.chatMessage__chatBotRate__wrapper{position:absolute;right:-50px;bottom:0;width:40px}.chatMessage__chatBotRate{margin-left:10px;-ms-flex-item-align:end;align-self:flex-end}.chatMessage__chatBotRate>button{width:20px;height:20px;border-radius:20px;background-color:#fff;cursor:pointer;font-size:10px;border-width:0;display:block}.chatMessage__chatBotRate .icon{width:20px;line-height:20px;color:#626262}.chatMessage__chatBotRate>button:hover{background-color:#00000c}.chatMessage__chatBotRate>button:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover{background-color:#00000c;color:#fff;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover{background-color:#e8e8e8;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover .icon{color:#626262}.chatMessage__chatBotRate>button.chatMessage__chatBotRateLast{margin-top:5px}.window__chatWithAgent{z-index:9;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px;height:23px;text-align:center;padding-right:15px;padding-left:15px;background:0 0;border:none;cursor:pointer}.window__chatWithAgent--above:focus,.window__chatWithAgent--above:hover{border:1px solid #000003;color:#000003}.window__chatWithAgent--above{padding:4.5px;font-size:.8rem;line-height:1.25;height:27px;width:175px;border-radius:5px;border:1px solid #00000a;color:#00000a;background-color:#fff;position:absolute;top:-37px;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%)}.window--circular .window__chatWithAgent--above{border-radius:20px}.window__chatWithAgent--bottom:focus,.window__chatWithAgent--bottom:hover{color:#000003}.window__chatWithAgent--bottom{color:#00000a;font-size:.8rem;line-height:1.12;height:1rem;padding-left:12px;float:left}.window__chat .dot{position:relative;top:-3px}.window__chat .dot__element{display:inline-block;width:4px;height:4px;border-radius:100%;margin-right:5px;background:#000005;fill:#000005}@media screen and (-ms-high-contrast:active){.window__chat .dot__element{background:#fff;fill:#fff}}.window__chat .dot__element:last-child{margin-right:0}.amimated-infinite{-webkit-animation-iteration-count:infinite}.amimated-infinite,.animated.infinite,.window__chat .dot__element--loadingAnimation{animation-iteration-count:infinite}@keyframes dot__element--loadingAnimation{0%,100%,50%{transform:translateY(0)}25%{transform:translateY(-8px)}}.window__chat .dot__element--loadingAnimation{animation-name:dot__element--loadingAnimation;animation-duration:1s}.window--ie .webView_background .webView_scroll_container,.window--ie .window__chat .dot__element--loadingAnimation{animation:none}.window--bubble .chat-message--imgLoading,.window--circle .chat-message--imgLoading,.window--classic .chat-message--imgLoading{width:62px;height:62px;text-align:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.chat-message__secure-form span{display:block;position:absolute;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%;left:50%}.postchatFormContainer{position:absolute;top:80px;bottom:30px;overflow:auto;overflow-x:hidden;padding:30px 50px;width:100%;-ms-transform:translateY(450px);transform:translateY(450px);opacity:0}*,.window__ssoLogin{-webkit-overflow-scrolling:touch}.postchatFormContainer__greeting{margin-bottom:20px}.postchatFormContainer__submitContainer{text-align:center}@keyframes fadeInUp--windowFormContainer{0%{opacity:0;transform:translateY(375px)}100%{opacity:1;transform:translateY(0)}}.window__ssoLogin{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow-y:scroll}.window__ssoLogin iframe{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;background-color:#fff}.window--bubble .window__ssoLogin{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:1;flex-grow:1}.window--bubble .window__ssoLogin iframe{display:block;width:100%;height:100%;min-height:456px;background-color:#fff}.window_buttons_container .window_buttons_item{margin-top:12px;text-align:center;cursor:pointer}.window_buttons_container .window_buttons_item li{min-width:150px;margin-top:4px}.window_buttons_container .window_buttons_item button{border:none;border-radius:4px;background:#00000a;color:#00000e;cursor:pointer;padding:7px 10px;width:100%}.window_buttons_container .window_buttons_item--active button:hover{background:#000003!important;color:#00000e}.window_buttons_container .window_buttons_item--disable button{background-color:#e8e8e8!important;color:#626262!important;cursor:default}.webView_background{position:absolute;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);border-radius:5px 5px 0 0;z-index:1000}.webView_background .webView_scroll_container{width:100%;position:absolute;height:100%;bottom:0;max-height:100%;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.webView_background .webView_scroll_container--compact{max-height:300px}.webView_background .webView_scroll_container--full{max-height:530px}.webView_background .webView_scroll_container--tall{max-height:415px}.webView_background .webView--scroll{width:100%;position:relative;height:calc(100% - 40px);overflow:-moz-scrollbars-none;-ms-overflow-style:none}.webView_background .webView__title{width:100%;text-align:center;background-color:#fff;height:40px;border-bottom:1px solid #ddd;line-height:40px;border-radius:5px 5px 0 0}.webView_background .webView__title h1{font-weight:400;margin:0;width:200px;font-size:inherit;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.webView_background .webView__close{position:absolute;right:10px;cursor:pointer;z-index:9999;fill:#5d5d5d;background:0 0;border:none;padding:6px 16px 0;width:44px;height:40px;top:0}.webView_background .webView__close svg{width:13px;height:13px}.webView_background .webView{background:#fff}.webView_background .webView .box-field{margin-top:15px;padding:0 30px}.webView_background .webView__content{height:100%}.window--bubble .webView_scroll_container--compact{max-height:330px}.window--bubble .webView_scroll_container--full{max-height:560px}.window--bubble .webView_scroll_container--tall{max-height:445px}.window--bubble .webView_scroll_container{padding-top:30px}.window--bubble .webView__close{top:30px}.window_quick_reply_container_box{width:100%;display:-ms-flexbox;display:flex;padding:0 16px;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around}.window_quick_reply_container_box i{cursor:pointer}.window_quick_reply_container_box .window_quick_reply_buttons_item{width:auto;min-width:75px;background-color:#fff;color:#00000c;border:1px solid #00000c;cursor:pointer;height:25px;display:inline-block;padding:0;overflow:hidden;max-width:260px;line-height:25px;white-space:nowrap;margin-right:12px;border-radius:4px;margin-bottom:12px;text-overflow:ellipsis}.poweredby a[href]:active,.poweredby a[href]:focus,.poweredby a[href]:hover,.window__chatAgentMessage .window_botAnswer_richText a[href]{border-bottom:none}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner{background-color:#000012;width:100%;height:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner>span{display:inline-block;padding:0 12px;font-weight:600;height:100%;width:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item:hover{background-color:#00000c;color:#fff}.window_quick_reply_container_box .window_quick_reply_buttons{width:100%;margin:0;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-align:center;align-items:center;padding-left:0;-ms-flex-line-pack:center;align-content:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:flex-start;display:-ms-flexbox;display:flex}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item>.window_quick_reply_buttons_item{margin:0}.window_quick_reply_container_box .window_quick_reply button:last-child{margin-right:0}.window_quick_reply_container_box .window_quick_reply_control+.window_quick_reply{width:calc(100% - 40px)}.botconfirm_list{padding:20px;min-width:190px}.botconfirm_list li{margin-bottom:10px}.botconfirm_list li p{margin:0}.botconfirm_list li p:first-child{color:#666;margin:0}.window__chatAgentMessage .window_botAnswer_richText a[href]:hover{border-bottom:1px solid #323dbf}.window__chatAgentMessage .window_botAnswer_richText--disable a[href^=\"intent:\"]{color:#888}.visually-hidden{width:1px;height:1px}.visually-hidden:focus,.visually-hidden:hover{outline:0;border:none}.window__chatAgentMessage.bot_item_content.chat-message--img{padding:1px}.window__chatAgentMessage.bot_item_content.chat-message--img a{max-width:244px!important;min-height:10px!important}.chatInputContainer{position:relative;-ms-flex-negative:0;flex-shrink:0}.chatInputLabel{visibility:hidden;position:absolute;left:-10000px}.chatInputContainer--fadeInUp{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3}.window--ie .chatInputContainer--fadeInUp{animation:none}.chat-input__controlbox{padding:10px 8px 10px 0;display:-ms-flexbox;display:flex}.textareaContainer{-ms-flex-positive:1;flex-grow:1}.window--rtl .chat-input__controlbox{-ms-flex-pack:end;justify-content:flex-end}.window--rtl .chat-input__controlbox--noTool .window__chatInputControl{padding-right:8px}.window__chatInputControl{display:block;width:100%;padding-top:0;padding-bottom:0;font-size:1.06667rem;color:#333;outline:0}.embedded-window:not(.window--mobile) .window__chatInputControl{font-size:1rem}.chatInput--ripple{position:absolute;border-radius:50%;width:50px;height:50px;background:#ddd;animation:chatInput--ripple 2s}@keyframes chatInput--ripple{from{transform:scale(1);opacity:.4}to{transform:scale(100);opacity:0}}.chatInputContainer--hide{height:0!important;width:0!important;visibility:hidden}.chatInputContainer--hide+div>.footer{background:0 0!important}.chatInputContainer{height:auto;padding-right:2px}.window--mobile .chatInputContainer--active .window__chatInputControl,.window--mobile .window__chatInputControl:focus{border-top:none;box-shadow:initial;transition:none}.window__chatInput--Drag::before{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;background:rgba(250,245,205,.85);z-index:99;text-align:center;color:#d2b067;font-size:2.133333rem}.chat-input__toolbox{animation:fadeIn .5s;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-item-align:end;align-self:flex-end;user-select:none;-moz-user-select:none}.window--ie .invitation-showType,.window--ie .invitation__message,.window--ie .invitation__name{animation:none}.chat-input__toolbox button{cursor:pointer;background:0 0;width:36px;height:36px;margin:2px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border-radius:100%;border:1px solid transparent}.chat-input__toolbox button.chat-input__icon--disabled,.chat-input__toolbox button.chat-input__icon--disabled svg:hover,.chat-input__toolbox button.chat-input__icon--disabled:focus svg:hover{cursor:default}.chat-input__toolbox button:focus,.chat-input__toolbox button:hover{background-color:rgba(114,114,114,.08);border-radius:4px}.chat-input__toolbox button.window__chatSender--active svg,.chat-input__toolbox button:focus svg,.chat-input__toolbox button:hover svg{fill:#00000c}.chat-input__toolbox button svg{fill:#626262}.chat-input__toolbox button.chat-input__icon--disabled,.chat-input__toolbox button.chat-input__icon--disabled:focus{background:0 0}.chat-input__toolbox button.chat-input__icon--disabled svg,.chat-input__toolbox button.chat-input__icon--disabled:focus svg{fill:#bbb}.chat-input__toolbox button:last-child{margin-right:0}.chat-input__toolbox svg{width:20px;height:20px;color:#626262}.chat-input__toolbox .window__chatSender{position:unset}.global-showFocus .chat-input__controlbox button:focus{border-color:#000003}.window--bubble .chatInputContainer{box-shadow:initial;background:#f8f8f8;border-radius:5px 5px 0 0}.window--bubble .chatInputContainer+div>.footer{background:#f8f8f8}.window--circular.window--bubble .chatInputContainer{border-radius:20px 20px 0 0}.window--mobile .window--circular.window--bubble .chatInputContainer{border-radius:0}.window--mobile.window--ipad .chatInputContainer{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.window--mobile.window--ipad .window--circular .chatInputContainer{border-bottom-right-radius:20px;border-bottom-left-radius:20px}.window--mobile.window--ipad .window--bubble .bubble-box,.window--mobile.window--ipad .window--bubble .chatInputContainer,.window--mobile.window--ipad .window--circular.window--bubble .bubble-box,.window--mobile.window--ipad .window--circular.window--bubble .chatInputContainer{border-radius:0}.chatInputContainer--active .chat-input__controlbox{border-top-color:#000002}.chatInputContainer--typed .window__chatInputControl{padding-right:10px}.window__chatInputControl{border:none;background-color:transparent;padding:10px 10px 0 25px;max-height:84px;min-height:29px;overflow-y:hidden;overflow-x:hidden;height:29px;line-height:1.27}.window--circular.window--bubble .window__chatInputControl{padding-left:20px}.chat-input__limitNumSpan{position:absolute;right:40px;color:red;padding:2px 2px 4px;bottom:-4px}.window--classic .chat-input__limitNumSpan{right:20px}.window--bubble .chat-input__controlbox--limit .window__chatInputControl,.window--circle .chat-input__controlbox--limit .window__chatInputControl,.window--classic .chat-input__controlbox--limit .window__chatInputControl{padding-bottom:8px}.window--mobile .window--bubble .chat-input__controlbox--limit .window__chatInputControl,.window--mobile .window--circle .chat-input__controlbox--limit .window__chatInputControl,.window--mobile .window--classic .chat-input__controlbox--limit .window__chatInputControl{padding-bottom:0}.window--mobile .chat-input__limitNumSpan,.window--mobile .window--classic .chat-input__limitNumSpan{right:4px;bottom:0}.window--mobile .window__chatInputControl{border-radius:0}.pasteImageContainer{padding:0 50px 0 25px;-ms-flex-negative:1;flex-shrink:1;width:100%;height:84px;overflow-y:auto;display:-ms-flexbox;display:flex;ime-mode:disabled;outline:0}.pasteImageContainer::-webkit-scrollbar-thumb{background-color:#c8c8c8}.pasteImage{width:100%}.pasteImageClose{position:absolute;float:right;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;right:30px;top:15px}.displayNone,.window--mobile .window__footer{display:none}.pasteImageClose button{outline:0;border:none;height:20px;width:20px;background:0 0}.pasteImageClose svg{width:12px;height:12px;fill:#666;opacity:.7}.date-picker-container>.taskbot_submit_btn_container svg,.highContrast .calendar-container .date-picker-arrow,.pasteImageClose:hover svg{opacity:1}.pasteImageTemp{position:absolute;width:1;height:1;left:-1}.chat-input__toolbox-more{position:absolute;top:-52px;right:4px;background-color:#f8f8f8;border-radius:4px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:4px;z-index:99;transition:160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.chat-input__toolbox-more--icon-expand{-ms-transform:rotate(0);transform:rotateZ(0);transition:160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.chat-input__toolbox-more--icon-collapse{-ms-transform:rotate(45deg);transform:rotateZ(45deg);transition:160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.emoji-container{position:relative;bottom:40px;left:-280px}.footer-text-single-line{height:30px}.footer{-ms-flex-negative:0;flex-shrink:0;z-index:999;width:100%;padding-left:15px;padding-right:15px;font-size:.8rem;height:23px;background:0 0;border-radius:0 0 5px 5px}.invitation__message,.invitation__name{font-size:.933333333rem;color:#000004;overflow:hidden}.window--bubble .footer{margin-top:12px}.window--bubble .window__chat+div>.footer.footer--empty,.window--bubble .window__formContainer+div>.footer.footer--empty,.window--bubble .window__kb_formContainer+div>.footer.footer--empty{margin-top:0;height:0}.window--bubble .chatInputContainer+div>.footer{margin-top:0}.window--circular .footer{border-radius:0 0 20px 20px}.poweredby{height:23px;float:right}.poweredby a[href]{line-height:15px}.poweredby a[href] svg{height:15px;vertical-align:text-bottom}.poweredby a[href] svg polygon{fill:#ffd928}.poweredby a[href] svg path{fill:#626262}.footer-container{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.invitation{position:fixed;bottom:0;cursor:pointer;min-width:270px;border:none;box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15);margin:2.5px 7.5px 12.5px}.window--circular .invitation{border-radius:20px 20px 0}.window--chrome.invitation{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.invitation__name{line-height:1.21;text-overflow:ellipsis;white-space:nowrap;-ms-flex-positive:0;flex-grow:0}.invitation__message{line-height:1.57;padding:20px 35px;max-height:250px;min-height:95px;text-overflow:ellipsis;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;text-align:left;border:none;cursor:pointer;width:100%}.invitation__message a[href]{color:#000004}a[href].invitation__message:focus,a[href].invitation__message:hover{border:none}.global-showFocus a[href].invitation__message:focus{background-color:#000006}.window--circular .invitation__message{border-radius:20px 20px 0 0}.window--ie9 .invitation__message{display:block}.invitation__type{height:50px;line-height:1;padding:17.5px 27px;background:#f8f8f8;color:#333;font-size:1rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border:none;width:100%;text-align:left;border-radius:0 0 0 5px}button.invitation__type{cursor:pointer;padding:0 27px;color:#bbb}.invitation__type:focus{outline:0}.invitation__avatars{top:-15px;left:100px;position:absolute;z-index:99}.invitation__avatars img{width:28px;height:28px;border-radius:100%;border:1px solid #fff;margin-right:-5.5px}@keyframes invitation-show{0%{transform:scale(0);opacity:0;transform-origin:calc(100% - 29px) calc(100% + 18px)}100%{transform:scale(1);opacity:1;transform-origin:calc(100% - 29px) calc(100% + 18px)}}@keyframes invitation-showType{0%{transform:translateY(35px);opacity:0}100%{transform:translateY(0);opacity:1}}.invitation--coming .invitation:nth-child(2){animation:fadeOutUp 374ms linear both;z-index:2147483636}@keyframes fadeOutUp{from{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}.invitation--coming .invitation:nth-child(1){animation:invitation-show 375ms cubic-bezier(.785,.135,.15,.86) both;z-index:2147483636}.invitation__close{position:absolute;top:-4px;right:-4px;background:rgba(0,0,0,.6);border:none;z-index:1;width:21px;height:21px;cursor:pointer;border-radius:21px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.invitation__close:hover{background:#000}.invitation__close svg{fill:#000004;width:9px;height:9px;display:block;margin:5px}.invitation__image{display:block;max-height:500px;margin:auto}.invitation__container{border-radius:5px;overflow:hidden;width:100%}.window--mobile .window--bubble .window__chatOperationPlus,.window--mobile .window--bubble .window__chatSender,.window--mobile .window--circle .window__chatOperationPlus,.window--mobile .window--circle .window__chatSender,.window--mobile .window--classic .window__chatOperationPlus{display:block}.window--mobile .chatInputContainer{overflow:initial;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--mobile .chat-time{display:block}.window--mobile{background-color:rgba(0,0,0,.15);-webkit-backface-visibility:hidden}.window--mobileHorizontal .window--embedded,.window--mobileHorizontal .window--embedded .bubble-box,.window--mobileVertical .window--embedded,.window--mobileVertical .window--embedded .bubble-box{top:0;right:0;bottom:0;left:0;width:100%;height:100%}.window--rtl .container-checkbox i,.window--rtl .controlIndicator{left:auto;right:0}.window--mobileHorizontal .window--bio.window--circle,.window--mobileHorizontal .window--bio.window--circle .bubble-box,.window--mobileHorizontal .window--embedded .bubble-box.window--bio.window--circle,.window--mobileHorizontal .window--embedded .bubble-box.window--bio.window--circle .bubble-box,.window--mobileHorizontal .window--embedded.window--bio.window--circle,.window--mobileHorizontal .window--embedded.window--bio.window--circle .bubble-box,.window--mobileVertical .window--bio.window--circle,.window--mobileVertical .window--bio.window--circle .bubble-box,.window--mobileVertical .window--embedded .bubble-box.window--bio.window--circle,.window--mobileVertical .window--embedded .bubble-box.window--bio.window--circle .bubble-box,.window--mobileVertical .window--embedded.window--bio.window--circle,.window--mobileVertical .window--embedded.window--bio.window--circle .bubble-box{height:100%;top:0}.window--mobile .chat-input__controlbox{-ms-flex-positive:1;flex-grow:1;padding:10px 8px 20px 24px;border-top:solid;border-top-width:.5px;border-top-color:rgba(0,0,0,.2)}.window--mobile .chat-input__controlbox .textareaContainer{border-bottom:1px solid #787878;padding-top:10px}.window--mobile .chat-input__controlbox ::-webkit-input-placeholder{color:#787878}.window--mobile .chat-input__controlbox ::-moz-placeholder{color:#787878}.window--mobile .chat-input__controlbox :-ms-input-placeholder{color:#787878}.window--mobile .window__chatInputControl{padding:0 0 10px;height:30px;line-height:20px;min-height:30px;box-shadow:none}.window--mobile .window__chatSender .icon-input-send{color:#626262;font-size:1.5625rem;margin-top:5px}.window--mobile .window__chatSender--active .icon-input-send{color:#00000a}.window--mobile .window--bubble .window__chatSender .icon-input-send,.window--mobile .window--circle .window__chatSender .icon-input-send{color:#626262}.window--mobile .window--bubble .window__chatSender--active .icon-input-send,.window--mobile .window--circle .window__chatSender--active .icon-input-send{color:#00000a}.window--mobile .window__chatSender{bottom:20.5px;right:12px;width:37px;height:37px;padding:5px}.window--mobile .window__chatSender svg{width:27px;height:27px;fill:#626262}.window--mobile .chatInputContainer--typed .window__chatSender svg,.window--mobile .window__chatSender--active .window__chatSenderSVGPath{fill:#00000c}.window--mobile .window__chatSender.window__chatTools{bottom:unset;top:12px}.window--mobile .window__chatOperationPlusBox{-ms-flex-preferred-size:40px;flex-basis:40px}.window--mobile .window__chatOperationPlus{width:20px;height:20px;margin:0 auto}.window--mobile .window__chatOperationPlus .icon-plus{font-size:1.3125em;color:#fff}.window--mobile .window--classic .window__chatAgentMessage_container{max-width:calc(100% - 34px)}.window--mobile .window--classic .window__chatAgentMessage_container .window__chatAgentMessage.chat-message--img{max-width:200px;max-height:none}.window--mobileHorizontal .window--bubble.whole-window,.window--mobileVertical .window--bubble.whole-window{top:0;height:calc(100% - 0px)}.window--mobile .window--circle .main-container{height:100%}.window--mobile:not(.window--ipad) .window--circle,.window--mobile:not(.window--ipad) .window--circle .bubble-box,.window--mobile:not(.window--ipad) .window--circle .main-container{border-radius:0;top:0;height:100%}.window--mobile:not(.window--ipad) .window--circle .header__avatar{position:static;margin:0}.window--mobile:not(.window--ipad) .window--circle .header__agentInfo{margin:0}.window--mobile:not(.window--ipad) .window--circle .window__headerBox:not(.window__headerBox--banner){display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center}.window--mobile:not(.window--ipad) .window--circle .header__teamAvatar{position:relative;left:auto;top:0;margin:10px 0 0}.window--mobile:not(.window--ipad) .window--circle .header__teamName{margin-top:10px}.window--mobile:not(.window--ipad) .window--circle .window__headerBox.window__headerBox--hasAvatars{padding-bottom:16px}.window--mobile:not(.window--ipad) .window--circle .header__agent{max-width:100%}.window--mobile:not(.window--ipad) .window--circle .header__agentName{max-width:100%;margin:0 45px}.window--mobile:not(.window--ipad) .window--bubble.whole-window .main-container{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}.window--mobile .window_chatError{position:absolute;z-index:2147483000;width:calc(100% - 40px)}.window--mobile .window__chatWithAgent--bottom{display:none}.window--mobile .bubble-box--show .bubble{-ms-transform:scale(1);transform:scale(1);animation:showBubble 333ms cubic-bezier(.785,.135,.15,.86) both}.window--mobile .window--bubble.whole-window .main-container{overflow:initial;background-color:#f5f5f5}.window--mobile .window__formContainer--bubble{margin-top:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;padding:0}.window--mobile .window--ie10 .window__formContainer--bubble{-ms-flex-negative:1;flex-shrink:1}.window--mobile .window--bubble .window__form{padding-left:45px;padding-right:43px}.window--mobile .window--bubble .window__form .greeting-message-container{-ms-flex-negative:0;flex-shrink:0}.window--mobile .window--bubble .window__operation{background-color:transparent;-ms-flex-pack:end;justify-content:flex-end}.window--mobile .window__operation{height:40px;padding-right:6px}.window--mobile .window__operation>a,.window--mobile .window__operation>button{margin:0 1px;height:20px}.window--mobile .window__operation>a>svg,.window--mobile .window__operation>button>svg{width:20px;height:16px}.window--mobile .window__operation .header__operationContainer{height:40px}.window--mobile .window__operation .header__operationContainer>button,.window--mobile .window__operation>button{height:40px;padding:0 10px}.window--mobile .bubble-close{width:30px;height:30px;right:0;top:0}.global-showFocus .window--mobile .window--bubble a:focus{border-bottom-color:#787878}.window--mobile .window--bubble .window__operation .header__operationContainer>button>svg,.window--mobile .window--bubble .window__operation>a>svg,.window--mobile .window--bubble .window__operation>button>svg{fill:#787878}.window--mobile .window--bubble .main-container .window__title{position:relative}.window--mobile .chatError__container{left:0}.window--mobile .window--bubble .window__chat{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:25px;padding-right:27px}.window--mobile .window--bubble .window__chat>div{-ms-flex-negative:0;flex-shrink:0;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-positive:1;flex-grow:1}.window--mobile .window--bubble .window__chat>div>div>div.window__chatAgent+div.window__chatAgent,.window--mobile .window--bubble .window__chat>div>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window--mobile .window--bubble .window__chat>div>div>div+div{margin-top:16px}.window--mobile .window--bubble .window__chat>div>div>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window--mobile .window--bubble .window__chat>div>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--mobile .window--bubble .window__chat>div>div+div{margin-top:0}.window--mobile .window--bubble .chatInputContainer{background-color:#fff}.main-container,.window--mobile .main-container{background-color:#f5f5f5}.window--mobile .window--bubble .window__kb_formContainer{-ms-flex-positive:1;flex-grow:1}.window--mobile .window--bubble .window__form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--mobile.window--ipad .window--bubble .chatInputContainer{border:2px solid #f0f1f2;border-top:none}.window--mobile.window--ipad.withSideWin .window--bubble .chatInputContainer{border-bottom:none}.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.window--mobile .window__chatVisitorMessage{border-color:#f5f5f5}.window--mobile .chat-input__toolbox,.window--mobile .chat-input__toolbox-more{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start}.window--mobile .chat-input__toolbox button,.window--mobile .chat-input__toolbox-more button{width:40px;height:40px}.window--mobile .chat-input__toolbox button:hover,.window--mobile .chat-input__toolbox-more button:hover{background:0 0}.window--mobile .chat-input__toolbox button:hover svg,.window--mobile .chat-input__toolbox-more button:hover svg{fill:#787878}.window--mobile .chat-input__toolbox svg,.window--mobile .chat-input__toolbox-more svg{width:20px;height:20px;fill:#787878}.window--mobile .whole-window:not(.window--classic) .window__header{background-color:transparent;box-shadow:none}.window--mobile .whole-window:not(.window--classic) .window__header .header__agentName{color:#333}.window--classic:not(.window--embedded) .window__header,.window--mobile:not(.window--ipad) .window__header{border-radius:0}html:not(.global-showFocus) button::-moz-focus-inner{border:0}.window--mobile ::-webkit-scrollbar{display:none}.window--mobile .chat-input__toolbox button.bubble-close{width:30px;height:30px;margin-right:0;border:none}.window--mobile .chat-input__toolbox .bubble-close svg{width:10px;height:10px}.window--mobile .chat-input__toolbox-more{padding-top:50px;padding-bottom:132px;display:-ms-flexbox;display:flex;gap:30px;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:relative;top:unset;right:unset}.window--mobile .chat-input__toolbox-more button{width:48px;height:48px;cursor:pointer;margin:0;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border-radius:4px;border:none;background:0 0}.window--mobile .chat-input__toolbox-more button:active,.window--mobile .chat-input__toolbox-more button:focus{background-color:rgba(114,114,114,.08)}.window--mobile .chat-input__toolbox-more button:active svg,.window--mobile .chat-input__toolbox-more button:focus svg{fill:#000010}.window--mobile .chat-input__toolbox-more button svg{width:28px;height:28px}.window__kb_formContainer{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-left:25px;margin-right:25px;margin-top:30px}.kbsearch__container{display:-ms-flexbox;display:flex;margin-bottom:64px;height:100%;-ms-flex-pack:center;justify-content:center}.window--bubble .kbsearch__container,.window--mobile .window--bubble .kbsearch__container{margin-bottom:0;padding-bottom:98px}.window--embedded.window--bubble .kbsearch__container{border-radius:5px}.window--embedded.window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{border-radius:0 0 5px 5px}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer,.window--mobile .window--bubble .kbsearch__container{border-radius:0}.window--bubble .kbsearch-window__chatWithAgent .chatError__container{top:10px}.greeting-message__kb{margin-bottom:10px}.kbsearch-input__container{padding-bottom:25px;position:relative}.kbsearch-input__container .field__requiredMsg{font-size:12px;color:#d31219;margin-top:4px}.kbsearch-input__container .field__requiredMsg svg{fill:#d31219;overflow:visible;width:12px;height:12px;margin-right:7px}.visually-hidden{position:absolute;left:-10000px}.kbsearch-input{width:100%;height:35px;padding:7.5px 30px 7.5px 17px}.kbsearch-input::-ms-clear{display:none}input::-webkit-search-cancel-button{display:none}.kbsearch-icon{display:inline-block;position:absolute;right:8px;top:0;cursor:pointer;width:30px;height:35px;background:0 0;border:none}.window--rtl .kbsearch-icon{left:10px;right:auto}.kbsearch-icon i{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);font-size:14px}.kbsearch-window__chatWithAgent{position:absolute;bottom:35px;left:0;right:0}.kbsearch-window__chatWithAgent .buttonProgressContainer{padding:0 45px}.window--bubble .kbsearch-window__chatWithAgent{bottom:35px;right:unset;width:calc(100% - 54px);margin:0 27px}.window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 19px 35px}.window--bubble .kbsearch--noFooter .kbsearch-window__chatWithAgent{bottom:0}.window--mobile .window--bubble .kbsearch-window__chatWithAgent{bottom:0;width:100%;margin:0}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 45px 35px}.window--mobile .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble .buttonProgressContainer{padding-top:20px;padding-bottom:45px}.window--mobile.withSideWin .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble .buttonProgressContainer{padding-bottom:30px}.window--ie .window--bubble.window--ie9 .kbsearch-window__chatWithAgent{bottom:20px}.window--ie .window--embeddend.window--bubble.window--ie9 .kbsearch-window__chatWithAgent{bottom:50px}.mobileSidewindow.kbsearch-mobile .kbsearch-window__chatWithAgent{bottom:55px}.kbsearch-window__form{position:relative}.window__form.kbsearch-window__form{padding-top:20px;padding-bottom:0;height:100%}.window__formContainer--bubble .kbsearch-window__form{height:auto}.article-list-container{position:relative}.kbsearch-window__form>div.article-list-container .article-list .article-item:last-child,.kbsearch-window__form>div.article-list-container .article-list .article-item:last-child .article-summary{margin-bottom:0}.article-item{margin-bottom:15px}.article-title{font-size:.93333333rem;font-family:\"SourceSans Pro\",Arial;color:#323dbf;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;-webkit-text-size-adjust:100%;-webkit-box-orient:vertical;display:block;background:0 0;border:none;text-align:left;width:100%}.window--rtl .article-title{text-align:right}.article-title>span{border-bottom:1px solid transparent;display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis}.article-title:active,.article-title:focus,.article-title:hover{border:none!important}.article-title:hover>span{border-bottom-color:#2b72ef}.article-summary{margin-bottom:25px;font-size:12px;line-height:1.67;font-family:\"SourceSans Pro\",Arial;color:#666;max-height:40px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-webkit-text-size-adjust:100%}.kb-highlight{color:#ed1c24}.window--bubble .window__form .icon-bubble-line__div{bottom:-1px;overflow:hidden;height:16px;position:absolute;width:10px;left:-10px}.window--bubble .window__form .icon-bubble-line__div .icon-bubble-line{left:0;bottom:0}.window--circle.window--ie10 .kbsearch__container,.window--classic.window--ie10 .kbsearch__container{max-height:calc(100% - 220px)}.window--mobile .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble{bottom:45px}.window--mobile .kbsearch__container{overflow-y:hidden;margin-bottom:0;padding-bottom:95px}.kbsearch__container{-ms-flex:1;flex:1;overflow-y:hidden}.kbsearch-window__form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.article-list-container{-ms-flex:1;flex:1;overflow-y:auto}.window--ie .window--bubble:not(.window--mobile) .article-list-container{-ms-flex:auto;flex:auto}.window--mobile.withSideWin .kbsearch__container{margin-bottom:0;padding-bottom:125px}.window--mobile.withSideWin .kbsearch-window__chatWithAgent{bottom:75px}.DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;user-select:none;padding-bottom:1rem;-ms-flex-direction:row;flex-direction:row}.DayPicker-Month,.calendar-container{-webkit-user-select:none;-ms-user-select:none}.DayPicker-Months{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:center;justify-content:center}.window--bubble .DayPicker-Months,.window--circle .DayPicker-Months{color:#666}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;user-select:none;margin:1rem .5rem 0}.DayPicker-NavButton{position:absolute;cursor:pointer;top:1rem;right:1.5rem;margin-top:2px;color:#8b9898;width:1.25rem;height:1.25rem;display:inline-block;background-size:50%;background-repeat:no-repeat;background-position:center}.DayPicker-NavButton--interactionDisabled,.window--minimized .window--bubble{display:none}.DayPicker-NavButton:hover{opacity:.8}.DayPicker-NavButton--prev{margin-right:1.5rem;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC)}.DayPicker-NavButton--next{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==)}.DayPicker-Caption{padding:0 .5rem;display:table-caption;text-align:left;margin-bottom:.5rem}.DayPicker-Caption>div{font-size:1.15rem;font-weight:500}.DayPicker-Weekdays{margin-top:1rem;display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:.5rem;font-size:.875em;text-align:center;color:#8b9898}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day,.DayPicker-WeekNumber{display:table-cell;padding:.5rem;cursor:pointer;vertical-align:middle}.DayPicker-Day{text-align:center;outline:0}.DayPicker-WeekNumber{text-align:right;min-width:1rem;font-size:.75em;color:#8b9898;border-right:1px solid #eaecec}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:.5rem}.DayPicker-TodayButton{border:none;background-image:none;background-color:transparent;box-shadow:none;cursor:pointer;color:#4a90e2;font-size:.875em}.DayPicker-Day--today{color:#d0021b;font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#dce0e0;cursor:default}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){position:relative;color:#666;background-color:#000001;border-radius:100%}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002}.window--circle .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#000001;color:#000004}.window--circle .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002;color:#000004}.window--bubble .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#000001;color:#000004}.window--bubble .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002;color:#000004}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover{background-color:#f0f8ff;border-radius:50%}.DayPickerInput{position:relative}.DayPickerInput .input[readOnly]{border:1px solid #ddd}.DayPickerInput .form__input[disabled]{color:#888}.DayPickerInput-OverlayWrapper{position:absolute;z-index:99;top:-265px;left:0;width:225px}.DayPickerInput-Overlay{background:#fff;box-shadow:0 2px 5px rgba(0,0,0,.15)}.calendar-container .date-picker-span.date-picker-span__selected,.calendar-container .date-view-span.date-view-span__selected,.minimize-bar{background-color:#000001}.minimize-bar{cursor:pointer;border:1px solid #000001;width:300px;height:30px;border-radius:5px 5px 0 0;padding:0 15px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-line-pack:center;align-content:center}.minimize-bar:focus{border:1px solid #000004}.minimize-bar .minimize-bar__message{font-size:14px;line-height:30px;color:#000004;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;text-align:left;vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.minimize-bar svg{width:16px;height:30px;fill:#000004;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.minimize-bar.window--circular{border-radius:20px 20px 0 0}@media (forced-colors:active){.minimize-bar{border:1px solid transparent}}.date-picker-container{background-color:#fff;color:#484848;font-family:'Open Sans',sans-serif;font-size:14px;position:relative;width:100%;height:33px}.date-picker-container>.date-picker-input{display:inline-block;cursor:pointer;height:33px;line-height:33px;width:100%;min-width:80px;padding:0 14px;border:1px solid #dbdbdb;border-radius:4px;position:relative}.date-picker-container>.date-picker-input>svg{color:#333;opacity:.5;font-size:16px;width:16px;height:16px;position:absolute;top:8px;right:12px}.date-picker-container>.date-picker-input.date-picker-input__withAction{width:calc(100% - 33px);border-right:none;border-radius:4px 0 0 4px}.date-picker-container>.date-picker-input:focus{border-color:#000001}.date-picker-container .svg{color:#333;opacity:.5;width:auto;height:auto}.date-picker-container button .svg{width:16px;height:16px}.calendar-container{width:100%;user-select:none;max-width:325px;min-width:315px;border:1px solid #f4f4f4;border-radius:6px;padding-bottom:16px;box-shadow:0 1px 3px rgba(63,63,68,.15)}.calendar-container:focus{outline:0}.calendar-container .date-picker-header{width:100%;text-align:left}.calendar-container .date-picker-icon{width:22px;height:22px;position:absolute;cursor:pointer;bottom:3px;margin:auto;right:10px}.calendar-container .date-picker-label{font-size:15px;color:#000}.calendar-container .date-picker-span{font-size:14px;text-align:center;color:#222;width:40px;height:40px;margin:15px;display:inline-block;line-height:40px;cursor:pointer;overflow:auto}.calendar-container .date-picker-wrapper{width:100%;max-width:280px;text-align:center;box-sizing:border-box;margin:0 auto}.calendar-container .calendar-heading{width:100%;height:40px;max-width:325px;max-height:40px;margin-top:8px;position:relative;border-radius:6px}.calendar-container .date-editor-wrapper{min-width:170px;text-align:center;height:40px;line-height:40px}.calendar-container .date-editor-span{display:inline-block;color:#7e7e7e;font-size:1.125em;font-family:'SourceSans Pro';text-align:center;font-weight:600;cursor:pointer;height:40px;margin-right:10px;line-height:40px;overflow:auto}.calendar-container .date-editor-selected-span{color:#000001}.calendar-container .date-view-body{width:100%;text-align:left;height:40px}.calendar-container .date-view-span{border-radius:50%;font-size:14px;text-align:center;color:#222;display:inline-block;cursor:pointer;width:40px;height:40px;line-height:40px;margin:0;overflow:auto}.calendar-container .date-view-head-span{font-size:14px;text-align:center;color:#222;display:inline-block;cursor:pointer;width:40px;height:30px;line-height:30px;margin:0;font-weight:600;opacity:.4;overflow:auto}.calendar-container .date-view-today{display:block;width:100%;height:40px;line-height:40px}.calendar-container .month-view-wrapper{margin-top:18px}.calendar-container .month-view-span{border-radius:5px;margin:0;width:90px;height:50px;line-height:50px}.calendar-container .year-view-wrapper{margin-top:18px}.calendar-container .year-view-span{border-radius:5px;margin:0;width:66px;height:50px;line-height:50px}.calendar-container .date-picker-arrow{cursor:pointer;color:#333;border-radius:50%;width:22px;height:22px;display:inline-block;position:absolute;top:0;bottom:0;margin-top:10px;font-weight:700;opacity:.5}.calendar-container .single-arrow-left{left:50px}.calendar-container .single-arrow-right{right:50px}.calendar-container .double-arrow-left{left:16px}.calendar-container .double-arrow-right{right:16px}.scroll-column-stack{position:relative;width:100%;height:100%}.scroll-column-stack button{background:0 0;border:none;font-size:16px;width:100%;padding:0 5px;text-align:center;cursor:pointer}.scroll-column-stack button.disabled{opacity:.5}.scroll-column-stack>input{position:absolute;left:1px;top:calc(38%);width:calc(97%);height:24px;line-height:24px;margin:0;border:none;text-align:center;font-size:20px;padding:0}.scroll-column{position:relative;width:100%;height:150px}.scroll-clip{overflow:hidden;width:100%;height:100%}.scroll-clip>ul{position:relative;list-style:none;margin:0;padding:0}.scroll-column li{width:100%;height:30px;line-height:30px;margin:0;padding:0;text-align:center;cursor:pointer}.selected-region{position:absolute;width:100%;height:30px;left:0;top:60px;z-index:-1}.selected-region-bottom,.selected-region-top{position:absolute;width:calc(100%);height:60px}.selected-region-top{top:0}.selected-region-bottom{top:90px}.scroll-handle{position:absolute;width:100%;height:100%;left:0;top:0;background:0 0;cursor:pointer}.time-selector{border:1px solid #dbdbdb;border-radius:4px;font-size:14px;height:33px;position:relative;width:100%}.time-selector.time-selector-dark{background-color:#484e58;color:#fff}.time-selector-dark>svg path{fill:#fff}.time-selector-dark .time-range-panel{background-color:#484e58}.time-selector-dark .panel-arrow>path:first-child{fill:#484e58}.time-selector-dark .panel-arrow>path:last-child{stroke:#f58520;fill:none}.time-selector-dark .scroll-column-stack button{color:#fff}.time-selector-dark .scroll-column-stack>input{background-color:#f58520;box-shadow:0 0 3px inset rgba(0,0,0,.5);color:#fff}.time-selector-dark .selected-region{background-color:rgba(234,133,32,.9);box-shadow:0 0 6px rgba(0,0,0,.5)}.time-selector-dark .selected-region-top{border-bottom:2px solid #e4e7e7;background:linear-gradient(#484e58 10%,rgba(72,78,88,.2) 95%,transparent 100%)}.time-selector-dark .selected-region-bottom{border-top:2px solid #e4e7e7;background:linear-gradient(transparent 0,rgba(72,78,88,.2) 5%,#484e58 100%)}.time-selector.time-selector-light{background-color:#fff;color:#484848}.time-selector-light>svg path{fill:#484848}.time-selector-light.time-range-panel{background-color:#fff;box-shadow:0 1px 3px rgba(63,63,68,.15);border-radius:4px}.time-selector-light .panel-arrow>path:first-child{fill:#fff}.time-selector-light .panel-arrow>path:last-child{stroke:#dbdbdb;fill:none}.time-selector-light .scroll-column-stack button{color:#484848}.time-selector-light .scroll-column-stack>input{background-color:#00a699;box-shadow:0 0 3px inset rgba(255,255,255,.5);color:#333}.time-selector-light .scroll-selected-value{margin:1px 0 -1px;color:#333;font-weight:700}.time-selector-light .scroll-transparent-value{color:#a8a8a8}.time-selector-light .selected-region{box-shadow:0 0 6px rgba(255,255,255,.5);color:#fff}.time-selector-light .selected-region-top{border-bottom:1px solid #b9b9b9}.time-selector-light .selected-region-bottom{border-top:1px solid #b9b9b9}.time-selector>span{display:inline-block;cursor:pointer;height:33px;line-height:33px;width:100%;min-width:80px;padding:0 14px}.time-selector>span>svg{color:#333;opacity:.5;font-size:16px;width:16px;height:16px;position:absolute;top:8px;right:38px}.time-selector>.taskbot_submit_btn_container{top:-1px}.time-range-panel{padding:8px 12px;z-index:10}.time-range-panel>.panel-arrow{position:absolute;top:-10px;width:20px;height:20px}.time-range-panel>.arrow-left{left:22px}.time-range-panel>.arrow-right{left:122px}.time-range-panel .time-columns{display:-ms-grid;display:grid;-ms-grid-columns:(1fr) [3];grid-template-columns:repeat(3,1fr)}.time-range-panel .time_confirm{height:32px;line-height:32px;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding-right:8px;cursor:pointer}.time-range-panel .time_confirm .time_tick{width:32px;height:32px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.time-range-panel .time_confirm .time_tick svg{width:16px;fill:#000001}.fc_input_ref{animation-duration:.6s;animation-timing-function:ease-in;animation-delay:.75s;animation-fill-mode:forwards}.fc_input_container{border-radius:5px;min-height:33px;position:relative;background-color:#fff}.fc_input{border-radius:5px 0 0 5px;height:33px;padding:7px 14px 6px;border:1px solid #d5d5d5;width:calc(100% - 33px);border-right:none}.fc_input_container_error .fc_input{border-color:#ed1c24!important}.fc_select_container{position:relative}.fc_select_input_container{position:relative;height:100%;border:1px solid #d5d5d5;border-radius:5px;box-sizing:border-box}.fc_select_input_container .fc_select_input_single{padding:7px 30px 6px 14px;width:100%;height:31px;line-height:18px;overflow:hidden;white-space:nowrap;cursor:pointer;text-overflow:ellipsis}.fc_select_input_container .fc_select_input_multiple{min-height:31px;padding:0 30px 4px 10px;max-height:85px;overflow-y:scroll;margin-right:1px}.fc_select_input_container .fc_select_input_multiple::-webkit-scrollbar-thumb{background:rgba(51,51,51,.2)}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item{background:#efefef;border-radius:17px;height:23px;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;margin:4px 4px 0}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item span{font-size:12px;line-height:23px;color:#263238;margin:0 10px 0 16px;cursor:default;max-width:83px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item .delete_icon{width:18px;height:18px;fill:#c4c4c4;border-radius:50%;margin-right:3px}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item .delete_icon:hover{fill:#6c6c6c}.fc_select_input_container .arrow_container{position:absolute;right:0;top:0;margin-right:12px;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.fc_select_input_container .arrow{width:10px;height:10px;fill:#989898}.fc_select_input_container .arrow.arrow_down{-ms-transform:rotate(180deg);transform:rotateZ(180deg)}.fc_select_input_container:focus{border-color:#000001}.fc_select_input_container--error{border-color:#d34747}.fc_select_option_container{min-height:8px}.fc_select_option_list{box-shadow:0 1px 3px rgba(63,63,68,.35);margin-top:.5px;width:100%;padding:0;background:#fff;border-radius:5px;overflow-y:scroll;overflow-x:hidden;z-index:0;max-height:264px;animation-duration:.4s;animation-timing-function:ease-in-out;animation-delay:0s;animation-fill-mode:forwards}.fc_select_option_list::-webkit-scrollbar-thumb{background:rgba(51,51,51,.2)}.fc_select_option_list .fc_select_option_item{padding:0 16px;color:#747474;background:#fff;cursor:pointer;height:32px;line-height:32px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.fc_select_option_list .fc_select_option_item:hover{color:#263236;background-color:rgba(0,0,0,.06)}.fc_select_option_list .fc_select_option_item.selected{color:#000;background-color:#efefef}.highContrast .bubble,.highContrast .chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.highContrast .fc_multiple_select_item,.highContrast .fc_select_option_list,.highContrast .prechatForm__social .prechatForm__socialBtn,.highContrast .taskbot-popper,.highContrast .taskbot_multiple_select_item,.highContrast .taskbot_select_multiple .taskbot_select_multiple_item,.highContrast .taskbot_select_option_list,.highContrast .taskbot_submit_btn_container,.highContrast .taskbot_tool_tip_container,.highContrast .time-range-panel,.highContrast .whole-window,.highContrast .window__chatAgentMessage,.highContrast .window__chatVisitorMessage,.highContrast .window_buttons_container .window_buttons_item button,.highContrast .window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.highContrast .window__headerBox{border-bottom:1px solid}.highContrast .webView_background .webView__title{border-top:1px solid;border-bottom:none}.highContrast .window__chat .dot__element{background-color:CanvasText}.highContrast .calendar-container .date-picker-arrow svg,.highContrast .time-range-panel .time_confirm .time_tick svg,.highContrast .window__operation button>svg{fill:CanvasText!important}.highContrast .fc_select_option_list .fc_select_option_item.selected,.highContrast .taskbot_select_option_list .taskbot_select_option_item.active,.highContrast .taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.highContrast .chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.highContrast .date-picker-container>.date-picker-input:focus,.highContrast .fc_select_input_container:focus,.highContrast .taskbot_select_input_container:focus{border:1px solid Highlight}.highContrast .chat-message-time{opacity:.8}.highContrast .calendar-container [aria-selected=true]{color:Highlight!important}.highContrast .container-checkbox i.selected .checkbox1{fill:Highlight}.highContrast .container-checkbox i.unselected .checkbox1,.highContrast .container-checkbox i.unselected .checkbox3,.highContrast .control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.highContrast .checkbox2,.highContrast .date-picker-container>.date-picker-input>svg,.highContrast .prechatForm__social .prechatForm__socialBtn svg,.highContrast .taskbot_submit_btn_container .taskbot_send_button>div svg,.highContrast .taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.highContrast .time-selector>span>svg{fill:CanvasText}.highContrast .controlRadio .controlIndicator svg{border:1px solid CanvasText}.highContrast .control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.highContrast .taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}.highContrast #chat-input-control:-ms-input-placeholder{color:CanvasText}.highContrast #chat-input-control::placeholder{color:CanvasText}.highContrast .poweredby a[href] svg path,.highContrast .window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.highContrast .window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}@media (forced-colors:active){.bubble,.chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.fc_multiple_select_item,.fc_select_option_list,.prechatForm__social .prechatForm__socialBtn,.taskbot-popper,.taskbot_multiple_select_item,.taskbot_select_multiple .taskbot_select_multiple_item,.taskbot_select_option_list,.taskbot_submit_btn_container,.taskbot_tool_tip_container,.time-range-panel,.whole-window,.window__chatAgentMessage,.window__chatVisitorMessage,.window_buttons_container .window_buttons_item button,.window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.window__headerBox{border-bottom:1px solid}.webView_background .webView__title{border-top:1px solid;border-bottom:none}.window__chat .dot__element{background-color:CanvasText}.calendar-container .date-picker-arrow svg,.time-range-panel .time_confirm .time_tick svg,.window__operation button>svg{fill:CanvasText!important}.calendar-container .date-picker-arrow{opacity:1}.fc_select_option_list .fc_select_option_item.selected,.taskbot_select_option_list .taskbot_select_option_item.active,.taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.date-picker-container>.date-picker-input:focus,.fc_select_input_container:focus,.taskbot_select_input_container:focus{border:1px solid Highlight}.chat-message-time{opacity:.8}.calendar-container [aria-selected=true]{color:Highlight!important}.container-checkbox i.selected .checkbox1{fill:Highlight}.container-checkbox i.unselected .checkbox1,.container-checkbox i.unselected .checkbox3,.control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.checkbox2,.date-picker-container>.date-picker-input>svg,.prechatForm__social .prechatForm__socialBtn svg,.taskbot_submit_btn_container .taskbot_send_button>div svg,.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.time-selector>span>svg{fill:CanvasText}.controlRadio .controlIndicator svg{border:1px solid CanvasText}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}#chat-input-control:-ms-input-placeholder{color:CanvasText}#chat-input-control::placeholder{color:CanvasText}.poweredby a[href] svg path,.window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}}@media (prefers-contrast:more){.bubble,.chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.fc_multiple_select_item,.fc_select_option_list,.prechatForm__social .prechatForm__socialBtn,.taskbot-popper,.taskbot_multiple_select_item,.taskbot_select_multiple .taskbot_select_multiple_item,.taskbot_select_option_list,.taskbot_submit_btn_container,.taskbot_tool_tip_container,.time-range-panel,.whole-window,.window__chatAgentMessage,.window__chatVisitorMessage,.window_buttons_container .window_buttons_item button,.window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.window__headerBox{border-bottom:1px solid}.webView_background .webView__title{border-top:1px solid;border-bottom:none}.window__chat .dot__element{background-color:CanvasText}.calendar-container .date-picker-arrow svg,.time-range-panel .time_confirm .time_tick svg,.window__operation button>svg{fill:CanvasText!important}.calendar-container .date-picker-arrow{opacity:1}.fc_select_option_list .fc_select_option_item.selected,.taskbot_select_option_list .taskbot_select_option_item.active,.taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.date-picker-container>.date-picker-input:focus,.fc_select_input_container:focus,.taskbot_select_input_container:focus{border:1px solid Highlight}.chat-message-time{opacity:.8}.calendar-container [aria-selected=true]{color:Highlight!important}.container-checkbox i.selected .checkbox1{fill:Highlight}.container-checkbox i.unselected .checkbox1,.container-checkbox i.unselected .checkbox3,.control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.checkbox2,.date-picker-container>.date-picker-input>svg,.prechatForm__social .prechatForm__socialBtn svg,.taskbot_submit_btn_container .taskbot_send_button>div svg,.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.time-selector>span>svg{fill:CanvasText}.controlRadio .controlIndicator svg{border:1px solid CanvasText}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}#chat-input-control:-ms-input-placeholder{color:CanvasText}#chat-input-control::placeholder{color:CanvasText}.poweredby a[href] svg path,.window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}*{border-color:#000!important}}@media all and (-webkit-min-device-pixel-ratio:0){::-webkit-scrollbar{height:6px;width:6px}.window__chat:hover::-webkit-scrollbar-thumb,.window__form:hover::-webkit-scrollbar-thumb,.window__formContainer:hover::-webkit-scrollbar-thumb,textarea:hover::-webkit-scrollbar-thumb{background-color:#c8c8c8}.window__chat{width:calc(100% - 2px);padding:18px 25px 0 27px;margin-bottom:0}.window__form{width:calc(100% - 2px);padding-right:43px}.window__form.window__ssologin{padding-right:45px}.window--bubble .window__form.window__ssologin{padding-right:19px}.kbsearch-window__chatWithAgent .buttonProgressContainer{padding-right:43px}.window__formContainer--bubble{padding-right:25px;margin-right:2px}.window__formContainer--bubble .window__form{width:100%}.window--mobile .window--bubble .kbsearch-window__chatWithAgent{width:calc(100% - 2px)}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 43px 35px 45px}.window--mobile .window--bubble .window__form{padding-left:45px;padding-right:43px}.window--mobile .window--bubble .window__form.kbsearch-window__form{padding-left:20px;padding-right:18px}::-webkit-scrollbar-button{height:4px;background-color:transparent;background-repeat:no-repeat;cursor:pointer}::-webkit-scrollbar-corner{background-color:#fff}::-webkit-scrollbar-thumb{border-radius:4px;background-color:transparent}::-webkit-scrollbar-track{background-color:transparent}.window--rtl .window__form{padding-right:45px;padding-left:43px}}body,html,ol,ul{margin:0}::-webkit-input-placeholder{color:#626262}::-moz-placeholder{color:#626262}:-ms-input-placeholder{color:#626262}*,::after,::before{box-sizing:border-box}html{position:fixed;left:0;right:0;top:0;bottom:0;font-size:15px;-webkit-text-size-adjust:100%}body{font-family:'SourceSans Pro','',Arial;line-height:1.42857143;overflow:hidden}h1,h2,h3{font-weight:400;font-family:\"SourceSans Pro Bold\",Arial}div,section{outline:0}.clearfix::after{content:'';display:block;clear:both}.clear{clear:both}a{color:#000001;cursor:pointer;text-decoration:none}.global-showFocus .window__operation .header__operationContainer>a:focus{outline:0!important;border-bottom-width:1px;border-bottom-style:solid;text-decoration:none}a[href]:active,a[href]:focus,a[href]:hover{border-bottom:1px solid #000007;text-decoration:none}input,textarea{font-family:inherit}ol,ul{list-style-type:none;padding:0}b,strong{font-family:\"SourceSans Pro Bold\",Arial}textarea{resize:none}.animated{animation-duration:1s;animation-fill-mode:both}.animated.hinge{animation-duration:2s}.animated-delayFrames7{animation-delay:292ms}.animated-delayFrames10{animation-delay:417ms}.animated-delayFrames13{animation-delay:542ms}.transform-origin-00{-ms-transform-origin:0 0;transform-origin:0 0}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}.fadeInDown{animation-name:fadeInDown}.fadeInUp,.fadeInUp--window__form{animation-name:fadeInUp}@keyframes main-container--fadeOut{0%{opacity:1;transform:translateY(0)}99%{opacity:0;transform:translateY(0)}100%{opacity:0;transform:translateY(620px)}}@keyframes main-container--fadeIn{0%{opacity:0;transform:translateY(0)}100%{opacity:1;transform:translateY(0)}}@keyframes fadeInUp{0%{opacity:0;transform:translate3d(0,50%,0)}to{opacity:1;transform:none}}.fadeInUp--window__form{animation-duration:292ms;animation-fill-mode:both;animation-delay:625ms}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}.fadeOutUp{animation-name:fadeOutUp}@keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}.at-ripple{animation-name:at-ripple}@keyframes yAxisWindow{100%{opacity:1}}@keyframes window--opening{0%{opacity:0;transform:translateY(100%)}99.999999%{opacity:1;transform:translateY(0)}100%{opacity:1;transform:none}}@keyframes window--adaptive--opening{0%{opacity:.666667;transform:scale(.666667)}99.999999%{opacity:1;transform:scale(1)}100%{opacity:1;transform:none}}@keyframes window--minimizing{0%{transform:translateY(0);opacity:1}100%{transform:translateY(100%);opacity:0}}@keyframes window--adaptive--minimizing{0%{transform:scale(1);opacity:1}100%{transform:scale(.666667);opacity:0}}.animation--chatting.window--animated .header{transition:height 416ms cubic-bezier(.785,.135,.15,.86) .4s}.animation--chatting .prechatHeader,.animation--waiting .prechatHeader{opacity:0;-ms-transform:translateY(-140px);transform:translateY(-140px);transition:all 416ms cubic-bezier(.785,.135,.15,.86) 1.792s}@keyframes animation-translateY-Up{0%{transform:translateY(0);overflow:hidden}100%{transform:translateY(-100%)}}.animation-translateY-Up{animation-duration:458ms;animation-fill-mode:both;animation-timing-function:cubic-bezier(.785,.135,.15,.86);animation-name:animation-translateY-Up;animation-delay:1.209s}.whole-window{position:absolute;z-index:10;width:100%;height:100%;box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15);animation:window--opening .3s linear none;border-radius:5px}.window--chrome .whole-window{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.window--chrome .whole-window.window--bubble,.window--chrome .whole-window.window--bubble:not(.window--embedded){box-shadow:none}.window--chrome .whole-window:not(.window--embedded){box-shadow:2.5px 0 5px 0 rgba(0,0,0,.15)}.window--chrome .whole-window:not(.window--embedded).window--bubble{box-shadow:none}.whole-window:not(.window--embedded){box-shadow:2.5px 0 2.5px 0 rgba(0,0,0,.15)}.whole-window:not(.window--embedded).window--bubble,.window--bubble{box-shadow:none}.whole-window.window--circular{border-radius:20px}.whole-window.window--adaptive{-ms-transform-origin:bottom right;transform-origin:bottom right;animation:window--adaptive--opening .2s linear none}.window--ie .whole-window,.window--ie .whole-window.window--adaptive{animation:none}.window--minimized .whole-window{animation:window--minimizing .3s linear forwards}.window--minimized .whole-window.window--adaptive{-ms-transform-origin:bottom right;transform-origin:bottom right;animation:window--adaptive--minimizing .2s linear forwards}.window--ie .window--minimized .whole-window,.window--ie .window--minimized .whole-window.window--adaptive{animation:none}.window--bubble.whole-window .main-container{position:relative;min-height:200px}.window--bubble,.window--ipad .window--embedded .bubble-box.bubble-box--minimize{position:absolute}.window--embedded,.window--embedded .bubble-box{right:7.5px;bottom:12.5px;width:calc(100% - 15px);height:calc(100% - 15px)}.window--circle--sidewindow,.window--classic--sidewindow{box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15)}.window--chrome .window--circle--sidewindow,.window--chrome .window--classic--sidewindow{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.window--embedded.window--circle--sidewindow,.window--embedded.window--circle--sidewindow .bubble-box,.window--embedded.window--classic--sidewindow,.window--embedded.window--classic--sidewindow .bubble-box{width:calc(100% - 15px)}.window--ipad .window--embedded,.window--ipad .window--embedded .bubble-box{right:7.5px;width:calc(100% - 15px)}.window--ipad .window--bubble.window--embedded,.window--ipad .window--bubble.window--embedded .bubble-box{bottom:0;height:100%}.window--bubble.window--embedded,.window--bubble.window--embedded .bubble-box{height:100%;width:100%;right:0;bottom:0}.window--bubble{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:end;justify-content:flex-end}.main-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;background-repeat:no-repeat;background-position:center bottom;background-size:cover}.loading-circle{fill:#a3a3a3}.main-container,.main-container .bubble-box{border-radius:5px}.window--circular .main-container,.window--circular .main-container .bubble-box{border-radius:20px}.window--mobile:not(.window--ipad) .main-container,.window--mobile:not(.window--ipad) .main-container .bubble-box{border-radius:0}.window--embedded.window--circle,.window--embedded.window--circle .bubble-box{height:calc(100% - 15px);top:2.5px}.window--embedded.window--bio.window--circle,.window--embedded.window--bio.window--circle .bubble-box{height:calc(100% - 45px);top:unset}.window--embedded.window--circle.window-noavator,.window--embedded.window--circle.window-noavator .bubble-box{height:calc(100% - 7.5px)}.window--bio.window--circle{height:calc(100% - 32.5px);top:32.5px}.window--bio.window--circle .bubble-box,.window--circle.window-noavator,.window--circle.window-noavator .bubble-box{top:0;height:100%}.window--circle.window--embedded.window-noavator,.window--circle.window--embedded.window-noavator .bubble-box{top:unset}.window--bubble{background:0 0}.window--bubble:not(.window--embedded){padding-left:0;padding-right:0}.window--rtl .container-checkbox,.window--rtl .control{padding-left:0;padding-right:26px}.window--bubble .main-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;background:0 0;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-negative:0;flex-shrink:0;position:static;bottom:0;height:auto}.window--bubble.window--rtl .window__chatSystemMessageContent,.window--rtl .bubble,.window--rtl .knowlegedbase__content,.window--rtl .window__chatAgentMessage,.window--rtl .window__chatInputControl,.window--rtl .window__chatSystemMessage,.window--rtl .window__chatVisitorMessage,.window--rtl .window__form,.window--rtl .window__formContainer,.window--rtl .window__formGreeting,.window--rtl .window_chatError{direction:rtl}.window--bubble.window--rtl .window__chatSystemMessage{direction:ltr}.window--rtl .rating{text-align:right}.window--rtl .rating .star:first-child{margin-right:0}.window--rtl .rating .star:last-child{margin-right:10px}.window--rtl .prechatForm__social .prechatForm__socialBtn{margin-right:0;margin-left:12px}.window--rtl .prechatForm__social .prechatForm__socialBtn:last-child{margin-left:0}.window--rtl .bubble .bubble__operation .btn:first-child,.window--rtl .form-fields--horizonal .field-name{margin-right:0;margin-left:10px}.window--rtl .invitation__message,.window--rtl .invitation__type,.window--rtl .minimize-bar__message{direction:rtl;text-align:right}.window--rtl .minimize-bar__message{padding-right:15px}.window--ie9.window--classic .header__agentInfo,.window--ie9.window--classic .header__avatar{float:left}.window--ie9.window--circle .window__form,.window--ie9.window--classic .window__form{height:calc(100% - 156px);padding-bottom:30px}.window--ie9.window--circle .window__form.window__ssologin,.window--ie9.window--classic .window__form.window__ssologin{height:auto}.window--ie9 .chat-time{margin-top:15px}.window--ie9.chat-time{padding-top:10px}.window--ie9.window--classic .header__avatar{float:left}.window--ie9 .chatInputContainer{position:absolute;bottom:23px;width:100%}.window--ie9.window--bubble .window__chat,.window--ie9.window--bubble .window_quick_reply_container_box{position:relative;bottom:75px}.window--ie9 .buttonProgressContainerSuccess .buttonProgressBtnAnimated{opacity:.65}.window--ie9 .buttonProgress__layerCircle,.window--ie9 .buttonProgress__layerLoading,.window--ie9 .buttonProgress__layerSuccess,.window--ie9 .lds-css{display:none!important}.window--ie9 .window__footer{position:absolute;bottom:0;display:inline-block}.window--ie9 .multipleText{overflow:auto}.window--ie9.window--bubble .window__chatAgent{position:relative}.window--ie9 .rating .star.animate{color:#ffd051}.window--ie9 .select-box .select{padding:5px 10px}.window--ie9 .form-fields .box-field iframe{height:30px}.window--ie9 .window__formContainer--bubble{overflow-y:auto!important}.window--ie9.window--classic .header__agent--withlogo{max-width:calc(100% - 110px)}.window--ie9.window--classic .header__logo{float:right}.window--ie9.window--classic .header__agentInfo{max-width:calc(100% - 60px)}.window--ie9.window--classic .window__header--withBio{height:136px}.window--ie9.window--classic .window__header--noBio{height:126px;background-color:#000001}.window--ie9.window--circle .window__header--noBio,.window--ie9.window--circle .window__header--withBio,.window--ie9.window--circle .window__headerBox{height:136px}.window--ie9.window--classic .window__chat--withBio{max-height:calc(100% - 236px)}.window--ie9.window--classic .window__chat--withBio.window__chat--withQuickReply{height:calc(100% - 286px)}.window--ie9.window--classic .window__chat--noBio{height:calc(100% - 195px)}.window--ie9.window--classic .window__chat--noBio.window__chat--withQuickReply{height:calc(100% - 245px)}.window--ie9.window--circle .window__chat--withBio{max-height:calc(100% - 205px)}.window--ie9.window--circle .window__chat--withBio.window__chat--withQuickReply{height:calc(100% - 255px)}.window--ie9.window--circle .window__chat--noBio{height:calc(100% - 205px)}.window--ie9.window--circle .window__chat--noBio.window__chat--withQuickReply{height:calc(100% - 255px)}.window--ie9.window--bubble .main-container{overflow:auto;overflow-x:hidden}.window--ie9 .window__chatInputControl{padding:0 10px 0 25px}.window--ie9 .chat-input__toolbox{position:absolute;right:20px;bottom:10px}.window--ie9 .main-container{display:block}.window--ie9 .window--bubble.whole-window .main-container{position:fixed}.window--ie9 .window__kb_formContainer{margin-right:0;margin-left:0}.window--ie9 .agentMessage__avatar,.window--ie9 .window__chatAgentMessage{float:left}.window--ie9 .window--bubble .window__operation-menu{max-width:160px}.window--ie9 .window__operation-menu li button>div.menu__text-container{max-width:85px}.window--ie9 .window__operation-menu,.window--ie9 .window__operation-menu-icon{width:150px}.window--ie .window--embedded.window--circle .window__header--hasAvatar+.window__title .bubble-box{top:32.5px}#container~div>:last-child{max-height:580px;overflow-y:auto!important}#container~div>:last-child::-webkit-scrollbar-thumb{background-color:#c8c8c8}.btnScrollToBottom{position:sticky;z-index:9;bottom:10px;float:right;margin-right:-14px;background-color:#fff;border:none;outline:0;border-radius:36px;box-shadow:0 2px 2px rgba(0,0,0,.12);padding:10px;height:30px;line-height:1;color:#00000a;cursor:pointer}.btnScrollToBottom>svg{fill:#00000a;width:1em;height:1em;font-size:10px;position:relative;top:1px}.btnScrollToBottomWithBadge{background-color:#00000a;color:#00000e}.btnScrollToBottomWithBadge>svg{fill:#00000e}.greeting-message ol{list-style-type:decimal;text-align:initial;list-style-position:outside;padding-left:10px}.greeting-message ul{list-style-type:initial;text-align:initial;list-style-position:inside}.greeting-message table{border-collapse:collapse;empty-cells:show;max-width:100%}.greeting-message table td,.greeting-message table th{border:1px solid #ddd}.greeting-message table th{background:#ececec}.greeting-message table.fr-dashed-borders td,.greeting-message table.fr-dashed-borders th{border-style:dashed}.greeting-message table td.fr-highlighted,.greeting-message table th.fr-highlighted{border:1px double red}.greeting-message table td.fr-thick,.greeting-message table th.fr-thick{border-width:2px}.greeting-message table.fr-alternate-rows tbody tr:nth-child(2n){background:#dedede}.greeting-message table img{display:inline-block;float:none;margin-left:5px;margin-right:5px;max-width:calc(90%);vertical-align:bottom}",ge="desktop",me="mobile",we="ipad",be="systemEndChat",ve="systemPromoteOfflineMesage",_e="visitorNotRespond",xe="visitorNotRespondAndEndChat",ye="systemStartChatbot",Se="visitorAddTextMessage",Ce="visitorRequestChat",ke="visitorSendFile",Ie="visitorSendImage",Me="visitorSendPassword",Ae="visitorSubmitSecureForm",Oe="visitorCancelSecureForm",Be="visitorCreditCardMasked",Te="visitorGetSecureFormFailure",je="visitorTyping",Pe="agentSendText",Fe="agentAddInvitationText",Ne="agentAcceptChat",We="agentRefuseChat",Ve="agentEndChat",De="agentJoinChat",Re="agentTransferChat",Ee="agentSendUrl",ze="agentTyping",Le="agentTransferChatToDepartment",He="agentAcceptTransfer",qe="agentSendFile",Ue="agentSendImage",Ge="agentSendImageStart",Ke="agentRequestSecureForm",Ye="agentPushPage",Je="agentVideoChatRequest",Qe="agentVideoChatCancelRequest",Ze="agentVideoChatAccept",Xe="agentVideoChatRefuse",$e="agentVideoChatStop",tn="visitorVideoChatRequest",en="visitorVideoChatCancelRequest",nn="visitorVideoChatAccept",on="visitorVideoChatRefuse",an="visitorVideoChatStop",rn="systemVideoChatNoAnswer",sn="systemVideoChatEnd",cn="cobrowseRequest",dn="cobrowseAccept",ln="cobrowseStart",un="cobrowseRefuse",pn="cobrowseNoAnswer",hn="cobrowseEnd",fn="cobrowseNotSupport",gn="cobrowseBrowserNotSupport",mn="cobrowseCancel",wn="cobrowseHttpNotSupport",bn="agentAudioChatRequest",vn="agentAudioChatCancelRequest",_n="agentAudioChatAccept",xn="agentAudioChatRefuse",yn="agentAudioChatStop",Sn="visitorAudioChatRequest",Cn="visitorAudioChatCancelRequest",kn="visitorAudioChatAccept",In="visitorAudioChatRefuse",Mn="visitorAudioChatStop",An="systemAudioChatNoAnswer",On="systemAudioChatEnd",Bn="systemIfSupportWebrtc",Tn="agentPushSSO",jn="visitorSingleLogout",Pn="agentRequestRatingFromVisitor",Fn="agentAutoSendTextVisitorNotReply",Nn="agentAutoSendTextAgentNotReply",Wn="ratingForm",Vn="chatbotRequestQuestionGuid",Dn="chatbotIntentTaskComplete",Rn="chatbotHighConfidenceAnswer",En="chatbotPossibleAnswer",zn="chatbotBadAnswer",Ln="chatbotJoinChat",Hn="chatbotSendGreetingMessage",qn="botSignIn",Un="botForm",Gn="visitorCancelBotForm",Kn="visitorSubmitBotForm",Yn="botPrompt",Jn="botRequestLocation",Qn="chatbotSetAnswerIfHelpful",Zn="visitorRequestChatExceedChatQueueLimit",Xn="visitorText",$n="visitorImage",ti="visitorFile",ei="systemPrompt",ni="startChatAgain",ii="downloadTranscript",oi="emailTranscript",ai="creditCardMasked",ri="autoInvMsg",si="pendingVisitorIsTyping",ci="pendingVideoRequesting",di="pendingAudioRequesting",li="pendingAccept",ui="pendingHangup",pi="pendingSubmitSecureForm",hi="pendingCancelSecureForm",fi="pendingGetSecureFormFailure",gi="pendingCobrowseAccept",mi="pendingCobrowseStart",wi="pendingCobrowseRefuse",bi="pendingCobrowseNotSupport",vi="pendingCobrowseBrowserNotSupport",_i="pendingCobrowseEnd",xi="pendingCobrowseHttpNotSupport",yi="agentScreenSharingRequest",Si="agentScreenSharingCancelRequest",Ci="agentScreenSharingAccept",ki="agentScreenSharingRefuse",Ii="agentScreenSharingStop",Mi="visitorScreenSharingRequest",Ai="visitorScreenSharingCancelRequest",Oi="visitorScreenSharingAccept",Bi="visitorScreenSharingRefuse",Ti="visitorScreenSharingStop",ji="agentRequestVisitorScreenSharing",Pi="agentCancelRequestVisitorScreenSharing",Fi="visitorRefuseAgentRequestVisitorScreenSharing",Ni="visitorAcceptAgentRequestVisitorScreenSharing",Wi="systemScreenSharingNoAnswer",Vi="pendingScreenSharingRequesting",Di="pendingAcceptScreenSharing",Ri="pendingHangupScreenSharing",Ei="pendingVisitorAcceptAgentRequestVisitorScreenSharing",zi="systemScreenSharingEnd",Li="systemStartTaskbot",Hi="taskbotJoinChat",qi="taskbotActions",Ui="taskbotRequestQuestionGuid",Gi="taskbotComplete",Ki="chatbotActions",Yi="agentTransferChatToAnotherSite",Ji="agentRecallMessage",Qi="recalledChatMessage",Zi="00000001-0000-0000-0000-000000000001",Xi="",$i=1e4,to="00000000-0000-0000-0000-000000000000",eo="00000001-0000-0000-0000-000000000001",no={batchAction:"batchAction",uploadFileAction:"uploadFileAction",getConfig:"getConfig",setCustomVariables:"setCustomVariables",newVisitor:"newVisitor",pageVisit:"pageVisit",getChatButton:"getChatButton",getIfOnline:"getIfOnline",checkIfOnline:"checkIfOnline",checkAutoInvitation:"checkAutoInvitation",confirmAutoInvitation:"confirmAutoInvitation",acceptAutoInvitation:"acceptAutoInvitation",refuseAutoInvitation:"refuseAutoInvitation",checkManualInvitation:"checkManualInvitation",refuseManualInvitation:"refuseManualInvitation",manualInvitationShowed:"manualInvitationShowed",submitSSOInfo:"submitSSOInfo",submitPrechat:"submitPrechat",socialLogin:"socialLogin",requestChat:"requestChat",requestChatFromChatbot:"requestChatFromChatbot",sendChatMessages:"sendChatMessages",getChatMessages:"getChatMessages",getChatQueue:"getChatQueue",setVisitorStatus:"setVisitorStatus",submitRating:"submitRating",emailTranscript:"emailTranscript",sendFile:"sendFile",uploadFile:"uploadFile",endChat:"endChat",submitPostChat:"submitPostChat",submitOfflineMessage:"submitOfflineMessage",chatBotAnswerHelpful:"chatBotAnswerHelpful",chatBotSelectQuestion:"chatBotSelectQuestion",prechatHeartbeat:"prechatHeartbeat",offlineMessageHeartbeat:"offlineMessageHeartbeat",enterOfflineMessage:"enterOfflineMessage",checkManuallyInvited:"checkManuallyInvited",closeWindow:"closeWindow",getDepartments:"getDepartments",getAgents:"getAgents",checkBan:"checkBan",systemProcessingHeartbeat:"systemProcessingHeartbeat",restoreChat:"restoreChat",checkBBSCode:"checkBBSCode",checkDynamicCampaign:"checkDynamicCampaign",getDynamicCampaign:"getDynamicCampaign",pageHeartbeat:"pageHeartbeat",getChatWindowConfig:"getChatWindowConfig",getCustomVariables:"getCustomVariables",visitorHandleBotForm:"visitorHandleBotForm",setBotVariable:"setBotVariable",agentMsgSeenByVisitor:"agentMsgSeenByVisitor",visitorGetLatestMsgSeen:"visitorGetLatestMsgSeen",setLocation:"setLocation",getVisitorInfo:"getVisitorInfo",recoverVisitor:"recoverVisitor",getFileUploadToken:"getFileUploadToken",getSSORecoverInfo:"getSSORecoverInfo",requestChatFromAnotherSite:"requestChatFromAnotherSite",showInvitation:"showAutoInvitation"},io=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return Object.assign({type:no.uploadFileAction,action:t,file:e},i)},oo=function(t,e,n,i,o,a,r,s,c){return void 0===n&&(n=""),{type:no.newVisitor,campaignId:t,visitorId:e,visitorGuid:n||"",referrer:i,landingPage:o,timezone:a,screenResolution:r,ifSupportWebrtc:s,firstVisitTime:c.firstVisitTime||(new Date).getTime(),visitTimes:c.visitTimes||0,chatTimes:c.chatTimes||0,name:c.name||(c.form?c.form.name:""),email:c.email||(c.form?c.form.email:""),persistentVisitor:c.persistentVisitor||!1}},ao=function(t,e,n,i,o,a,r,s,c,d,l,u,p,h,f){return Object.assign({},oo(t,void 0,e,n,s,i,o,a,r),{status:c,ifSearchingKB:d,type:no.recoverVisitor,navigation:l},u,{ssoInfo:p,isChattingWithTaskbot:h,taskbotId:f})},ro=function(t,e){return{type:no.pageVisit,campaignId:t,page:e}},so=function(t,e){return{type:no.setCustomVariables,customVariables:t,campaignId:e}},co=function(t){return{type:no.checkIfOnline,campaignId:t}},lo=function(t){return{type:no.checkAutoInvitation,campaignId:t}},uo=function(t,e){return{type:no.confirmAutoInvitation,campaignId:t,invitationId:e}},po=function(t){return{type:no.checkManualInvitation,campaignId:t}},ho=function(t,e,n){return{type:e?no.refuseManualInvitation:no.refuseAutoInvitation,campaignId:t,invitationId:e?void 0:n}},fo=function(t,e){return void 0===e&&(e=!1),{type:no.getChatButton,campaignId:t,alreadyCampaignId:e}},go=function(t,e){return{type:no.submitSSOInfo,token:t,campaignId:e}},mo=function(t,e){return{type:no.submitPrechat,form:t,campaignId:e}},wo=function(t){return{type:no.checkManuallyInvited,chatGuid:t}},bo=function(t,e){return{type:no.getFileUploadToken,chatGuid:e,fileUploadSource:t?0:1}},vo=function(t,e){return{type:no.submitRating,chatGuid:t,rating:e}},_o=function(t){return{type:no.socialLogin,socialType:t.source,name:t.name,email:t.email,avatar:t.avatar,profileUrl:t.profile}},xo=function(t,e,n,i,o){return void 0===n&&(n=!1),{type:no.requestChat,campaignId:t,source:e,isPrechatDone:n,isSupportWebrtc:v,ticketId:i,departmentId:o}},yo=function(t){return{type:no.endChat,chatGuid:t}},So=function(t,e){return{type:no.getChatMessages,chatGuid:t,fromId:e}},Co=function(t){return{type:no.getChatQueue,chatGuid:t}},ko=function(t,e){return{type:no.agentMsgSeenByVisitor,chatGuid:t,msgGuid:e}},Io=function(t){return{type:no.visitorGetLatestMsgSeen,chatGuid:t}},Mo=function(t,e){return{type:no.sendChatMessages,chatGuid:t,messages:e}},Ao=function(){return{type:no.getDepartments}},Oo=function(){return{type:no.getAgents}},Bo=function(t){var e=t.filter((function(t){return!!t}));return 0===e.length?null:1===e.length?e[0]:{type:no.batchAction,actions:e}},To=function t(e,n){null!=n&&(n.type===no.batchAction?n.actions?n.actions.forEach((function(n){return t(e,n)})):n.payload&&n.payload.forEach((function(n){return t(e,n)})):e(n))},jo=function(t,e){var n=null;return To((function(t){t.type===e&&(n=t)}),t),n},Po=function t(e,n){if(null==n)return null;var i=e(n);if(i.type===no.batchAction){if(i.actions)return{type:i.type,actions:i.actions.map((function(n){return t(e,n)}))};if(i.payload)return{type:i.type,payload:i.payload.map((function(n){return t(e,n)}))}}return i},Fo=function(t){var e=t.visitorGuid,n=t.visitorId;return{type:no.checkBan,visitorGuid:n?void 0:e,visitorId:n}},No=function(){return{type:no.restoreChat}},Wo=function(){return{type:no.checkDynamicCampaign}},Vo=function(){return{type:no.getDynamicCampaign}},Do=function(){return{type:no.pageHeartbeat}},Ro=function(t){return{type:no.getChatWindowConfig,siteId:t}},Eo=function(){return{type:no.getSSORecoverInfo}},zo="name",Lo="email",Ho="phone",qo="company",Uo="product",Go="department",Ko="ticket",Yo="rating",Jo="comment",Qo="subject",Zo="content",Xo="attachment",$o="text",ta="textArea",ea="checkbox",na="checkBox",ia="checkboxList",oa="nps",aa="captcha",ra="singleSelect",sa="multipleSelect",ca="date",da="time",la="password",ua="decimal",pa="integer",ha="videoIncoming",fa="notStart",ga="videoRequesting",ma="videoChatting",wa="audioIncoming",ba="audioChatting",va="audioRequesting",_a="notStart",xa="screenSharingRequesting",ya="screenSharingIncoming",Sa="screenSharingProcessingAcceptedByVisitor",Ca="screenSharingProcessingAcceptedByAgent",ka="agentRequestVisitorScreenSharing";function Ia(t,e,n,i){this.message=t,this.expected=e,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Ia)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(Ia,Error),Ia.buildMessage=function(t,e){var n={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?a(t.parts[e][0])+"-"+a(t.parts[e][1]):a(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function i(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}return"Expected "+function(t){var e,i,o,a=new Array(t.length);for(e=0;e<t.length;e++)a[e]=(o=t[e],n[o.type](o));if(a.sort(),a.length>0){for(e=1,i=1;e<a.length;e++)a[e-1]!==a[e]&&(a[i]=a[e],i++);a.length=i}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."};var Ma={SyntaxError:Ia,parse:function(t,e){e=void 0!==e?e:{};var n,i={},o={All:j},a=j,r="[",s=M("[",!1),c=/^[^[]/,d=A(["["],!0,!1),l=function(t,e){return{label:t,url:e}},u="]",p=M("]",!1),h=function(t){return t.join("")},f="(",g=M("(",!1),m=")",w=M(")",!1),b=function(t){return t.join("")},v=/^[^[\]]/,_=A(["[","]"],!0,!1),x=/^[^)]/,y=A([")"],!0,!1),S=0,C=[{line:1,column:1}],k=0,I=[];if("startRule"in e){if(!(e.startRule in o))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=o[e.startRule]}function M(t,e){return{type:"literal",text:t,ignoreCase:e}}function A(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function O(e){var n,i=C[e];if(i)return i;for(n=e-1;!C[n];)n--;for(i={line:(i=C[n]).line,column:i.column};n<e;)10===t.charCodeAt(n)?(i.line++,i.column=1):i.column++,n++;return C[e]=i,i}function B(t,e){var n=O(t),i=O(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:i.line,column:i.column}}}function T(t){S<k||(S>k&&(k=S,I=[]),I.push(t))}function j(){var e,n,o;for(e=[],(n=F())===i&&(91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s)),n===i&&(n=S,n=(o=P())!==i?t.substring(n,S):o));n!==i;)e.push(n),(n=F())===i&&(91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s)),n===i&&(n=S,n=(o=P())!==i?t.substring(n,S):o));return e}function P(){var e,n;if(e=[],c.test(t.charAt(S))?(n=t.charAt(S),S++):(n=i,T(d)),n!==i)for(;n!==i;)e.push(n),c.test(t.charAt(S))?(n=t.charAt(S),S++):(n=i,T(d));else e=i;return e}function F(){var e,n,o;return e=S,n=function(){var e,n,o,a,c;e=S,91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s));if(n!==i){if(o=[],(a=W())===i&&(a=S,a=(c=N())!==i?t.substring(a,S):c),a!==i)for(;a!==i;)o.push(a),(a=W())===i&&(a=S,a=(c=N())!==i?t.substring(a,S):c);else o=i;o!==i?(93===t.charCodeAt(S)?(a=u,S++):(a=i,T(p)),a!==i?e=n=h(o):(S=e,e=i)):(S=e,e=i)}else S=e,e=i;return e}(),n!==i?(o=function(){var e,n,o,a;e=S,40===t.charCodeAt(S)?(n=f,S++):(n=i,T(g));if(n!==i){if(o=[],(a=V())!==i)for(;a!==i;)o.push(a),a=V();else o=i;o!==i?(41===t.charCodeAt(S)?(a=m,S++):(a=i,T(w)),a!==i?e=n=b(o):(S=e,e=i)):(S=e,e=i)}else S=e,e=i;return e}(),o!==i?e=n=l(n,o):(S=e,e=i)):(S=e,e=i),e}function N(){var e,n,o,a;if(e=S,91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s)),n!==i){for(o=[],(a=W())===i&&(a=N());a!==i;)o.push(a),(a=W())===i&&(a=N());o!==i?(93===t.charCodeAt(S)?(a=u,S++):(a=i,T(p)),a!==i?e=n=[n,o,a]:(S=e,e=i)):(S=e,e=i)}else S=e,e=i;return e}function W(){var e;return v.test(t.charAt(S))?(e=t.charAt(S),S++):(e=i,T(_)),e}function V(){var e;return x.test(t.charAt(S))?(e=t.charAt(S),S++):(e=i,T(y)),e}if((n=a())!==i&&S===t.length)return n;throw n!==i&&S<t.length&&T({type:"end"}),function(t,e,n){return new Ia(Ia.buildMessage(t,e),t,e,n)}(I,k<t.length?t.charAt(k):null,k<t.length?B(k,k+1):B(k,k))}},Aa=["type","content","translated","originalMessage"],Oa=function(t,n){return t.map((function(t){var i=t.type;t.content;var o=t.translated,a=t.originalMessage,r=j(t,Aa);return!n||i!==Pe&&i!==Se&&i!==ze&&i!==je&&i!==Fn&&i!==Nn?Object.assign({},r,{type:i,translated:o,originalMessage:a}):Object.assign({type:i},r,{translated:e.Base64.encode(o),originalMessage:e.Base64.encode(a),encoding:n})}))},Ba=function(t,e){var n="/chatwindow.aspx?siteId="+t+"&planId="+e;return B.version&&(n+="&version="+B.version),n},Ta=function(t){return t?Object.keys(t).reduce((function(e,n){try{var i=B.call(t[n]);if(void 0===i)return e;var o=e;return o[n]=null===i?i:i.toString(),o}catch(t){return e}}),{}):null},ja=function(){return(new Date).getTimezoneOffset()},Pa=function(){return screen.width+"x"+screen.height},Fa=/(?:www\.|(?:https?|ftp|news|rtsp|mms):\/\/)[\w$%][\w_!~*'();?:@&=+$,%#-./]*[\w_!~*'();?:@&=+$%#-]\/?/gi,Na=/(?:\+ ?)?\(?\d(?:[()]?[-]?[()]?\d){4,19}/;function Wa(t){for(var e=t,n=Na.exec(e),i=[],o=[];n&&e;){var a=n.index,r=n[0],s=e.substr(0,a);e=e.substr(a+r.length);var c=r.match(/\(/g),d=c?c.length:0,l=r.match(/\)/g),u=d===(l?l.length:0);if(u)if(s.length>0){var p=s[s.length-1];u=/[^a-zA-Z0-9!@#$%^&*~]/.test(p)}else if(i.length>o.length){var h=i[i.length-1],f=h[h-1];u=/[^a-zA-Z0-9!@#$%^&*~]/.test(f)}else i.length>0&&(u=!1,s=o.pop()+s);if(u&&(u=!/^\d/.test(e||"")),u)i.length>o.length?i[i.length-1]+=s:i.push(s),o.push(r);else{var g=s+r;i.length>o.length?i[i.length-1]+=g:i.push(g)}n=Na.exec(e)}return e?i.length===o.length?i.push(e):i[i.length-1]+=e:i.length===o.length&&i.push(""),[i,o]}function Va(t,e,n,i){var o,a;if(e instanceof RegExp)o=t.split(e),a=t.match(e);else{var r=e(t);o=r[0],a=r[1]}for(var s=new Array(2*o.length-1),c=0;c<o.length;c+=1)s[2*c]=i(o[c]),c!==o.length-1&&(s[2*c+1]=n(a[c],c,a));return s}var Da=function(t){for(var e=Ma.parse(t),n=[],i=0;i<e.length;i++){var o=e[i];"string"!=typeof o||"string"!=typeof n[n.length-1]?"string"==typeof o?n.push(o):n.push({label:o.label,url:o.url.trim()}):n[n.length-1]+=o}return n};var Ra,Ea=/^[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$/,za=function(t){return Ea.test(t)},La=/^\d+$/,Ha=function(t){return La.test(t)},qa=function(){return/ipad/i.test(T)?we:/mobile|android/i.test(T)?me:ge},Ua=function(){var t=qa();return t===me||t===we},Ga=function(t){return t.replace(/[\s|\d]{10,}/g,(function(t){return function(t){var e="^(?:"+["3[4|7]\\d{2}\\s{0,1}\\d{6}\\s{0,1}\\d{1}","3[0|6|8|9]\\d{3}\\s{0,1}\\d{4}\\s{0,1}\\d{1}","(?:6011\\s{0,1}\\d{4}\\s{0,1}|65\\d{2}\\s{0,1}\\d{4}\\s{0,1}|622(?:(?:1\\s{0,1}2[6-9]|1\\s{0,1}[3-9]\\d|[2-8]\\d{2})\\d{2}\\s{0,1}|9\\s{0,1}2[0-5]\\d{2}\\s{0,1}|9\\s{0,1}[0-1]\\d{3}))\\d{4}\\s{0,1}","(?:2014|2149)\\s{0,1}\\d{7}\\s{0,1}","(?:(?:3088|3096|3112|3158|3337)\\s{0,1}\\d{4}\\s{0,1}|35(?:2[89]\\s{0,1}\\d{4}\\s{0,1}|[3-8]\\d\\s{0,1}\\d{4}\\s{0,1}))\\d{4}\\s{0,1}","5[1-5]\\d{2}\\s{0,1}\\d{4}\\s{0,1}\\d{4}\\s{0,1}","2(22[1-9]|2[3-9][0-9]|[3-6]\\d{2}|7[0|1][0-9]|720)\\d{8}","4\\d{8,14}","5019\\d{8}","(5[0|6-9]|6[0-9])\\d{6,13}","31\\d{13}","62|81\\d{10,13}","220[0-4]\\d{8}","9792[0-8][0-9]\\d{6}"].join("|")+")(\\d{4})(?!\\d)",n=new RegExp(e,"g");if(t.replace(/\s/g,"").match(n)){for(var i=t.length-4,o="",a=0;a<t.length;a+=1)o+="*";return o+t.substring(i)}return t}(t)}))},Ka=function(t){var e=t;e.left="50%",e.top="50%",e.transform="translate(-50%, -50%)"},Ya=function(t){var e=t;e.left="50%",e.transform="translateX(-50%)"},Ja=function(t){var e=t;e.top="50%",e.transform="translateY(-50%)"},Qa=function(t){return void 0!==t.px?t.px:t.percent+"%"},Za=function(t,e){var n=t.xoffset,i=t.yoffset,o={position:"fixed",zIndex:e};return t.type===de&&(o.bottom=Qa(i),Ya(o)),"topMiddle"===t.type&&(o.top=Qa(i),Ya(o)),"leftMiddle"===t.type&&(o.left=Qa(n),Ja(o)),"rightMiddle"===t.type&&(o.right=Qa(n),Ja(o)),"topLeft"===t.type&&(o.left=Qa(n),o.top=Qa(i)),"topRight"===t.type&&(o.right=Qa(n),o.top=Qa(i)),"bottomLeft"===t.type&&(o.left=Qa(n),o.bottom=Qa(i)),t.type===le&&(o.right=Qa(n),o.bottom=Qa(i)),t.type!==ce&&t.type!==ue||Ka(o),"leftBottom"===t.type&&(o.bottom="5%",o.left=0,o.transform="translateY(5%)"),"rightBottom"===t.type&&(o.bottom="5%",o.right=0,o.transform="translateY(5%)"),o},Xa=function(t,e){if(!e)return t;var n=function(t,e,n){return t.replace(new RegExp(e,"g"),n)},i=t;i=n(i,"#000001",e);var o=k(e,.2),a=I(e,.9),r=S(e)?"#000000":"#ffffff",s=S(e)?"#323dbf":"#ffffff",c=S(e)?"rgba(60,60,60,0.6)":"rgba(255,255,255,0.6)",d=S(o)?"#3c3c3c":"#ffffff",l=S(o)?"rgba(60,60,60,0.6)":"rgba(255,255,255,0.6)",u=M(e),p=u.buttonColor,h=u.buttonTextColor,f=u.buttonIconColor,g=u.buttonHoverColor,m=A(e),w=function(t){var e=_(t),n=e[0],i=e[1],o=e[2],a=x(n,i,o),r=a[0],s=a[1],c=a[2],d=s,l=c,u=s,p=c;s>=0&&s<=.04?l=c<=.4?c:.4:s<=.6?(d=.6,l=c<=.45?c:.45):l=c<=.45?c:.45,p=l<=.2?l+.1:l-.1;var h=y(r,d,l),f=h[0],g=h[1],m=h[2],w=y(r,u,p);return{iconColor:"rgb("+f+","+g+","+m+")",iconHoverColor:"rgb("+w[0]+","+w[1]+","+w[2]+")",iconBgColor:"rgba("+f+","+g+","+m+", 0.06)"}}(e),b=w.iconColor,v=w.iconHoverColor,C=w.iconBgColor,B=O(e);return i=n(i,"#000002",o),i=n(i,"#000006",a),i=n(i,"#000003",g),i=n(i,"#000004",r),i=n(i,"#000005",d),i=n(i,"#000007",c),i=n(i,"#000008",l),i=n(i,"#000009",s),i=n(i,"#00000a",p),i=n(i,"#00000b",m),i=n(i,"#00000c",b),i=n(i,"#00000d",B),i=n(i,"#00000e",h),i=n(i,"#00000f",f),i=n(i,"#000010",v),i=n(i,"#000012",C)},$a=function(t){if(Ra)return Ra;var e=".mediaChatWindow.mediaChatWindow--videoIncoming,.mediaChatWindow.mediaChatWindow--videoRequesting,.mediaChatWindow.mediaChatWindow--audioChatting,.mediaChatWindow.mediaChatWindow--audioIncoming,.mediaChatWindow.mediaChatWindow--audioRequesting {background-image:url('"+t("/visitorside/images/multimedia-backgroud.png")+"');background-repeat:no-repeat;background-size:cover;}",n=[{family:"",filename:"regular"},{family:" Italic",filename:"it"},{family:" Bold",filename:"semibold"},{family:" Light",filename:"light"}].map((function(e){var n=e.family,i=e.filename;return'@font-face {font-family: "SourceSans Pro'+n+'";src: url('+t("/visitorside/fonts/sourcesanspro-"+i+".woff")+") format('woff'),url("+t("/visitorside/fonts/sourcesanspro-"+i+".ttf")+") format('truetype'),url("+t("/visitorside/fonts/sourcesanspro-"+i+".svg#SourceSans-Pro-"+i)+") format('svg')}"})).join("")+'@font-face{font-family:icons;src:url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.eot?#iefix) format("embedded-opentype"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.woff) format("woff"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.ttf) format("truetype"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.svg#icons) format("svg")}.icon{font-family:icons!important;font-style:normal;font-weight:400!important;display:inline-block;vertical-align:baseline;text-align:center;text-transform:none;text-rendering:auto;line-height:1;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-bot-active:before{content:"\\f101"}.icon-bot:before{content:"\\f102"}.icon-bubble-line:before{content:"\\f103"}.icon-bubble-line1:before{content:"\\f104"}.icon-bubble:before{content:"\\f105"}.icon-close:before{content:"\\f106"}.icon-coBrowsing-active:before{content:"\\f107"}.icon-coBrowsing:before{content:"\\f108"}.icon-drag:before{content:"\\f109"}.icon-embedded:before{content:"\\f10a"}.icon-facebook:before{content:"\\f10b"}.icon-googleplus:before{content:"\\f10c"}.icon-helpful:before{content:"\\f10d"}.icon-input-send:before{content:"\\f10e"}.icon-kb-active:before{content:"\\f10f"}.icon-kb-search:before{content:"\\f110"}.icon-kb:before{content:"\\f111"}.icon-kbSearch-active:before{content:"\\f112"}.icon-kbSearch:before{content:"\\f113"}.icon-media-active:before{content:"\\f114"}.icon-media:before{content:"\\f115"}.icon-minimize:before{content:"\\f116"}.icon-not-helpful:before{content:"\\f117"}.icon-plus:before{content:"\\f118"}.icon-popup:before{content:"\\f119"}.icon-rating-full:before{content:"\\f11a"}.icon-rating-half:before{content:"\\f11b"}.icon-sendfile:before{content:"\\f11c"}.icon-video:before{content:"\\f11d"}.icon-voice-active:before{content:"\\f11e"}.icon-voice:before{content:"\\f11f"}'.replace(/[{]FONT_URL_PREFIX[}]/g,t("/visitorside/fonts"))+e;return Ra=n,n},tr=t(1)((function(t){return S(t)?"black":"white"})),er=function(t){var e=t;return Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].join(Xi))})),e},nr=function(t){var e=Object.assign({},t);return er(e),"ticketId"in e&&(e.ticketId=""===e.ticketId||Number.isNaN(+e.ticketId)?void 0:e.ticketId),"department"in e&&(e.department=""!==e.department?e.department:Zi),e.custom&&(e.custom=Object.assign({},e.custom),er(e.custom)),e},ir=function(t){return i("a",{href:"tel:"+("+"===t[0]?"":"+")+t,target:"_blank",rel:"noopener noreferrer"},t)},or=function(t,e){if("string"!=typeof t)return t;var o=n.parse(t,{buildUrl:function(t){return e+"/svg/"+t+".svg"}}).filter((function(t){return!!t.url}));if(0===o.length)return t;for(var a=[],r=0,s=0;s<o.length;){var c=o[s],d=c.indices,l=c.url,u=c.text;a.push(t.substring(r,d[0])),a.push(i("img",{alt:u,src:l,className:"emoji-char"})),r=d[1],s++}return a.push(t.substring(r)),a.filter((function(t){return!!t})).length===o.length?a.filter((function(t){return!!t})).map((function(t){return t.props.class="emoji-char-large",t})):a.filter((function(t){return!!t}))},ar=function(t,e,n,o,a,r,s){return Va(t,/\r\n|\r|\n/g,(function(){return e}),(function(t){return e=function(t,e){return function(t,e,n,o,a){if(n&&o&&new RegExp("/kb/[\\d]+/(.*)/(.*)","i").test(t)&&t.match(/\/kb\/([\d]+)\/(.*)\/(.*)\/?/i)[1]===""+a){var r=t.match(/\/kb\/[\d]+\/(.*)\/(.*)\/?/i)[1];return i("a",{rel:"noopener noreferrer",href:"",onClick:function(e){e.preventDefault(),o(r,t)}},e)}var s=t;return/^https:\/\/|http:\/\/|ftp:\/\//i.test(t)||(s="http://"+t),i("a",{href:s,target:"_blank",rel:"noopener noreferrer"},e)}(t,or(e,s+"/twemoji"),n,o,a)},c=r?ir:function(t){return t},Da(t).map((function(t){return"string"==typeof t?Va(t,Fa,(function(t){return e(t,t)}),(function(t){return Va(t,Wa,c,(function(t){return t}))})).reduce((function(t,e){return t.concat(e)}),[]):[e(t.url,t.label)]})).reduce((function(t,e){return t.concat(e)}),[]);var e,c})).reduce((function(t,e){return e.map?t.concat(e.map((function(t){return or(t,s+"/twemoji")})).flat()):t.concat(e)}),[])},rr=[Pe,Fe,De,Ln,qe,Ue,Ee,Ne,We,_e,Ve,"agentPromoteToUser","agentPromoteToContact",Le,He,"agentRefuseTransfer",xe,Je,Qe,Ze,Xe,$e,rn,sn,bn,vn,_n,xn,yn,Sn,Cn,kn,In,Mn,tn,en,nn,on,an,An,On,Ke,Ye,Rn,qn,Un,cn,dn,un,hn,pn,mn,Yi,Nn,Fn,Pn,Tn,yi,Si,Ci,ki,Ii,Wi,zi,Mi,Ai,Oi,Bi,Fi,Ni,Ti,ji,Pi],sr=function(t){return rr.indexOf(t.type)>=0},cr=function(){return void 0===window.File},dr=[Ee,Ye,Se,Pe,Fe,ri,ze,je,si,Ue,qe,ke,Ie,Ge,Ce,ve,ye,zn,Rn,Hn,En,Vn,Xn,$n,ti,Ke,Bn,ni,ii,oi,qn,Un,Kn,Yn,Jn,Gn,be,Tn,Fn,Nn,Li,Hi,qi,Ui,Gi,Ki,Wn],lr=function(t){return v&&(t===On||t===sn||t===An||t===rn||t===kn||t===Cn||t===In||t===Mn||t===_n||t===vn||t===xn||t===yn||t===nn||t===en||t===on||t===an||t===Ze||t===Qe||t===Xe||t===$e)},ur=function(t){return v&&(t===zi||t===Wi||t===Oi||t===Ai||t===Bi||t===Fi||t===Ni||t===Pi||t===Ti||t===Ci||t===Si||t===ki||t===Ii)},pr=function(t){return dr.indexOf(t.type)<0};function hr(t){return t.type===Xn||t.type===ti||t.type===$n||t.type===Se||t.type===ke||t.type===Ie||t.type===Kn||t.type===Gn}function fr(t){return t.type===Pe||t.type===Fe||t.type===ri||t.type===Ee||t.type===qe||t.type===Ue||t.type===Ge||t.type===Ye||t.type===Tn||t.type===Nn||t.type===Fn}function gr(t){return t.type===Vn||t.type===zn||t.type===Rn||t.type===En||t.type===qn||t.type===Un||t.type===Hn||t.type===Yn||t.type===Jn}var mr=[Ki];function wr(t){return mr.includes(t.type)}var br=function(t){var e=t.type;return e===qi||e===Ui};var vr=function(t,e){return[$a(e),Xa('.emoji{position:absolute;left:0;bottom:0;box-shadow:var(--shadow2-color);border-radius:4px;overflow:hidden;background-color:var(--whitePopup-color);--scrollbar-width:8px;--emoji-width:32px;--emoji-height:32px;--emoji-list-padding:12px;--emoji-category-title-height:22px;--emoji-font-size:22px;--emoji-column-count:8;--emoji-row-count:8;--emoji-list-width:var(--emoji-width) * var(--emoji-column-count) + var(--emoji-list-padding) * 2;--emoji-list-height:var(--emoji-height) * var(--emoji-row-count) + var(--emoji-category-title-height);--black-color:#000000;--white-color:#FFFFFF;--whiteFixed-color:#FFFFFF;--whiteFixed8-color:rgba(255, 255, 255, 0.08);--whiteFixed12-color:rgba(255, 255, 255, 0.12);--whitePopup-color:#FFFFFF;--blackLight-color:rgba(33, 33, 33, 0.2);--blackMid-color:#999999;--blackDark-color:#595959;--blackFixed-color:#212121;--blackToast-color:rgba(33, 33, 33, 0.8);--grey8-color:rgba(114, 114, 114, 0.08);--greyN2bg-color:#FCFCFC;--greyBackground-color:#F0F0F0;--greyMenu-color:#F0F0F0;--shadow1-color:0px 1px 6px 0px rgba(0, 0, 0, 0.2);--shadow2-color:0px 2px 6px 0px rgba(0, 0, 0, 0.08);--shadow3-color:1px 2px 12px 0px rgba(0, 0, 0, 0.16);--greyScrollbar-color:#BCBBBA;--greyScrollbarHover-color:#A1A1A1;--greyToast-color:#D3D3D3;--tableTitle-color:#EDEDED;--bubbleBackground-color:#FFFFFF;--replyBackground-color:#F0F0F0;display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column}.emoji__scroll-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:var(--emoji-list-padding);width:calc(var(--emoji-list-width));height:calc(var(--emoji-list-height))}.emoji__cell{font-family:var(--emoji-font);font-size:var(--emoji-font-size);width:var(--emoji-width);height:var(--emoji-height);line-height:1;-ms-flex-preferred-size:var(--emoji-width);flex-basis:var(--emoji-width);display:-ms-flexbox;display:flex;-ms-flex:none;flex:none;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;outline:0;border-radius:4px;padding:4px}.emoji__cell img{width:100%;height:100%}.emoji__cell.emoji__cell--selected,.emoji__cell:focus,.emoji__cell:hover{outline:0;background-color:rgba(114,114,114,.08);text-decoration:none}.window__chat{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;overflow:overlay;overflow-x:hidden!important;-webkit-overflow-scrolling:touch;width:100%;padding:18px 27px 0;margin-bottom:0}.chat__greetingContainer .window__chatSystemMessage,.chat__greetingContainer .window__formGreeting{margin-bottom:0;color:#666}.chat__greetingContainer .window__chatSystemMessage a[href],.chat__greetingContainer .window__formGreeting a[href]{color:#00000a;border-bottom:1px solid #00000a!important}.window--mobile .window--bubble .chat__greetingContainer{margin-bottom:16px}.window__chat--animation{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window__chat--animation{animation:none}.window__chatSystemMessage{color:#626262;font-size:14px;text-align:center;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);word-wrap:break-word}.window--bubble .window__chat .window__chatSystemMessageContent{display:inline-block;background:#f8f8f8;line-height:1.57;padding:8px 14px;border-radius:5px;max-width:240px}.window__chatSystemMessage a,.window__chatSystemMessage a[href]{color:#00000c;border-bottom:1px solid #00000c}.window__chatSystemMessage a:hover,.window__chatSystemMessage a[href]:hover{color:#000010;border-bottom:1px solid #000010}.window__chatSystemMessage svg{fill:#00000c;position:relative;top:6px;right:3px}.window__chatSystemMessage svg:hover{fill:#000010}.window__chatAgent,.window__chatVisitor{display:-ms-flexbox;display:flex;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);position:relative}.window__chat>div>div+div>.chat-message-time,.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window__chat>div{padding-bottom:16px}.window__chat>div>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div+div{margin-top:16px}.window__chat>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--ie .window__chatAgent,.window--ie .window__chatSystemMessage,.window--ie .window__chatVisitor{animation:none}.window__chatVisitor{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.agentMessage__avatar{margin-right:15px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-negative:0;flex-shrink:0}.agentMessage__avatarImg{display:block;width:30px;height:30px;border-radius:100%;margin-bottom:15px}.agentMessage__pci{background:#f0f0f0;border:1px solid #ddd;border-radius:4px;padding:23px 20px 12px}.agentMessage__pciField{margin-bottom:7px;color:#888}.agentMessage__pciControl{margin-bottom:12px}.agentMessage__pciControl .form__input{height:30px;line-height:30px;width:calc(100% - 20px)}.window__chatAgentMessage p{margin:0}.window--circular .window__chatAgentMessage,.window--circular .window__chatVisitorMessage{border-radius:20px}.window__chatAgentMessage,.window__chatVisitorMessage{position:relative;font-size:.93333333rem;line-height:1.57;padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5}.window__chatAgentMessage_container{max-width:640px}.window__chatAgentMessage_container .chat-message-extra-info{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:4px}.window__chatAgentMessage_container .chat-message-extra-info>.chat-message-time{margin-left:8px}.window__chatAgentMessage_container .window__chatAgentMessage{max-width:100%;display:inline-block;border-top-left-radius:0;border-bottom-left-radius:5px}.window--mobile .window__chatAgentMessage{border:1px solid #f5f5f5}.window__formMessageContainer{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.window__formMessage{padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5;width:100%;max-width:600px}.window__formMessage .window__formGreeting{text-align:left;color:#000}.window--ie .window__chatVisitorMessage{margin-left:auto}.window__chatAgentMessage{border-top-left-radius:0}.window__chatVisitorMessage{background-color:#000001;color:#000;border-top-right-radius:0;margin-left:67px;max-width:640px}@keyframes bounceOut{20%{width:5px;height:5px;border-radius:5px;opacity:1}50%,55%{width:8px;height:8px;border-radius:8px;opacity:1}to{width:2px;height:2px;border-radius:2px;opacity:0}}.dot_container{width:20px;height:20px;position:absolute;left:-20px;bottom:19px}.message--notSeen,.message--seen{display:inline-block;background:#00000c;width:6px;height:6px;border-radius:6px;position:relative;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);fill:#00000c}.message--seen{animation:bounceOut .5s linear forwards}.window--rtl .dot_container{left:-35px}.window--ie9 .message--seen{display:none}.file__icon--cancel{float:right}.file__icon--cancel svg{width:12px;height:12px;fill:#00000c}.file__icon--cancel svg:hover{fill:#000010}.window__chatMessageOrignal{display:block;opacity:.85}.window__chatMessageTranslatedTag{display:inline}.window__chatAgentMessage img:not(.emoji-char){display:inline-block}img.emoji-char{height:1.2em;width:1.2em;margin:0 .05em 0 .1em;vertical-align:-.2em}img.emoji-char-large{height:2em;width:2em;margin:0 .05em 0 .1em;vertical-align:-.2em}.invitation__message img.emoji-char-large,.window__chatMessageOrignal img.emoji-char-large{height:1.2em;width:1.2em;margin:0 .1em;vertical-align:-.2em}.window__chatAgentMessage .chatMessage__questionList li{color:#323dbf;line-height:1;margin-bottom:10px}.window__chatAgentMessage .chatMessage__questionList li span{margin-right:5px;display:inline-block;-ms-flex-negative:0;flex-shrink:0}.window__chatAgentMessage .chatMessage__questionList li:last-child{margin-bottom:0}.window__chatAgentMessage .chatMessage__questionList li a[href]{border-bottom-color:transparent}.window__chatAgentMessage .chatMessage__questionList li a[href]:active,.window__chatAgentMessage .chatMessage__questionList li a[href]:focus,.window__chatAgentMessage .chatMessage__questionList li a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.window__chatAgentMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatAgentMessage a[href]:active,.window__chatAgentMessage a[href]:focus,.window__chatAgentMessage a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.chat-message--img a,.chat-message--video video{min-width:60px!important;min-height:60px!important;border-bottom:none!important;overflow:hidden}.chat-message--img a{max-width:200px!important;max-height:200px!important;display:block}.chat-message--video video{max-width:250px!important;max-height:250px!important}.chat-message--img .image-container{margin:0 auto;height:100%}.chat-message--img img,.chat-message--video video{display:block;margin:0 auto;border:none}.window__chatVisitorMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatVisitorMessage a[href]:hover{border-bottom-color:#323dbf}.window__chatAgentMessage a,.window__chatVisitorMessage a{max-width:100%}.window__chatVisitorMessage button{border:none;background:0 0;margin:5px 0 0 9px;cursor:pointer}@keyframes message--show{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}.chat-time{opacity:0;color:#fff;font-size:.8rem;background:rgba(0,0,0,.6);padding:0 5px;line-height:17px;height:17px;border-radius:8px;transition:opacity 50ms linear;position:absolute;z-index:1}.chat-message-time{font-size:12px;font-family:"SourceSans Pro",Arial;color:#626262}.window__chatAgentName,.window__chatVisitorName{font-size:12px;font-family:"SourceSans Pro",Arial;color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--classic .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.chat-message--img,.window__chatAgentMessage.chat-message--video,.window__chatVisitorMessage.chat-message--video{padding:0}.window__chatAgentMessage{background:#fff;color:#000}.window__chatAgentMessage--file .icon-sendfile,.window__chatVisitorMessage--file .icon-sendfile{position:relative;top:3px;margin-right:5px;font-size:15px;color:#00000c}.window__chatAgentMessage--file a[href],.window__chatVisitorMessage--file a[href]{border:none}.kbsearch__container .window_chatError,.window--mobile .kbsearch__container .window_chatError,.window--mobile .window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 88px)}.window_chatError{position:absolute;z-index:99;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%);padding:10px 47px 10px 18px;box-shadow:0 0 5px rgba(0,0,0,.1);font-size:.8rem;line-height:1.17;text-align:left;bottom:0;width:calc(100% - 54px);border-radius:5px}.form-bottom .window_chatError{width:100%}.window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 38px)}.window--circular .window_chatError{border-radius:20px}.chatError__container{position:absolute;top:-20px;width:100%}.window_chatErrorClose{position:absolute;right:15px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);line-height:12px;cursor:pointer;background:0 0;border:none}.window_chatErrorClose svg{width:12px;height:12px}.window_chatError--urgency .window_chatErrorClose svg{fill:#BF0007}.window_chatError--mitigate .window_chatErrorClose svg{fill:#A05700}.window_chatError i{vertical-align:bottom}.window_chatError--mitigate{background:#fff6eb;border:1px solid #fff6eb;color:#A05700}.window_chatError--urgency{background:#fff2f2;border:1px solid #ffd6d8;color:#BF0007}.window--bubble .window__chatAgentMessage--file,.window--circle .window__chatAgentMessage--file::before{color:#000004}.window--circle .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window__chat>div{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--bubble .window__chatAgent{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.window--bubble .window__chatVisitor{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.window--bubble .chat-time{font-size:.8rem;padding:0 5px;top:0}.window--bubble .icon-bubble-line{position:absolute;width:10px;bottom:-1px}.window--bubble .icon-bubble-line .svgPath{width:auto;height:auto}.window--bubble .window__chatVisitorMessage{max-width:calc(100% - 50px)}.window__chatVisitorMessage .chat-message--loading{position:absolute;left:-30px;top:50%;margin-top:-11px}.window--bubble .window__chat{padding:30px 15px 0 27px;margin-bottom:0;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.window--bubble .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window--bubble__messageNoAvatar{margin-left:0;padding-left:15px;display:block}.chatMessage__questionList{margin-top:19px}.chatMessage__questionList li>a{display:inline}.chatMessage__questionList--disc{list-style-type:disc;padding-left:20px}.window__chatAgentMessage .chatMessage__questionList.chatMessage__questionList--disc li{display:list-item}.window__chatAgentMessage .btn{margin-top:16px}.chatMessage__chatBotRate__wrapper{position:absolute;right:-50px;bottom:0;width:40px}.chatMessage__chatBotRate{margin-left:10px;-ms-flex-item-align:end;align-self:flex-end}.chatMessage__chatBotRate>button{width:20px;height:20px;border-radius:20px;background-color:#fff;cursor:pointer;font-size:10px;border-width:0;display:block}.chatMessage__chatBotRate .icon{width:20px;line-height:20px;color:#626262}.chatMessage__chatBotRate>button:hover{background-color:#00000c}.chatMessage__chatBotRate>button:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover{background-color:#00000c;color:#fff;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover{background-color:#e8e8e8;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover .icon{color:#626262}.chatMessage__chatBotRate>button.chatMessage__chatBotRateLast{margin-top:5px}.window__chatWithAgent{z-index:9;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px;height:23px;text-align:center;padding-right:15px;padding-left:15px;background:0 0;border:none;cursor:pointer}.window__chatWithAgent--above:focus,.window__chatWithAgent--above:hover{border:1px solid #000003;color:#000003}.window__chatWithAgent--above{padding:4.5px;font-size:.8rem;line-height:1.25;height:27px;width:175px;border-radius:5px;border:1px solid #00000a;color:#00000a;background-color:#fff;position:absolute;top:-37px;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%)}.window--circular .window__chatWithAgent--above{border-radius:20px}.window__chatWithAgent--bottom:focus,.window__chatWithAgent--bottom:hover{color:#000003}.window__chatWithAgent--bottom{color:#00000a;font-size:.8rem;line-height:1.12;height:1rem;padding-left:12px;float:left}.window__chat .dot{position:relative;top:-3px}.window__chat .dot__element{display:inline-block;width:4px;height:4px;border-radius:100%;margin-right:5px;background:#000005;fill:#000005}@media screen and (-ms-high-contrast:active){.window__chat .dot__element{background:#fff;fill:#fff}}.window__chat .dot__element:last-child{margin-right:0}.animated-delayFrames7{animation-delay:292ms}.animated-delayFrames10{animation-delay:417ms}.animated-delayFrames13{animation-delay:542ms}.amimated-infinite{-webkit-animation-iteration-count:infinite}@keyframes dot__element--loadingAnimation{0%,100%,50%{transform:translateY(0)}25%{transform:translateY(-8px)}}.window__chat .dot__element--loadingAnimation{animation-name:dot__element--loadingAnimation;animation-duration:1s;animation-iteration-count:infinite}.window--ie .webView_background .webView_scroll_container,.window--ie .window__chat .dot__element--loadingAnimation{animation:none}.window--bubble .chat-message--imgLoading,.window--circle .chat-message--imgLoading,.window--classic .chat-message--imgLoading{width:62px;height:62px;text-align:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.chat-message__secure-form span{display:block;position:absolute;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%;left:50%}.postchatFormContainer{position:absolute;top:80px;bottom:30px;overflow:auto;overflow-x:hidden;padding:30px 50px;width:100%;-ms-transform:translateY(450px);transform:translateY(450px);opacity:0}.postchatFormContainer__greeting{margin-bottom:20px}.postchatFormContainer__submitContainer{text-align:center}@keyframes fadeInUp--windowFormContainer{0%{opacity:0;transform:translateY(375px)}100%{opacity:1;transform:translateY(0)}}.window__ssoLogin{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;-webkit-overflow-scrolling:touch;overflow-y:scroll}.window__ssoLogin iframe{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;background-color:#fff}.window--bubble .window__ssoLogin{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:1;flex-grow:1}.window--bubble .window__ssoLogin iframe{display:block;width:100%;height:100%;min-height:456px;background-color:#fff}.window_buttons_container .window_buttons_item{margin-top:12px;text-align:center;cursor:pointer}.window_buttons_container .window_buttons_item li{min-width:150px;margin-top:4px}.window_buttons_container .window_buttons_item button{border:none;border-radius:4px;background:#00000a;color:#00000e;cursor:pointer;padding:7px 10px;width:100%}.window_buttons_container .window_buttons_item--active button:hover{background:#000003!important;color:#00000e}.window_buttons_container .window_buttons_item--disable button{background-color:#e8e8e8!important;color:#626262!important;cursor:default}.webView_background{position:absolute;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);border-radius:5px 5px 0 0;z-index:1000}.webView_background .webView_scroll_container{width:100%;position:absolute;height:100%;bottom:0;max-height:100%;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.webView_background .webView_scroll_container--compact{max-height:300px}.webView_background .webView_scroll_container--full{max-height:530px}.webView_background .webView_scroll_container--tall{max-height:415px}.webView_background .webView--scroll{width:100%;position:relative;height:calc(100% - 40px);overflow:-moz-scrollbars-none;-ms-overflow-style:none}.webView_background .webView__title{width:100%;text-align:center;background-color:#fff;height:40px;border-bottom:1px solid #ddd;line-height:40px;border-radius:5px 5px 0 0}.webView_background .webView__title h1{font-weight:400;margin:0;width:200px;font-size:inherit;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.webView_background .webView__close{position:absolute;right:10px;cursor:pointer;z-index:9999;fill:#5d5d5d;background:0 0;border:none;padding:6px 16px 0;width:44px;height:40px;top:0}.webView_background .webView__close svg{width:13px;height:13px}.webView_background .webView{background:#fff}.webView_background .webView .box-field{margin-top:15px;padding:0 30px}.webView_background .webView__content{height:100%}.window--bubble .webView_scroll_container--compact{max-height:330px}.window--bubble .webView_scroll_container--full{max-height:560px}.window--bubble .webView_scroll_container--tall{max-height:445px}.window--bubble .webView_scroll_container{padding-top:30px}.window--bubble .webView__close{top:30px}.window_quick_reply_container_box{width:100%;display:-ms-flexbox;display:flex;padding:0 16px;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around}.window_quick_reply_container_box i{cursor:pointer}.window_quick_reply_container_box .window_quick_reply_buttons_item{width:auto;min-width:75px;background-color:#fff;color:#00000c;border:1px solid #00000c;cursor:pointer;height:25px;display:inline-block;padding:0;overflow:hidden;max-width:260px;line-height:25px;white-space:nowrap;margin-right:12px;border-radius:4px;margin-bottom:12px;text-overflow:ellipsis}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner{background-color:#000012;width:100%;height:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner>span{display:inline-block;padding:0 12px;font-weight:600;height:100%;width:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item:hover{background-color:#00000c;color:#fff}.window_quick_reply_container_box .window_quick_reply_buttons{width:100%;margin:0;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-align:center;align-items:center;padding-left:0;-ms-flex-line-pack:center;align-content:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:flex-start;display:-ms-flexbox;display:flex}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item>.window_quick_reply_buttons_item{margin:0}.window_quick_reply_container_box .window_quick_reply button:last-child{margin-right:0}.window_quick_reply_container_box .window_quick_reply_control+.window_quick_reply{width:calc(100% - 40px)}.botconfirm_list{padding:20px;min-width:190px}.botconfirm_list li{margin-bottom:10px}.botconfirm_list li p{margin:0}.botconfirm_list li p:first-child{color:#666;margin:0}.window__chatAgentMessage .window_botAnswer_richText a[href]{border-bottom:none}.window__chatAgentMessage .window_botAnswer_richText a[href]:hover{border-bottom:1px solid #323dbf}.window__chatAgentMessage .window_botAnswer_richText--disable a[href^="intent:"]{color:#888}.visually-hidden{position:absolute;left:-10000px;width:1px;height:1px}.visually-hidden:focus,.visually-hidden:hover{outline:0;border:none}.window__chatAgentMessage.bot_item_content.chat-message--img{padding:1px}.window__chatAgentMessage.bot_item_content.chat-message--img a{max-width:244px!important;min-height:10px!important}',t)].join("")},_r=function(t){var e=/[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}/gi.exec(t);return e?e[0]:t},xr=function(t){return t.filter((function(t){return"string"==typeof t.id})).reduce((function(t,e){var n,i=t;return e.type===zo?i.name=e.value:e.type===Lo?i.email=e.value:e.type===Ho?i.phone=e.value:e.type===qo?i.company=e.value:e.type===Uo?i.product=e.value:e.type===Go?i.department=e.value:e.type===Yo?i.rating=e.value:e.type===Jo?i.comment=e.value:e.type===Qo?i.subject=e.value:e.type===Zo?i.content=e.value:e.type===Xo?i.attachment=e.value:e.type===Ko?i.ticketId=e.value:e.type===aa?i.captcha=e.value:i.custom?i.custom[_r(e.id)]=e.value:i.custom=((n={})[_r(e.id)]=e.value,n),i}),{})},yr=t(1)((function(t){var e,n,i;if(null==t)return[];for(var o=[],a=((e={})[wa]=In,e[ba]=Mn,e[va]=Cn,e[ha]=on,e[ma]=an,e[ga]=en,e),r=((n={})[ya]=Bi,n[Ca]=Ti,n[xa]=Ai,n[Sa]=Ti,n[ka]=Fi,n),s=((i={})[Xn]=Se,i[ai]=Be,i[di]=Sn,i[ci]=tn,i[pi]=Ae,i[hi]=Oe,i[fi]=Te,i[gi]=dn,i[mi]=ln,i[wi]=un,i[bi]=fn,i[vi]=gn,i[_i]=hn,i[xi]=wn,i[Vi]=Mi,i),c=t.length-1;c>=0;c-=1){var d=t[c],l=void 0;if(d.type===li||d.type===ui){var u=d.content;d.type===li&&(l=u===wa?kn:nn),d.type===ui&&(l=a[u])}else if(d.type===Di||d.type===Ri||d.type===Ei){var p=d.content;d.type===Di&&(l=Oi),d.type===Ri&&(l=r[p]),d.type===Ei&&(l=Ni)}else l=s[d.type];l&&o.push({type:l,guid:d.guid,sender:d.sender,content:void 0===d.content?"":d.content,isPassword:d.isPassword,isCollect:d.isCollect,quickReplyNextActionId:d.quickReplyNextActionId||to})}return o.reverse()})),Sr=t(1)((function(t,e){if(null==e)return[];for(var n=[],i=e.length-1;i>=0;i-=1){var o=e[i];o.type===ti&&o.content.fileKey&&n.push({type:no.sendFile,chatGuid:t,fileName:o.content.fileName,fileKey:o.content.fileKey,isUseStandbyFileService:o.content.isUseStandbyFileService})}return n.reverse()})),Cr=function(t){return!/^\s*$/.test(t)},kr=function(t,e){return t/e>3.34?{height:"100%"}:t/e<.3?{width:"100%"}:t===e?{width:"100%",height:"100%"}:t>60&&e>60?t>e?{width:"100%"}:{height:"100%"}:t>e?{height:60}:t<e?{width:"100%"}:{width:"100%",height:"100%"}},Ir=function(t,e){return t/e>3.34?{width:200,height:60}:t/e<.3?{width:60,height:200}:t>=200&&t>e?{width:200}:e>=200&&e>t?{height:200}:null},Mr=function(t,e,n,i){return e?t+"?maxWidth=200&maxHeight=200":n/i>3.34?t+"?maxHeight=60":n/i<.3?t+"?maxWidth=60":t+"?maxWidth=200&maxHeight=200"},Ar=t(1)((function(t,e,n){return C(n,"guid",t)>C(n,"guid",e)})),Or=t(1)((function(t,e){var n=t.filter((function(t){return t.guid===e}));if(n.length>0){var i=n[0];return i.type===Pe||i.type===Fe||i.type===qe||i.type===Ue||i.type===Ge||i.type===Tn||i.type===Fn||i.type===Nn}return!1})),Br=t(1)((function(t,e){for(var n=t.length-1;n>=0;n-=1){var i=t[n];if(i.guid===e)return e;if(i.type===Pe||i.type===Fe||i.type===qe||i.type===Ue||i.type===Ge||i.type===Tn||i.type===Nn||i.type===Fn)return i.guid}return e})),Tr=[Xn,$n,ti,ei,ni,ii,"postChatSuccess",oi,ai,ri,si,ci,di,li,ui,pi,hi,fi,gi,mi,wi,bi,vi,_i,xi,jn,Vi,Di,Ri,Ei],jr=function(t){return 0===t.type.indexOf("image")},Pr=function(t){return new Promise((function(e,n){var i=new FileReader;i.onload=function(){e(i.result,t)},i.onerror=n,i.readAsDataURL(t)}))},Fr=function(t,e,n){if(!e)return t;if(Nr(t)===Nr(n))return t;var i=null;try{i=t.split(/fileservice\/v1\/files\//i)[1]}catch(t){}return i?e+"/files/"+i:t},Nr=function(t){var e=t.match(/^https?:\/\/([^\/]+)/);if(e&&e[1])return e[1]},Wr=function(t,e){return e?t.replace(/^https:\/\/[\w.-]+/,e):t};var Vr=B.site_id,Dr=function(t){return/^\d+$/.test(t)?+t:void 0}(B.chatGroup),Rr=function(){return Array.prototype.map.call(B.chat_buttons,(function(t){return t.code_plan||t.id})).filter((function(t){return t}))},Er=function(t,e){var n=Array.prototype.find.call(B.chat_buttons,(function(n){return!n.code_plan||e>0&&n.code_plan.toString()===e.toString()||("number"==typeof n.code_plan?n.code_plan===t:n.code_plan.toLowerCase()===t)}));if(n)return n.div_id;if(B.dynamic){var i=Array.prototype.find.call(B.chat_buttons,(function(t){return null==t.code_plan}));return i&&i.div_id}},zr=B.openType,Lr=B.onReady;var Hr,qr,Ur,Gr,Kr,Yr=B.main_code_plan,Jr=0,Qr=function(t){function e(){Hr===qr&&(Hr=Hr.slice())}function n(t){if("function"!=typeof t)throw new Error("Invalid listeners, expected a function.");var n=!0;return e(),Hr.push(t),function(){n&&(e(),Hr.splice(Hr.indexOf(t),1),n=!1)}}function i(){Jr>0||(qr=Hr,Hr.forEach((function(t){return t()})))}return qr=Hr=[],function(e,o,a){var r,s=t(e,o,a),c=(r=s.dispatch,function(t){if(!t||!t.type||"@@redux/batch"!==t.type)return r(t);var e=[].concat(t.payload);return Jr+=e.length,e.reduce((function(t,e){Jr-=1;try{return r(e)}catch(t){throw t}}),null)});return s.subscribe(i),Object.assign({},s,{dispatch:c,subscribe:n})}},Zr="config/updateConfig",Xr="config/setMaxMessageLength",$r="config/updateServerInstanceTag",ts="page/setButtonIsOnline",es="page/updateVisitor",ns="page/resetVisitor",is="page/showInvitation",os="papge/showInvitationProcessing",as="addVisitorNavigation",rs="emptyVisitorNavigation",ss="page/setIsSubmitSSO",cs="page/setSSOArtifact",ds="page/setSSOJwt",ls="chatWindow/open",us="chatWindow/popOut",ps="chatWindow/popIn",hs="chatWindow/showTab",fs="chatWindow/chatInputWarning",gs="chatWindow/restrictedWordsError",ms="chatWindow/update-position",ws="chatWindow/toggle-toolbox",bs="chatWindow/reset",vs="chatWindow/restoreCrossSiteChat",_s="entities/updateCampaign",xs="entities/updateButton",ys="entities/button/visible",Ss="entities/updateAgent",Cs="entities/updateFields",ks="entities/updateDepartment",Is="footer/chatToolRating",Ms="footer/chatToolAudio",As="footer/chatToolVideo",Os="footer/chatToolScreenSharing",Bs="invitaton/accept",Ts="invitaton/refuse",js="web/showInvitation",Ps="page/buttonClick",Fs="page/setSkipPreChat",Ns="page/updateSize",Ws="page/updateOrientation",Vs="page/updatePageVisitorStatus",Ds="window/update-upload",Rs="window/sucess-file",Es="window/fail-file",zs="sso/updateSSO",Ls="window/update-messages",Hs="window/remove-agent-is-typing",qs="window/sendText",Us="window/sendFile",Gs="window/sendImage",Ks="window/startWaiting",Ys="window/startChatBot",Js="window/updateChatBot",Qs="window/updateChatBotContext",Zs="window/addSystemMessage",Xs="window/updateChatIdentity",$s="window/updateMaxReadId",tc="window/updateWindowId",ec="window/closeMinimizeBubble",nc="window/togglePopupBubble",ic="window/addPendingMessage",oc="window/updateMaxAgentReadId",ac="window/updateMaxVisitorReadId",rc="window/updateVisitorStatus",sc="window/updateChatVersion",cc="window/updateEmailToSendTranscript",dc="window/ssoLoginInPopUp",lc="window/ssoLoginInSelf",uc="window/updateTransferCampaignId",pc="window/updateRequestFromAnotherDone",hc="window/updateCrossSiteTransfer",fc="window/updateConfigTransferSite",gc="window/updateTransferVisitorGuid",mc="window/updateRatingFieldsAfterCrossSiteTransfer",wc="window/updateAutoEjectTranscript",bc="window/hideRatingFormInWindow",vc="page/update-window-status",_c="page/set-focus-bar",xc="window/toggle-error",yc="window/toggle-warning",Sc="window/updateWindowWidth",Cc="window/removeForm",kc="app/ready",Ic="app/ban",Mc="app/setIsActive",Ac="app/switchServer",Oc="app/recoverSuccess",Bc="app/increaseRecoverTimes",Tc="app/setIsRecovering",jc="app/setLastSuccessTime",Pc="app/setSoundOff",Fc="window/endchat",Nc="window/toggleFocus",Wc="window/contentScrollStatusUpdate",Vc="window/toggle-disable",Dc="window/updateTransferredServerInstanceTag",Rc="web/sendAction",Ec="web/pageHeartbeat",zc="web/chatHeartbeat",Lc="web/prechatHeartbeat",Hc="web/offlineHeartbeat",qc="web/submitRating",Uc="web/emailTranscript",Gc="web/endChat",Kc="web/submitOfflineMessage",Yc="web/submitPostChat",Jc="web/submitPrechat",Qc="web/submitSSOInfo",Zc="web/submitSSOInfo4ChatBot",Xc="web/skipLogin",$c="web/sendPageVisit",td="web/updateUrl",ed="web/updateCustomVariables",nd="web/getChatButton",id="web/getConfig",od="web/getChatWindowConfig",ad="web/agentMsgSeenByVisitor",rd="web/getSSORecoverInfo",sd="web/fromChatbotToAgent",cd="web/chatBotSelectQuestion",dd="web/chatBotAnswerHelpful",ld="web/startChatAgain",ud="window/updateQueue",pd="chatinput/setVisitorIsTyping",hd="window/sendChatMessages",fd="window/updateVideoStatus",gd="window/prepareP2pChat",md="window/hangupAudioVideoChat",wd="window/hangupScreenSharing",bd="window/acceptAudioVideoChat",vd="window/unmuteRemote",_d="window/setIsRecording",xd="window/updateMessageIsProcessed",yd="window/updateMessageIfDisable",Sd="sideWindow/hideAudioVideoChat",Cd="sideWindow/sideWidowTabSelect",kd="sideWindow/toggleSideWindow",Id="sideWindow/setWindowTabs",Md="sideWindow/closeKnowledgeBase",Ad="sideWindow/showKnowledgeBaseInfo",Od="sideWindow/closePushPage",Bd="sideWindow/replaceSideWindowTab",Td="app/setIsOpenerExists",jd="window/closeSliently",Pd="window/setFrequencyLimitState",Fd="web/chatBotVisitorCancelBotForm",Nd="web/chatBotVisitorSubmitBotForm",Wd="web/setBotVariable",Vd="window/cleanPendingMessages",Dd="form/update-value",Rd="form/update-error",Ed="form/focus",zd="form/blur",Ld="form/submit-start",Hd="form/submit-success",qd="form/submit-fail",Ud="form/submit-social",Gd="form/validate-all",Kd="form/update",Yd="form/fill-default",Jd="form/reset",Qd="page/setCampaignId",Zd="page/setCampaignIntId",Xd="window/setId",$d="window/mounted",tl="window/chatbotTimeout",el="window/resetMaxId",nl="web/getArticles",il="web/getArticleByID",ol="window/success-articles",al="window/success-articleByID",rl="web/fromKBToAgent",sl="window/articleClickTitile",cl="window/error-articles",dl="window/error-articleByID",ll="window/updateKBConfig",ul="sideWindow/openBotSideWindow",pl="sideWindow/closeBotSideWindow",hl="window/cleanUpCobrowseRequest",fl="window/endCobrowse",gl="window/pushPage",ml="webView/open",wl="webView/close",bl="webView/loading",vl="webView/visitorInfo",_l="web/setLocation",xl="web/getVisitorInfo",yl="window/updateBotFormMessage",Sl="window/hideQuickReply",Cl="state/restore",kl="state/get-restore",Il="window/updateChatbotSendFormMessage",Ml="window/updateVisibleInputAreaWhenBotChatting",Al="window/updateIsMessageScrollBottom",Ol="window/updateMessageStatusToRead",Bl="window/updatePostChatVisible",Tl="sideWindow/hideScreenSharing",jl="Window/prepareScreenSharing",Pl="window/acceptScreenSharing",Fl="window/startScreenSharingDirectly",Nl="window/popScreenSharing",Wl="window/previewImage",Vl="api/sendText",Dl="window/cancelVisitorSendText",Rl=((Ur={})[kc]=function(t){return Object.assign({},t,{isReady:!0})},Ur[Ic]=function(t){return Object.assign({},t,{banned:!0})},Ur[Ac]=function(t,e){return Object.assign({},t,{server:e})},Ur[Mc]=function(t,e){return Object.assign({},t,{isActive:e})},Ur[Td]=function(t,e){return Object.assign({},t,{isOpenerExists:e})},Ur[Oc]=function(t){return Object.assign({},t,{recoverFailTimes:0,isRecovering:!1})},Ur[Bc]=function(t){var e=t.recoverFailTimes;return Object.assign({},t,{recoverFailTimes:e+1})},Ur[Tc]=function(t,e){return Object.assign({},t,{isRecovering:e})},Ur[jc]=function(t,e){return Object.assign({},t,{lastSuccessTime:e})},Ur[Pc]=function(t,e){return e?Object.assign({},t,{isSoundOff:!0}):Object.assign({},t,{isSoundOff:!1})},Ur),El=W({banned:!1},Rl),zl="open",Ll="restored",Hl="minimized",ql="close",Ul="waitingForChat",Gl="chatting",Kl="preChat",Yl="manuallyInvited",Jl="autoInvited",Ql="offlineMessage",Zl="refusedByVisitor",Xl="chatEnded",$l="inSite",tu="manuallyInvitedByWindow",eu="systemProcessing",nu="searchKB",iu="popupImage",ou="embeddedWindow",au="bubble",ru="mobile",su={agentAvatar:"agentAvatar",image:"image"},cu="button",du="autoInvitation",lu="manualInvitation",uu="landscape",pu="portrait",hu="monitor",fu="text",gu="image",mu="float",wu="adaptive",bu={platform:ge,buttons:{},windowStatus:ql,dynamicCampaign:!1,campaignId:0,chatGroup:0,invitation:null,visitor:{},skipPreChat:!1,width:0,height:0,orientation:pu,visitorStatus:$l,artifact:void 0},vu=function(t,e){return xo(t,{type:e.isManual?lu:du,invitationId:e.id,invitationType:e.type})},_u=((Gr={})[ts]=function(t,e){var n,i,o=e.campaignId,a=e.ifOnline;if(t.buttons[o]===a)return t;var r=t.isDynamicCampaign?((n={})[o]=a,n):Object.assign({},t.buttons,((i={})[o]=a,i));return Object.assign({},t,{buttons:r})},Gr[is]=function(t,e,n){var i=n.buttonType;if(e.type===ou){var o=e.windowStatus||zl;return Object.assign({},t,{requestChatAction:vu(t.campaignId,e),windowStatus:o,visitorStatus:e.isManual?tu:Jl})}return e.isManual&&i===wu&&e.type===au?e.bubbleInvitationHeader===su.image?Object.assign({},t,{requestChatAction:vu(t.campaignId,e),visitorStatus:tu,invitation:e}):Object.assign({},t,{requestChatAction:vu(t.campaignId,e),windowStatus:Hl,visitorStatus:tu,manualInvitation:e}):e.isManual&&i!==wu&&e.type===au?Object.assign({},t,{requestChatAction:vu(t.campaignId,e),visitorStatus:tu,invitation:e}):null==t.invitation?Object.assign({},t,{invitation:e,visitorStatus:e.isManual?Yl:Jl}):t},Gr[os]=function(t,e){return Object.assign({},t,{ifShowInvitationProcessing:e})},Gr[es]=function(t,e){var n=Object.assign({},t.visitor,e);return Object.assign({},t,{visitor:n})},Gr[ns]=function(t,e){return Object.assign({},t,{visitor:e})},Gr[Ts]=function(t){return Object.assign({},t,{invitation:null,visitorStatus:Zl})},Gr[vs]=function(t,e){var n=e.chatInfo,i=e.campaignId;return Object.assign({},t,{windowStatus:n.windowStatus||zl,requestChatAction:xo(i)})},Gr[ls]=function(t,e){var n=e.campaignId;return Object.assign({},t,{windowStatus:zl,invitation:null,requestChatAction:t.requestChatAction||xo(n,{type:cu})})},Gr[vc]=function(t,e){return Object.assign({},t,{windowStatus:e,invitation:e===zl?null:t.invitation})},Gr[_c]=function(t,e){return Object.assign({},t,{shouldFocusBar:e})},Gr[us]=function(t){return Object.assign({},t,{windowStatus:ql})},Gr[Bs]=function(t,e){var n=t.invitation;return n?Object.assign({},t,{invitation:null,requestChatAction:vu(e,n)}):t},Gr[Ps]=function(t,e){return Object.assign({},t,{invitation:null,requestChatAction:xo(e,{type:cu})})},Gr[ld]=function(t){return Object.assign({},t,{requestChatAction:xo(t.requestChatAction.campaignId,{type:cu})})},Gr[Fs]=function(t,e){return t.skipPreChat===e?t:Object.assign({},t,{skipPreChat:e})},Gr[Ns]=function(t,e){var n=e.size;return t.width===n.width&&t.height===n.height?t:Object.assign({},t,n)},Gr[ec]=function(t,e,n){return n?Object.assign({},t,{windowStatus:ql,visitorStatus:Zl}):t},Gr[Ws]=function(t,e){return t.orientation===e?t:Object.assign({},t,{orientation:e})},Gr[Qd]=function(t,e){if(t.campaignId===e)return t;var n="number"==typeof e?e:e.toLowerCase();return Object.assign({},t,{campaignId:n})},Gr[Zd]=function(t,e){var n=e.guid,i=e.intId;return t.campaignIntId===i?t:Object.assign({},t,{campaignId:n,campaignIntId:i})},Gr[Vs]=function(t,e){return t.visitorStatus===e?t:Object.assign({},t,{visitorStatus:e})},Gr[cs]=function(t,e){return t.artifact===e?t:Object.assign({},t,{artifact:e})},Gr[ds]=function(t,e){return t.jwt===e?t:Object.assign({},t,{jwt:e})},Gr[ss]=function(t,e){return t.isSubmitSSO===e?t:Object.assign({},t,{isSubmitSSO:e})},Gr[Jc]=function(t,e){var n=e.form.ticketId;return Object.assign({},t,{requestChatAction:Object.assign({},t.requestChatAction,{ticketId:n})})},Gr),xu=W(bu,_u),yu="fetching",Su="done",Cu="error",ku=["entity"],Iu=["name","avatar"],Mu=["name","avatar","id"],Au={entities:{},errors:{},fetchStatus:{}},Ou={agents:Au,messages:Au,buttons:Au,campaigns:Au,fields:Au,departments:Au,kbArticles:Au},Bu=function(t,e){var n,i,o,a=t.entities,r=t.errors,s=t.fetchStatus,c=e.id,d=e.entity,l=e.error,u=e.fetchStatus;return{entities:Object.assign({},a,(n={},n[c]=Object.assign({},a[c],d),n)),errors:Object.assign({},r,(i={},i[c]=l||r[c],i)),fetchStatus:Object.assign({},s,(o={},o[c]=u||s[c],o))}};function Tu(t){var e=t.fields.entities,n=Object.keys(e).reduce((function(t,n){var i=t,o=e[n];return i[n]=Object.assign({},o,{value:null,isFocused:!1,isErrorShowed:!1}),delete i[n].error,i}),{});return Object.assign({},t,{fields:Object.assign({},t.fields,{entities:n})})}function ju(t,e){if(t.buttons.entities[e]){var n=t.buttons,i=n.entities,o=n.errors,a=n.fetchStatus;return delete i[e],delete o[e],delete a[e],Object.assign({},t,{entities:i,errors:o,fetchStatus:a})}return t}var Pu,Fu,Nu,Wu=(Kr={},Kr[ys]=function(t,e){var n=e.isHidden,i=e.campaignId,o=t.buttons.entities[i];return o?o.isHidden===n?t:Object.assign({},t,{buttons:Bu(t.buttons,{id:i,entity:{isHidden:n}})}):t},Kr[Cs]=function(t,e){var n=e.fields,i=e.type,o=e.campaignId,a=n.reduce((function(t,e){var n=t;return n.entities[i+"-"+e.id]=Object.assign({},e,{id:i+"-"+e.id}),n.errors[i+"-"+e.id]=null,n.fetchStatus[i+"-"+e.id]="done",n}),{entities:Object.assign({},t.fields.entities),errors:Object.assign({},t.fields.errors),fetchStatus:Object.assign({},t.fields.fetchStatus)}),r=Object.assign({},t.campaigns.entities[o]);return r[i]=n.map((function(t){return t.id})),Object.assign({},t,{campaigns:Bu(t.campaigns,{id:o,entity:r}),fields:a})},Kr[xs]=function(t,e){return Object.assign({},t,{buttons:Bu(t.buttons,e)})},Kr[_s]=function(t,e){var n=e.entity;if(null==n)return Object.assign({},t,{campaigns:Bu(t.campaigns,e)});n.prechat&&n.prechatCaptcha&&n.prechat.push({id:-1,type:aa,label:n.prechatCaptchaLabel,value:null,isRequired:!0});var i=["prechat","postchat","offline"],o=[];i.forEach((function(t){var n=e.entity[t];n&&n.length>0&&(o=o.concat(n.map((function(e){return Object.assign({isErrorShowed:!1,isFocused:!1},e,{id:t+"-"+e.id})}))))}));var a=e.entity?i.reduce((function(t,e){var n;return t[e]?Object.assign({},t,((n={})[e]=t[e].map((function(t){return t.id})),n)):t}),e.entity):null;return Object.assign({},t,{campaigns:Bu(t.campaigns,Object.assign({},e,{entity:a})),fields:o.reduce((function(t,e){return Bu(t,{id:e.id,entity:e,error:null,fetchStatus:Su})}),t.fields)})},Kr[Ss]=function(t,e,n){var i=n.ifHideAgentName,o=n.agentDefaultName,a=n.apiHost,r=e.entity,s=j(e,ku);return r.name=i?o:r.name,r.avatar=Wr(r.avatar,a),Object.assign({},t,{agents:Bu(t.agents,Object.assign({entity:r},s))})},Kr[ks]=function(t,e){return Object.assign({},t,{departments:Bu(t.departments,e)})},Kr[is]=function(t,e,n){var i=e.agent,o=n.ifHideAgentName,a=n.agentDefaultName,r=n.apiHost;if(i){var s=i.name,c=i.avatar,d=j(i,Iu);return Object.assign({},t,{agents:Bu(t.agents,{id:i.id,entity:Object.assign({name:o?a:s,avatar:Wr(c,r)},d),fetchStatus:Su})})}return t},Kr[Rd]=function(t,e){var n,i=t.fields.entities[e.id];if(i.customError===e.error&&i.isErrorShowed)return t;var o=Object.assign({},i,{customError:e.error,isErrorShowed:!0,isFocused:!0}),a=Object.assign({},t.fields,{entities:Object.assign({},t.fields.entities,(n={},n[e.id]=o,n))});return Object.assign({},t,{fields:a})},Kr[Dd]=function(t,e){var n,i=t.fields.entities[e.id];if(i.value===e.value&&i.isErrorShowed)return t;var o=Object.assign({},i,{value:e.value,isErrorShowed:!0,customError:""}),a=Object.assign({},t.fields,{entities:Object.assign({},t.fields.entities,(n={},n[e.id]=o,n))});return Object.assign({},t,{fields:a})},Kr[Ed]=function(t,e){var n,i=t.fields.entities[e.id];if(!i)return t;var o=Object.assign({},i,{isFocused:!0}),a=Object.assign({},t.fields.entities,((n={})[e.id]=o,n)),r=Object.assign({},t.fields,{entities:a});return Object.assign({},t,{fields:r})},Kr[zd]=function(t,e){var n,i=t.fields.entities[e.id],o=Object.assign({},i,{isErrorShowed:!0,isFocused:!1}),a=Object.assign({},t.fields.entities,((n={})[e.id]=o,n)),r=Object.assign({},t.fields,{entities:a});return Object.assign({},t,{fields:r})},Kr[Gd]=function(t,e){var n=!1,i=e.ids.reduce((function(t,e){var i=t[e],o=t;return o[e]=Object.assign({},i,{isErrorShowed:!0,isFocused:!n}),n=!0,o}),Object.assign({},t.fields.entities)),o=Object.assign({},t.fields,{entities:i});return Object.assign({},t,{fields:o})},Kr[Ls]=function(t,e,n){return e.reduce((function(t,e){if(e.type!==De&&e.type!==Ne&&e.type!==He)return t;var i=e.content.agent,o=i.name,a=i.avatar,r=i.id,s=j(i,Mu);return r?Object.assign({},t,{agents:Bu(t.agents,{id:e.content.agent.id,entity:Object.assign({name:n&&n.ifHideAgentName?n.agentDefaultName:o,avatar:Wr(a,n.apiHost)},s),error:null,fetchStatus:Su,index:Object.keys(t.agents).length})}):t}),t)},Kr[Jd]=Tu,Kr[vc]=function(t,e,n){if(e!==ql)return t;var i=t;return n&&n.transferCampaignId&&(i=ju(t,n.transferCampaignId)),Tu(i)},Kr[us]=function(t,e,n){var i=t;return n&&n.transferCampaignId&&(i=ju(t,n.transferCampaignId)),Tu(i)},Kr[ec]=function(t,e,n){return n?Tu(t):t},Kr[ol]=function(t,e){var n=e.reduce((function(t,e){var n=t;return n[e.id]=e,n}),{});return Object.assign({},t,{kbArticles:{entities:n}})},Kr),Vu=W(Ou,Wu),Du="none",Ru="requesting",Eu="running",zu="loading",Lu="prelogin",Hu="ssoLogin",qu="prechat",Uu="chat",Gu="postchat",Ku="offline",Yu="kb",Ju="none",Qu="pending",Zu="success",Xu="visitor",$u="agent",tp="system",ep="chatbot",np="taskbot",ip="waiting",op="invited",ap="chatting",rp="chatted",sp="prechat",cp="postchat",dp="offline",lp="sso",up="rating",pp=Object.freeze({__proto__:null,offline:dp,postchat:cp,prechat:sp,rating:up,sso:lp}),hp="maxFileSize",fp="emptyFile",gp="maxLengh",mp="limited",wp="maxFileCount",bp="notSupported",vp="kb",_p="bot",xp="media",yp="voice",Sp="bubble",Cp="kbSearch",kp="coBrowsing",Ip="pushPage",Mp="screenSharing",Ap="taskbotCollectName",Op="taskbotCollectEmail",Bp="taskbotCollectPhoneNumber",Tp="taskbotCollectCompanyName",jp="taskbotCollectComment",Pp="taskbotCollectLocation",Fp="taskbotCollectVariableData",Np="taskbotSendMessage",Wp="taskbotSendImage",Vp="taskbotSendVideo",Dp="taskbotSSOLoginButton",Rp="taskbotQuickReply",Ep="taskbotMessage",zp="taskbotBookMeeting",Lp="taskbotActionBookingViaMicrosoftBooking",Hp="loading",qp="taskbotActionSendAMenu",Up="taskbotActionCollectFeedback",Gp="horizontal",Kp="agent",Yp="banner",Jp="logo",Qp=function(t,e){return V(t,"entities.campaigns.entities."+e)},Zp=function(t,e){return V(t,"entities.campaigns.entities."+e)},Xp="main",$p=function(t){return t.app.isReady},th=function(t){return t.app.server===Xp},eh=function(t){return t.app.isPoppedOut},nh=function(t){return t.app.banned},ih=function(t){return t.app.isActive},oh=function(t){return!t.app.isActive},ah=function(t){return t.app.isRecovering},rh=function(t){return t.app.isSoundOff},sh=function(t,e){return/^https?:/.test(e)||null==t.configuration?e:null==e?null:[th(t)?t.configuration.url:t.configuration.standbyUrl,e].join(/^\//.test(e)?"":"/")},ch=function(t){return null==t.configuration?"":th(t)?t.configuration.url:t.configuration.standbyUrl},dh=function(t,e){return/^https?:/.test(e)||null==t.configuration?e:null==e?null:[t.configuration.vue,e].join(/^\//.test(e)?"":"/")},lh=function(t){return t.configuration&&t.configuration.vue},uh=function(t){return dh(t,"/visitorside/location/position.html")},ph=function(t,e){var n=function(t,e){return dh(t,"/visitorside/sso/ssoredirect.html")}(t),i="returnUrl="+encodeURIComponent(n),o=/\breturnurl=[^&]+/i;return o.test(e)?e.replace(o,i):e+"&"+i},hh=function(t){return/^(https?:\/\/)?([^/]*)/gi.exec(t)[2]},fh=function(t,e){if(/^https?:/.test(e))return e;if(null==t.configuration)return e;var n=t.configuration.webrtcSignalingServiceUrl;return[hh(n),e].join(/^\//.test(e)?"":"/")},gh=function(t){return t.configuration.heartbeat.online},mh=function(t){return t.configuration.heartbeat.offline},wh=function(t){return t.configuration.heartbeat.stopAfter},bh=function(t){return t.configuration.attachmentMaxSize},vh=function(t){return t.configuration.frequencyLimit},_h=function(t){return t.configuration.messageLengthLimit},xh=function(t){return t.configuration.kbClientUrl},yh=function(t){return!!t.configuration.features.hideAgentName&&t.configuration.features.hideAgentName},Sh=function(t){return t.configuration.encoding},Ch=function(t){return t.configuration.ifPartner},kh=function(t){return t.configuration.features.audioVideoChatRecording},Ih=function(t){return t.configuration.brandConfig},Mh=function(t){return t.window?t.window.crossSiteChatTransfer:null},Ah=function(t){return function(e){var n=e.configuration.features||{};return function(t){return t.window&&!!t.window.crossSiteChatTransfer}(e)&&(n=Mh(e).configuration&&Mh(e).configuration.features||{}),void 0===n[t]||n[t]}},Oh=function(t){return"OnlySendTheTranslation"===t.configuration.messageContentInLiveChat},Bh="goToIntent",Th="contactAgent",jh="text",Ph=function(t){return V(t,"window")},Fh=function(t,e){return function(n){var i=Ph(n);return i?t(i,n):e}},Nh=Fh((function(t){return t.chatStatus}),"none"),Wh=function(t){var e=t.window;return e?e.tab!==Uu&&e.tab!==Gu||e.chatStatus!==ap&&e.chatStatus!==op&&e.chatStatus!==rp||e.isChatBot||0===e.involvedAgents.length?null:t.entities.agents.entities[e.involvedAgents[0]]:null},Vh=function(t){var e=t.window;return e&&(e.tab===Uu||e.isChatBot&&e.tab===Gu)?e.chatStatus!==ap&&e.chatStatus!==ip&&e.chatStatus!==rp?null:e.isChatBot?t.window.chatBot||{}:null:null},Dh=function(t){var e=t.window;return e?e.chatbotContext||{}:null},Rh=function(t){var e=Dh(t);return e?e.variables:null},Eh=function(t){var e=Dh(t);return e?e.visitorInfo:null},zh=Fh((function(t,e){if(!e.entities)return!1;if(!e.entities.campaigns)return!1;var n=e.entities.campaigns;return n.fetchStatus[t.id]===Su&&!!n.entities[t.id]}),!1),Lh=function(t){return V(t,"window.tab")},Hh=Fh((function(t){return t.sideWindowItems}),[]),qh=function(t){return V(t,"window.id")},Uh=function(t){return V(t,"window.crossSiteChatTransfer.campaignId")},Gh=Fh((function(t,e){var n=Uh(e)||qh(e);return e.entities.campaigns.entities[n]}),null),Kh=Fh((function(t,e){return e.entities.campaigns.entities[e.window.id]}),null),Yh=Fh((function(t,e){return e.entities.campaigns.entities[e.window.id].mainColor}),""),Jh=function(t){var e=t.entities.campaigns.entities[t.window.id].chat.texture;return e?"url("+e+")":null},Qh=Fh((function(t){return t.ssoUrl}),""),Zh=Fh((function(t){return t.showPrelogin}),!1),Xh=Fh((function(t){return t.isChatBot}),!1),$h=Fh((function(t){return t.pendingMessage}),void 0),tf=t(1)((function(t,e,n,i,o){return function(a){var r=e.entities[n];if(a.sender.type===$u){var s=t.entities[a.sender.id];return Object.assign({},a,{sender:s||{name:r.languages.operatorDefaultName}})}if(a.type===Vn)return Object.assign({},a,{sender:Object.assign({},a.sender,{name:o?o.name:"",avatar:o?o.avatar:""})});if(a.sender.type===ep){var c=o?o.name:"",d=a.sender?a.sender.name:"",l=o?o.avatar:"",u=a.sender?a.sender.avatar:"";return Object.assign({},a,{sender:Object.assign({},a.sender,{name:d||c,avatar:u||l})})}if(Ce===a.type)return Object.assign({},a,{queuePosition:i.position,estimatedWaitTime:i.waitTime});if(a.type===De||a.type===Ve||a.type===Re){var p=t.entities[a.sender.id];return Object.assign({},a,{sender:p||{name:r.languages.operatorDefaultName}})}return a}})),ef=t(1)((function(t,e,n,i,o,a,r){return o.map(tf(t,e,n,i,r)).filter(function(t){return function(e){return e.type!==ai&&e.type!==li&&e.type!==Di&&e.type!==Ei&&e.type!==di&&e.type!==Vi&&e.type!==ui&&e.type!==Ri&&e.type!==ci&&e.type!==pi&&e.type!==hi&&e.type!==fi&&e.type!==je&&e.type!==si&&e.type!==Qi&&(e.type!==ve||t===ip)&&(e.type===Wn||!!e.content&&("string"==typeof e.content||("string"==typeof e.content.fileName?e.content.fileName:"string"==typeof e.content.name?e.content.name:"string"==typeof e.content.text?e.content.text:null!==e.content.text&&"object"==typeof e.content&&Object.keys(e.content).length>0)))}}(a))})),nf=Fh((function(t,e){var n=t.messages,i=e.entities,o=i.agents,a=i.campaigns,r=t.id,s=t.queue,c=t.chatStatus,d=t.chatBot;return ef(o,a,r,s,n,c,d)}),[]),of=Fh((function(t){return t.messages}),[]),af=Fh((function(t){return t.sourceMessages}),[]),rf=Fh((function(t){return t.queue}),{}),sf=Fh((function(t){return t.involvedAgents}),[]),cf=Fh((function(t){return t.audioVideoAgentId}),0),df=Fh((function(t){return t.chatGuid})),lf=Fh((function(t){return t.visitorTyping}),!1),uf=Fh((function(t){return t.draft}),""),pf=Fh((function(t){return t.maxId}),-1),hf=Fh((function(t){return t.error})),ff=Fh((function(t){return t.warning})),gf=Fh((function(t){return t.maxReadId}),-1),mf=Fh((function(t,e){for(var n=nf(e),i=t.maxReadId,o=0,a=n.length-1;a>=0;a-=1){var r=n[a];if(r.id<=i)break;if(void 0!==r.id&&sr(r)&&(o+=1)>=99)return 99}return o}),0),wf=Fh((function(t,e){var n=nf(e);if(!(mf(e)<=0))for(var i=n.length-1;i>=0;i-=1){var o=n[i];if(sr(o))return o}})),bf=Fh((function(t,e){var n=nf(e);if(mf(e)<=0)return 0;for(var i=n.length-1;i>=0;i-=1){var o=n[i];if(sr(o))return o.id}return 0})),vf=function(){var t=D.href;return"https://www.${brandingNameLowerCase}.com/powered-by/".replace("${brandingNameLowerCase}",N.brandingNameLowerCase)+"?customer="+(encodeURIComponent(R(t))||"")+"&utm_source=PoweredBy&utm_medium=ChatWindow&utm_campaign=BottomLink"},_f=function(t){return t.window&&t.window.messages&&t.window.messages.find((function(t){return t.type===We}))},xf=Fh((function(t){if(t.tab!==Uu)return!1;var e=function(){switch(t.chatStatus){case ap:return!t.isChatBot||!1!==t.isVisibleInputAreaWhenBotChatting;case ip:return!!t.allowWaitingSendMessage&&!t.isChatBot;case rp:return!1;case op:return!0;default:return!1}};return t.isTaskBot?!1!==t.enableChatInputWhenTaskbot&&(t.isVisibleInputAreaWhenTaskbot&&e()):e()}),!1),yf=Fh((function(t){return!!t.webView}),!1),Sf=Fh((function(t){if(t.tab!==Uu)return!1;return function(){switch(t.chatStatus){case ap:return!0;case ip:return!!t.allowWaitingSendMessage;case rp:return!1;default:return!0}}()}),!1),Cf=function(t){return t.window&&t.window.messages&&t.window.messages.find((function(t){return t.type===ti}))},kf=Fh((function(t){return t.chatStatus===ap}),!1),If=Fh((function(t){return t.chatStatus===op}),!1),Mf=function(t){var e=sf(t);if(0!==e.length){var n=e[0];return t.entities.agents.entities[n]}},Af=function(t){var e=sf(t);if(0!==e.length){var n=cf(t);if(n>0)return t.entities.agents.entities[n];if(e.length>1)return{avatar:dh(t,"/visitorside/images/avatar.png"),name:""};var i=e[0];return t.entities.agents.entities[i]}},Of=function(t){var e=If(t);if(kf(t)||e){if(e){if(!(t.page.requestChatAction.source.type===lu))return;return Mf(t)}var n=Vh(t);if(n)return n;var i=Rg(t);return i||Mf(t)}},Bf=function(t){var e=Of(t);return e?e.avatar:e},Tf=function(t){var e=Af(t);return e?e.avatar:""},jf=function(t){var e=Af(t);return e?e.name:""},Pf=Fh((function(t){return t.chatStatus===ip||t.chatStatus===ap}),!1),Ff=Fh((function(t){return t.chatStatus===ip}),!1),Nf=Fh((function(t){return t.chatStatus===ap&&t.isChatBot}),!1),Wf=Fh((function(t){return t.chatStatus===rp}),!1),Vf=Fh((function(t){return t.ifHideBio}),!1),Df=Fh((function(t){return t.fileUploadCount}),0),Rf=function(t,e){return V(t,"window.fields."+e)},Ef=Fh((function(t){return t.disabled}),!1),zf=function(t){var e=t.window,n=V(t,"page.windowStatus");return e&&(e.tab===Uu||e.tab===Yu||e.tab===zu||e.tab===Hu||e.tab===Lu||e.tab===qu||e.tab===Ku)&&(n===zl||n===Ll)&&!!e.sideWindowSelectedTab},Lf=function(t){var e=Wh(t);return!!e&&e.isSupportWebrtc},Hf=function(t){return V(t,"window.sideWindowItems")},qf=Fh((function(t){return t.audio_video_disabled}),!1),Uf=function(t){return V(t,"window.showChatWindowInSidewindow")},Gf=function(t){return V(t,"window.sideWindowSelectedTab")},Kf=function(t){var e=V(t,"window.pushPage.url").trim();return E(e)},Yf=function(t){return Kh(t).customCSS},Jf=function(t,e){var n=Qp(t,e);return n?n.customCSS:""},Qf=Fh((function(t){return t.vChatStatus}),fa),Zf=Fh((function(t){return t.audioVideoChatStartTime}),0),Xf=function(t){var e=Qf(t);return e===ma||e===ba},$f=Fh((function(t){return t.isRecording}),!1),tg=Fh((function(t){return t.isFocused}),!1),eg=Fh((function(t){return t.frequencyLimitState}),!1),ng=Fh((function(t){return t.autoEjectTranscript}),!1),ig=function(t){var e=Kh(t);return e&&e.isRTL},og=function(t,e){var n=Qp(t,e);return n&&n.isRTL},ag=function(t){var e=Wh(t);return!(!e||!e.bio)&&(!Fh((function(t){return t.ifHideBio}),!1)(t)&&Kh(t).header.showBio)},rg=Fh((function(t){return t.kbChatWithAgentClicked}),!1),sg=function(t){return V(t,"window.kb.activeArticle")},cg=function(t){return V(t,"window.kbConfig.greetingMessage")},dg=function(t){return V(t,"window.kbConfig.maxCount")},lg=function(t){var e=V(t,"window.kb");if(!e)return!1;if(!1!==e.isLoading)return!1;var n=e.articles;return!(n&&n.length>0)},ug=function(t){return V(t,"window.kb.isLoading")},pg=function(t){return V(t,"window.kbConfig.notShowContent")},hg=Fh((function(t){return t.botSideWindow}),null),fg=function(t){return t.window?t.window.cobrowsing:Du},gg=function(t){return fg(t)===Eu},mg=function(t){return fg(t)===Ru},wg=Fh((function(t){return t.bottom}),0),bg=Fh((function(t){return t.right}),0),vg=function(t,e){var n=e?t.entities.campaigns.entities[e]:Kh(t);return n&&n.ifEnableVisitorSeeMsgSentSeen},_g=Fh((function(t){return t.maxAgentReadId}),""),xg=Fh((function(t){return t.maxVisitorReadId}),""),yg=function(t){return Nf(t)?t.window.quickReply:kf(t)&&t.window.quickReply?Object.assign({},t.window.quickReply,{items:t.window.quickReply.items.filter((function(t){return t.type!==Th}))}):null},Sg=Fh((function(t){return t.webView}),null),Cg=function(t){var e=Sg(t);return!e||e.ifLoading},kg=function(t){var e=Sg(t);return!!e&&e.success},Ig=function(t){var e=Sg(t);return e?e.visitorInfo:null},Mg=Fh((function(t){return t.showToolbox}),!1),Ag=Fh((function(t){return t.chatVersion}),""),Og=Fh((function(t,e){return{chatGuid:df(e),chatVersion:Ag(e)}}),{chatGuid:null,chatVersion:""}),Bg=Fh((function(t){return t.visitorStatus}),$l),Tg=function(t){var e=af(t).find((function(t){return t.type===Ne||t.type===ye||t.type===Li}));return e?e.time:""},jg=function(t){var e=af(t).find((function(t){return t.type===be}));return e?e.time:""},Pg=function(t){var e=af(t);return e.length>0?e[e.length-1].guid:""},Fg=Fh((function(t){return t.emailToSendTranscript}),""),Ng=function(t){var e=of(t),n=!1;return e.forEach((function(t){t.type===Ke?n=!0:t.type===Oe&&(n=!1)})),n&&Nh(t)===ap},Wg=Fh((function(t,e){return e.entities.campaigns.entities[t.id]}),"none"),Vg=function(t){return void 0===t.window.ifOpenSignInPageEmbeddedWindow||t.window.ifOpenSignInPageEmbeddedWindow},Dg=Fh((function(t){return t.popupBubble}),!1),Rg=function(t){var e=t.window;return e&&e.isTaskBot&&(e.tab===Uu||e.isThatBot)?e.chatStatus!==ap&&e.chatStatus!==ip&&e.chatStatus!==rp?null:e.taskBot||{}:null},Eg=Fh((function(t){return t.isMessageScrollBottom}),!0),zg=function(t){return of(t).filter((function(t){return!1===t.isSeenByVisitor})).length},Lg=Fh((function(t){return t.width})),Hg=Fh((function(t){return t.isPostChatVisible})),qg=Fh((function(t){return t.screenSharingStatus}),_a),Ug=function(t){var e=qg(t);return e===ka||e===ya},Gg=Fh((function(t){return t.screenSharingAgentId}),0),Kg=function(t){var e=sf(t);if(0!==e.length){var n=Gg(t);if(n&&t.entities.agents.entities[n])return t.entities.agents.entities[n];if(e.length>1)return{avatar:dh(t,"/visitorside/images/avatar.png"),name:""};var i=e[0];return t.entities.agents.entities[i]}},Yg=function(t){var e=Kg(t);return e?e.name:""},Jg=function(t){var e=Kg(t);return e?e.avatar:""},Qg=Fh((function(t){return t.screenSharing_disabled}),!1),Zg=Fh((function(t){return t.previewImage}),{}),Xg=Math.pow(2,0),$g=Math.pow(2,1),tm=Math.pow(2,2),em=Math.pow(2,3),nm=Math.pow(2,4),im=Math.pow(2,5),om=Math.pow(2,6),am=Math.pow(2,7),rm=Math.pow(2,8),sm=function(t){return t.page.campaignId},cm=function(t){return t.window&&t.window.id?t.window.id:t.page.campaignId},dm=function(t){return t.page.chatGroup},lm=function(t){return t.page.buttons},um=function(t){return t.page.siteId},pm=function(t){return t.window&&t.window.crossSiteChatTransfer?t.window.crossSiteChatTransfer.siteId:t.page.siteId},hm=function(t){return t.page.windowStatus},fm=function(t){return t.page.visitor.guid},gm=function(t){return t.window&&t.window.crossSiteChatTransfer?t.window.crossSiteChatTransfer.visitorGuid:t.page.visitor.guid},mm=function(t){var e=function(t){return t.page}(t).popout;return e?{url:e.url,title:e.title}:{url:D.href,title:F.title}},wm=function(t,e){void 0===e&&(e=0);var n=mm(t);return t.page.requestChatAction?Object.assign({},t.page.requestChatAction,{campaignId:e,source:Object.assign({},t.page.requestChatAction.source,{page:n})}):xo(e,{type:cu,page:n})},bm=function(t){var e=wm(t);return e&&e.source},vm=function(t){var e=function(t,e){void 0===e&&(e=0);var n=mm(t);if(t.page.requestChatAction){var i={};return Xh(t)&&(i={type:"bot"}),Nh(t)===ip&&(i={type:"queue"}),Object.assign({},t.page.requestChatAction,{campaignId:e,source:Object.assign({},Object.assign({},t.page.requestChatAction.source,i),{page:n})})}return xo(e,{type:cu,page:n})}(t);return e&&e.source},_m=function(t){return(bm(t)||{}).type},xm=function(t){return(bm(t)||{}).invitationId},ym=function(t){return t.page.manualInvitation},Sm=function(t,e){return t.page.buttons[e]},Cm=function(t){return t.page.platform===me||t.page.platform===we},km=function(t){return t.page.platform===we},Im=function(t){return Object.keys(t.page.buttons).map((function(e){var n=t.entities.buttons.entities[e];if(!n)return null;var i=um(t);return Object.assign({},n,{chatWindowLink:dh(t,Ba(i,e))})})).filter((function(t){return t}))},Mm=function(t,e){var n=t.type;return(n===mu||n===wu)&&function(t){return t!==ql}(e)},Am=t(1)((function(t,e,n){return t.map((function(t){var i=!function(t,e){return t.isHideOffline&&!e[t.id]}(t,e)&&!Mm(t,n)&&!t.isHidden;return Object.assign({},t,{isHidden:!i})}))})),Om=function(t){var e=Im(t),n=lm(t),i=hm(t);return Am(e,n,i)},Bm=function(t){return t.page.skipPreChat},Tm=function(t){return t.page.artifact},jm=function(t){return t.page.height},Pm=function(t){return t.page.width},Fm=function(t){return t.page.isDynamicCampaign},Nm=function(t){return t.page.visitorStatus},Wm=function(t){return t.page.shouldFocusBar},Vm=function(t){return t.page.jwt},Dm=function(t,e){var n=V(t,"entities.campaigns.entities."+e+".chat.tools");return void 0===n?0:n},Rm=function(t,e){return!(!(tm&Dm(t,e))||t.window.chatStatus!==rp&&t.window.chatStatus!==ap)},Em=function(t,e){return!!(Xg&Dm(t,e))&&t.window.chatStatus!==rp},zm=function(t,e){return!!(em&Dm(t,e))&&t.window.chatStatus!==rp&&Ah("audioVideoChat")(t)&&v},Lm=function(t,e){return!!(nm&Dm(t,e))&&t.window.chatStatus!==rp&&Ah("audioVideoChat")(t)&&v},Hm=function(t,e){return!!(am&Dm(t,e))&&t.window.chatStatus!==rp&&Ah("screenSharing")(t)&&v&&!Cm(t)},qm=function(t,e){return!!(om&Dm(t,e))},Um=function(t,e){return!!(rm&Dm(t,e))&&t.window.chatStatus!==rp&&!Cm(t)},Gm=function(t,e){var n=Gh(t);return n&&n.postchat?n.postchat.map((function(e){return t.entities.fields.entities["postchat-"+e]})).find((function(t){return t.type===e})):null},Km=function(t){return Gm(t,Yo)},Ym=function(t){return Gm(t,Jo)},Jm="classic",Qm="circle",Zm="bubble",Xm=function(t){return"window--"+t},$m=Object.freeze({__proto__:null,bubble:Zm,circle:Qm,classic:Jm,styleClassName:Xm}),tw=function(t,e){return t.entities.agents.entities[e]},ew=function(t){return(e=t.entities.agents.entities)&&Object.keys(e)||[];var e},nw=function(t){return t.entities.agents.entities},iw=function(t){var e=um(t),n=function(t){return ew(t).reduce((function(e,n){return e.concat([tw(t,n)])}),[])}(t).sort((function(t,e){return t.index-e.index})).filter((function(t){return t.siteId===e})).map((function(t){return t.avatar})).filter((function(t){return t})),i=null;switch(n.length){case 0:return null;case 1:i=[n[0],dh(t,"/visitorside/images/avatar-male.png"),dh(t,"/visitorside/images/avatar-female.png")];break;case 2:i=[].concat(n,[dh(t,"/visitorside/images/avatar-male.png")]).filter((function(t){return t}));break;default:i=n.slice(0,3)}return i},ow=function(t,e){var n=e,i=t.entities.buttons.entities,o=Number(e);if(!isNaN(o)){var a=Object.keys(i).filter((function(t){return i[t].intId===o}));if(a.length>0)return i[a[0]]}return"number"!=typeof e&&(n=e.toLowerCase()),i[n]},aw=function(t,e){var n=t.entities.buttons.entities;if(!n)return null;var i=Object.keys(n).filter((function(t){return n[t].intId===e}));return i.length>0?n[i[0]].id:null},rw=function(t,e){var n=ow(t,e);return n&&n.customOffline},sw=function(t,e){return!!t.entities.buttons&&ow(t,e).isEmbeddedWindow},cw=function(t){return t.entities.departments.entities},dw=/(#chat-window(?!-)\b[^{}]*?{([^}]*?)})(?!(.*|\r\n|\r|\n)\*\/)/,lw=/(?:;|\s|{)width\s*:\s*(?:-?)(\d+)/,uw=/(?:;|\s|{)height\s*:\s*(?:-?)(\d+)/,pw=function(t){return t===Jm?580:605},hw=function(t,e){var n=Zp(t,e),i=ow(t,e);if(i){var o=i.iframeStyle;if(!o)return o;if(!n)return o;var a=n.style;if(a===Zm)return o;if(n.customCSS&&dw.test(n.customCSS)){var r=dw.exec(n.customCSS)[0],s=lw.exec(r),c=uw.exec(r);return o.width=s?parseInt(s[1]):385,o.height=c?parseInt(c[1]):pw(a),o}return o.width=385,o.height=pw(a),o}},fw=function(t,e){var n=ow(t,e),i=Cm(t);return n&&n.type===wu?{right:i?n.adaptiveButtonRightOffsetOnMobile:n.adaptiveButtonRightOffset,bottom:i?n.adaptiveButtonBottomOffsetOnMobile:n.adaptiveButtonBottomOffset}:{right:0,bottom:0}},gw=function(t){var e=V(t,"window.kb.articles");return e&&e.map((function(e){var n=t.entities.kbArticles.entities[e];return{id:n.id,title:n.title,summary:n.body.replace(/<\/?[^>]+(>|>$)/g," ").substr(0,200)}}))},mw=function(t,e){var n=t.entities.campaigns.entities[e];return n?n.mainColor:""},ww=function(t){return t.entities.campaigns.entities[cm(t)].ifRemovePoweredBy},bw="promptPressEnterToSend",vw="titleChatWindow",_w="titleOfflineMessageWindow",xw="titlePreChatWindow",yw="eventSendTranscript",Sw="errorVisitorNotExist",Cw="buttonKBChatWithAgent",kw="buttonKBLeaveMessage",Iw="buttonSendFile",Mw=function(t,e,n){return n+"_"+t+(e?"_"+e:"")},Aw=(Pu={},{get:function(t){return Pu[t]||null},set:function(t,e){null!=e&&(Pu[t]=e)},setSession:function(t,e){Pu[t]=e},remove:function(t){delete Pu[t]}}),Ow={get:function(t){for(var e=F.cookie.split("; "),n=0;n<e.length;n+=1){var i=e[n].split("=");if(null!=i&&2===i.length&&t===i[0])return i[1]}return null},set:function(t,e,n){void 0===n&&(n=!1),null!==e&&(F.cookie=t+"="+e+";path=/;"+(n?"secure=true;":"")+"expires=Sat, 01 Jan 10000 00:00:00 GMT")},setSession:function(t,e,n){void 0===n&&(n=!1),null!==e&&(F.cookie=t+"="+e+";path=/;"+(n?"secure=true;":""))},remove:function(t){F.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;"}},Bw=function(){Ow=Aw},Tw=function(t){return Ow.get(t)},jw=function(t){return Ow.remove(t)},Pw=function(t,e){return Ow.get(t)&&Ow.remove(t),Ow.set(t,e,z)},Fw=function(t,e){return Ow.setSession(t,e,z)},Nw=function(t){return Ow.remove(t)},Ww=N.brandingNameLowerCase+"_session",Vw=N.brandingNameLowerCase+"standby_session",Dw=N.brandingNameLowerCase+"_visitor",Rw=N.brandingNameLowerCase+"_visitorguid",Ew=N.brandingNameLowerCase+"_visitor",zw=N.brandingNameLowerCase+"_chat",Lw=N.brandingNameLowerCase+"_session",Hw=N.brandingNameLowerCase+"_page",qw=N.brandingNameLowerCase+"_crossSiteChatTransfer",Uw=N.brandingNameLowerCase+"_frequencyLimit",Gw=N.brandingNameLowerCase+"_soundOff",Kw=(Fu=function(){var t="livechattestkey",e=N.sessionStorage;try{return e.setItem(t,"test"),e.removeItem(t),!1}catch(t){return t.code===DOMException.QUOTA_EXCEEDED_ERR&&0===e.length}},function(){return void 0===Nu&&(Nu=Fu()),Nu}),Yw=function(t){var e=window[t]||{};return window[t]=e,{getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n.toString()},removeItem:function(t){delete e[t]}}},Jw=function(){try{return!window.sessionStorage||Kw()?Yw("sessionStorage"):N.sessionStorage}catch(t){return Yw("session-storage")}},Qw=function(){try{return!window.localStorage||Kw()?Yw("localStorage"):N.localStorage}catch(t){return Yw("local-storage")}},Zw=Qw(),Xw=Jw(),$w=!1,tb=function(t){$w=t},eb=function(){return Mw(Vr,Dr,Dw)},nb=function(){return t=Tw(eb()),isNaN(+t)||0==+t?void 0:Math.floor(+t);var t},ib=function(t){return Mw(t||Vr,Dr,Rw)},ob=function(t){return Tw(ib(t))},ab=function(t,e){t&&($w?Fw:Pw)(ib(e),t)},rb=function(t){return Mw(t||Vr,Dr,Ew)},sb=function(t){try{return JSON.parse(Zw.getItem(t))||{}}catch(t){return{}}},cb=function(t,e){try{return Zw.setItem(t,JSON.stringify(e))}catch(t){}},db=function(t){return sb(rb(t))},lb=function(t,e){return Zw.setItem(rb(e),JSON.stringify(Object.assign({},db(e),t)))},ub=function(t){return sb(rb(t)).sessionId},pb=function(t){return Mw(t||Vr,Dr,""+zw)},hb=function(t,e){var n=sb(pb(e));return n.chatGuid===t?n:{}},fb=function(){return Uw+"_"+Vr},gb=function(t){cb(fb(),t)},mb=function(t,e,n){if(Zw){var i=hb(t,n);Zw.setItem(pb(n),JSON.stringify(i.chatGuid===t?Object.assign({},i,e):Object.assign({chatGuid:t},e)))}},wb=function(t){return Mw(t||Vr,Dr,""+Lw)},bb=function(t){void 0===t&&(t=ob());var e=sb(wb());return e.visitorGuid===t?e:{}},vb=function(t,e){void 0===e&&(e=ob());var n=bb(e);Zw.setItem(wb(),JSON.stringify(n.visitorGuid===e?Object.assign({},n,t):Object.assign({visitorGuid:e},t)))},_b=function(){return Mw(Vr,Dr,""+Hw)},xb=function(){return function(t){try{return JSON.parse(Xw.getItem(t))||{}}catch(t){return{}}}(_b())},yb=function(t){return Xw&&Xw.setItem(_b(),JSON.stringify(Object.assign({},xb(),t)))},Sb=function(){jw(Mw(Vr,Dr,Ww)),jw(Mw(Vr,Dr,Vw))},Cb=function(){return xb().mediaChatHash},kb=function(t){return hb(t).mediaChatHash},Ib=function(t){mb(t,{mediaChatHash:Cb()})},Mb=function(t){var e=kb(t);e&&e===Cb()&&mb(t,{mediaChatHash:null})},Ab=function(t){mb(t,{mediaChatHash:null}),yb({mediaChatHash:null})},Ob=function(){return(db()||{}).lastChattedAgents||[]},Bb=Mw(Vr,Dr,"SSOSessionToken"),Tb=function(t){Fw(Bb,t)},jb=Mw(Vr,Dr,"SSOSessionInfo"),Pb=function(t){Fw(jb,t.replace(/=/g,"#").replace(/;/,"@"))},Fb=function(){var t=Tw(jb);return t?t.replace(/#/g,"=").replace(/@/,";"):null},Nb=Mw(Vr,Dr,"SSOSessionLoggedIn"),Wb=function(){Fw(Nb,!0)},Vb=function(){Nw(Nb)},Db=function(){Nw(Bb),Nw(jb),Vb()},Rb=function(t,e){return qw+"_"+t+(e?"_"+e:"")},Eb=function(t,e){try{Zw.removeItem(Rb(t,e))}catch(t){}},zb=function(t,e,n){cb(Rb(t,e),n)},Lb=function(t,e){var n=sb(Rb(t,e));return n.siteId&&n},Hb=function(){return"true"===Zw.getItem(Gw)},qb=function(){return Zw.removeItem(Gw)},Ub=Math.pow(2,0),Gb=Math.pow(2,1),Kb=Math.pow(2,2),Yb=t(1)((function(t){var e=Object.assign({},t);return e.id=t.id,e.isManual=t.isManual,e.type=au,e.campaignId=t.campaignId,e.message=t.text,e.textTypeHere=t.textTypeHere,e.messageCount=t.messageCount,t.agent&&(e.agentName=t.agent.name,e.avatar=t.agent.avatar),e.agent=t.agent,e})),Jb=t(1)((function(t){var e=Object.assign({},t);return e.id=t.id,e.type=ru,e.campaignId=t.campaignId,e.message=t.text,e.acceptText=t.acceptText,e.refuseText=t.refuseText,e.themeColor=t.themeColor,e.title=t.title,e.agent=t.agent,e})),Qb=t(1)((function(t){var e={};if(e.id=t.id,e.type=iu,e.image=t.image,e.message=t.text,e.fontSize=t.fontSize,e.color=t.color,e.themeColor=t.themeColor,e.fontFamily=t.fontFamily,e.ifModal=t.ifModal,t.fontStyle){var n=t.fontStyle;e.fontWeight=n&Ub?"bold":"",e.fontStyle=n&Gb?"italic":"",e.textDecoration=n&Kb?"underline":""}return e.messageArea={left:t.textArea[0],top:t.textArea[1],width:t.textArea[2],height:t.textArea[3]},e.closeArea={left:t.closeArea[0],top:t.closeArea[1],width:t.closeArea[2],height:t.closeArea[3]},e.textAlign=t.textAlign,t.position&&(e.position=t.position),e.isManual=t.isManual,e.campaignId=t.campaignId,e.agent=t.agent,e}));function Zb(t){var e=V(t,"page.invitation");if(!e)return null;var n=e.type;return au===n?Yb(e):iu===n?Qb(Object.assign({},e,{image:sh(t,e.image)})):ru===n?Jb(e):null}var Xb,$b,tv,ev=function(t){return t.page&&t.page.invitation},nv=function(t){return t.page&&t.page.ifShowInvitationProcessing},iv=Fh((function(t){return t.isTaskBot}),!1),ov=function(t){var e=t.window;return e?e.chatStatus!==ap&&e.chatStatus!==ip&&e.chatStatus!==rp?null:e.taskBot||{}:null},av=function(t){iv(t);var e=ov(t);return e&&e.id?e.id:"00000000-0000-0000-0000-000000000000"},rv=t(1)((function(t){return Object.keys(t).map((function(e){var n=t[e];return{value:n.id,label:n.name,isOnline:n.isOnline}})).sort((function(t,e){return t.label.toLowerCase()<e.label.toLowerCase()?-1:1}))})),sv={custom:{}},cv=function(t,e,n,i,o){return e.configuration.features[n]?t:t.filter((function(t){return e.entities.fields.entities[o+"-"+t].type!==i}))},dv=function(t){var e=Uh(t)||qh(t);return lv(t,cp,e)},lv=function(t,e,n){var i;e===sp?i="prechat":e===cp?i="postchat":e===dp&&(i="offline");var o=t.entities.campaigns.entities[n],a=t.configuration.customVariableResult;if(o&&o[i]){var r=o[i];return r=cv(r,t,"department",Go,i),(r=cv(r,t,"ticket",Ko,i)).map((function(e){var n=t.entities.fields.entities[i+"-"+e],r="";if(n.type===Go){var s=t.entities.departments.entities;n=Object.assign({},n,{options:rv(s)})}var c,d,l=t.window?t.window.fields:sv;if(c=n.type===zo?l.name:n.type===Lo?l.email:n.type===Ho?l.phone:n.type===qo?l.company:n.type===Uo?l.product:n.type===Go?l.department:n.type===Yo?l.rating:n.type===Jo?l.comment:n.type===Qo?l.subject:n.type===Zo?l.content:n.type===Xo?l.attachment:n.type===Ko?l.ticketId:n.type===aa?void 0:n.type===ea||n.type===na?void 0===l.custom[n.label]||null===l.custom[n.label]?"false":l.custom[n.label]:n.type===oa&&void 0===l.custom[n.label]?"":l.custom[n.label],!(c=null!=n.value?n.value:c)&&a&&a[n.label]&&(c=a[n.label]),n.isRequired){((n.type===oa?""===c||void 0===c:n.type===ea||n.type===na?c&&"true"!==c:!c||c.trim&&""===c.trim())||Array.isArray(c)&&0===c.length||n.type===Go&&c===Zi)&&(r=o.languages.promptRequired)}if(n.type===Lo&&c&&!za(c)&&(r=o.languages.promptInvalidEmail),n.type!==Ko||!c||(d=c).length<=10&&/^\d{0,10}$/.test(d)&&parseInt(d,10)<Math.pow(2,31)||(r="Invalid number"),n.type===Xo&&"undefined"!=typeof File&&c&&"undefined"!==c.size){var u=bh(t);c.size>Math.pow(1024,2)*u&&(r=o.languages.promptFileSizeExceed.replace("{fileSize}",u))}return Object.assign({},n,{value:c,error:n.customError||r})}))}return[]},uv=function(t,e){return t.window.forms[e]},pv=function(t){var e=t.entities.campaigns.entities[t.window.id];return e&&e.prechat?e.prechat.map((function(e){return t.entities.fields.entities["prechat-"+e]})):[]},hv=function(t){var e=t.entities.campaigns.entities[t.window.id],n=[];e&&(n=(n=(n=n.concat(e.prechat?e.prechat.map((function(e){return t.entities.fields.entities["prechat-"+e]})):[])).concat(e.postchat?e.postchat.map((function(e){return t.entities.fields.entities["postchat-"+e]})):[])).concat(e.offline?e.offline.map((function(e){return t.entities.fields.entities["offline-"+e]})):[]));var i={text:!0,textarea:!0,radio:!0,checkbox:!0,select:!0,"checkbox-list":!0,attachment:!0,rating:!0};return n.filter((function(t){return i[t.type]}))},fv=function(t){var e=sf(t),n=[];e&&e.length>0&&e.map((function(e){return tw(t,e)&&n.push(tw(t,e))}));var i=t.window.chatBot;return i&&(n=n.concat(i)),n},gv=function(t){return t.window&&!!t.window.crossSiteChatTransfer},mv=function(t){return t.window?t.window.crossSiteChatTransfer:null},wv=function(t){return mv(t)?mv(t).siteId:0},bv=function(t){return!mv(t)||mv(t).isTransferDone},vv=function(t){return mv(t)?mv(t).campaignId:cm(t)},_v=function(t){var e=mv(t);return e&&e.configuration?e.configuration.serverInstanceTag:function(t){return t.configuration.serverInstanceTag}(t)},xv=function(t){var e,n=mv(t),i=Sh(t),o=Oa(af(t),i),a=function(t){for(var e=t.length-1;e>=0;e-=1)if(t[e].type===Yi&&t[e].sender&&t[e].extras&&"null"!==t[e].extras)return t[e].id;return null}(o),r=n.siteId,s=n.toCompanyName,c=n.fromCompanyName,d=n.fromSiteId,l={toSiteId:r,toCompanyName:s,fromSiteId:d,fromCompanyName:c,withChatTranscript:n.withChatTranscript,departmentId:n.departmentId,agentId:n.agentId,campaignId:n.campaignId,chatbotId:n.chatbotId,chatbot:n.chatbot,messages:o.filter((function(t){return t.id!==a})),name:db(d).name,email:db(d).email,visitorSendTranscript:!!Fg(t),agents:fv(t)};return e=l,Object.assign({},e,{type:no.requestChatFromAnotherSite,isSupportWebrtc:v})},yv=Ah("sendFile"),Sv=Ah("heartbeat"),Cv=Ah("autoInvitation"),kv=Ah("isFreemium"),Iv=function(t,e){if(e=e||cm(t),Dm(t,e)<1)return!1;var n=t.window,i=Lh(t);return!(!n||i===cp)&&(n.chatStatus===ap||n.chatStatus===rp)},Mv=function(t){return t.configuration.features.ga},Av=function(t,e){return V(t,"entities.campaigns.entities."+e+".style")},Ov=function(t,e){return V(t,"entities.campaigns.entities."+e+".cornerStyle")},Bv=function(t){var e=qh(t);return Av(t,e)},Tv=function(t){var e=qh(t);return Ov(t,e)},jv=function(t){return t.configuration.customVariables},Pv=function(t){return t.configuration.customVariableResult},Fv=function(t){return t.configuration.features.hideCreditCard},Nv=function(t){return t.configuration.features.showTypingContent},Wv=function(t){return t.entities.campaigns.entities[t.window.id].languages},Vv=function(t){var e=t.entities;if(!e)return!1;var n=e.campaigns.entities;if(!t.window||!n)return!1;var i=n[t.window.id];return!!i&&!!i.languages},Dv=function(t){return function(e,n){var i=function(t){var e=Uh(t)||qh(t);if(!t.entities.campaigns.entities[e])return{};var n=t.entities.campaigns.entities[e].greetingMessages;return n||{}}(e),o=t[n];if(o)return i[o]}}((Xb={},Xb[sp]="preChatGreetingMessage",Xb[cp]="postChatGreetingMessage",Xb[dp]="offlineMessageGreetingMessage",Xb)),Rv=function(t,e){var n=Uh(t)||qh(t);if(e===sp)return t.entities.campaigns.entities[t.window.id].formStyles.preChatFormStyle===Gp;if(e===cp){var i=t.entities.campaigns.entities[n];if(!i)return!1;if(i.formStyles)return i.formStyles.postChatFormStyle===Gp}return t.entities.campaigns.entities[t.window.id].formStyles.offlineMessageFormStyle===Gp},Ev=function(t){return function(e,n){var i=Wv(e),o=t[n];if(o)return i[o]}}(($b={},$b[sp]="buttonStartChat",$b[cp]="buttonSubmit",$b[dp]="buttonSubmit",$b)),zv=function(t,e){if(!(e<=0))return Wv(t).embeddedWindowNewMessages.replace("{count}",e)},Lv=function(t){return Wv(t).writeReply},Hv=function(t){var e=qh(t),n=Zp(t,e).mainColor;return tr(n)},qv=function(t){return V(t,"entities.campaigns.entities."+(t.window&&t.window.id)+".chat.showAvatar")},Uv=function(t){var e=cm(t),n=t.entities.campaigns.entities[e].header,i=n.chatWindowShowAvatar,o=n.type;return!!i||!(!Xh(t)||o!==Yp)},Gv=function(t,e){if(t.window){var n=function(t){return t.entities.campaigns.entities[t.window.id].sounds}(t);return n&&n[e]}},Kv=function(t){var e=t.siteId,n=t.visitorGuid;return t.urls.chatServer.concat(["/visitor.ashx?",e?"siteId="+e:"",n?"&visitorGuid="+n:""].join(""))},Yv=function(t){var e=dm(t),n=um(t),i=fm(t);if(gv(t)){var o=mv(t);return Kv(o,th(t))}return sh(t,["/visitor.ashx?",n?"siteId="+n:"",e?"&chatGroup="+e:"",i?"&visitorGuid="+i:""].join(""))},Jv=function(t){return _m(t)===lu&&Nh(t)===op},Qv=function(t){return function(t,e){var n=ow(t,e);if(n)return n.customJs}(t,sm(t))},Zv=function(t){return eh(t)&&null==_m(t)},Xv=function(t){return function(t){return t.app.isOpenerExists}(t)&&eh(t)&&sw(t,cm(t))&&!Zv(t)&&!Ng(t)},$v=function(t,e){return(t.entities.campaigns.entities[e||cm(t)]||{}).languages},t_=function(t,e){return(t.entities.campaigns.entities[e||cm(t)]||{}).languageCode||"en"},e_=function(t,e,n){if(n=n||cm(t),e===vw)return function(t,e){return V(t,"entities.campaigns.entities."+e+".popupChatWindowTitle")}(t,n);if(e===xw)return function(t,e){return V(t,"entities.campaigns.entities."+e+".popupPreChatTitle")}(t,n);if(e===_w)return function(t,e){return V(t,"entities.campaigns.entities."+e+".popupOfflineMessageTitle")}(t,n);var i=$v(t,n);return i&&i[e]},n_=function(t){var e=mv(t),n=e?e.configuration:t.configuration;return n?n.fileServiceUrl:""},i_=function(t){var e=mv(t);return e?e.configuration.fileServiceAddress:t.configuration.fileService||t.configuration.fileServiceAddress},o_=function(t){return t.configuration.fileService},a_=function(t){var e=mv(t);return e&&e.configuration?e.configuration.fileServiceStandbyAddress:t.configuration.fileServiceStandbyAddress},r_=function(t){return t.configuration.apiHost},s_=function(t){return function(e){return Wv(e)[t]}},c_=s_("cobrowseAllowControl"),d_=s_("cobrowseStop"),l_=function(t){var e=Wv(t).cobrowseAgentWait,n=function(t){var e=function(t){return t.window.cobrowseAgent}(t);if(!e)return"";var n=tw(t,e);return n?n.name:""}(t);return e.replace(/{name}/g,n)},u_=s_("cobrowseNotes"),p_=function(t){var e=cm(t);return ow(t,"string"==typeof e?e.toLowerCase():e).type===wu},h_=function(t){var e=p_(t),n=Cm(t)&&!km(t),i=hm(t);if(i===ql)return!1;var o=!eh(t)&&e;return o&&n&&(o=i===Hl),o},f_=(tv={},tv[Yu]="kbWin",tv[zu]="loadingWin",tv[Lu]="loginWin",tv[Ku]="offlineWin",tv[Gu]="postWin",tv[qu]="preWin",tv[Hu]="loginWin",tv),g_=function(t){var e=Lh(t),n=L[t_(t)];if(e!==Uu)return n[f_[e]];var i=Nh(t),o=$v(t);if(i===ip)return o.embeddedWindowWaitingForChat;if(i===op)return n.invited;if(i===rp)return o.embeddedWindowChatEnded;var a=function(t){var e=Of(t);return e?e.name:e}(t);return o.embeddedWindowChattingWithOperator.replace(/{agent}/g,a)},m_=function(t){if(!function(t){return!!Kh(t).prechat}(t))return"";var e=Rf(t,Go);if(e>0){var n=cw(t)[e];return n?n.name:""}return""},w_=function(t){var e=function(t){return t.window?t.window.messages.map((function(t){if(t.senderType===$u||t.type===Ne||t.type===De||t.type===He)return t.senderId||t.sender&&t.sender.id})).reduce((function(t,e){return e&&-1===t.indexOf(e)&&t.push(e),t}),[]).map((function(e){return tw(t,e)})).filter((function(t){return!!t})):[]}(t).map((function(t){return t.name}));return t.window.chatBot?e.concat(t.window.chatBot.name):e},b_=function(t){var e=Ph(t),n=Bg(t);return e||(n=Nm(t)),n},v_=function(t){var e=mv(t);if(!e)return!1;var n=sf(t);if(0===n.length)return!1;var i=tw(t,n[0]);return!i||e.siteId!==i.siteId},__=function(){return{type:Ic}},x_=function(){return{type:kc}},y_=function(){return{type:Td}},S_=function(t){return{type:Mc,payload:t}},C_=function(){return{type:Oc}},k_=function(){return{type:Bc}},I_=function(t){return{type:Tc,payload:t}},M_=function(){return{type:jc,payload:Date.now()}},A_=function(t){return{type:Cl,payload:t}},O_=function(){return{type:kl}},B_=function(t){return{type:Pc,payload:t}},T_=function(t,e){return{type:ts,payload:{campaignId:t,ifOnline:e}}},j_=function(t){return{type:is,payload:t}},P_=function(t){return{type:os,payload:t}},F_=function(t){return{type:es,payload:t}},N_=function(t){return{type:as,payload:t}},W_=function(){return{type:rs}},V_=function(t){return{type:Bs,payload:t}},D_=function(t){return{type:Ps,payload:t}},R_=function(){return{type:Ts}},E_=function(){return{type:Md}},z_=function(){return{type:Od}},L_=function(t,e){return{type:Bd,payload:{targetTab:t,newTab:e}}},H_=function(t,e){return void 0===e&&(e=!1),{type:ls,payload:{campaignId:t,isRestoreChat:e}}},q_=function(t,e,n){return{type:vs,payload:{campaignId:t,crossSiteChatTransfer:e,chatInfo:n}}},U_=function(t){return{type:vc,payload:t}},G_=q(U_,zl),K_=function(){var t=q(U_,Hl).apply(void 0,arguments);return setTimeout((function(){if(top.frames.chat_button_adaptive_container){var t=top.frames.chat_button_adaptive_container.contentWindow;if(t){var e=t.document.querySelector(".chatButton");e&&e.focus()}}else if(top.frames.chat_button_bar_container){var n=top.frames.chat_button_bar_container.contentWindow;if(n){var i=n.document.querySelector(".minimize-bar");i&&i.focus()}}}),500),t},Y_=q(U_,ql),J_=q(U_,Ll),Q_=function(t){return{type:_c,payload:t}},Z_=function(t){return{type:Fs,payload:t}},X_=function(t,e){return{type:Ns,payload:{size:t,buttonOffset:e}}},$_=function(t){return{type:Ws,payload:t}},tx=q($_,uu),ex=q($_,pu),nx=function(t){return{type:Qd,payload:t}},ix=function(t,e){return{type:Zd,payload:{guid:t,intId:e}}},ox=function(t){return{type:Vs,payload:t}},ax=function(t){return{type:cs,payload:t}},rx=function(t){return{type:ss,payload:t}},sx=function(t){return{type:ds,payload:t}},cx=function(t){return{type:Zr,payload:t}},dx=function(t){return{type:Xr,payload:t}},lx=function(t){return{type:$r,payload:t}},ux=function(t){return{type:_s,payload:t}},px=function(t){return{type:xs,payload:t}},hx=function(t,e){return{type:ys,payload:{isHidden:!t,campaignId:e}}},fx=function(t){return{type:Ss,payload:t}},gx=function(t){return{type:ks,payload:t}},mx=function(t,e,n){return{type:Cs,payload:{type:t,fields:e,campaignId:n}}},wx=function(t,e){return{type:t,payload:e}},bx=function(t,e,n){return{type:Ds,payload:{name:t,percent:e,onCancel:n}}},vx=function(t){return{type:Rs,payload:t}},_x=function(t){return{type:Es,payload:t}},xx=function(t){return{type:hs,payload:t}},yx=function(t,e,n){return{type:zs,payload:{ssoUrl:t,showPrelogin:e,ifOpenSignInPageEmbeddedWindow:n}}},Sx=function(t,e){return{type:Js,payload:e}},Cx=function(t){return{type:Qs,payload:t}},kx=function(t){return{type:ll,payload:t}},Ix=function(t){return{type:Ls,payload:t}},Mx=function(t){return{type:Zs,payload:t}},Ax=function(t,e,n){return void 0===n&&(n={}),{type:qs,payload:{message:t,guid:U(),ifCardMasking:e,options:n}}},Ox=function(t,e){return{type:Us,payload:t,meta:e}},Bx=function(){return{type:Ks}},Tx=function(){return{type:Ys}},jx=function(t){return{type:Cc,payload:t}},Px=jx,Fx=jx,Nx=function(t){return{type:yc,payload:t}},Wx=function(t){return{type:Nc,payload:t}},Vx=Nx,Dx=q(Nx,""),Rx=function(t){return{type:xc,payload:t}},Ex=function(){return{type:Fc}},zx=Rx,Lx=q(Rx,""),Hx=function(){return{type:sd}},qx=function(t){return{type:cd,payload:t}},Ux=function(t,e,n,i,o,a){return{type:dd,payload:{ifHelpful:t,actionGuid:e,intentId:n,question:i,botId:o,chatbotMessageId:a}}},Gx=function(t,e,n,i){return{type:Fd,payload:{formActionType:2,guid:t,intentId:e,agentId:n,botId:i,formName:""}}},Kx=function(t,e,n,i,o,a,r){return{type:Nd,payload:{formActionType:0,guid:t,intentId:e,agentId:n,values:a,botId:i,question:o,message:r,formName:""}}},Yx=function(t){return{type:Wd,payload:t}},Jx=function(t,e){return{type:Xs,payload:{chatGuid:t,serverTime:e}}},Qx=function(t,e){return{type:fs,payload:{type:t,params:e}}},Zx=function(t){return{type:Pd,payload:t}},Xx=function(){return{type:ld}},$x=function(){return{type:bs}},ty=function(t){return{type:Wc,payload:t}},ey=function(t){return{type:Vc,payload:t}},ny=q(ey,!0),iy=q(ey,!1),oy=function(){return{type:us}},ay=function(){return{type:ps}},ry=function(t){return{type:ud,payload:t}},sy=function(t){return{type:pd,payload:{message:t}}},cy=function(t,e,n){return{type:gd,payload:{localVideoContainer:t,remoteVideoContainer:e,unmuteRemoteContainer:n}}},dy=function(){return{type:Sd}},ly=function(t,e){return{type:bd,payload:{localVideoContainer:t,remoteVideoContainer:e}}},uy=function(){return{type:vd}},py=function(t){return{type:Cd,payload:t}},hy=function(t){return{type:kd,payload:t}},fy=function(t){return{type:Id,payload:t}},gy=function(t){return{type:$s,payload:t}},my=function(t){return{type:oc,payload:t}},wy=function(t){return{type:ac,payload:t}},by=function(){return{type:ec}},vy=function(t){return{type:nc,payload:t}},_y=function(){return{type:jd}},xy=function(t){return{type:Xd,payload:t}},yy=function(){return{type:Hs}},Sy=function(){return{type:$d}},Cy=function(t){return{type:tl,payload:t}},ky=function(){return{type:rl}},Iy=function(t){return{type:sl,payload:t}},My=function(t){return{type:gl,payload:t}},Ay=function(){return{type:cl}},Oy=function(t){return{type:ml,payload:t}},By=function(){return{type:wl}},Ty=function(){return{type:bl}},jy=function(t){return{type:vl,payload:t}},Py=function(t,e,n,i,o,a){return{type:ul,payload:{url:t,type:e,title:n,iframe:i,noFocus:o,botId:a}}},Fy=function(){return{type:pl}},Ny=function(){return{type:hl}},Wy=function(){return{type:fl}},Vy=function(){return{type:Vd}},Dy=function(t,e){return{type:ms,payload:{right:t,bottom:e}}},Ry=function(t){return{type:ic,payload:t}},Ey=function(t,e){return Ry({text:t,ifDirectlySendOut:e})},zy=function(){return Ry(void 0)},Ly=function(){return{type:Ms,payload:!0}},Hy=function(){return{type:As,payload:!0}},qy=function(t,e){return{type:yl,payload:{guid:t,fieldsValue:e}}},Uy=function(t){return{type:ws,payload:t}},Gy=function(t){return{type:rc,payload:t}},Ky=function(t){return{type:sc,payload:t}},Yy=function(t){return{type:cc,payload:t}},Jy=function(){return{type:Sl}},Qy=function(){return{type:dc}},Zy=function(){return{type:rd}},Xy=function(){return{type:lc}},$y=function(t){return{type:xd,payload:{guid:t}}},tS=function(t){return{payload:t,type:yd}},eS=function(t){return{payload:t,type:uc}},nS=function(t,e){return{payload:{isTransferDone:t,chatGuid:e},type:pc}},iS=function(t){return{payload:t,type:hc}},oS=function(t){return{payload:t,type:fc}},aS=function(t){return{payload:t,type:gc}},rS=function(){return{type:mc}},sS=function(t){return{type:Dc,payload:t}},cS=function(t){return{type:Ml,payload:t}},dS=function(t){return{type:Al,payload:t}},lS=function(){return{type:Ol}},uS=function(t){return{type:wc,payload:t}},pS=function(){return{type:bc}},hS=function(t){return{type:Sc,payload:t}},fS=function(t){return{type:Bl,payload:t}},gS=function(t){return{type:Pl,payload:{remoteVideoContainer:t}}},mS=function(t,e){return{type:jl,payload:{localVideoContainer:t,remoteVideoContainer:e}}},wS=function(){return{type:Os,payload:!0}},bS=function(){return{type:Os,payload:!1}},vS=function(){return{type:Tl}},_S=function(t){return{type:Fl,payload:t}},xS=function(t){return{type:Nl,payload:t}},yS=function(){return{type:gs}},SS=function(t){return{type:Vl,payload:t}},CS=function(t){var e=t.url,n=t.name;return{type:Wl,payload:{url:e,name:n}}},kS=function(t){return{type:Dl,payload:t}},IS=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{type:Rc,payload:1===e.length?e[0]:Bo(e)}},MS=function(){return{type:Ec}},AS=function(){return{type:zc}},OS=function(t){return{type:qc,payload:t}},BS=function(t){return{type:Uc,payload:t}},TS=function(){return{type:Gc}},jS=function(t,e){return{type:Jc,payload:{form:t,onSuccess:e}}},PS=function(t,e){return{type:Yc,payload:{form:t,onSuccess:e}}},FS=function(t,e){return{type:Kc,payload:{form:t,onSuccess:e}}},NS=function(t){return{type:Qc,payload:t}},WS=function(t){return{type:Zc,payload:t}},VS=function(){return{type:Xc}},DS=function(){return{type:$c}},RS=function(){return{type:td}},ES=function(){return{type:Lc}},zS=function(){return{type:Hc}},LS=function(t){return{type:ed,payload:t}},HS=function(t){return{type:hd,payload:t}},qS=function(){return{type:md}},US=function(){return{type:wd}},GS=function(t,e){return void 0===e&&(e=!1),{type:nd,payload:{campaignId:t,alreadyCampaignId:e}}},KS=function(){return{type:id}},YS=function(t){return{type:od,payload:t}},JS=function(t){return{type:nl,payload:t}},QS=function(t,e){return{type:il,payload:{articleId:t,link:e}}},ZS=function(t,e){return{type:hd,payload:[{type:t,time:new Date,content:e,sender:{type:Xu},guid:U()}]}},XS=function(){return ZS(gi,U())},$S=function(t){return ZS(mi,t)},tC=function(){return ZS(wi)},eC=function(){return ZS(bi)},nC=function(){return ZS(vi)},iC=function(){return ZS(_i)},oC=function(){return ZS(xi)},aC=function(t){return{type:ad,payload:t}},rC=function(t){return{type:_l,payload:t}},sC=function(){return{type:xl}},cC=function(t){return{type:js,payload:t}},dC=Object.freeze({__proto__:null,acceptAudioVideoChat:ly,acceptCobrowse:XS,acceptScreenSharing:gS,addPendingMessage:Ey,addSystemMessage:Mx,addVisitorNavigation:N_,agentMsgSeenByVisitor:wy,apiSendText:SS,articleOnClick:Iy,ban:__,browserNotSupportCobrowse:nC,buttonClick:D_,cancelForm:Fx,cancelRequestScreenSharing:bS,cancelVisitorSendText:kS,chatBotAnswerHelpful:Ux,chatBotSelectQuestion:qx,chatBotSetBotVariable:Yx,chatBotVisitorCancelBotForm:Gx,chatBotVisitorSubmitBotForm:Kx,chatInputWarning:Qx,chatWindowOpen:H_,chatWindowPopIn:ay,chatWindowPopOut:oy,chatWindowRestoreCrossSiteChat:q_,chatWindowUpdateChatBotInfo:Sx,chatWindowUpdateChatbotContext:Cx,chatWindowUpdateKBConfig:kx,chatWindowUpdateSSOInfo:yx,chatbotTimeout:Cy,cleanPendingMessages:Vy,cleanUpCobrowseRequest:Ny,closeBotSideWindow:Fy,closeKnowledgeBase:E_,closeMinimizedWindowBubble:by,closePushPage:z_,closeWebView:By,closeWindow:Y_,closeWindowSliently:_y,contentScrollStatusUpdate:ty,disableWindow:ny,emptyVisitorNavigation:W_,enableWindow:iy,endChat:Ex,endCobrowse:iC,endCobrowseFromCrossDomain:Wy,fromChatbotToAgent:Hx,fromKBToAgent:ky,getArticleByIDError:function(t){return{type:dl,payload:t}},getArticlesError:Ay,getRestoreState:O_,getVisitorInfo:sC,hangupAudioVideoChat:qS,hangupScreenSharing:US,hideAudioVideoChat:dy,hideError:Lx,hideQuickReply:Jy,hideRatingFormInWindow:pS,hideScreenSharing:vS,hideWarning:Dx,httpNotSupportCobrowse:oC,increaseRecoverTimes:k_,invitationRefuse:R_,invitatonAccept:V_,notSupportCobrowse:eC,openBotSideWindow:Py,openWebView:Oy,popScreenSharing:xS,prepareP2pChat:cy,prepareScreenSharing:mS,previewImage:CS,pushPage:My,ready:x_,recoverSuccess:C_,refuseCobrowse:tC,removeAgentIsTyping:yy,removePendingMessage:zy,replaceSideWindowTab:L_,requestAudio:Ly,requestScreenSharing:wS,requestVideo:Hy,resetChatWindow:$x,resetMaxId:function(){return{type:el}},resetVisitor:function(t){return{type:ns,payload:t}},restoreState:A_,restrictedWordsError:yS,sendAgentMsgSeenByVisitor:aC,sendChatHeartbeat:AS,sendChatMessages:HS,sendEmailTranscript:BS,sendEndChat:TS,sendEnterOfflineMessage:function(){return{type:"web/enterOfflineMessage"}},sendGetArticleByID:QS,sendGetArticles:JS,sendGetChatButton:GS,sendGetChatWindowConfig:YS,sendGetConfig:KS,sendGetSSORecoverInfo:Zy,sendOfflineHeartbeat:zS,sendPageHeartbeat:MS,sendPageVisit:DS,sendPrechatHeartbeat:ES,sendRequestChat:function(t,e,n){return{type:"web/requestChat",payload:{campaignId:t,chatSource:e,isPrechatDone:n}}},sendRequestChatFromAnotherSite:function(){return{type:"web/requestChatFromAnotherSite"}},sendShowInvitation:cC,sendSkipLogin:VS,sendSubmitOfflineMessage:FS,sendSubmitPostChat:PS,sendSubmitPrechat:jS,sendSubmitRating:OS,sendSubmitSSOInfo:NS,sendSubmitSSOInfo4ChatBot:WS,sendUpdateCurrentUrl:RS,sendUpdateCustomVariables:LS,sendWebAction:IS,setButtonIsOnline:T_,setFrequencyLimitState:Zx,setIsActive:S_,setIsOpenerExists:y_,setIsRecording:function(t){return{type:_d,payload:t}},setIsRecovering:I_,setIsSubmitSSO:rx,setLandscape:tx,setLastSuccessTime:M_,setLocation:rC,setMaxMessageLength:dx,setPageCampaignId:nx,setPageCampaignIntId:ix,setPortrait:ex,setSSOArtifact:ax,setSSOJwt:sx,setShouldFocusBar:Q_,setSkipPreChat:Z_,setSoundOff:B_,setVisitorIsTyping:sy,setWebViewLoading:Ty,setWindowId:xy,setWindowMinimized:K_,setWindowOpened:G_,setWindowRestored:J_,setWindowTabs:fy,showError:zx,showInvitation:j_,showInvitationProcessing:P_,showKnowledgeBaseInfo:function(){return{type:Ad}},showTab:xx,showWarning:Vx,sideWidowTabSelect:py,ssoLoginInPopUp:Qy,ssoLoginInSelf:Xy,startChatAgain:Xx,startChatBot4Invite:Tx,startCobrowse:$S,startScreenSharingDirectly:_S,startWaiting:Bx,submitForm:Px,switchServer:function(t){return{type:Ac,payload:t}},toggleButtonVisibility:hx,toggleFocused:Wx,togglePopupBubble:vy,toggleSideWindow:hy,toggleToolbox:Uy,unmuteRemote:uy,updateAgent:fx,updateAutoEjectTranscript:uS,updateBotFormMessage:qy,updateButton:px,updateCampaign:ux,updateChatIdentity:Jx,updateChatVersion:Ky,updateChatbotSendFormMessage:function(t,e){return{type:Il,payload:{guid:t,fieldsValue:e}}},updateConfig:cx,updateConfigTransferSite:oS,updateCrossSiteTransfer:iS,updateDepartment:gx,updateEmailToSendTranscript:Yy,updateFieldsEntities:mx,updateIsMessageScrollBottom:dS,updateKBEntities:wx,updateMaxAgentReadId:my,updateMaxReadId:gy,updateMessageIfDisable:tS,updateMessageIsProcessed:$y,updateMessageStatusToRead:lS,updateMessages:Ix,updatePageVisitorStatus:ox,updatePostChatVisible:fS,updateQueue:ry,updateRatingFieldsAfterCrossSiteTransfer:rS,updateRequestFromAnotherDone:nS,updateServerInstanceTag:lx,updateSize:X_,updateTransferCampaignId:eS,updateTransferVisitorGuid:aS,updateTransferredServerInstanceTag:sS,updateUploadProgress:bx,updateVideoStatus:function(t,e){return{type:fd,payload:{status:t,startTime:e}}},updateVisibleInputAreaWhenBotChatting:cS,updateVisitor:F_,updateVisitorStatus:Gy,updateWebViewVisitorInfo:jy,updateWindowId:function(t){return{type:tc,payload:t}},updateWindowPosition:Dy,updateWindowWidth:hS,uploadFail:_x,uploadSuccess:vx,visitorAcceptAgentRequestVisitorScreenSharing:function(){return{type:"window/visitorAcceptAgentRequestVisitorScreenSharing"}},visitorSendFile:Ox,visitorSendImage:function(t,e){return{type:Gs,payload:{name:t,encode:e,percent:0}}},visitorSendText:Ax,windowMounted:Sy}),lC=function(t,e,n){return{type:Dd,payload:{id:e,value:n},meta:{formType:t}}},uC=function(t,e,n){return{type:Rd,payload:{id:e,error:n},meta:{formType:t}}},pC=function(t,e){return{type:Ed,payload:{id:e},meta:{formType:t}}},hC=function(t,e){return{type:zd,payload:{id:e},meta:{formType:t}}},fC=function(t){return{type:Ld,payload:t,meta:{formType:t}}},gC=function(t){return{type:Hd,payload:t,meta:{formType:t}}},mC=function(t){return{type:qd,payload:t,meta:{formType:t}}},wC=function(t,e){return{type:Kd,payload:t,meta:e}},bC=function(t){return{type:Yd,payload:t}},vC=function(t,e){return{type:Gd,payload:{ids:e},meta:{formType:t}}},_C=function(t,e,n){return function(i,o,a){return function(r){return new Promise((function(s,c){var d=a.filter((function(t){return""!==t.error}));if(d.length>0){var l=d.map((function(t){return t.id}));return r(vC(e,l)),void c(l)}var u=xr(a),p=xb().popout;p&&p.ticketId&&!Number.isNaN(+p.ticketId)&&(u.ticketId=+p.ticketId),p&&p.departmentId&&!Number.isNaN(+p.departmentId)&&(u.department=+p.departmentId),r(fC(e)),XC(i+".submit",u),r(t(nr(u),(function(t){return new Promise((function(c){XC(i+".submit.success"),r(gC(e));var d=u;if(u.custom){var l=Object.keys(u.custom).reduce((function(t,i){var o=t;return o[a.find((function(t){return t.id===(n||e)+"-"+i})).label]=u.custom[i],o}),{});d=Object.assign({},u,{custom:l})}delete d.captcha,r(wC(d,e)),setTimeout((function(){r(e===dp?ny():function(t){return{type:Jd,meta:t}}(e)),c(t),s()}),o)}))}),(function(t){XC(i+".submit.fail",t),c(null,t)})))}))}}},xC=_C(jS,sp),yC=_C(PS,cp,cp),SC=_C(FS,dp),CC=function(t,e,n){return t===sp?xC("livechat.prechat",e,n):t===cp?yC("livechat.postChat",e,n):SC("livechat.offlineMessage",e,n)},kC=3e4,IC=18e4,MC=function(t,e){return t===e||typeof t==typeof e&&(null==t||null==e?t==e:Object.keys(t).reduce((function(n,i){return n&&t[i]===e[i]}),!0)&&Object.keys(e).reduce((function(n,i){return n&&e[i]===t[i]}),!0))},AC=function(t,e){return Object.keys(t).reduce((function(n,i){if(t[i]===e[i])return n;var o=n;return o[i]=t[i],o}),{})};function OC(t,e,n){void 0===n&&(n=!0);var i=t.getState(),o=Pv(i),a=Object.assign({},o,e);if(!MC(a,o)){n&&t.dispatch(cx({customVariableResult:a}));var r=AC(a,o);Object.keys(r).length>0&&t.dispatch(LS(r))}}var BC,TC,jC,PC=function(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n.forEach((function(e){t.dispatch(e.apply(void 0,i))}))}}},FC=function(t,e){B[t]=function(){return console.warn("$brandingNameAPI".replace("$brandingName",N.brandingName)+"."+t+" is deprecated. Please use new version of JavaScript API instead."),e.apply(void 0,arguments)}},NC=function(t){return function(){return um(t.getState())}},WC=function(t){return function(){return Fm(t.getState())}},VC=function(t){return function(){return"mobile"===t.getState().page.platform}},DC=function(t){return function(e){var n;return void 0===e&&(e=cm(t.getState())),!!(n=t.getState(),Im(n).filter((function(t){return!t.isHidden}))).find((function(t){return t.id===e}))}},RC=function(t){return function(e){return void 0===e&&(e=cm(t.getState())),lm(t.getState())[e]?"online":"offline"}},EC=function(t){return function(){return!!Bm(t.getState())}},zC=function(t){return function(){return zf(t.getState())}},LC=function(t,e){return function(n){var i=n;return void 0===i&&(i=Rr()[0]),lv(e.getState(),t,i).map((function(e){return Object.assign({},e,{id:e.id.slice(t.toString().length+1)})}))}},HC=function(t){return function(){return Tm(t.getState())}},qC=function(t){return function(){return Hh(t.getState())}},UC=function(t){return function(){return fm(t.getState())}},GC=function(t){return function(){return _h(t.getState())}},KC=function(t,e){return function(n,i){var o=i||Rr()[0];t.dispatch(mx(e,n,o))}},YC=function(t,e){return function(){return e.dispatch(CC(t,0,lv(e.getState(),t,qh(e.getState()))))}},JC={},QC=function(){return JC},ZC={},XC=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];ZC[t]&&setTimeout((function(){ZC[t].forEach((function(t){try{t.apply(void 0,n)}catch(t){}}))}),0)},$C=function(t,e){return ZC[t]||(ZC[t]=[]),ZC[t].push(e),function(){ZC[t]=ZC[t].filter((function(t){return t!==e}))}},tk=function(t){return function(e){var n=t[e];if(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return n.apply(void 0,o)}}},ek="text",nk="htmlText",ik="image",ok="video",ak="button",rk="quickReply",sk="file",ck="complex",dk="loading",lk=((BC={})[Hi]=function(t,e,n){var i=e.content.taskbot,o=i.isEnableChatInput;return i&&i.avatar&&-1!==i.avatar.indexOf("|")&&(i=Object.assign({},i,{avatar:Wr(i.avatar.split("|")[1],n)})),Object.assign({},t,{isTaskBot:!0,taskBot:Object.assign({},t.taskBot,i,{avatar:Wr(i.avatar,n)}),isVisibleInputAreaWhenTaskbot:o,enableChatInputWhenTaskbot:!0,chatStatus:ap,visitorStatus:Gl,webView:null,quickReply:null})},BC),uk="taskBot/startTaskBot",pk="taskBot/locationCancelled",hk="taskBot/visitorSSOCancelled",fk="taskBot/meetingCancelled",gk="taskBot/meetingSubmitted",mk="taskBot/updateMessageIfDisable",wk="taskBot/updateMessageIsProcessed",bk="taskBot/microsoftBooking",vk="bot/botFeedback",_k=((TC={})[uk]=function(t){return Object.assign({},t,{isTaskBot:!0,messages:t.messages.filter((function(t){return"system"===t.sender.type})),maxId:-1,chatStatus:ap,visitorStatus:Gl})},TC["taskBot/updateTaskBot"]=function(t,e){var n=e;return n&&n.avatar&&-1!==n.avatar.indexOf("|")&&(n=Object.assign({},n,{avatar:n.avatar.split("|")[1]})),Object.assign({},t,{taskBot:n})},TC[mk]=function(t,e){var n=e.guid,i=e.ifDisable,o=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{ifDisable:i}):t}));return Object.assign({},t,{messages:o})},TC[wk]=function(t,e){var n=e.guid,i=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{isProcessed:!0}):t}));return Object.assign({},t,{messages:i})},TC),xk=["avatar"],yk=["avatar","apiHost"],Sk=[Ve,De,_e,xe,"visitorSetEmail"],Ck=function(t){var e=t.length,n=e-1,i=t[n];if(i&&Sk.includes(i.type))for(var o=e-1;o>=0;o--)if(!Sk.includes(t[o].type)){n=o;break}return n},kk=function(t,e){return t.concat(e)},Ik=function(t,e,n){for(var i=function(){var i=t[o];if(n(i))return{v:t.map((function(t){return t===i?Object.assign({},e,{displayedText:t.displayedText}):t}))}},o=0;o<t.length;o+=1){var a=i();if("object"==typeof a)return a.v}return kk(t,e)},Mk=function(t){return t.type!==ai&&t.type!==li&&t.type!==di&&t.type!==ui&&t.type!==ci&&t.type!==pi&&t.type!==hi&&t.type!==fi&&t.type!==si&&t.type!==ze&&t.type!==Xn&&t.type!==$n&&t.type!==gi&&t.type!==mi&&t.type!==_i&&t.type!==bi&&t.type!==vi&&t.type!==wi&&t.type!==xi&&t.type!==ti&&t.type!==Vi&&t.type!==Di&&t.type!==Ri&&t.type!==Ei},Ak=function(t){return t.type!==li&&t.type!==di&&t.type!==ui&&t.type!==ci},Ok=function(t){return t.type!==Di&&t.type!==Vi&&t.type!==Ri&&t.type!==Ei},Bk=[gi,mi,_i,bi,vi,wi,xi],Tk=function(t){return Bk.every((function(e){return t.type!==e}))},jk=function(t,e){return t.map((function(t){return(!e||t.sender.type!==ep)&&e||t.type!==Rn&&t.type!==Jn&&t.type!==qn&&t.type!==Un&&t.type!==En&&t.type!==Hn?t:Object.assign({},t,{ifDisable:!0,notShowLoading:!0})}))},Pk=function(t){return t.map((function(t){return t.sender.type===np&&t.type===qi?Object.assign({},t,{ifDisable:!0,isProcessed:!0}):t}))},Fk=function(t){return t.map((function(t){return t.sender.type===ep&&t.type===Ki?Object.assign({},t,{ifDisable:!0,isProcessed:!0}):t}))},Nk=function(t){return t.map((function(t){return t.type===Rn||t.type===Hn?Object.assign({},t,{notShowLoading:!0}):t}))},Wk=function(t,e){return t.messages.filter((function(t){return t.type===e})).length>0},Vk=function(t){return function(e,n){var i=Nk(e.messages);return Object.assign({},e,{isUploading:!0,error:"",warning:"",messages:i.concat({type:t,time:new Date,content:{fileName:n.fileName,percent:0,onCancel:void 0},sender:{type:Xu}}),quickReply:null})}},Dk=function(t,e){Cb()||yb({mediaChatHash:Date.now().toString()});var n=t.involvedAgents||[];return n.filter((function(t){return t===e})).length>0?Object.assign({},t,{chatStatus:ap,visitorStatus:Gl}):(n=(t.involvedAgents||[]).concat([e]),Object.assign({},t,{involvedAgents:n,chatStatus:ap,isChatBot:!1,webView:null,quickReply:null,visitorStatus:Gl}))},Rk=function(t,e){var n=t.disPlayPriority+1;t.sideWindowItems.some((function(t){var i=t.id===e;return i&&(t.disPlayPriority=n),i}));var i=e===Sp||e===Cp;return{sideWindowSelectedTab:e,disPlayPriority:n,showChatWindowInSidewindow:i,isFocused:i}},Ek=function(t,e){var n=t.disPlayPriority;n?n+=1:n=0;var i=t.sideWindowItems,o=e.id,a=e.noFocus||!1,r=Ua()&&e.id===_p&&a,s=e.id;return Ua()&&(s=t.tab===Yu?Cp:Sp,r&&(o=s)),i&&i.some((function(t){var i=t.id===e.id;return i&&(t.disPlayPriority=n),i}))?{sideWindowSelectedTab:o,showChatWindowInSidewindow:r,isFocused:!1,disPlayPriority:n}:(e.disPlayPriority=n,i&&0!==i.length||(i=[],Ua()&&i.push({id:s,isSystem:!0,disPlayPriority:0})),i.push(e),{sideWindowItems:i,sideWindowSelectedTab:o,showChatWindowInSidewindow:r,isFocused:!1,disPlayPriority:n})},zk=function(t,e,n,i){return void 0===i&&(i=!1),e?Ek(t,{id:n,isSystem:!0,noFocus:i}):function(t,e){var n=t.sideWindowItems;if(n){var i=-1;n.some((function(t,n){var o=t.id===e;return o&&(i=n),o}));var o={};if(i>-1)return 1===n.length||2===n.length&&Ua()?(o.sideWindowSelectedTab=void 0,o.disPlayPriority=0,n=[]):t.sideWindowSelectedTab===e?(n.splice(i,1),o.sideWindowSelectedTab=n.reduce((function(t,e){return t.disPlayPriority>e.disPlayPriority?t:e})).id,o.sideWindowSelectedTab===Sp||o.sideWindowSelectedTab===Cp?(o.showChatWindowInSidewindow=!0,o.isFocused=!0,o.maxReadId=Math.max(t.maxReadId,t.maxId)):(o.showChatWindowInSidewindow=!1,o.isFocused=!1)):n.splice(i,1),o.sideWindowItems=n,o}return{}}(t,n)},Lk=function(t,e){return Object.assign({},t,zk(t,e.status===ga||e.status===ha||e.status===ma,xp),zk(t,e.status===va||e.status===wa||e.status===ba,yp),{vChatStatus:e.status,audioVideoChatStartTime:e.startTime||0,audio_video_disabled:e.status!==fa})},Hk=function(t,e){return Object.assign({},t,zk(t,e.status===xa||e.status===ya||e.status===Sa||e.status===Ca||e.status===ka,Mp),{screenSharingStatus:e.status,screenSharing_disabled:e.status!==_a})},qk=function(t){return Object.assign({},Lk(t,{status:fa,startTime:0}),{audioVideoAgentId:0,isRecording:!1})},Uk=function(t){return Object.assign({},Hk(t,{status:_a}),{screenSharingAgentId:0})},Gk=function(t){return Object.assign({},(e=t,n={status:_a},Object.assign({},e,zk(e,n.status===xa||n.status===ya||n.status===Sa||n.status===Ca||n.status===ka,Mp),{screenSharingStatus:n.status})),{screenSharingAgentId:0});var e,n},Kk=function(t){var e=Qw();if(e.removeItem("pushpage_list"),e.removeItem("botConfidenceAnswerLoading_list"),!t)return t;var n=jk(t.messages.filter(Mk),!1);return n=Pk(n.filter((function(t){return t.type!==Ui}))),n=Fk(n),Object.assign({},t,zk(t,!1,vp),zk(t,!1,_p),{disPlayPriority:0,chatStatus:rp,error:"",warning:"",messages:n,webView:null,quickReply:null,visitorStatus:Xl})},Yk=function(t,e){return n=t.chatGuid,((i=kb(n))?i===Cb():(Ib(n),1))?e():t;var n,i},Jk=function(t){return function(e,n){if(e.cobrowsing===t)return e;var i=t===Ru,o=t===Eu?n.content.sessionCode:void 0,a=t===Eu?n.content.groupId:void 0,r=t!==Eu?void 0:e.cobrowseCallId,s=t===Ru?n.sender.id:0;return Object.assign({},e,zk(e,i,kp),{cobrowsing:t,cobrowseSessionCode:o,cobrowseGroupId:a,cobrowseAgent:s,cobrowseCallId:r})}},Qk=function(t,e){return!!t.crossSiteChatTransfer&&(!!e.siteId&&t.crossSiteChatTransfer.siteId!==e.siteId)},Zk=function(){return function(t,e){return t.webView?Object.assign({},t,{webView:null}):t}},Xk=function(){return function(t,e){if(e.type===Yn){var n=Zk()(t,e);if(e.content.options&&e.content.options.length>0)return Object.assign({},n,{quickReply:{items:e.content.options.map((function(t){return{type:jh,name:t.label}})),botId:e.content.botId,agentId:e.content.agentId}})}if(e.type===zn&&e.content.textChatWithAgent)return Object.assign({},t,{quickReply:{items:[{type:Th,name:e.content.textChatWithAgent}],contactAgentText:e.content.textChatWithAgent}});if(e.type===Un||e.type===qn||e.type===Jn){var i=Zk()(t,e);return Object.assign({},i,{quickReply:null})}if(e.type===Rn||e.type===Hn){var o=t;if(e.type===Rn&&(o=Zk()(t,e)),e.content.intentAnswers&&e.content.intentAnswers.length>0){var a=null,r=e.content.intentAnswers.filter((function(t){return t.type===rk}));r.length>0&&(a=r[r.length-1]);var s=0;return e.content.intentAnswers.forEach((function(t,e){s+=t.delayTime})),a&&a.content&&a.content.quickReplyItems&&a.content.quickReplyItems.length>0?Object.assign({},o,{quickReply:{delayTime:s-a.delayTime,items:a.content.quickReplyItems,contactAgentText:e.content.ifAgentOnline?a.content.agentOnlineText:a.content.agentOfflineText,botId:e.content.botId,agentId:e.content.agentId}}):Object.assign({},o,{quickReply:null})}}return Object.assign({},t,{quickReply:null,webView:null})}},$k=function(t,e,n,i,o,a){var r,s=Object.assign({},lk,((r={})[Gi]=function(n){var i=Pk(n.messages.filter((function(t){return t.id<e.id&&t.type!==Ui})));return Object.assign({},t,{messages:i.concat(n.messages.filter((function(t){return t.id>=e.id}))),isTaskBot:!1,isVisibleInputAreaWhenTaskbot:!0,enableChatInputWhenTaskbot:!0})},r[Ne]=function(t){if(Qk(t,e))return t;var n=e.content.agent.id||e.senderId;return Object.assign({},Dk(t,n),{involvedAgents:[n],isTaskBot:!1,webView:null})},r[De]=function(t){return Qk(t,e)?t:Dk(t,e.content.agent.id)},r[He]=function(t){return Qk(t,e)?t:t.involvedAgents?t.involvedAgents.indexOf(e.senderId)>=0?t:Object.assign({},t,{involvedAgents:t.involvedAgents.concat(e.senderId)}):t},r[Ve]=function(t){var n=t.involvedAgents||[];return n.length<=1?t:Object.assign({},t,{involvedAgents:n.filter((function(t){return t.toString()!==e.sender.id.toString()}))})},r[We]=function(t){return Object.assign({},t,zk(t,!1,vp),{chatStatus:rp,visitorStatus:"refusedByOperator"})},r[Se]=function(t){return Object.assign({},t,{quickReply:null,isVisibleInputAreaWhenBotChatting:!0})},r[be]=function(t){if(!(a||n).postchat)return Kk(t);var e=Pk(t.messages.filter((function(t){return t.type!==Ui}))).filter((function(t){return t.type!==Wn})).concat({type:Wn,sender:{type:$u}});return Object.assign({},t,{error:""},zk(t,!1,vp),{chatStatus:rp,quickReply:null,webView:null,visitorStatus:Xl,messages:e})},r[Ce]=function(t){return Object.assign({},t,{chatStatus:ip,quickReply:null,webView:null,visitorStatus:Ul})},r[Zn]=function(t){return Object.assign({},t,{chatStatus:ip,quickReply:null,webView:null,visitorStatus:Ul})},r[Ln]=function(t,e){return function(t,e,n){return Object.assign({},t,{isChatBot:!0,isTaskBot:!1,chatBot:Object.assign({},t.chatBot,function(){var t=e.content.bot;if(t&&t.avatar&&-1!==t.avatar.indexOf("|"))return t.avatar=Wr(t.avatar.split("|")[1],n),t;var i=t.avatar,o=j(t,xk);return i=Wr(i,n),Object.assign({avatar:i},o)}()),chatStatus:ap,visitorStatus:Gl})}(t,e,o)},r[tn]=function(t){return Yk(t,(function(){return Lk(t,{status:ga})}))},r[nn]=function(t,e){return Yk(t,(function(){return Lk(t,{status:ma,startTime:e.time-t.timeDelay})}))},r[Sn]=function(t){return Yk(t,(function(){return Lk(t,{status:va})}))},r[kn]=function(t,e){return Yk(t,(function(){return Lk(t,{status:ba,startTime:e.time-t.timeDelay})}))},r[Je]=function(t,e){return t.vChatStatus!==fa?t:Yk(t,(function(){return Object.assign({},Lk(t,{status:ha}),{audioVideoAgentId:e.sender.id})}))},r[Ze]=function(t,e){return Yk(t,(function(){return Object.assign({},Lk(t,{status:ma,startTime:e.time-t.timeDelay}),{audioVideoAgentId:e.sender.id})}))},r[bn]=function(t,e){return t.vChatStatus!==fa?t:Yk(t,(function(){return Object.assign({},Lk(t,{status:wa}),{audioVideoAgentId:e.sender.id})}))},r[_n]=function(t,e){return Yk(t,(function(){return Object.assign({},Lk(t,{status:ba,startTime:e.time-t.timeDelay}),{audioVideoAgentId:e.sender.id})}))},r[Qe]=qk,r[Xe]=qk,r[$e]=qk,r[yn]=qk,r[xn]=qk,r[vn]=qk,r[An]=qk,r[On]=qk,r[rn]=qk,r[sn]=qk,r[Cn]=qk,r[In]=qk,r[Mn]=qk,r[en]=qk,r[on]=qk,r[an]=qk,r[Mi]=function(t){return Yk(t,(function(){return Hk(t,{status:xa})}))},r[Oi]=function(t){return Yk(t,(function(){return Hk(t,{status:Sa})}))},r[yi]=function(t,e){return t.screenSharingStatus!==_a?t:Yk(t,(function(){return Object.assign({},Hk(t,{status:ya}),{screenSharingAgentId:e.sender.id})}))},r[Ci]=function(t,e){return Yk(t,(function(){return Object.assign({},Hk(t,{status:Ca}),{screenSharingAgentId:e.sender.id})}))},r[Ni]=function(t,e){return Yk(t,(function(){return Object.assign({},Hk(t,{status:Ca}),{screenSharingAgentId:e.sender.id})}))},r[ji]=function(t,e){return t.screenSharingStatus!==_a?t:Yk(t,(function(){return Object.assign({},Hk(t,{status:ka}),{screenSharingAgentId:e.sender.id})}))},r[Si]=Uk,r[ki]=Uk,r[Ii]=Uk,r[Wi]=Uk,r[zi]=Uk,r[Ai]=Uk,r[Bi]=Uk,r[Fi]=Uk,r[Ti]=Uk,r[Pi]=Uk,r[ze]=function(t){return t.limitClockerCount>0?Object.assign({},t,{warning:"",limitClockerCount:0,stopLimitClocker:!0}):t},r.systemAudioIsBeingRecorded=function(t){return Object.assign({},t,{isRecording:!0})},r.systemVideoIsBeingRecorded=function(t){return Object.assign({},t,{isRecording:!0})},r[cn]=Jk(Ru),r[hn]=Jk(Du),r[fn]=Jk(Du),r[gn]=Jk(Du),r[wn]=Jk(Du),r[mn]=Jk(Du),r[pn]=Jk(Du),r[un]=Jk(Du),r[dn]=Jk(Eu),r[ln]=function(){var n=e.content;return Object.assign({},t,{cobrowseCallId:n})},r[Ki]=Xk(),r[Rn]=Xk(),r[Yn]=Xk(),r[zn]=Xk(),r[Hn]=Xk(),r[Kn]=function(t,e){return t.webView&&t.webView.content&&t.webView.content.GUID&&e.content.GUID===t.webView.content.GUID?Object.assign({},t,{webView:Object.assign({},t.webView,{success:!0})}):t},r[Jn]=Xk(),r[Un]=Xk(),r[qn]=Xk(),r[Gn]=Xk(),r.cancelBotForm=Xk(),r[Fe]=function(t){return Object.assign({},t,{visitorStatus:tu})},r)),c=s[e.type],d=t;return c&&(d=c(t,e,o)),d.isFocused&&(d=Object.assign({},d,{maxReadId:Math.max(t.maxReadId,t.maxId)})),d},tI=function(t){return Object.assign({fields:{name:"",email:"",phone:"",company:"",product:"",department:void 0,ticketId:void 0,custom:{}},forms:{prechat:"none",postchat:"none",offline:"none",rating:"none"},chatStatus:"none",messages:[],sourceMessages:[],maxId:-1,involvedAgents:[],draft:"",maxReadId:-1,isFocused:!1,isFrequencyLimited:!1,showPrelogin:!1,ssoUrl:"",queue:{},error:"",warning:"",fileUploadCount:0,disabled:!1,vChatStatus:fa,screenSharingStatus:_a,audioVideoChatStartTime:0,stopLimitClocker:!1,limitClockerCount:0,popupBubble:"none",cobrowsing:Du,cobrowseAgent:0,bottom:0,right:0,pendingMessage:void 0,maxAgentReadId:"",maxVisitorReadId:"",showToolbox:!1,visitorStatus:$l,chatVersion:"",isMessageScrollBottom:!0},t)},eI=t(1)((function(t,e){return t.find((function(t){return t.guid===e.guid}))}));function nI(t){return tI({id:t.id,tab:zu,right:t.right,bottom:t.bottom})}var iI,oI,aI=function(t,e){var n=t;return 0===e.sourceMessages.length||t.find((function(t){return t.type===Yi}))&&t.forEach((function(t){if(t.type===Yi)if(t.sender.type===$u)n=n.filter((function(t){return t.type!==be}));else{var i=function(t){for(var e=t.length-1;e>=0;e-=1)if(t[e].type===Yi&&t[e].extras&&"null"!==t[e].extras)return!0;return!1}(e.sourceMessages);i&&(n=n.filter((function(t){return t.type!==Yi})))}})),n},rI=Object.assign({},_k,((jC={})[ic]=function(t,e){return Object.assign({},t,{pendingMessage:e})},jC[vs]=function(t,e,n){var i=e.campaignId,o=e.crossSiteChatTransfer,a=e.chatInfo,r=n.right,s=n.bottom;return tI({id:i,tab:Uu,involvedAgents:[],chatStatus:ap,visitorStatus:Gl,chatGuid:o.chatGuid,crossSiteChatTransfer:o,right:r,bottom:s,maxReadId:a.maxReadId,isFocused:a.windowStatus!==Hl})},jC[ls]=function(t,e,n){var i=e.campaignId,o=n.right,a=n.bottom;return tI({id:i,tab:zu,right:o,bottom:a})},jC[ld]=nI,jC[bs]=nI,jC[is]=function(t,e,n){var i=n.campaignId,o=n.right,a=n.bottom,r=e.chat;return t?Object.assign({},t,{chatGuid:r&&r.guid}):e.type===ou||e.type===au&&e.isManual?function(t,e,n,i){var o=e.isManual,a=o&&(e.type===au||e.type===ou),r=e.chat,s=Jl;return o&&(s=a?tu:Yl),tI({id:t,tab:Uu,chatStatus:op,chatGuid:r&&r.guid,right:n,bottom:i,messages:a?[]:[{id:-1,time:new Date,type:ri,sender:{id:e.agent?e.agent.id:0,type:$u},content:e.text,guid:U()}],sourceMessages:[],involvedAgents:e.agent?[e.agent.id]:[],visitorStatus:s})}(i,e,o,a):t},jC[ms]=function(t,e){return Object.assign({},t,{right:e.right,bottom:e.bottom})},jC[Ns]=function(t,e){var n=e.buttonOffset;return t?Object.assign({},t,{right:n.right,bottom:n.bottom}):t},jC[zs]=function(t,e){return Object.assign({},t,e)},jC[Js]=function(t,e){return Object.assign({},t,{chatBot:function(){var t=e;if(t&&t.avatar&&-1!==t.avatar.indexOf("|"))return t.avatar=Wr(t.avatar.split("|")[1],e.apiHost),t;var n=t.avatar,i=t.apiHost,o=j(t,yk);return n=Wr(n,i),Object.assign({avatar:n},o)}()})},jC[Qs]=function(t,e){return Object.assign({},t,{chatbotContext:e})},jC[ll]=function(t,e){return Object.assign({},t,{kbConfig:e})},jC[Ls]=function(t,e,n){var i=n.campaign,o=(n.fields,n.downloadUrl),a=n.apiHost,r=n.crossSiteTransferCampaign,s=e;t.isMessageScrollBottom||(s=e.map((function(t){return pr(t)||fr(t)||gr(t)||br(t)||wr(t)?Object.assign({},t,{isSeenByVisitor:!1}):t})));var c=s.filter((function(e){return!eI(t.sourceMessages,e)})),d=t.isVisibleInputAreaWhenBotChatting,l=c[c.length-1];l&&([Dn].includes(l.type)||[np,$u].includes(l.sender.type))&&(d=!0);var u=s.find((function(t){return t.type===je})),p=t.visitorTyping;u&&(p=!1);var h=s[s.length-1].guid,f=s.find((function(t){return t.type===Ce}))&&t.messages.find((function(t){return t.type===Ce})),g=s.find((function(t){return t.type===ve}))&&t.messages.find((function(t){return t.type===ve})),m=s.filter((function(e){var n=(void 0===e.id||eI(c,e))&&e.type!==je;return(!n||!f||e.type!==Ce)&&((!n||!g||e.type!==ve)&&("botConfirmForm"!==e.type&&"visitorConfirmBotForm"!==e.type&&"agentAttachTicketFail"!==e.type&&((e.type!==be||!s.find((function(t){return t.type===Yi&&t.extras})))&&(n&&e.type===Yi?function(t,e){if(e.sender.type===$u&&e.extras&&"null"!==e.extras)return!0;for(var n=!0,i=t.messages.length-1;i>=0;i-=1)if(t.messages[i].type===Yi&&t.messages[i].extras&&null!==t.messages[i].extras){n=!1;break}return n}(t,e):n))))})),w=function(t){var e=t.find((function(t){return t.type===Hi})),n=t.find((function(t){return t.type===qi}));if(e&&n){var i=t.reduce((function(t,e,n){return e.type.toLowerCase().startsWith("visitor")?t.concat(n):t}),[]);if(i.length>0){var o=i[i.length-1];return t.map((function(t,e){return e<o&&t.type===qi?Object.assign({},t,{isProcessed:!0}):Object.assign({},t,{isProcessed:!1})}))}}return t}(m),b=w.reduce(function(t,e,n){return function(i,o){var a=o.type;if(a===Bn||"systemGotoOfflineMessage"===a)return i;var r=i;a!==Vn&&(r=r.filter((function(t){return t.type!==Vn}))),o.sender.type!==ep&&o.sender.type!==$u||(r=Nk(i));var s=Object.assign({},o,{time:new Date(o.time-e),originalTime:o.time});if(a===Ce){var c=jk(r,!0);return kk(c,s)}if(s.sender.type===ep&&a===Dn){var d=r.filter((function(t){return t.type!==Vn}));return d.forEach((function(t,e){t.type===Ki&&(d[e]=Object.assign({},t,{content:Object.assign({},t.content,{isIntentEnd:!0})}))})),d}if(s.sender.type===ep&&s.type!==Vn&&s.type!==Hn){var l=!1,u=r.map((function(t){return t.type!==Vn||t.timeout||t.content!==s.content.messageGuid?t.type===Vn&&t.content.messageGuid===s.content.messageGuid?(l=!0,t):t:(l=!0,s)}));return l?u:kk(r,s)}if(s.type===Ne){var p=[].concat(r);return p=p.map((function(t){return t.sender&&t.sender.type===$u&&0===t.sender.id?Object.assign({},t,{sender:Object.assign({},t.sender,{id:s.content.agent.id})}):t})),p=jk(p,!0),p=Pk(p),p=Fk(p),kk(p,s)}if(s.type===Ue){var h=function(t){return t.type===Ge&&t.content===s.content.guid},f=r.find((function(t){return h(t)}));return f&&(f=Object.assign({},s,{guid:f.guid})),Ik(r,f,h)}if(s.type===Se){var g=r.map((function(t){return t.type===Un?Object.assign({},t,{ifDisable:!0}):t}));return Ik(g,s,(function(t){return t.type===Xn&&t.guid===s.guid}))}if(s.type===Ie)return Ik(r,s,(function(t){return t.type===$n}));if(s.type===ke)return Ik(r,s,(function(t){return t.type===ti}));if(s.type===Be)return Ik(r,s,(function(t){return t.type===ai}));if(s.type===je)return r;if(s.type===be)return[].concat(r).map((function(t){return t.type!==Ke||t.isHidden?t:Object.assign({},t,{isHidden:!0})})).concat([s,{id:s.id,type:ni,content:t.startChatAgain,sender:{type:tp},guid:U()},t.downloadTranscript&&{id:s.id,type:ii,content:{text:t.downloadTranscript,url:n},sender:{type:tp},guid:U()},{id:s.id,type:oi,content:t.buttonTranscript,sender:{type:tp},guid:U()}].filter((function(t){return t})));if(s.type===Sn)return Ik(r,s,(function(t){return t.type===di}));if(s.type===Mi)return Ik(r,s,(function(t){return t.type===Vi}));if(s.type===Ln)return Ik(r,s,(function(t){return t.type===di}));if(s.type===tn)return Ik(r,s,(function(t){return t.type===ci}));if(s.type===nn||s.type===kn)return Ik(r,s,(function(t){return t.type===li}));if(s.type===Oi)return Ik(r,s,(function(t){return t.type===Di}));if(s.type===Ni)return Ik(r,s,(function(t){return t.type===Ei}));if(s.type===Ae)return Ik(r,s,(function(t){return t.type===pi}));if(s.type===Oe)return Ik(r,s,(function(t){return t.type===hi}));if(s.type===Te)return Ik(r,s,(function(t){return t.type===fi}));if(s.type===In||s.type===Mn||s.type===Cn||s.type===on||s.type===an||s.type===en)return kk(r.filter(Ak),s);if(s.type===Bi||s.type===Fi||s.type===Ti||s.type===Ai)return kk(r.filter(Ok),s);if(s.type===dn||s.type===mn||s.type===hn||s.type===pn||s.type===fn||s.type===un||s.type===cn||s.type===ln)return kk(r.filter(Tk),s);if(s.type===ze){var m=r.filter((function(t){return t.type!==ze}));return kk(m,s)}if(s.type===Pe&&r.length>0){if(r[0].type===ri&&!r.find((function(t){return t.type===Ln})))return r.map((function(t,e){return 0===e?Object.assign({},t,{type:Pe,id:s.id},s):t}));var w=r.filter((function(t){return t.type!==ze}));return kk(w,s)}if(s.type===Qn){var b=r.map((function(t){return t.type===Ki&&t.content.GUID===s.content.guid?Object.assign({},t,{disableRate:!0,visitorRate:s.content.visitorRate}):t}));return kk(b,s)}if(s.type===Kn){var v=r.map((function(t){var e=t.content.GUID||t.content.messageGuid;return t.type!==Un&&t.type!==Ki||e!==s.content.GUID?t:Object.assign({},t,{ifDisable:!0})}));return kk(v,s)}if(s.type===Pn)return[].concat(r).filter((function(t){return t.type!==Wn})).concat(s).concat({type:Wn,sender:{type:$u}});if(s.type===Yi)return[].concat(r).map((function(t){return t.type===Tn?Object.assign({},t,{content:Object.assign({},t.content,{isDisable:!0})}):t.type!==Ke||t.isHidden?t:Object.assign({},t,{isHidden:!0})})).filter((function(t){return t.type!==Vn&&t.type!==Wn})).concat(s);if(s.type===Ji)return[].concat(r).map((function(e){return e.guid===s.recallTargetMessageGuid?Object.assign({},e,{content:(t&&t.eventAgentRecallsMessage||"Agent {agent} has recalled a message.").replace("{agent}",s.senderName),type:Ji,sender:{id:to,type:tp}}):e}));if(s.type===Qi){var _=[].concat(r);return s.recalledMessage&&s.recalledMessage.type===Ue?Ik(_,s,(function(t){return t.type===Ge&&t.content===s.recalledMessage.content.guid})):kk(r,s)}return kk(r,s)}}(r.languages,t.timeDelay||0,o),t.messages);if((b=function(t){return t.map((function(e,n){return Object.assign({},e,{isProcessed:n<Ck(t)})}))}(b))!==t.messages){var v=!1;b.forEach((function(t,e){t.type===qi&&(v=!!t.content.messages.some((function(t){return t.type===Ap||t.type===Op||t.type===Bp||t.type===Tp||t.type===jp||t.type===Fp||t.type===Pp||t.type===Dp||t.type===zp||t.type===Lp||t.type===Up})))}));var _=b.filter((function(t){return t.type===$n||t.type===ti}));if(_.length>0){var x=b.filter((function(t){return t.type!==$n&&t.type!==ti})).concat(_);b=x}var y=m.reduce((function(t,e){return $k(t,e,i,0,a,r)}),Object.assign({},t,{messages:b,sourceMessages:t.sourceMessages.concat(aI(c,t)),visitorTyping:p,maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h}));return y=function(t){var e=t.messages.map((function(e){return e.type!==Rn||t.chatStatus===ap&&t.isChatBot?e:Object.assign({},e,{disableRate:!0})}));return Object.assign({},t,{messages:e})}(y),y=function(t){var e=t.messages.reverse(),n=e.findIndex((function(t){return"visitorSubmitRatingForm"===t.type})),i=e.findIndex((function(t){return t.type===Wn}));return-1!==n&&n<i&&(e=e.filter((function(t){return t.type!==Wn}))),Object.assign({},t,{messages:e.reverse()})}(y),Object.assign({},y,{enableChatInputWhenTaskbot:!v,isVisibleInputAreaWhenBotChatting:d})}return p!==t.visitorTyping?Object.assign({},t,{visitorTyping:p,sourceMessages:t.sourceMessages.concat(c),maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h}):Object.assign({},t,{sourceMessages:t.sourceMessages.concat(c),maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h})},jC[qs]=function(t,e){var n=function(t){return function(e,n){var i=n.options,o=void 0===i?{}:i,a=e.messages.concat({type:t,time:new Date,guid:n.guid,content:n.message||"",sender:{type:Xu},textType:o.textType,isPassword:o.textType===Me,isCollect:o.isCollect,displayedText:o.displayedText,quickReplyNextActionId:o.quickReplyNextActionId});return n.ifCardMasking&&(a=a.concat({type:ai,time:new Date,guid:n.guid,content:"",sender:{type:Xu}})),Object.assign({},e,{messages:a})}}(Xn)(t,e),i=Nk(n.messages);return i=function(t){var e=t.length,n=t[e-2];if(n&&(n.type===qi&&n.content.messages.some((function(t){return t.type===Rp}))||n.type===Ki)){var i=[].concat(t);return i.splice(e-2,1,Object.assign({},n,{isProcessed:!0})),i}return t}(i),Object.assign({},n,{messages:i,error:"",visitorTyping:!1,draft:"",quickReply:null})},jC[Dl]=function(t,e){var n=function(t,e){return t.filter((function(t){return e.findIndex((function(e){return e.guid===t.guid}))<0}))}(t.messages,e);return Object.assign({},t,{messages:n})},jC[Gs]=Vk($n),jC[Us]=Vk(ti),jC[pd]=function(t,e){var n=Object.assign({},t);return t.chatStatus!==ap||(n.visitorTyping=!0,n.draft=e.message),n},jC[Ds]=function(t,e){var n=!1,i=t.messages.map((function(t){return t.type===ti||t.type===$n?(n=!0,Object.assign({},t,{content:Object.assign({},t.content,{fileName:e.name,percent:e.percent,onCancel:e.onCancel})})):t}));return n?Object.assign({},t,{messages:i}):t},jC[Es]=function(t,e){if(!t||!t.messages)return t;var n=t.messages.filter((function(t){return t.type!==ti&&t.type!==$n})),i="";return"string"==typeof e?i=e:"object"==typeof e&&null!==e&&(i=e.message||""),t.chatStatus===rp&&(i=""),Object.assign({},t,{messages:n,error:i,isUploading:!1})},jC[Rs]=function(t,e){if(!t||!t.messages)return t;var n=t.messages.map((function(t){return t.type===ti||t.type===$n?Object.assign({},t,{content:Object.assign({},t.content,{fileName:e.name,fileKey:e.key,isUseStandbyFileService:e.isUseStandbyFileService,percent:e.percent,onCancel:e.onCancel})}):t}));return Object.assign({},t,{error:"",isUploading:!1,fileUploadCount:t.fileUploadCount+1,messages:n})},jC[Ld]=function(t,e){var n;return Object.assign({},t,{forms:Object.assign({},t.forms,(n={},n[e]=Qu,n)),error:"",warning:""})},jC[Hd]=function(t,e,n){var i;return Object.assign({},t,{forms:Object.assign({},t.forms,(i={},i[e]=Zu,i))})},jC[Zs]=function(t,e){return Object.assign({},t,{messages:t.messages.concat([{type:ei,sender:{type:tp},content:e,guid:U()}])})},jC[qd]=function(t,e){var n;return Object.assign({},t,{forms:Object.assign({},t.forms,(n={},n[e]="fail",n))})},jC[Kd]=function(t,e){var n;if(e.custom){var i=Object.assign({},t.fields.custom,e.custom);n=Object.assign({},t.fields,e,{custom:i})}else n=Object.assign({},t.fields,e);return Object.assign({},t,{fields:n})},jC[Yd]=function(t,e){var n=t.fields.custom;e.custom&&(n=Object.assign({},t.fields.custom,e.custom),Object.keys(t.fields.custom).forEach((function(e){t.fields.custom[e]&&(n[e]=t.fields.custom[e])})));var i=Object.assign({},t.fields,e,{custom:n});return Object.keys(t.fields).forEach((function(e){"custom"!==e&&t.fields[e]&&(i[e]=t.fields[e])})),Object.assign({},t,{fields:i})},jC[hs]=function(t,e,n){var i=t.visitorStatus;e===Ku&&(i=Ql);var o=Object.assign({},t,{tab:e,visitorStatus:i});if(e===Ku&&n){var a=o.messages.filter((function(t){return t.type===Se})).map((function(t){return t.content})).join(",");o=Object.assign({},o,{fields:Object.assign({},o.fields,{content:a})})}return o},jC[Ks]=function(t){return Object.assign({},t,{chatStatus:ip,allowWaitingSendMessage:t.isChatBot||t.chatStatus===op})},jC[Cc]=function(t,e){return Object.assign({},t,{messages:t.messages.map((function(t){return t.type!==Ke?t:t.content.url.indexOf("otk="+e)>0?Object.assign({},t,{isHidden:!0}):t}))})},jC[Ys]=function(t){return function(t){return Object.assign({},t,{isChatBot:!0,isTaskBot:!1,chatStatus:ap,messages:t.messages.filter((function(t){return"system"===t.sender.type})),maxId:-1,visitorStatus:Gl})}(t)},jC[xc]=function(t,e){return t&&t.error!==e?Object.assign({},t,{error:e}):t},jC[yc]=function(t,e){return t&&t.warning!==e?Object.assign({},t,{warning:e,stopLimitClocker:""===e||t.stopLimitClocker,limitClockerCount:""===e?0:t.limitClockerCount}):t},jC[Fc]=Kk,jC[Xs]=function(t,e){var n=0;return e.serverTime>0&&(n=G(e.serverTime)),Object.assign({},t,{chatGuid:e.chatGuid,requestTime:e.serverTime,timeDelay:n})},jC[Nc]=function(t,e){return null==t||t.isFocused===e?t:Object.assign({},t,{isFocused:e,maxReadId:e?Math.max(t.maxId,t.maxReadId):t.maxReadId})},jC[vc]=function(t,e){return e===ql?null:e===Hl?Object.assign({},t,{isFocused:!1,maxReadId:Math.max(t.maxId,t.maxReadId)}):(e===Ll&&K&&XC("livechat.chatwindow.restore"),e===zl||e===Ll?Object.assign({},t,{isFocused:!0,maxReadId:Math.max(t.maxId,t.maxReadId)}):t)},jC[Wc]=function(t,e){return Object.assign({},t,{ifHideBio:e})},jC[dd]=function(t,e){if(t.chatStatus===ap&&t.isChatBot){var n=t.messages.map((function(t){return t.type===Rn&&t.content.GUID===e.actionGuid?Object.assign({},t,{disableRate:!0}):t}));return Object.assign({},t,{messages:n})}return t},jC[gs]=function(t,e,n){var i=n.languages;return Object.assign({},t,{error:i.promptRemoveRestrictedWords})},jC[fs]=function(t,e,n){var i,o=n.maxLength,a=n.languages,r=((i={})[gp]=function(){return a.promptInputLimit.replace($i,o)},i[fp]=function(){return"File must not be empty."},i[hp]=function(){return a.promptFileSizeExceed.replace("{fileSize}",e.params.fileSize)},i[mp]=function(){return"You're sending messages too frequently. Please wait for "+e.params.seconds+" second(s) and try again."},i[wp]=function(){return a.promptSendFileCountLimit.replace("{fileCount}",e.params.fileCount)},i[bp]=function(){return"This file type is not supported."},i);return e.type===mp&&e.params.fromClocker&&t.stopLimitClocker?t:e.type===mp&&t.limitClockerCount>=10?Object.assign({},t,{warning:"",limitClockerCount:0,stopLimitClocker:!0}):r[e.type]?Object.assign({},t,{warning:r[e.type](),stopLimitClocker:e.type!==mp&&t.stopLimitClocker,limitClockerCount:e.type===mp?t.limitClockerCount+1:t.limitClockerCount}):t},jC[sd]=function(t){var e=t.messages;return e[0].type===ri&&(e=e.map((function(t,e){return 0===e?Object.assign({},t,{type:Pe}):t}))),Object.assign({},t,{isVisibleInputAreaWhenBotChatting:!0,chatWithAgentClicked:!0,messages:e,webView:null,quickReply:null})},jC[Vc]=function(t,e){return e===t.disabled?t:Object.assign({},t,{disabled:e})},jC[us]=function(){return null},jC[ud]=function(t,e){return 0===e.position&&0===e.waitTime?t:Object.assign({},t,{queue:{position:e.position,waitTime:Math.ceil(e.waitTime/60)}})},jC[fd]=Lk,jC[As]=function(t,e){return Object.assign({},t,{showChatWindowInSidewindow:t.showChatWindowInSidewindow&&!e,maxReadId:t.showChatWindowInSidewindow&&!e?Math.max(t.maxReadId,t.maxId):t.maxReadId,audio_video_disabled:!0,isFocused:t.showChatWindowInSidewindow&&!e})},jC[Ms]=function(t,e){return Object.assign({},t,{showChatWindowInSidewindow:t.showChatWindowInSidewindow&&!e,maxReadId:t.showChatWindowInSidewindow&&!e?Math.max(t.maxReadId,t.maxId):t.maxReadId,audio_video_disabled:!0,isFocused:t.showChatWindowInSidewindow&&!e})},jC[Os]=function(t,e){return Object.assign({},t,{showChatWindowInSidewindow:t.showChatWindowInSidewindow&&!e,maxReadId:t.showChatWindowInSidewindow&&!e?Math.max(t.maxReadId,t.maxId):t.maxReadId,screenSharing_disabled:e,isFocused:t.showChatWindowInSidewindow&&!e})},jC[Is]=function(t,e){var n=Object.assign({},t.fields,{rating:e.score,comment:e.comment});return Object.assign({},t,{fields:n})},jC[hd]=function(t,e){var n=[];return e.forEach((function(e){(e.type!==li||Wk(t,li))&&(e.type!==Di||Wk(t,Di))&&(e.type!==Ei||Wk(t,Ei))&&(e.type!==ui||Wk(t,ui))&&(e.type!==Ri||Wk(t,Ri))&&(e.type!==fi||Wk(t,fi))&&(e.type!==mi||Wk(t,_i)||t.cobrowsing===Du)?e.type!==ui&&e.type!==Ri&&e.type!==li&&e.type!==Di&&e.type!==Ei&&e.type!==fi&&n.push(e):n.push(e)})),Object.assign({},t,{messages:t.messages.concat(n)})},jC[Cd]=function(t,e){var n={};return n.showChatWindowInSidewindow=e===Sp,n.isFocused=n.showChatWindowInSidewindow,n.maxReadId=n.showChatWindowInSidewindow?Math.max(t.maxReadId,t.maxId):t.maxReadId,Object.assign({},t,n,Rk(t,e))},jC[kd]=function(t,e){return e?t.sideWindowSelectedTab?t:t.sideWindowItems&&0!==t.sideWindowItems.length?Object.assign({},t,Rk(t,t.sideWindowItems[0].id)):t:t.sideWindowSelectedTab?Object.assign({},t,{sideWindowSelectedTab:void 0}):t},jC[md]=function(t){return qk(t)},jC[wd]=function(t){return Gk(t)},jC[Md]=function(t){return Object.assign({},t,zk(t,!1,vp))},jC[Ad]=function(t){return Object.assign({},t,zk(t,!0,vp))},jC[Od]=function(t){return Object.assign({},t,zk(t,!1,Ip))},jC[Bd]=function(t,e){return Object.assign({},t,function(t,e,n){var i=t.sideWindowItems;i&&i.some((function(t){var i=t.id===e;return i&&(t.id=n),i}));var o=t.sideWindowSelectedTab;return{sideWindowItems:i,sideWindowSelectedTab:o===e?n:o}}(t,e.targetTab,e.newTab))},jC[$s]=function(t,e){return Object.assign({},t,{maxReadId:e})},jC[tc]=function(t,e){return Object.assign({},t,{id:e})},jC[ec]=function(t,e,n){return n?null:t},jC[nc]=function(t,e){return t?t.popupBubble===e?t:Object.assign({},t,{popupBubble:e,autoEjectTranscript:!1}):t},jC[Id]=function(t,e){var n=t;e&&e.length>0&&[].concat(e).forEach((function(t){n=Ek(n,t)}));return Object.assign({},t,n)},jC[Pd]=function(t,e){return t?t.frequencyLimitState===e?t:Object.assign({},t,{frequencyLimitState:e}):t},jC[Uc]=function(t,e){return Object.assign({},t,function(t,e,n){var i=t.fields||{};return i[e]=n,{fields:i}}(t,Lo,e))},jC[Xd]=function(t,e){return null==t||t.id===e?t:Object.assign({},t,{id:e})},jC[Hs]=function(t){return t?Object.assign({},t,{messages:t.messages.filter((function(t){return t.type!==ze}))}):t},jC[tl]=function(t){return t},jC[el]=function(t){var e=t.messages.length,n=t.messages.map((function(t,n){return Object.assign({},t,{id:n-e})}));return Object.assign({},t,{maxId:-1,maxReadId:-1,messages:n})},jC[rl]=function(t){return Object.assign({},t,{kbChatWithAgentClicked:!0})},jC[nl]=function(t){return Object.assign({},t,{kb:Object.assign({},t.kb,{isLoading:!0})})},jC[ol]=function(t,e){var n=e.map((function(t){return t.id}));return Object.assign({},t,{kb:Object.assign({},t.kb,{articles:n,isLoading:!1}),error:""})},jC[al]=function(t,e){return Object.assign({},t,zk(t,!0,vp),{kb:Object.assign({},t.kd,{activeArticle:e}),error:""})},jC[sl]=function(t,e){return Object.assign({},t,zk(t,!0,vp),{kb:Object.assign({},t.kb,{activeArticle:e})})},jC[gl]=function(t,e){return Object.assign({},t,zk(t,!0,Ip),{pushPage:Object.assign({},t.pushPage,{url:e})})},jC[cl]=function(t){return Object.assign({},t,{error:"Network error",kb:{isLoading:!1}})},jC[dl]=function(t,e){return Object.assign({},t,{error:404===e?"Page not found":"Network error"})},jC[ml]=function(t,e){return Object.assign({},t,{webView:e})},jC[wl]=function(t){return Object.assign({},t,{webView:null})},jC[bl]=function(t){return Object.assign({},t,{webView:Object.assign({},t.webView,{ifLoading:!0})})},jC[vl]=function(t,e){return Object.assign({},t,{webView:Object.assign({},t.webView,{ifLoading:!1,visitorInfo:e})})},jC[ul]=function(t,e){return Object.assign({},t,zk(t,!0,_p,e.noFocus),{botSideWindow:e})},jC[pl]=function(t){return Object.assign({},t,zk(t,!1,_p),{botSideWindow:null})},jC[hl]=function(t){for(var e=t.messages,n=e.length-1;n>=0&&e[n].type!==cn;n-=1);return Object.assign({},Jk(Du)(t),{messages:e.slice(0,n).concat(e.slice(n+1,e.length))})},jC[Vd]=function(t){return Object.assign({},t,{messages:t&&t.messages?t.messages.filter(Ak).filter(Ok).filter(Tk):[]})},jC[oc]=function(t,e){return e!==t.maxAgentReadId?Object.assign({},t,{maxAgentReadId:e}):t},jC[ac]=function(t,e){return Object.assign({},t,{maxVisitorReadId:e})},jC[yl]=function(t,e){return Object.assign({},t,{messages:t.messages.map((function(t){if(t.type===Un&&t.content.GUID===e.guid){var n=t.content.fields.map((function(t){var n=e.fieldsValue[t.id];return n?t.type===ia&&n.value.indexOf(Xi)>-1?Object.assign({},t,{value:n.value.split(Xi)}):Object.assign({},t,{value:n.value}):t}));return Object.assign({},t,{content:Object.assign({},t.content,{fields:n})})}return t}))})},jC[Il]=function(t,e){return Object.assign({},t)},jC[ws]=function(t,e){return t.showToolbox===e?t:Object.assign({},t,{showToolbox:e})},jC[rc]=function(t,e){return t.visitorStatus===e?t:Object.assign({},t,{visitorStatus:e})},jC[sc]=function(t,e){return t?t.chatVersion===e?t:Object.assign({},t,{chatVersion:e}):t},jC[cc]=function(t,e){return t.emailToSendTranscript===e?t:Object.assign({},t,{emailToSendTranscript:e})},jC[Sl]=function(t){return Object.assign({},t,{quickReply:null})},jC[_d]=function(t,e){return t.isRecording===e?t:Object.assign({},t,{isRecording:e})},jC[xd]=function(t,e){var n=e.guid,i=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{isProcessed:!0}):t}));return Object.assign({},t,{messages:i})},jC[yd]=function(t,e){var n=e.guid,i=e.ifDisable,o=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{ifDisable:i}):t}));return Object.assign({},t,{messages:o})},jC[uc]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{campaignId:e});return Object.assign({},t,{crossSiteChatTransfer:n})},jC[gc]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{visitorGuid:e});return Object.assign({},t,{crossSiteChatTransfer:n})},jC[pc]=function(t,e,n){var i=e.isTransferDone,o=e.chatGuid,a=Object.assign({},t.crossSiteChatTransfer,{isTransferDone:i,chatGuid:o});return Object.assign({},t,{crossSiteChatTransfer:a,sourceMessages:i?t.sourceMessages:t.sourceMessages.map((function(t){return Object.assign({},t,{siteId:n})}))})},jC[hc]=function(t,e){return Object.assign({},t,{crossSiteChatTransfer:e})},jC[fc]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{configuration:e});return Object.assign({},t,{crossSiteChatTransfer:n})},jC[mc]=function(t,e){return Object.assign({},t,{fields:Object.assign({},t.fields,{rating:void 0,comment:void 0})})},jC[Dc]=function(t,e){var n=t.crossSiteChatTransfer;return Object.assign({},t,{crossSiteChatTransfer:Object.assign({},n,{configuration:Object.assign({},n.configuration,{serverInstanceTag:e})})})},jC[Dc]=function(t,e){var n=t.crossSiteChatTransfer;return Object.assign({},t,{crossSiteChatTransfer:Object.assign({},n,{configuration:Object.assign({},n.configuration,{serverInstanceTag:e})})})},jC[Ml]=function(t,e){return Object.assign({},t,{isVisibleInputAreaWhenBotChatting:e})},jC[Wd]=function(t,e){var n=t.chatbotContext,i=n.variables||{},o=e.variableName,a=e.variableValue;return o&&a&&(i[o]=a),Object.assign({},t,{chatbotContext:Object.assign({},n,{variables:Object.assign({},i)})})},jC[Al]=function(t,e){return null===t?t:Object.assign({},t,{isMessageScrollBottom:e})},jC[Ol]=function(t){return Object.assign({},t,{messages:t.messages.map((function(t){return!1===t.isSeenByVisitor?Object.assign({},t,{isSeenByVisitor:!0}):t}))})},jC[wc]=function(t,e){return Object.assign({},t,{autoEjectTranscript:e})},jC[bc]=function(t){return Object.assign({},t,{messages:t.messages.filter((function(t){return t.type!==Wn})),forms:Object.assign({},t.forms,{rating:Ju})})},jC[Sc]=function(t,e){return Object.assign({},t,{width:e})},jC[Bl]=function(t,e){return null===t?t:Object.assign({},t,{isPostChatVisible:e})},jC[Nl]=function(t,e){return null===t?t:Object.assign({},t,zk(t,!e,Mp))},jC[Wl]=function(t,e){return null===t?t:Object.assign({},t,{previewImage:e})},jC)),sI=W(null,rI),cI=W({},((iI={})[Zr]=function(t,e){return Object.assign({},t,e)},iI[Xr]=function(t,e){return Object.assign({},t,{messageLengthLimit:e})},iI[td]=function(t){var e=[].concat(t.heartbeat.online);return e=0===e[0].duration&&0===e[0].timespan?e.filter((function(t,e){return 0!==e})):[{duration:0,timespan:0}].concat(e),Object.assign({},t,{heartbeat:Object.assign({},t.heartbeat,{online:e})})},iI[$r]=function(t,e){return Object.assign({},t,{serverInstanceTag:e})},iI)),dI=function(t,e){return t.entities.campaigns.entities[e||t.window.id].languages},lI=function(t,e,n){return Object.assign({},e,{config:dI(t,n)})};function uI(t,e){var n=hw(t,e),i=fw(t,e);if(!n)return i;var o={right:n.right||i.right,bottom:n.bottom||i.bottom},a=void 0!==n.top,r=void 0!==n.left;if((a||r)&&(o.right=n.right||0,o.bottom=n.bottom||0),a){var s=jm(t);o.bottom=s-n.top-n.height}if(r){var c=Pm(t);o.right=c-n.left-n.width}return o}var pI=((oI={})[ls]=function(t,e){var n=uI(t,e.payload.campaignId);return Object.assign({},e,{config:n})},oI[vs]=function(t,e){var n=uI(t,e.payload.campaignId);return Object.assign({},e,{config:n})},oI[is]=function(t,e){var n=$v(t),i=e.payload.campaignId,o=uI(t,i),a=o.right,r=o.bottom,s=function(t,e){return ow(t,e).type}(t,i);return Object.assign({},e,{config:{right:a,bottom:r,campaignId:i,ifHideAgentName:yh(t),agentDefaultName:n&&n.operatorDefaultName||"Agent",buttonType:s,apiHost:r_(t)}})},oI[gs]=function(t,e){return Object.assign({},e,{config:{languages:dI(t)}})},oI[fs]=function(t,e){return Object.assign({},e,{config:{languages:dI(t),maxLength:_h(t)}})},oI[tl]=function(t,e){return lI(t,e)},oI[Ls]=function(t,e){var n=Kh(t),i=Gh(t),o=t.entities.fields.entities,a=function(t){return pm(t),df(t),gm(t),n_(t)+"/download.ashx?siteId="+um(t)+"&chatGuid="+df(t)+"&visitorGuid="+fm(t)+"&TranscriptPDF=1"}(t),r=yh(t),s=n&&n.languages,c=s?s.operatorDefaultName:"Agent",d=r_(t);return Object.assign({},e,{config:{campaign:n,fields:o,downloadUrl:a,ifHideAgentName:r,agentDefaultName:c,apiHost:d,crossSiteTransferCampaign:i}})},oI[Hd]=function(t,e){return lI(t,e,vv(t))},oI[ec]=function(t,e){return Object.assign({},e,{config:Jv(t)})},oI[jd]=function(){return Y_()},oI[hs]=function(t,e){var n=_m(t)===du;return Object.assign({},e,{config:n})},oI[sl]=function(t,e){var n=function(t,e){return V(t,"entities.kbArticles.entities."+e)}(t,e.payload);return Object.assign({},e,{payload:n})},oI[Ss]=function(t,e){var n=yh(t),i=function(t){return Zp(t,sm(t))}(t),o=i&&i.languages,a=o?o.operatorDefaultName:"Agent",r=r_(t);return Object.assign({},e,{config:{ifHideAgentName:n,agentDefaultName:a,apiHost:r}})},oI[vc]=function(t,e){if(e.payload!==ql)return e;if(t.window&&t.window.crossSiteChatTransfer){var n=t.window.crossSiteChatTransfer.campaignId;return n===t.page.campaignId?e:Object.assign({},e,{config:{transferCampaignId:n}})}return e},oI[us]=function(t,e){if(t.window&&t.window.crossSiteChatTransfer){var n=t.window.crossSiteChatTransfer.campaignId;return n===t.page.campaignId?e:Object.assign({},e,{config:{transferCampaignId:n}})}return e},oI[pc]=function(t,e){return Object.assign({},e,{config:um(t)})},oI),hI=o({app:El,page:xu,entities:Vu,window:sI,configuration:cI}),fI=function(t,e){return e.payload&&e.payload.window&&e.type===Cl?function(t,e){var n=Object.assign({},e.payload.window,{messages:e.payload.window.messages.map((function(t){return Object.assign({},t,{time:new Date(t.time)})}))}),i=H(),o=Object.assign({},e.payload.page,{height:i.height,width:i.width});return Object.assign({},t,{configuration:e.payload.configuration,entities:e.payload.entities,page:o,window:n})}(t,e):hI(t,function(t,e){return pI[e.type]?pI[e.type](t,e):e}(t,e))},gI="",mI=function(){var t=xb().popout;if(t){var e={};return t.ticketId&&(e.ticketId=t.ticketId),t.departmentId&&(e.department=t.departmentId),e}return{}},wI="granted",bI="denied",vI="notsupported",_I=function(){var t=[wI,"default",bI,vI],e=["auto","ltr","rtl"],n=-1,i=["click","scroll","focus"],o=function(t){var e=t.lastIndexOf(".");return(-1!==e?t.substr(0,e):t)+".ico"};function a(){var t=F.createElement("div");this.addEventListener=function(e,n){t.addEventListener(e,n.bind(this))},this.removeEventListener=function(e,n){t.removeEventListener(e,n.bind(this))},this.dispatchEvent=function(e){if("string"==typeof e)try{t.dispatchEvent(new Event(e))}catch(i){var n=F.createEvent("Event");n.initEvent(e,!1,!0),t.dispatchEvent(n)}}}function r(){}function s(){var t=this;a.call(this);var e=n;Object.defineProperties(this,{close:{value:function(){var t=this;e===n&&(window.external.msSiteModeClearIconOverlay(),i.forEach((function(e){N.removeEventListener(e,t.close)})),this.dispatchEvent("click"),this.dispatchEvent("close"),e=null)}.bind(this)}}),this.close(),this.icon&&window.external.msSiteModeSetIconOverlay(o(this.icon),this.description||this.title),window.external.msSiteModeActivate(),this.dispatchEvent("show"),i.forEach((function(e){N.addEventListener(e,t.close)})),e=n+=1}var c=window.Notification||window.webkitNotifications&&r||"external"in window&&"msIsSiteMode"in window.external&&void 0!==window.external.msIsSiteMode()&&s||a;function d(t,n){var i=t;if(!arguments.length)throw TypeError('Failed to construct "Notification": 1 argument required, but only 0 present.');if(""===i&&(i="\b"),arguments.length>1&&"object"!=typeof n)throw TypeError('Failed to construct "Notification": parameter 2 ("options") is not an object.');var o=Object(n),a=o.dir;if(void 0!==a&&-1===e.indexOf(a))throw TypeError('Failed to construct "Notification": The provided value "'+a+'" is not a valid enum value of type NotificationDirection.');var r=new c(i,o);return r.body||Object.defineProperty(r,"body",{value:String(o.body||"")}),r.data||Object.defineProperty(r,"data",{value:o.data||null}),r.dir||Object.defineProperty(r,"dir",{value:a||e[0]}),r.icon||Object.defineProperty(r,"icon",{value:String(o.icon||"")}),r.lang||Object.defineProperty(r,"lang",{value:String(o.lang||"")}),r.requireInteraction||Object.defineProperty(r,"requireInteraction",{value:Boolean(o.requireInteraction)}),r.silent||Object.defineProperty(r,"silent",{value:Boolean(o.silent)}),r.tag||Object.defineProperty(r,"tag",{value:String(o.tag||"")}),r.title||Object.defineProperty(r,"title",{value:String(i)}),r.timestamp||Object.defineProperty(r,"timestamp",{value:(new Date).getTime()}),r}return Object.defineProperty(a,"permission",{enumerable:!0,get:function(){return vI}}),Object.defineProperty(a,"requestPermission",{enumerable:!0,writable:!0,value:function(t){t(this.permission)}}),Object.defineProperty(s,"permission",{enumerable:!0,get:function(){return window.external.msIsSiteMode()?wI:bI}}),Object.defineProperty(s,"requestPermission",{enumerable:!0,writable:!0,value:function(){var t=this;return new Promise((function(e){e(t.permission)}))}}),Object.defineProperty(s,"PERMISSION_REQUEST_MESSAGE",{writable:!0,value:"IE supports notifications in pinned mode only. Pin this page on your taskbar to receive notifications."}),Object.defineProperty(r,"permission",{enumerable:!0,get:function(){return t[window.webkitNotifications.checkPermission()]}}),Object.defineProperty(r,"requestPermission",{enumerable:!0,writable:!0,value:function(){return new Promise((function(t){window.webkitNotifications.requestPermission((function(e){t(e)}))}))}}),c.permission||Object.defineProperty(c,"permission",{enumerable:!0,get:function(){return c.permissionLevel&&c.permissionLevel()}}),Object.defineProperty(d,"permission",{enumerable:!0,get:function(){return c.permission}}),Object.defineProperty(d,"requestPermission",{enumerable:!0,value:function(){return new Promise((function(t,e){var n=c.requestPermission((function(e){t(e)}));n&&("function"==typeof n.then&&"function"==typeof n.catch?t(n):e(n))}))}}),d}(),xI=_I.requestPermission,yI="video-request",SI="video-end",CI="screensharing-request",kI=function(){var t={},e=function(e){if(null==e)return Promise.reject("sound url is null");if(t[e])return Promise.resolve(t[e]);var n=new Promise((function(t,n){var i=new Audio(e);i.oncanplay=function(){i.oncanplay=null,t(i)},i.onerror=n}));return t[e]=n,n};return{play:function(t,n){return e(t).then((function(t){return t.loop=n?"loop":"",t.play()}))},stop:function(t){return e(t).then((function(t){t.loop=""}))}}}(),II=J(kI.play,500),MI=Q((function(t,e){if(_I.permission===wI){var n=new _I(D.host,{body:t,icon:e,tag:"livechat_notify"}),i=null;n.onclick=function(){N.focus(),n.close()},n.onshow=function(){i=setTimeout((function(){n.close(),i=null}),5e3)},n.onclose=function(){i&&clearTimeout(i)}}}),50);function AI(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent}var OI,BI=function(){return{type:pk,payload:{type:"locationCancelled"}}},TI=function(){return{type:hk,payload:{type:"visitorSSOCancelled"}}},jI=function(){return{type:fk,payload:{type:"meetingCancelled"}}},PI=function(){return{type:bk,payload:{type:"microsoftBooking"}}},FI=function(t){var e=t.eventUri,n=t.inviteeUri;return{type:gk,payload:{bookMeetingEventUri:e,bookMeetingEventInviteeUri:n,type:"meetingSubmitted"}}},NI=function(t){return{payload:t,type:mk}},WI=function(t){return{type:wk,payload:{guid:t}}},VI="chat",DI="chatbot",RI="taskbot",EI="offline",zI="systemProcessing",LI=((OI={}).prechat=function(t){t(xx(qu)),t(Gy(Kl)),t(ox(Kl))},OI[VI]=function(t,e){Pf(e)||(t(Bx()),t(xx(Uu)),t(Gy(Ul)),t(ox(Ul)))},OI[DI]=function(t,e,n){var i=r_(e);t(Sx(n.url,Object.assign({apiHost:i},n.bot))),t(Tx()),t(xx(Uu)),t(Gy(Gl)),t(ox(Gl))},OI[RI]=function(t,e,n){t({type:uk}),t(xx(Uu)),t(Gy(Gl)),t(ox(Gl))},OI[EI]=function(t){t(xx(Ku)),t(Gy(Ql)),t(ox(Ql))},OI.sso=function(t,e,n){t(yx(ph(e,n.url),n.showPrelogin,n.ifOpenSignInPageEmbeddedWindow));var i=Z(N.location.href,"ssoInfo");if(i){t(NS(i));var o=N.location.href.substring(0,N.location.href.indexOf("&ssoInfo="));N.history.replaceState(N.history.state,document.title,o)}else n.showPrelogin?t(xx(Lu)):t(xx(Hu)),n.showPrelogin||n.ifOpenSignInPageEmbeddedWindow||(eh(e)?t(Xy()):t(Qy()));t(Gy($l)),t(ox($l))},OI.kb=function(t){t(xx(Yu)),t(Gy(nu)),t(ox(nu))},OI),HI=function(t,e,n){if(n.next===VI||n.next===DI||n.next===RI){var i=n.chatGuid,o=n.serverTime;t(Jx(i,o)),setTimeout((function(){return t(aC(),0)}))}if("kb"===n.next){var a=n.ifOnline,r=n.id,s=n.greetingMessage,c=n.maxCount;t(T_(qh(e),a)),t(kx({id:r,greetingMessage:s,maxCount:c}))}else t(T_(qh(e),n.next!==EI));(LI[n.next]||function(){})(t,e,n)},qI=1004,UI=1036,GI=314,KI=1050,YI=4342338,JI="GET";function QI(t){return/\bjson\b/gi.test(function(t){return t.contentType?t.contentType:t.getResponseHeader?t.getResponseHeader("content-type"):null}(t))?JSON.parse(t.responseText):t.responseText}function ZI(t,e,n,i,o){return new Promise((function(a,r){var s=function(){if("withCredentials"in new XMLHttpRequest)return new XMLHttpRequest;if(window.XDomainRequest)return new window.XDomainRequest;throw new Error("No CORS support.")}(),c=q((function(t,i){return r({url:e,input:n,error:{code:t,message:i,statusCode:s.status}})}),YI);!function(t,e,n){if(window.XDomainRequest&&t instanceof window.XDomainRequest&&/^https?:/.test(n)){var i=D.href.toString().match(/^(https?):/)[1];t.open(e,i+n.substr(n.indexOf(":")),!0)}else t.open(e,n,!0)}(s,t,e),s.withCredentials=!(n instanceof window.FormData)&&t!==JI,o&&o.forEach((function(t){return s.setRequestHeader(t.prop,t.value)})),function(t,e){if(e){var n=function(){t.abort()};t.upload&&t.upload.addEventListener("progress",(function(t){var i=t.lengthComputable?Math.round(100*t.loaded/t.total):void 0;e(i,n)}),!1),e(void 0,n)}}(s,i),s.onload=function(){if(null==s.status||s.status>=200&&s.status<300)a({url:e,input:n,output:QI(s)});else{var t="http error "+s.status;if(s.responseText)try{t=JSON.parse(s.responseText).message}catch(t){}c(t)}},s.onabort=function(){return c("")},s.ontimeout=function(){return c("request timeout")},s.onerror=function(){return c("network error")},s.onprogress=function(){},null!=window.FormData&&n instanceof window.FormData?(s.timeout=IC,s.send(n)):(s.timeout=kC,s.send(JSON.stringify(n)))}))}var XI,$I,tM=q(ZI,JI),eM=q(ZI,"POST"),nM=tM,iM=eM,oM=function(t,e,n,i,o){var a=new FormData;return a.append("file",e,o),iM(t,a,i,[{prop:"Authorization",value:"Bearer "+n.token}])},aM=function(t,e,n,i){var o=n.replace(/\/campaign\.ashx.*$/i,""),a=function(t){return t&&o+(/^\//.test(t)?t:"/"+t)};return t(ux({id:e,entity:null,fetchStatus:yu})),nM(n).then((function(n){var o=function(t){return Object.assign({},t,{sounds:t.sounds&&Object.keys(t.sounds).reduce((function(e,n){var i;return Object.assign({},e,((i={})[n]=a(t.sounds[n]),i))}),{}),chatBot:t.chatBot&&Object.assign({},t.chatBot,{avatar:a(t.chatBot.avatar)}),chat:t.chat&&Object.assign({},t.chat,{texture:t.chat.texture?dh(i,"/visitorside/"+t.chat.texture):t.chat.texture}),header:t.header&&Object.assign({},t.header,{banner:t.header.banner&&a(t.header.banner),logo:t.header.logo&&a(t.header.logo)})})}(n.output);return t(ux({id:e,entity:o,error:null,fetchStatus:Su})),o})).catch((function(n){throw t(ux({id:e,entity:null,error:n.error.message,fetchStatus:Cu})),n}))},rM=((XI={})[qi]=function(t,e){try{var n=JSON.parse(t.content);return Object.assign({},t,{content:n})}catch(e){var i=[{type:"complex",content:{text:t.content}}];return Object.assign({},t,{content:i})}},XI[Ki]=function(t,e,n){try{var i=JSON.parse(t.context),o=i&&i.ChatbotContext||{},a=o.Variables||{},r=o.CustomData||{};n(Cx({variables:a,visitorInfo:r}))}catch(t){n(Cx({}))}try{var s=JSON.parse(t.content);return Object.assign({},t,{content:s})}catch(e){var c=[{content:{text:t.content}}];return Object.assign({},t,{content:c})}},XI[Hn]=function(t,e){try{var n=JSON.parse(t.content);return Object.assign({},t,{content:n})}catch(n){var i=[{type:ck,content:{text:t.content}}],o=Vh(e),a={ifAgentOnline:!0,ifRate:!1,intentAnswers:i,botId:o&&o.id||0};return Object.assign({},t,{content:a})}},XI[Zn]=function(t,e,n){return n(S_(!1)),t},XI[Tn]=function(t,e,n){var i=t.content.info.split(Xi);if(4===i.length){var o=ph(e,i[2]),a="true"===i[3].split("=")[1].toLowerCase();n(yx(o,!1,a))}return t},XI[be]=function(t,e,n){return n(Zy()),t},XI),sM=function(t,e,n){return t.map((function(t){var i=rM[t.type];return i?i(t,e,n):t}))},cM=function(t,e,n){return t.forEach((function(t){if(t.type===Yi&&t.extras){var i=JSON.parse(t.extras);if(i){if(mv(e)){var o=mv(e);if(o.siteId===i.siteId&&o.fromSiteId===i.fromSiteId)return}n(iS(Object.assign({},i,{visitorGuid:ob(i.siteId)}))),n(nS(!1)),n(KS()).then((function(t){var o=t.output.payload.crossSiteTransferDefaultCampaignId;Qp(e,o)||aM(n,o,Kv(i).replace(/\/visitor.ashx.*$/i,"/campaign.ashx?siteId="+i.siteId+"&campaignId="+o))})),n(YS(i.siteId)),n(rS())}}}))},dM="{email}",lM=no,uM=function(t,e,n){var i=q(sh,e),o=pm(e),a=ow(e,n).lastUpdateTime,r=Qp(e,n);if(r)return Promise.resolve(r);var s=i("/campaign.ashx?siteId="+o+"&campaignId="+n+"&lastUpdateTime="+a);return aM(t,n,s,e)},pM=function(t,e,n){var i=q(sh,e);return nM(i(n.customizedAdaptiveButtonIcon)).then((function(e){t(px({id:n.id,entity:Object.assign({},n,{customizeIcon:e.output,fetchStatus:Su})}))})).catch((function(e){throw t(px({id:n.id,entity:Object.assign({},n,{fetchStatus:Cu})})),e}))};function hM(t,e,n){var i,o=t.dispatch,a=t.getState,r=e.input,s=e.output,c=a(),d=((i={})[lM.getConfig]=function(t){t.features&&(tb(!!t.features.useSessionCookie),t.features.disableCookie&&Bw()),gv(a())?(o(eS(t.crossSiteTransferDefaultCampaignId)),o(oS(t))):o(cx(t.customVaraibles?t:Object.assign({},t,{kbAPIUrl:Wr(t.kbAPIUrl,r_(c)),customVariableResult:eh(c)?Pv(c):Ta(t.customVariables)}))),o(DS())},i[lM.getChatWindowConfig]=function(t){var e=t.messageLengthLimit||$i;r.siteId&&r.siteId===wv(a())?o(oS(Object.assign({},t,{messageLengthLimit:e,features:Object.assign({},mv(a()).configuration.features,t.features)}))):o(cx(Object.assign({},t,{messageLengthLimit:e,features:Object.assign({},c.configuration.features,t.features)})))},i[lM.getCustomVariables]=function(t){var e="product service",n=X(t,["name","email","phone","company",e]),i=n[0],a=n[1];i[e]&&(i.product=i[e],delete i[e]);var r=hv(c).map((function(t){return t.label})),s=X(a,r)[0];o(wC(Object.assign({},i,{custom:s})))},i[lM.getChatButton]=function(t){var e=Fm(c);if(e)o(nx(t.id));else{var n=cm(c);n===t.id||isNaN(parseInt(n,10))||o(ix(t.id,n))}var i=0;r.campaignId===t.id||isNaN(parseInt(r.campaignId,10))||(i=parseInt(r.campaignId,10)),o(px({id:t.id,entity:Object.assign({},t,{intId:i,divId:Er(t.id,i)}),fetchStatus:t.isCustomizedAdaptiveButtonUsed?yu:Su})),e&&XC("livechat.dynamicCampaign.change",t.id),t.isCustomizedAdaptiveButtonUsed&&pM(o,a(),t),uM(o,a(),t.id).then((function(t){return gv(a())||o(x_()),new Promise((function(e){setTimeout(e,0,t)}))})).then((function(t){var n=a(),i=eh(n),s=F.getElementsByTagName("iframe"),d="$brandingName-iframe".replace("$brandingName",N.brandingNameLowerCase);if(s.length>0&&s[d]&&s[d].setAttribute("lang",t.languageCode),i){var l=F.getElementsByTagName("html");l.length>0&&l[0].setAttribute("lang",t.languageCode)}if(qm(n,t.id)){var u=Hb();o(B_(u))}else qb(),o(B_(!1));i&&hm(n)!==zl&&(zr===us?o(O_()):Lb(um(c),dm(c))||(o(H_(cm(a()))),o(G_()))),(e||r.alreadyCampaignId)&&o(xy(t.id));var p=F.getElementById("windowLoading");p&&p.parentNode.removeChild(p)}))},i[lM.checkManualInvitation]=function(t){var e=r.campaignId===to,n=/^-?\d+$/.test(r.campaignId)?aw(c,parseInt(r.campaignId,10)):r.campaignId,i=e?cm(c):n;if(t&&t.agent&&!ev(c)&&hm(c)===ql){var a=function(){var e=Object.assign({},t,{isManual:!0,campaignId:i});o(j_(e)),XC("livechat.invitation.display",e)};t.type===ou||t.type===au?o(YS()).then(a):a()}},i[lM.confirmAutoInvitation]=function(t){var e=r.campaignId===to?cm(c):r.campaignId,n=Number(e);if(isNaN(n)||(e=aw(c,n)),t&&!ev(c)&&!nv(c)&&hm(c)===ql){var i=function(){var n=Object.assign({},t,{isManual:!1,campaignId:e});o(j_(n)),o(P_(!1)),XC("livechat.invitation.display",n)};o(P_(!0)),t.type===ou?o(YS()).then(i):i()}},i[lM.checkAutoInvitation]=function(t){if(null!=t){var e={};t.forEach((function(t){var n=t.id,i=t.delay;Object.keys(e).indexOf(i.toString())>-1?e[i]=e[i].concat(n):e[i]=[n]})),Object.keys(e).forEach((function(t){setTimeout((function(){hm(a())===ql&&o(IS.apply(dC,[Oo()].concat(e[t].map((function(t){return uo(r.campaignId,t)})))))}),1e3*t)}))}},i[lM.showInvitation]=function(t){var e=cm(c);if(t&&!ev(c)&&hm(c)===ql){var n=function(){var n=Object.assign({},t,{isManual:!1,campaignId:e});o(j_(n)),XC("livechat.invitation.display",n)};t.type===ou?o(YS()).then(n):n()}},i[lM.getIfOnline]=function(t){var e=t.campaignId,n=t.ifOnline;o(T_(e,n))},i[lM.checkIfOnline]=function(t){var e=t.campaignId,n=t.ifOnline;o(T_(e,n))},i[lM.batchAction]=function(t){for(var e=0;e<t.length;e+=1)hM({dispatch:o,getState:a},{input:r.actions[e],output:t[e]})},i[lM.newVisitor]=function(t){var e=t.visitorGuid,n=t.ifNewVisitor,i=t.sessionId,r=t.ifMigrated,s=t.migrationInfo,d={guid:e,sessionId:i};d.ifNewVisitor=n,r&&(d.migrationInfo=s),gv(a())&&o(aS(e)),gv(c)?pm(c):um(c),o(F_(d)),o(W_())},i[lM.getDynamicCampaign]=function(t){t!==cm(c)&&o(GS(t))},i[lM.pageVisit]=function(t){var e=t.page,n=t.time,i=cm(a());Object.keys(a().page.buttons).forEach((function(t){var e="number"==typeof t?+t:t;0!==e&&e!==to&&e!==i&&o(GS(e))})),o(N_({page:e,time:n}))},i[lM.requestChat]=function(t){HI(o,a(),t),o(F_({persistentVisitor:!0})),t.campaignId&&t.campaignId!==to&&o(GS(t.campaignId,!0))},i[lM.requestChatFromChatbot]=function(t){HI(o,a(),t),t.campaignId&&o(GS(t.campaignId,!0))},i[lM.getChatMessages]=function(t){Ph(a())&&0!==t.length&&(o(Ix(sM(t,a(),o))),cM(t,c,o))},i[lM.submitRating]=function(){o(gC(up)),setTimeout((function(){o(pS())}),1500)},i[lM.emailTranscript]=function(t){if(t){var e=e_(c,yw,vv(c)).replace(dM,r.email);o(Mx(e))}o(Yy(r.email))},i[lM.getAgents]=function(t){return t&&t.forEach((function(t,e){return o(fx({id:t.id,entity:Object.assign({},t,{index:e}),fetchStatus:Su}))}))},i[lM.getDepartments]=function(t){return t&&t.forEach((function(t){return o(gx({id:t.id,entity:t,fetchStatus:Su}))}))},i[lM.submitPostChat]=function(){return o(xx(Uu))},i[lM.endChat]=function(){o(Ex());var t=b_(c);t===Ul&&o(ox($l)),t===Gl&&o(ox(Xl)),Eb(um(c),dm(c))},i[lM.checkManuallyInvited]=function(t){t||(o(Y_()),o(ox($l)))},i[lM.getChatQueue]=function(t){t&&o(ry({position:t.position,waitTime:t.est}))},i[lM.getVisitorInfo]=function(t){o(jy(t))},i[lM.restoreChat]=function(t){if(t&&sw(a(),cm(a()))){o(H_(cm(a()),!0)),o(Jx(t.guid));var e=hb(t.guid);e&&((e.windowStatus===Hl||Cm(c))&&o(K_()),e.maxReadId&&o(gy(+e.maxReadId)))}},i[lM.visitorGetLatestMsgSeen]=function(t){Ar(t,_g(a()),of(a()))&&o(my(t))},i[lM.agentMsgSeenByVisitor]=function(t){o(wy(t))},i[lM.submitSSOInfo]=function(t){if(o(rx(!1)),t&&"object"==typeof t){var e=cw(c),n=pv(c),i={};Object.keys(t).forEach((function(o){if("fields"===o)i.custom={},t[o].forEach((function(t){n.filter((function(e){return e.label===t.name&&e.type===ia})).length>0?i.custom[t.name]=t.value.split(Xi):i.custom[t.name]=t.value}));else if("department"===o){var a=Object.keys(e).filter((function(n){return e[n].name===t.department}));a.length>0?i[o]=Number(a[0]):i[o]=""}else"ssoId"===o&&"userId"===o&&"variables"===o&&"ssoSessionToken"===o||(i[o]=t[o])}));var a=t.ssoSessionToken,r=t.ssoInfo;Tb(a),r?(Pb(r),Wb()):Db(),o(wC(i,lp))}},i[lM.refuseAutoInvitation]=function(){o(ox(Zl))},i[lM.refuseManualInvitation]=function(){o(ox(Zl))},i[lM.recoverVisitor]=function(t){o(Ky(t.baseVersion)),o(C_()),gv(c)?o(sS(t.serverInstanceTag)):o(lx(t.serverInstanceTag))},i[lM.closeWindow]=function(){var t=b_(c);t!==Ul&&t!==Kl&&t!==nu||o(ox($l)),t===Gl&&o(ox(Xl))},i[lM.getSSORecoverInfo]=function(t){t&&t!==Fb()&&(Pb(t),Vb())},i[lM.requestChatFromAnotherSite]=function(t){if("offline"===t.next){var e=cm(c),n=t_(c,e),i=L[n].transferToOffline;o(Mx(i)),o(Ex())}else{HI(o,a(),t),o(nS(!0,t.chatGuid)),o(Ky(""));var r=mv(c);zb(um(c),dm(c),Object.assign({},r,{isTransferDone:!0,chatGuid:t.chatGuid,agents:Object.assign({},r.agents||{},nw(c))}))}},i);null!=r&&null!=d[r.type]&&d[r.type](s.payload)}var fM,gM,mM,wM=function(t){return{chatGuid:df(t),siteId:um(t),sessionId:ub(),visitorGuid:fm(t)}},bM=function(t){return So(df(t),pf(t))},vM=function(t,e){return Bo([Object.assign({},wM(e),t),bM(e)])},_M=(($I={})[fk]=vM,$I[gk]=vM,$I[pk]=vM,$I[hk]=vM,$I[bk]=vM,$I[vk]=function(t,e){var n=av(e);return Bo([Object.assign({taskbotId:n},wM(e),t),bM(e)])},$I),xM="chatbot/locationCancelled",yM="chatbot/visitorSSOCancelled",SM="chatbot/meetingCancelled",CM="chatbot/meetingSubmitted",kM="chatbot/chatbotFormCancelled",IM="chatbot/microsoftBooking",MM="chatbot/canvasAuthorization",AM=function(t){return{chatGuid:df(t),siteId:um(t),sessionId:ub(),visitorGuid:fm(t)}},OM=function(t){return So(df(t),pf(t))},BM=function(t,e){return Bo([Object.assign({},AM(e),t),OM(e)])},TM=((fM={})[SM]=BM,fM[CM]=BM,fM[xM]=BM,fM[yM]=BM,fM[kM]=BM,fM[IM]=BM,fM[MM]=BM,fM),jM=no,PM=0,FM=[],NM={},WM={},VM=null,DM=function(t,e,n,i,o){try{var a=JSON.parse(i.output);if(i.code)return void e({input:Object.assign({},t.action,{isUseStandbyFileService:o}),error:a})}catch(e){t.action.fileServiceUrl?n({input:t.action,output:{name:t.action.fileName,key:i.output,isUseStandbyFileService:o}}):n({input:t.action,output:i.output[0]})}},RM=[jM.getChatMessages,jM.agentMsgSeenByVisitor,jM.visitorGetLatestMsgSeen],EM=function(t,e,n,i){var o=e;if(null==o.type)throw new Error("action.type is required");return o.ssoSessionToken=Tw(Bb),o.type===jM.uploadFileAction?new Promise((function(t,e){var i=o.action.fileServiceUrl+"/files",a=o.action.standbyFileServiceUrl+"/files",r=oM;r(i,o.file,o.action,n,o.action.fileName).then((function(n){return DM(o,e,t,n,!1)})).catch((function(i){if(i instanceof Error)throw i;var s=i.error;s&&(!s.statusCode||s.statusCode>=500||404===s.statusCode)?r(a,o.file,o.action,n).then((function(n){return DM(o,e,t,n,!0)})).catch((function(t){if(t instanceof Error)throw t;e({input:o.action,error:i.error})})):e({input:o.action,error:i.error})}))})):(o.type===jM.newVisitor&&Db(),new Promise((function(e,n){null==VM&&(VM=function(){var t=0;return function(){return t+=1}}());var a=VM();(function(t,e){var n=!0,i=!1;return t.forEach((function(t){jo(t,jM.submitSSOInfo)&&(i=!0)})),i&&To((function(t){RM.indexOf(t.type)>-1&&(n=!1)}),e),n})(FM,o)&&FM.push(Object.assign({},o,{id:a})),NM[a]=e,WM[a]=n,clearTimeout(PM),PM=setTimeout((function(){iM(t,FM.splice(0,FM.length)).then((function(t){var e=t.input,n=t.output;e.forEach((function(t,e){n[e].error?WM[t.id]({input:t,error:n[e].error,serverInstanceTag:i}):NM[t.id]({input:t,output:n[e],serverInstanceTag:i}),delete NM[t.id],delete WM[t.id]}))})).catch((function(t){if(t instanceof Error)throw t;var e=t.input,n=t.error;e.forEach((function(t){WM[t.id]({input:t,error:n}),delete NM[t.id],delete WM[t.id]}))}))}),0)})))},zM=function(t,e,n,i){return EM(t,e,n,i).then((function(t){return t}))},LM=no,HM=null,qM=function(t){var e=t.getState,n=t.resolve;return zM(Yv(e()),{type:no.systemProcessingHeartbeat}).then((function(t){if(!t.output.payload){clearInterval(HM),HM=null;var i=e(),o=null;if(bv(i)){var a=wm(i,Fm(i)?to:cm(i)),r=Nh(i),s=Ob();o=r===op?Bo([Object.assign({},a,{isPrechatDone:!0,isProcessingDone:!0,lastChattedAgents:s})].concat(function(t){var e=pf(t),n=of(t),i=yr(n),o=[].concat(i);if(lf(t)){var a=uf(t);o.push({type:je,content:a,sender:{type:Xu},id:n.length+e+1})}return[0===o.length?null:Mo(null,o),So(null,-1)]}(i))):Object.assign({},a,{isProcessingDone:!0,lastChattedAgents:s})}else o=Object.assign({},xv(i),{isProcessingDone:!0});zM(Yv(i),o).then((function(t){t.output.payload&&(clearInterval(HM),HM=null,n(t))}))}}))},UM=function(t){var e=t.getState,n=t.dispatch,i=function(t){return new Promise((function(t,n){null===HM?(qM({getState:e,resolve:t}),HM=setInterval(qM,2e3,{getState:e,resolve:t})):n("Already checking system processing")})).then((function(e){var n=e.output;return function(t,e){return Object.assign({},t,{output:Po((function(t){if(t.type===LM.requestChat){if(e.type===LM.batchAction){var n=e.payload.filter((function(t){return t.type===LM.requestChat}));if(n.length>0)return Object.assign({},t,n[0])}return Object.assign({},t,e)}if(t.type===LM.requestChatFromAnotherSite){if(e.type===LM.batchAction){var i=e.payload.filter((function(t){return t.type===LM.requestChatFromAnotherSite}));if(i.length>0)return Object.assign({},t,i[0])}return Object.assign({},t,e)}if(t.type===LM.getChatMessages&&e.type===LM.batchAction){var o=e.payload.filter((function(t){return t.type===LM.getChatMessages}));if(o.length>0)return Object.assign({},t,o[0])}return t}),t.output)})}(t,n)}))};return function(t){var e=jo(t.output,LM.requestChatFromAnotherSite);if(e&&e.payload.next===zI)return i(t);var o=jo(t.output,LM.requestChat);return o&&o.payload.next===zI?(n(xx(zu)),n(Gy(eu)),n(ox(eu)),i(t)):t}},GM=[no.checkBan,no.checkBBSCode,no.closeWindow,no.emailTranscript,no.getAgents,no.getChatButton,no.getConfig,no.getDepartments,no.submitPostChat,no.recoverVisitor],KM=function(t){return[Fo({visitorGuid:fm(t),visitorId:nb()}),oo(vv(t),nb(),fm(t),F.referrer,mm(t),ja(),Pa(),v,db(pm(t)||um(t)))]},YM=function(t,e){var n=b_(t),i=n===nu;n=i?Kl:n;var o=function(t){var e=sb(rb(t));return e.navigation?e.navigation.filter((function(t){return t})):[]}(),a=Fb(),r=iv(t),s=av(t);return[Fo({visitorGuid:fm(t)}),ao(cm(t),fm(t),F.referrer,ja(),Pa(),v,db(),mm(t),n,i,o,e,a,r,s)]},JM=function(t,e,n,i){var o,a=wm(t,Fm(t)?to:e),r=a.source;return o=r.type===lu||r.type!==cu&&a.invitationtype===ou,Object.assign({},a,{lastChattedAgents:n,isPrechatDone:o,artifact:i})},QM=function(t){var e=[];return function(t){return ew(t).length}(t)<3&&e.push(Oo()),function(t){return t.configuration.features.department}(t)&&e.push(Ao()),e},ZM=function(t){var e=b_(t),n=Sh(t),i=e===Ql?[]:Oa(af(t),n),o=mm(t),a=cm(t),r=lv(t,sp,a),s=Xh(t),c=Vh(t),d=iv(t),l=ov(t),u=xb().popout,p=db(),h=p.name,f=p.email,g=p.form,m=nr(xr(r));g&&g.custom&&Object.keys(g.custom).forEach((function(t){var e=r.filter((function(e){return e.label===t}));if(e.length>0){var n=_r(e[0].id);m.custom[n]=m.custom[n]||g.custom[t].join&&g.custom[t].join(Xi)}}));var w=Object.assign({},m,{name:h,email:f,phone:m.phone||g?g.phone:"",company:m.company||g?g.company:""});return u&&u.ticketId&&!Number.isNaN(+u.ticketId)&&(w.ticketId=+u.ticketId),u&&u.departmentId&&!Number.isNaN(+u.departmentId)&&(w.department=+u.departmentId),Object.assign({chatGuid:df(t),messages:i,source:bm(t),requestingPageUrl:o.url,requestingPageTitle:o.title,botId:s&&c?c.id:to,isChattingWithTaskbot:d,taskbotId:d&&l&&l.id?l.id:to},w,{maxAgentReadGuid:_g(t),maxVisitorReadGuid:xg(t),emailToSendTranscript:Fg(t)})},XM=no,$M=function(t){return jo(t,XM.pageVisit)||jo(t,XM.requestChat)||jo(t,XM.requestChatFromChatbot)||jo(t,XM.submitOfflineMessage)||jo(t,XM.requestChatFromAnotherSite)||jo(t,XM.showInvitation)},tA=function(t,e){var n=t.split("-"),i=n[0],o=n[1],a=e.split("-"),r=a[0],s=a[1];return i===r&&o!==s},eA=function(t,e){var n=_v(t),i=e.serverInstanceTag,o=e.error.serverInstanceTag;return ah(t)||n&&o&&tA(i,o)&&n===o},nA=function(t,e){var n=function(t){return t.app.lastSuccessTime}(t),i=Date.now()-n<12e4,o=_v(t),a=e.error.serverInstanceTag;return i&&(!o||o&&a&&tA(o,a))},iA=function(t){var e=cm(t),n=Pv(t),i=mm(t);return[n&&so(n,e),ro(e,i)]},oA=function(t,e){if(gv(t))return aA(t,e);if(jo(e,no.recoverVisitor))return e;var n=e.type===XM.batchAction?e.actions:e,i=ZM(t),o=YM(t,i);if(jo(e,XM.requestChat)){var a=iA(t);return Bo(o.concat(a).concat(n))}return Bo(o.concat(n))},aA=function(t,e){if(jo(e,no.recoverVisitor))return e;e.type===XM.batchAction&&e.actions;var n=function(t,e){var n=iv(t),i=av(t);return[Fo({visitorGuid:gm(t)}),ao(vv(t),gm(t),F.referrer,ja(),Pa(),v,db(pm(t)||um(t)),mm(t),v_(t)?"transferring":Gl,!1,[],e,null,n,i)]}(t,ZM(t));return Bo(n)},rA=function(t,e,n,i){var o=t.getState;return t.dispatch,function(t){var a=t.input,r=t.error.code,s=o(),c=jo(a,XM.newVisitor);if(r===qI){if(eA(s,t)&&!$M(a))return t;if(c)throw t;if(nA(s,t)){var d=oA(s,a);return e(d,n,i)}if($M(a)){var l=function(t,e){var n=e.type===XM.batchAction?e.actions:e,i=KM(t);if(jo(e,XM.requestChat)){var o=iA(t);return Bo(i.concat(o).concat(n))}return Bo(i.concat(n))}(s,a);return e(l,n,i)}}else if(r===KI){if(eA(s,t)&&!$M(a))return t;if(nA(s,t)||$M(a)){var u=oA(s,a);return e(u,n,i)}}throw t}},sA=function(t,e,n){var i=um(n),o=function(t){return V(t,"window.kbConfig.id")}(n),a=[xh(n),"/"+i+"/"+o+"/articles?keyword="+encodeURIComponent(e)].join("");nM(a).then((function(e){t(wx(ol,e.output))})).catch((function(){t(Ay())}))},cA=["content"],dA=function(t){return So(df(t),pf(t))},lA=function(t){var e=pf(t),n=df(t),i=of(t),o=yr(i);Ug(t)&&(o=o.filter((function(t){return t.type!==Mi})));var a=Sr(n,i),r=[].concat(o),s=lf(t),c=vg(t,vv(t)),d=kf(t),l=Pf(t),u=If(t),p=_g(t),h=Pg(t);if(s){var f=uf(t);r.push({type:je,content:f,sender:{type:Xu},id:i.length+e+1,guid:U()})}return a.concat([0===r.length?null:Mo(n,r),(l||u)&&So(n,e),Wf(t)&&Do(),c&&d&&!Ar(p,h,of(t))&&Io(n)])},uA=Object.assign({},_M,TM,((gM={})[ls]=function(t,e){var n,i=t.campaignId,o=Bm(e),a=Tm(e);if(o){var r=lv(e,sp,i),s=r.some((function(t){return""!==t.error}));if(!s){var c=xb().popout;n=nr(xr(r)),c&&c.ticketId&&!Number.isNaN(+c.ticketId)&&(n.ticketId=+c.ticketId),c&&c.departmentId&&!Number.isNaN(+c.departmentId)&&(n.department=+c.departmentId)}}var d=Ob();return Bo([Zv(e)?{type:no.checkBBSCode}:null,Ro(),n&&JM(e,i,d,a),n&&mo(n,i),Object.assign({},JM(e,i,d,a),n?{isPrechatDone:!0}:{}),Fm(e)?Vo():null,jv(e)?{type:no.getCustomVariables}:null].concat(QM(e),[Co(null),So(null,-1)]))},gM[Ts]=function(t,e){var n=cm(e),i=ev(e);return ho(n,i.isManual,i.id)},gM[Lc]=function(t,e){return oh(e)?null:{type:no.prechatHeartbeat}},gM[Hc]=function(t,e){return oh(e)?null:{type:no.offlineMessageHeartbeat}},gM[zc]=function(t,e){if(oh(e))return null;if(!Ph(e))return null;if(ah(e))return null;if(kf(e)&&gv(e)&&!bv(e))return null;var n=Nh(e);if(n===op){var i=_m(e);if(i===du)return Do();if(i===lu)return Bo([wo(df(e)),dA(e)])}var o=[];return n===ip&&o.push(Co(df(e))),Bo(o.concat(lA(e)))},gM[vc]=function(t,e){if(t!==ql)return null;if(oh(e))return null;var n=Lh(e),i=Nh(e),o=qh(e);if(n===qu||n===Ku||n===Yu)return{type:no.closeWindow};if(n===Uu){if(i===op){var a=wm(e,o).source,r=a.type,s=a.invitationId;return XC("livechat.invitation.refuse",s),ho(o,r===lu,s)}if(i===ip)return Bo([yo(df(e)),dA(e)])}return null},gM[Ud]=function(t,e){return Bo([_o(t),Object.assign({},wm(e,qh(e)),{lastChattedAgents:Ob(),isPrechatDone:!0,skipSSO:!0})])},gM[Qc]=function(t,e){var n=wm(e,qh(e)),i=Ob(),o=kf(e);return Bo([go(t,qh(e)),!o&&Object.assign({},n,{isFromKB:!0,lastChattedAgents:i})])},gM[Zc]=function(t,e){return go(t,qh(e))},gM[_l]=function(t,e){return function(t,e){return{type:no.setLocation,chatGuid:e,location:t}}(t,df(e))},gM[xl]=function(){return{type:no.getVisitorInfo}},gM[is]=function(t,e){return Bo([t.isManual?(n=t.id,{type:no.manualInvitationShowed,invitationId:n}):null].concat(QM(e)));var n},gM[Xc]=function(t,e){var n=wm(e,qh(e)),i=Ob();return Object.assign({},n,{skipSSO:!0,lastChattedAgents:i})},gM[ld]=function(t,e){var n=xo(Fm(e)?to:qh(e),{type:cu,page:mm(e)}),i=Ob();return Bo([Ro(um(e)),Object.assign({},n,{lastChattedAgents:i})])},gM[sd]=function(t,e){if(Nf(e)){var n=function(t){var e=bm(t),n=(t.page.requestChatAction||{}).departmentId;return{type:no.requestChatFromChatbot,departmentId:n,source:e}}(e,qh(e)),i=df(e);return Bo([n,Co(i),ko(i)])}return null},gM[qc]=function(t,e){var n=df(e);return Bo([vo(n,t),dA(e)])},gM[Uc]=function(t,e){return function(t,e){return{type:no.emailTranscript,chatGuid:t,email:e}}(df(e),t)},gM[Rc]=function(t){return t},gM[Gc]=function(t,e){return Bo([yo(df(e)),dA(e)])},gM[dd]=function(t,e){return Nf(e)?function(t,e){return Object.assign({type:no.chatBotAnswerHelpful,chatGuid:t},e)}(df(e),t):null},gM[cd]=function(t,e){return kf(e)?t.agentId<=0&&!Nf(e)||t.agentId>0&&!function(t,e){var n=sf(t);return 0!==n.length&&!!n.find((function(t){return t===e}))}(e,t.agentId)?null:function(t,e){return{type:no.chatBotSelectQuestion,chatGuid:t,question:{questionId:e.id,questionName:e.name},clickType:e.clickType,agentId:e.agentId,botId:e.botId||to,senderType:e.agentId>0?1:3,senderId:e.agentId}}(df(e),t):null},gM[Fd]=function(t,e){return function(t,e){return Object.assign({type:no.visitorHandleBotForm,chatGuid:t},e,{senderType:e.agentId>0?1:3,senderId:e.agentId})}(df(e),t)},gM[Nd]=function(t,e){return function(t,e){return Object.assign({type:no.visitorHandleBotForm,chatGuid:t},e,{senderType:e.agentId>0?1:3,senderId:e.agentId})}(df(e),t)},gM[Wd]=function(t,e){return function(t,e){return Object.assign({type:no.setBotVariable},e)}(df(e),t)},gM[hs]=function(t){return t===Ku?{type:no.enterOfflineMessage}:null},gM[ed]=function(t,e){var n=Fm(e)?to:cm(e);return Bo([so(t,n),Fm(e)?Vo():null,co(n),lo(n)])},gM[ec]=function(t,e){return Jv(e)?(XC("livechat.invitation.refuse"),ho(qh(e),!0)):null},gM[nd]=function(t){var e=t.campaignId,n=t.alreadyCampaignId;return Bo([fo(e,n),co(e)])},gM[$c]=function(t,e){return e.window&&e.window.crossSiteChatTransfer?function(t){return Bo([xv(t)])}(e):function(t){var e=cm(t),n=fm(t),i=!!Lb(um(t),dm(t)),o=!eh(t)&&!bb(fm(t)).isEmbeddedPoppedOut&&!i,a=Pv(t),r=Sv(t),s=Cv(t);return Bo([].concat(n?[]:KM(t),[a&&so(a,e),e!==to||a?null:Wo(),ro(e,mm(t)),fo(e),co(e),o?No():null,r&&!i&&po(e),s&&!i&&lo(e),Eo()]))}(e)},gM[td]=function(t,e){return function(t){var e=Fm(t),n=cm(t),i=Ph(t),o=ro(n,mm(t));if(!i){var a=Cv(t);return Bo([o,e?Wo():null,e?Vo():null,co(n),a&&lo(n)])}return o}(e)},gM[id]=function(){return{type:no.getConfig}},gM[od]=function(t){return Ro(t)},gM[rl]=function(t,e){var n=Ob(),i=wm(e,qh(e)),o=Tm(e);return Object.assign({},i,{lastChattedAgents:n,isFromKB:!0,artifact:o})},gM[ad]=function(t,e){var n=Nh(e)===ap||Nh(e)===op||Nh(e)===ip,i=xg(e),o=af(e),a=Pg(e),r=t||a,s=df(e);if(s){if(!Or(o,a)){var c=Br(o,i);return c&&c!==r&&c!==i&&n?ko(s,c):null}if(r&&n&&r!==i&&!Ar(i,a,o))return ko(s,r)}return null},gM[rd]=function(){return Eo()},gM[js]=function(t){return{type:no.showInvitation,invitationId:t}},gM)),pA=((mM={})[qs]=function(t,e){if(Nh(e)===op){Jv(e)?XC("livechat.invitation.accept"):XC("livechat.invitation.accept",xm(e));var n=wm(e,qh(e)),i=Ob();return Bo([Object.assign({},n,{isPrechatDone:!0,lastChattedAgents:i})].concat(lA(e)))}return Bo(lA(e))},mM),hA=function(t){return function(e){if(e instanceof Error)throw e;return t(e)}},fA=function(t,e){if(!t)return t;var n=Og(e).chatVersion;return t.actions?(t.actions.forEach((function(t){return Object.assign(t,{chatVersion:n})})),t):Object.assign(t,{chatVersion:n})},gA=function(t){var e=t.isNewWindow,n=function(t){return/^(https?:)?\/\//.test(t)?t:t&&"http://"+t}(t.url);e?N.open(n):D.href=n},mA=function(t){if(/^file:\/\//i.test(t))return"*";var e=t.match(/^[^:]+:\/\/[^/]+/);return e?e[0]:"*"};function wA(t,e,n){var i=mA(e);return{dispatch:function(e){t.postMessage(JSON.stringify(e),i)},subscribe:function(t){var e=function(e){e.origin===i&&t(e)};return(n?N:window).addEventListener("message",e),function(){return(n?N:window).removeEventListener("message",e)}}}}var bA,vA,_A,xA,yA,SA="removeOpener",CA="popin",kA="cobrowese-end",IA="restoreState",MA="getRestoreState",AA=((bA={})[zu]=vw,bA[Lu]=xw,bA[qu]=xw,bA[Ku]=_w,bA[Uu]=vw,bA[Gu]=vw,bA[Hu]=xw,bA),OA=function(t){null!=t&&(F.title=t)},BA=function(t){return t.window.messages&&t.window.messages.filter((function(t){return t.type!==ti}))},TA=function(t,e){var n=hw(t,e);return n?function(){try{var t=F.getElementById("chat_window_container");if(!t)return null;var e=t.contentWindow.document.querySelector(".whole-window").getBoundingClientRect();return{width:e.width,height:e.height}}catch(t){return null}}()||n:{width:360,height:600}},jA=function(t,e,n){var i=um(t),o=dm(t),a=mm(t),r=a.title,s=a.url,c=fm(t),d=xm(t),l=_m(t)||cu,u=["chatwindow.aspx","?siteId="+i,o?"&chatGroup="+o:null,B.version?"&version="+B.version:null,"&planId="+e,"#","&chatSource="+l,d?"&invitationId="+d:null,c?"&visitorGuid="+c:null,th(t)?null:"&isStandbyServer=1",r?"&title="+encodeURIComponent(r):null,s?"&url="+encodeURIComponent(s):null,"&openType="+n].join(""),p=dh(t,u),h=TA(t,e),f=h.width,g=h.height,m=Math.max(f,380);return{win:N.open(p,""+"$brandingNameChatWindow".replace("$brandingName",N.brandingName)+i,"width="+m+",height="+g+",left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=no,titlebar=no"),url:p}},PA=!1,FA=function(){N.opener&&(N.opener=null),PA=!0,N.close()},NA=function(t,e){return{type:t,time:new Date,content:e,guid:U(),sender:{type:Xu}}};function WA(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function VA(t,e){WA(t,e)||(t.className=t.className+" "+e)}function DA(t,e){if(WA(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}var RA=function(t){var e=fh(t,"/webrtcSignalingService/signaling.ashx");xA&&e&&xA.start(e)},EA=function(t){var e=fh(t,"/webrtcSignalingService/signaling.ashx");yA&&e&&yA.start(e)},zA=function(){xA&&(xA.stop(),xA=null)},LA=function(){yA&&(yA.stopScreenSharing(),yA=null)},HA=((vA={})[Ze]=RA,vA[_n]=RA,vA[Qe]=zA,vA[Xe]=zA,vA[$e]=zA,vA[yn]=zA,vA[xn]=zA,vA[vn]=zA,vA[An]=zA,vA[On]=zA,vA[rn]=zA,vA[sn]=zA,vA[Cn]=zA,vA[In]=zA,vA[Mn]=zA,vA[en]=zA,vA[on]=zA,vA[an]=zA,vA[kn]=RA,vA[nn]=RA,vA[Ci]=EA,vA[ki]=LA,vA[Si]=LA,vA[Ii]=LA,vA[Wi]=LA,vA[zi]=LA,vA[Oi]=EA,vA[Bi]=LA,vA[Ai]=LA,vA[Ti]=LA,vA),qA=((_A={})[Ze]="livechat.chat.video.start",_A[_n]="livechat.chat.audio.start",_A[$e]="livechat.chat.video.stop",_A[yn]="livechat.chat.audio.stop",_A[sn]="livechat.chat.video.stop",_A[On]="livechat.chat.audio.stop",_A[Mn]="livechat.chat.audio.stop",_A[an]="livechat.chat.video.stop",_A[kn]="livechat.chat.audio.start",_A[nn]="livechat.chat.video.start",_A[bn]="livechat.chat.audio.request",_A[Je]="livechat.chat.video.request",_A[Sn]="livechat.chat.audio.request",_A[tn]="livechat.chat.video.request",_A[Xe]="livechat.chat.video.refuse",_A[xn]="livechat.chat.audio.refuse",_A[on]="livechat.chat.video.refuse",_A[In]="livechat.chat.audio.refuse",_A[Qe]="livechat.chat.video.cancel",_A[en]="livechat.chat.video.cancel",_A[vn]="livechat.chat.audio.cancel",_A[Cn]="livechat.chat.audio.cancel",_A[An]="livechat.chat.audio.noanswer",_A[rn]="livechat.chat.video.noanswer",_A),UA=function(t,e){return nf(t).filter((function(t){return t.type===e})).length>0},GA=null,KA=Math.pow(2,31),YA=KA-6,JA=KA-5,QA=KA-4,ZA=KA-7,XA=KA-5,$A=ZA+1,tO=KA-1,eO=!it,nO=0===N.location.href.indexOf("https://")||!1,iO="glance_ssn_info";var oO=function(t,e){var n=M(t),i=S(t);return"#glance_cobrowse_btn>:not(#glance_scrim):not(#glance_confirm):not(#glance_msg_box){display:none !important}#glance_cobrowse_btn{z-index:"+tO+' !important}#glance_confirm{width:240px;padding:30px;color:#000 !important;border-radius:4px;background:#fff;font-size:14px;box-shadow:0px 0px 10px rgba(0,0,0,0.2);}#glance_confirm_msg{padding-bottom:20px;}#glance_confirm_msg::before{content:"'+e+'";}#glance_yes,#glance_no{padding:5px 10px;border-radius:3px;text-decoration:none !important;display:inline-block;margin:0 10px !important;font-weight:normal !important;}#glance_yes{background-color:'+n+";color:#"+(i?"#3c3c3c":"#fff")+" !important;border:none !important;}#glance_no,#glance_no:hover{border:1px solid #ccc !important;color:#000 !important;}"},aO="#f1d00f",rO=F.createElement("div");function sO(t){if(!function(t){var e="livechat-test-cookie-key",n="value";F.cookie=e+"="+n+";domain="+t;var i=F.cookie.indexOf(e+"="+n)>=0;return F.cookie=e+"=;domain="+t+";expires=Thu, 01 Jan 1970 00:00:00 GMT;",i}(t))return null;var e=t.split(".");if(e.length<=1)return t;e.shift();var n=sO(e.join("."));return n||t}rO.id="branding-cobrowse-border",Object.assign(rO.style,{position:"fixed",pointerEvents:"none",top:0,bottom:0,right:0,left:0,margin:"auto",borderStyle:"solid",borderWidth:"3px",borderColor:aO}),rO.style.position="fixed";var cO,dO=N.location.search.indexOf("cobrowseDebug")>=0,lO=function(t,e){return cO?(cO.textContent=oO(t,e),Promise.resolve()):ot("style",{textContent:oO(t,e)},F.head,(function(){return!0})).then((function(t){cO=t}))},uO=at((function(t,e){var n={src:t,id:"cobrowsescript","data-groupid":e,"data-site":"production",charset:"UTF-8"},i=sO(N.location.host);return i?n["data-cookiedomain"]=i:n["data-cookietype"]="ls",ot("script",n,F.head,(function(){return N.GLANCE}))}));var pO=[],hO=!1,fO=function(t,e){return t.output.payload.find((function(t){return t.type===e})).payload},gO=function(t,e,n,i,o,a){return zM(t,Bo([No(),Oo(),Ao()])).then((function(r){if((fO(r,no.restoreChat)||{}).guid!==o.chatGuid)throw new Error("try to restore cross site chat but chat guid not match.");return aM(e,o.campaignId,t.replace(/\/visitor.ashx.*$/i,"/campaign.ashx?siteId="+o.siteId+"&campaignId="+o.campaignId),a).then((function(){var t=function(t,e){var n=Object.assign({},e.agents||{});return(fO(t,no.getAgents)||[]).forEach((function(t){n[t.id]||(n[t.id]=t)})),Object.values(n)}(r,o);t.forEach((function(t,n){return e(fx({id:t.id,entity:Object.assign({},t,{index:n}),fetchStatus:Su}))}));var a=fO(r,no.getDepartments);a&&a.forEach((function(t){return e(gx({id:t.id,entity:t,fetchStatus:Su}))})),e(q_(n,o,i))}))}))},mO=function(t,e){var n=hw(t,e);return n?function(){try{var t=document.getElementById("chat_window_container");if(!t)return null;var e=t.contentWindow.document.querySelector(".whole-window").getBoundingClientRect();return{width:e.width,height:e.height}}catch(t){return null}}()||n:{width:360,height:600}};var wO="sso-login",bO="setLocation",vO="closeLocation",_O="customVariableLogin",xO="webViewLinkDone",yO="popoutScreenSharingClose";function SO(t,e){if(!e||0===e.length)return!1;var n=function(t){var e=t.map(a).join("|");return new RegExp("\\b"+e+"\\b","i")}(e);return n.test(t)}var CO;CO=r(s,(function(t){t.dispatch;var e=t.getState;return function(t){var n,i=((n={})[qs]=function(e,n){var i=function(t){return function(t){var e=!1;return{data:t,cancel:function(){e=!0},isCancelled:function(){return e}}}({text:t})}(e.payload.message);!function(t,e){ZC[t]&&ZC[t].forEach((function(t){try{t(e)}catch(t){}}))}("livechat.chat.visitor.sendText",i),i.isCancelled()||t(e)},n[Vl]=function(e,n){t(Ax(e.payload))},n);return function(n){var o=i[n.type];if(!o)return t(n);o(n,e())}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){var i,o=((i={})[qs]=function(n,i){if(SO(n.payload.message,function(t){return t.configuration.restrictedWords}(i)))throw setTimeout((function(){return e(yS())}),0),new Error(e_(i,"promptRemoveRestrictedWords"));t(n)},i);return function(e){var i=o[e.type];if(!i)return t(e);i(e,n())}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){var o=n();if(i.type===ls&&!i.payload.isRestoreChat&&!Sm(o,i.payload.campaignId)){var a=rw(o,i.payload.campaignId);if(a)return gA(a),null}if(i.type===hs&&i.payload===Ku){var r=qh(o),s=rw(o,r);if(s)return gA(s),s.isNewWindow&&e(_y()),e(MS()),null}return t(i)}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){var i=null,o=function(t){return function(e){return t(JSON.parse(e.data))}},a=function(e){var a=e.win,r=e.url;if(!i)var s=(i=wA(a,r,!0)).subscribe(o((function(e){if(e.type===CA)s(),i=null,N.focus(),t(A_(e.payload)),vb({isEmbeddedPoppedOut:!1},fm(n()));else if(e.type===kA)try{N.GLANCE.Cobrowse.Visitor.stopSession()}catch(t){}else if(e.type===MA){var o=N.restoreState;i&&i.dispatch({type:IA,payload:o})}})))},r=function(t){i&&i.dispatch({type:CA,payload:t})};return N.addEventListener("beforeunload",(function(t){var e=n();if(eh(e)&&sw(e,cm(e))&&!PA&&!Ng(e)){if(Xf(e)){var i=e_(e,"audioVideoChangeWindowType"),o=t||N.event;return o.stopPropagation(),o.preventDefault(),o.returnValue=i,i}r(e)}})),N.addEventListener("unload",(function(){Xf(n())&&(e(qS()),r(n()))})),function(s){var c=n();if(!c)return t(s);if(s.type===kc&&null==i&&Xv(c))var d=mm(c).url||F.referrer,l=(i=wA(N.opener,d,!0)).subscribe(o((function(e){e.type===SA?(l(),N.opener=null,t(y_())):e.type===IA&&t(A_(e.payload))})));if(s.type===hs&&eh(c)&&(OA(e_(c,AA[s.payload])),Z(N.location.href,"ssoInfo"))){var u,p=Z(N.location.href,"ssoInfo");if(s.payload===Lu||s.payload===Hu||s.payload===Uu){u=NS(p),e(u);var h=N.location.href.substring(0,N.location.href.indexOf("&ssoInfo="));N.history.replaceState(N.history.state,F.title,h)}}if(s.type===$d&&eh(c)){var f=Lh(c);OA(e_(c,AA[f]))}if(s.type===ls){var g=s.payload.campaignId,m=(bb(fm(c))||{}).isEmbeddedPoppedOut,w=sw(c,g);if(!eh(c)&&(m||!w)){var b=jA(c,g,ls);return m&&a(b),null}}if(s.type===us){var v=qh(c);if(!eh(c)){a(jA(c,v,us)),vb({isEmbeddedPoppedOut:!0},fm(c));var _=df(c);_&&(Ab(_),Cf(c)&&(c.window.messages=BA(c))),i&&N.addEventListener("beforeunload",(function(){i.dispatch({type:SA})})),N.restoreState=c}}if(s.type===ps&&eh(c)){var x=df(c);return x&&(Ab(x),Cf(c)&&(c.window.messages=BA(c))),r(c),FA(),null}if(s.type===fl)return i&&i.dispatch({type:kA}),null;if((s.type===jd||s.type===vc&&s.payload===ql)&&eh(c)){var y=t(s);return y&&y.catch?(Promise.race([y.catch((function(){})),$(3e3)]).then(FA),null):(FA(),null)}return s.type===kl&&i&&i.dispatch({type:MA}),t(s)}}}),(function(t){var e=t.getState,n=t.dispatch;return function(t){return function(){var i=tt(et().mark((function i(o){var a,r,s,c,d,l,u,p,h,f,g,m;return et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=function(){var t=tt(et().mark((function t(i){var o,a,r;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(GA){t.next=7;break}return t.next=3,nt((function(){return import("./p2pChat.b7858890.js")}),(function(){n(zx("Error loading modules. Please refresh the page and try again."))}));case 3:if(o=t.sent,GA=o&&o.default){t.next=7;break}return t.abrupt("return",null);case 7:return a=P(fh(e(),"/webrtcSignalingService/Statistics")),(r=new GA(Object.assign({},i,{visitorId:fm(e()),siteId:um(e()),url:a}))).onevent((function(t,e){if("error"===t)n(qS()),n(US());else if("start"===t){if(!xA&&!yA)return;if(xA){var i=xA.getRemoteVideo();i&&VA(i,"mediaChatWindow__remoteVideo--loading")}if(yA){var o=yA.getRemoteScreenSharingVideo(),a=yA.getLocalScreenSharingVideoItem();o&&!a&&VA(o,"mediaChatWindow__remoteVideo--loading")}}else if("remoteStreamReceived"===t){if(!xA&&!yA)return;if(xA){var r=xA.getRemoteVideo();r&&DA(r,"mediaChatWindow__remoteVideo--loading")}if(yA){var s=yA.getRemoteScreenSharingVideo();s&&DA(s,"mediaChatWindow__remoteVideo--loading")}}})),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=e(),s=function(){n(US())},o.type!==Ms){i.next=13;break}if(xA){i.next=8;break}return i.next=7,a({chat:df(r),actionType:"audioVideo"});case 7:xA=i.sent;case 8:return Ib(df(r)),xA.requirePermission(!1).then((function(){var e=NA(di,"");n(HS([e])),t(o)})),i.abrupt("return",null);case 13:if(o.type!==As){i.next=23;break}if(xA){i.next=18;break}return i.next=17,a({chat:df(r),actionType:"audioVideo"});case 17:xA=i.sent;case 18:return Ib(df(r)),xA.requirePermission(!0).then((function(){var e=NA(ci,"");n(HS([e])),t(o)})),i.abrupt("return",null);case 23:if(o.type!==Os){i.next=34;break}if(t(o),yA){i.next=29;break}return i.next=28,a({chat:df(r),actionType:"screenSharing"});case 28:yA=i.sent;case 29:return Ib(df(r)),yA.requireScreenSharingPermission(s).then((function(){if(Ug(e()))LA();else{var t=NA(Vi,"");n(HS([t]))}})).catch((function(){t(bS())})),i.abrupt("return",null);case 34:if(o.type!==Fl){i.next=41;break}return i.next=37,a({chat:df(r),actionType:"screenSharing"});case 37:(yA=i.sent)&&(yA.setScreenSharingVideoContainers(o.payload),yA.requireScreenSharingPermission(s).then((function(){EA(r);var e=NA(Ei,"");n(HS([e])),t(o)}))),i.next=42;break;case 41:o.type===us?(zA(),LA(),Mb(df(r))):o.type===ps&&(zA(),LA());case 42:if(c=t(o),d=e(),l=Qf(d),u=Qf(r),p=qg(r),h=qg(d),o.type!==Sd){i.next=52;break}xA&&xA.hideVideos(),i.next=98;break;case 52:if(o.type!==Tl){i.next=56;break}yA&&yA.hideScreenSharingVideos(),i.next=98;break;case 56:if(o.type!==gd){i.next=61;break}Ib(df(d)),xA&&xA.setVideoContainers(o.payload.localVideoContainer,o.payload.remoteVideoContainer,o.payload.unmuteRemoteContainer),i.next=98;break;case 61:if(o.type!==jl){i.next=65;break}yA&&yA.setScreenSharingVideoContainers(o.payload.localVideoContainer,o.payload.remoteVideoContainer),i.next=98;break;case 65:if(o.type!==Ls){i.next=81;break}if(o.payload.forEach((function(t){f=qA[t.type]})),f&&XC(f),(xA||yA)&&o.payload.forEach((function(t){var e=HA[t.type];e&&e(d)})),xA||l!==ma&&l!==ba){i.next=74;break}return i.next=72,a({chat:df(d),actionType:"audioVideo"});case 72:(xA=i.sent)&&xA.requirePermission(l===ma).then((function(){return RA(d)}));case 74:if(yA||h!==Sa&&h!==Ca){i.next=79;break}return i.next=77,a({chat:df(d),actionType:"screenSharing"});case 77:(yA=i.sent)&&(h===Sa?Promise.resolve().then((function(){return EA(d)})):yA.requireScreenSharingPermission(s).then((function(){return EA(d)})));case 79:i.next=98;break;case 81:if(o.type!==bd){i.next=89;break}if(xA){i.next=86;break}return i.next=85,a({chat:df(d),localVideoContainer:o.payload.localVideoContainer,remoteVideoContainer:o.payload.remoteVideoContainer,unmuteRemoteContainer:o.payload.unmuteRemoteContainer,actionType:"audioVideo"});case 85:xA=i.sent;case 86:xA&&xA.requirePermission(l===ha).then((function(){var t=NA(li,l);n(HS([t]))})),i.next=98;break;case 89:if(o.type!==Pl){i.next=97;break}if(yA){i.next=94;break}return i.next=93,a({chat:df(d),remoteScreenSharingVideoContainer:o.payload.remoteVideoContainer,actionType:"screenSharing"});case 93:yA=i.sent;case 94:yA&&Promise.resolve().then((function(){var t=NA(Di,h);n(HS([t]))})),i.next=98;break;case 97:o.type===md?(zA(),UA(d,ui)||(g=NA(ui,u),n(HS([g])))):o.type===wd?(LA(),UA(d,Ri)||(m=NA(Ri,p),n(HS([m])))):o.type===vd?(xA&&xA.unmuteRemote(),yA&&yA.unmuteRemote()):o.type===Nl&&(o.payload?yA&&yA.stopScreenSharing():EA(d));case 98:return i.abrupt("return",c);case 99:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()}}),(function(t){var n=t.getState;return function(i){var o=function i(o,a,r){void 0===r&&(r=function(t){return Promise.resolve(t)});var s=Sh(n()),c=jo(o,no.sendChatMessages);s&&c&&(c.messages=function(t,n){return t.map((function(t){var i=t.content,o=j(t,cA);return Object.assign({content:o.encoding?i:e.Base64.encode(i),encoding:n},o)}))}(c.messages,s)),function(t,e){jo(e,no.recoverVisitor)&&(t.dispatch(S_(!0)),t.dispatch(I_(!0)))}(t,o);var d=_v(n());return n().page.isSubmitSSO?null:(function(t,e){jo(e,no.submitSSOInfo)&&t.dispatch(rx(!0))}(t,o),zM(Yv(n()),function(t){if(!t)return t;var e=ub();return t.actions?(t.actions.forEach((function(t){return Object.assign(t,{sessionId:e})})),t):Object.assign({},t,{sessionId:e})}(o),a,d).then((function(t){return t})).then(UM(t)).then(r).then((function(e){return hM(t,e),function(t,e){To((function(e){GM.indexOf(e.type)<0&&t.dispatch(M_()),e.type===no.recoverVisitor&&t.dispatch(I_(!1))}),e.input)}(t,e),e})).catch(hA((function(t){var e=t.error.code;throw-1!==[qI,KI].indexOf(e)&&t.error.serverInstanceTag,t}))).catch(hA(rA(t,i,a,r))).catch(hA(function(t){var e=t.getState,n=t.dispatch;return function(t){if(t.input.type===no.getVisitorInfo)n(jy(null));else if(jo(t.input,no.submitSSOInfo))n(zx(t.error.message));else{var i=t.error.code;if(-1!==[GI,qI,UI,KI].indexOf(i)){var o=e();Ph(o)&&(Pf(o)||Nh(o)===op)&&n(zx(e_(e(),Sw))),n(S_(!1))}else if(1024===i||1032===i)n(__());else if(7601===i)t.error.message&&n(zx(t.error.message));else if(4342339===i)n(zx("Oops.We're getting problems to the chatbot. Please refresh this page to chat with a live agent.")),n(S_(!1));else if(1037===i)n(zx(t.error.message)),n(S_(!1));else if(9002===i){n(zx(t.error.message));var a=jo(t.input,no.sendChatMessages);a&&n(kS(a.messages))}else{if(jo(t.input,no.recoverVisitor))throw t;if(i!==YI){var r=e_(e(),"promptServerException");r&&n(zx(r.replace("{errorCode}",i)))}else{var s=t.input;s.type===no.requestChat&&s.isFromKB&&n(zx(t.error.message))}}}throw t}}(t))).catch(hA(function(t){var e=t.getState,n=t.dispatch;return function(t){var i=t.input;if(!jo(i,no.recoverVisitor)||!t.error)throw t;20===e().app.recoverFailTimes&&(n(S_(!1)),n(zx(e_(e(),Sw)))),n(k_()),n(I_(!1))}}(t))).catch(hA(function(t){var e=t.dispatch,n=t.getState;return function(t){throw t.error.code===qI&&zM(Yv(n()),Fo({visitorGuid:fm(n()),visitorId:nb()})).catch((function(t){var n=t.error.code;throw 1024!==n&&1032!==n||e(__()),t})),t}}(t))).catch(hA(function(t){var e=t.dispatch,n=t.getState;return function(t){if(2003===t.error.code){var i=t.error,o=i.ssoServiceUrl,a=i.artifactServiceUrl,r=i.issuer,s=n(),c=um(s),d=Tm(s)||"",l=ph(s,(d?a:o)+"?siteId="+c+"&issuer="+r+"&artifact="+d+"&cookieId="+fm(s)),u=Wg(s);e($x()),e(yx(l,"showPrelogin"===u)),e(xx(Hu))}throw t}}(t))).catch(hA((function(e){throw 1===e.error.code&&t.dispatch(Vy()),e}))))},a=function(t,e,n,a,r){return o(e,null,n).catch((function(e){var n=e.message;if(e.error&&318===e.error.code){var o=t_(r,cm(r));n=L[o].recaptchaFailure}throw i(mC(t)),i(zx(n)),a&&a(n),e}))};return function(t){t.type===nl?sA(i,t.payload,n()):t.type===il?function(t,e,n){var i=e.link;t(wx(al,{url:i}))}(i,t.payload,n()):t.type===ld&&i(t);var e=uA[t.type];if(e){var r=e(t.payload,n());if(r){fA(r,n());var s=o(r);if(t.type===id||t.type===$c||t.type===Lc||t.type===nd||t.type===od)return s;if(t.type===vc&&t.payload===ql&&eh(n()))return s;if(t.type===ld)return s}return i(t)}if(t.type===Ec)return oh(n())||(o(po(cm(n()))),function(t){return Object.keys(t.page.buttons)}(n()).forEach((function(t){return o(function(t){return{type:no.getIfOnline,campaignId:t}}(t))}))),null;if(t.type===Us){var c=t.payload.file;if(!c)return null;if(Cf(n()))return null;var d=bh(n()),l=Df(n()),u=function(t){return t.configuration.attachmentMaxCount}(n()),p=i_(n()),h=a_(n());return l>=u?(i(Qx(wp,{fileCount:u})),Promise.resolve()):c.size>d*Math.pow(2,20)?(setTimeout((function(){i(Qx(hp,{fileSize:d}))}),1e3),Promise.resolve()):0===c.size?(i(Qx(fp)),Promise.resolve()):(i(t),o(bo(!0,df(n()))).then((function(e){var a=e.output.payload;return o(function(t,e,n,i,o,a,r,s){return io({type:no.sendFile,chatGuid:e,visitorGuid:i,siteId:n,fileServiceUrl:o,standbyFileServiceUrl:a,token:r,fileName:s},t)}(c,t.meta,um(n()),fm(n()),p,h,a,t.payload.fileName),(function(e,n){return i(bx(t.payload.fileName,e,n))})).then((function(t){var e=t.output;return i(vx(e))})).catch(hA((function(t){var e=t.error;return i(_x(e))}))).catch((function(t){return i(_x({message:t.message}))}))})).catch(hA((function(t){var e=t.error;return i(_x(e))}))).catch((function(t){return i(_x({message:t.message}))})))}if(t.type===Jc){var f=t.payload,g=f.form,m=f.onSuccess,w=f.onError,b=wm(n(),qh(n())),v=Object.assign({},b,{lastChattedAgents:Ob(),ticketId:g.ticketId||b.ticketId,departmentId:null==g.department?b.departmentId:void 0,isPrechatDone:!0,skipSSO:!0});a(sp,Bo([mo(g,qh(n())),v]),m,w,n())}else if(t.type===Kc){var _=n(),x=mv(_),y=x&&x.campaignId?x.campaignId:qh(_),S=t.payload,C=S.form,k=S.onSuccess,I=S.onError,M=df(_),A=Object.assign({},vm(_));M&&(A.chatGuid=M);var O=function(t){var e=t&&{name:t.name,fileKey:t.key};a(dp,function(t,e,n){return{type:no.submitOfflineMessage,campaignId:t,form:e,source:n}}(y,Object.assign({},C,{attachment:e}),A),k,I)};if(C.attachment){var B=function(t,e,n,i){var o=lv(t,dp,n);if(o&&o.length>0){var a=o.filter((function(t){return t.type===i}));if(a.length>0)return a[0]}return""}(n(),0,y,Xo);o(bo(!1)).then((function(t){var e=t.output.payload;o(function(t,e,n,i,o,a){var r=t.attachment;return io({siteId:e,fileServiceUrl:n,standbyFileServiceUrl:i,attachmentField:o,token:a,fileName:r.name},r)}(C,um(n()),i_(n()),a_(n()),B,e)).then((function(t){var e=t.output;return O(Object.assign({},e))})).catch((function(t){var e=t.input,n=t.error;i(mC(dp)),i(uC(dp,e.attachmentField.id,n.message))}))})).catch((function(t){var e=t.input,n=t.error;i(mC(dp)),i(uC(dp,e.attachmentField.id,n.message))}))}else O()}else if(t.type===Yc){var T=df(n()),j=t.payload,P=j.form,F=j.onSuccess,N=j.onError;a(cp,function(t,e,n){return{type:no.submitPostChat,chatGuid:t,form:e,campaignId:n}}(T,P,Uh(n())),F,N).then((function(){return i(xx(Uu))}))}var W=i(t),V=pA[t.type];if(V){var D=V(t.payload,n());fA(D,n()),D&&o(D)}return W}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){if(!n())return t(i);var o,a=pm(n());if(i.type===es){var r=i.payload,s=r.guid,c=r.ifNewVisitor,d=r.sessionId,l=r.migrationInfo,u=r.persistentVisitor;if(s&&(ab(s,a),jw(eb())),d&&lb({sessionId:d},a),c){var p=db(a),h=p.firstVisitTime,f=p.visitTimes;lb({firstVisitTime:h||(new Date).getTime(),visitTimes:(f||0)+1},a)}u&&lb({persistentVisitor:u},a),l&&lb(Object.assign({},l),a)}if(i.type===as&&i.payload&&function(t,e){var n=sb(rb(e)).navigation||[];Zw.setItem(rb(e),JSON.stringify(Object.assign({},db(e),{navigation:n.concat(t)})))}(i.payload,a),i.type===rs&&(o=a,Zw.setItem(rb(o),JSON.stringify(Object.assign({},db(o),{navigation:[]})))),i.type===Uc){var g=db(a),m=g&&g.form&&void 0!==g.form.email?Object.assign({},g.form,{email:i.payload}):{};void 0!==m.email?lb({email:i.payload,form:m},a):lb({email:i.payload},a)}if(i.type===hs&&i.payload===qu){var w,b=ow(n(),qh(n())).routeDepartment;b&&(w={department:b});var v=db(a),_=Kh(n());w=Object.assign({},!_.isForgetPrechat&&v?v.form:{},w,eh(n())?mI():{}),Object.keys(w).length>0&&t(bC(w))}if(i.type===hs&&i.payload===Ku){var x,y=ow(n(),qh(n())).routeDepartment;y&&(x={department:y});var S=db(a);(x=Object.assign({name:S.name?S.name:"",email:S.email?S.email:""},S?S.form:{},x,eh(n())?mI():{}))&&t(bC(x))}if(i.type===is){var C=i.payload;if(C.isManual&&C.chat){var k=C.chat.guid,I=hb(k,a),M=I.windowStatus,A=I.maxReadId;if(M){var O=t(Object.assign({},i,{payload:Object.assign({},i.payload,{windowStatus:M})}));return null!=A&&e(gy(A)),O}}}var B=n(),T=Pf(B),j=t(i),P=n();if(a=um(P),i.type===Ud||i.type===Kd){var F=db(),N=F||{},W=N.name,V=N.email,D=Object.assign({},i.payload);F&&F.form?lb({name:D.name&&D.name!==W?D.name:W||"",email:D.email&&D.email!==V?D.email:V||"",form:Object.assign({},F.form,{name:F.form.name&&D.name?D.name:W||"",email:F.form.email&&D.email?D.email:V||""})},a):lb({name:D.name&&D.name!==W?D.name:W||"",email:D.email&&D.email!==V?D.email:V||""},a)}if(i.type===Kd&&sp===i.meta&&!Kh(P).isForgetPrechat){var R=Object.assign({},i.payload);delete R.department,delete R.ticketId,delete R.captcha,lb({form:R},a)}var E=Pf(P),z=df(P);if(!T&&E){var L=hm(P);L!==zl&&L!==Hl&&L!==Ll||mb(z,{windowStatus:L},pm(P))}if(i.type===vc){var H=i.payload===Hl||i.payload===zl||i.payload===Ll,q=Jv(P);(E||q)&&H&&mb(z,{windowStatus:i.payload},pm(P))}if(i.type===Nc||i.type===vc||i.type===Ls||i.type===el){var U=gf(B),G=gf(P);U!==G&&mb(z,{maxReadId:G},pm(P))}return i.type===Ls&&i.payload.forEach((function(t){var e=t.content,n=t.type;if(n!==Ne&&n!==Ln||function(t,e){var n=db(e)||{},i=n.chatTimes;n.lastChatGuid!==t&&lb({chatTimes:(i||0)+1,lastChatGuid:t},e)}(df(P),a),n===De||n===Ne||n===He){if(e.agent){var i=df(P);gI!==i&&(gI=i,lb({lastChattedAgents:[]},void 0)),function(t,e){var n=(db(e)||{}).lastChattedAgents||[];if(-1===n.indexOf(t)&&Number.isNaN(Number(t))){var i=n.concat([t]);lb({lastChattedAgents:i},e)}}(e.agent.id)}}else n===Ve&&e.agent&&function(t,e){var n=(db(e)||{}).lastChattedAgents||[];if(-1!==n.indexOf(t)){var i=n.filter((function(e){return e!==t}));lb({lastChattedAgents:i},e)}}(e.agent.id);n===be||n===We?Db():n===jn&&Fb()!==e.ssoInfo&&(Pb(e.ssoInfo),Vb())})),i.type===Fc&&Db(),i.type===Pc&&(i.payload?Zw.setItem(Gw,!0):Zw.removeItem(Gw)),j}}}),(function(t){t.dispatch;var e=t.getState;return function(t){return function(n){var i=e();if(n.type===kc){var o=um(i),a=dm(i),r=Lb(o,a);if(r){var s=hb(r.chatGuid,r.siteId),c=cm(i);Kv(r),function(t,e,n,i,o){var a=Kv(i);return gO(a,t,e,n,i,o).catch((function(a){var r=a&&a.error&&a.error.code;if(r===YI||r===GI){var s=Kv(i);return gO(s,t,e,n,i,o)}throw a}))}(t,c,s,r,i).then((function(){t(n)})).catch((function(e){Eb(o,a),t(n)}))}else t(n)}else n.type===Cl?(n.payload.window.crossSiteChatTransfer&&zb(um(n.payload),dm(n.payload),mv(n.payload)),t(n)):t(n)}}}),(function(t){var e=t.getState;return function(t){var n=function(t,e){var n=Q((function(){return e(yy())}),1e4,!1);return function(e){var i=e.type,o=e.sender,a=e.content,r=t();if(i===ze)n();else if(i===De||i===Ne||i===He){var s=a.agent;XC("livechat.chat.agent.join",s)}else if(i===Re||i===Le){var c=tw(r,o.id);XC("livechat.chat.agent.transfer",c)}else if(i===Ve){var d=tw(r,o.id);XC("livechat.chat.agent.leave",d)}}}(e,t);return function(e){var i=t(e);return e.type===Ls&&e.payload.forEach(n),i}}}),(function(t){return function(e){return function(n){var i=t.getState(),o=rh(t.getState());n.type===Pc&&n.payload&&kI.stop(Gv(i,yI)),n.type!==us&&n.type!==ps||kI.stop(Gv(i,yI));var a=e(n),r=t.getState();if(!$p(r))return null;var s=function(t){var e=Kh(t);return e&&e.notification}(r),c=gf(i);if(n.type===Fc&&XC("livechat.chat.end"),n.type===Ls){var d=Nh(i),l=Nh(r);d!==l&&(l===ap?XC("livechat.chat.start",df(r)):l===rp&&XC("livechat.chat.end"));var u=0,p=0,h=0,f=0;n.payload.forEach((function(t){if(sr(t)&&t.id&&!(t.id<=c)&&(lr(t.type)&&(p+=1),ur(t.type)&&(f+=1),!v||t.type!==Sn&&t.type!==bn&&t.type!==tn&&t.type!==Je||(u+=1),!v||t.type!==Mi&&t.type!==yi&&t.type!==ji?lr(t.type)&&t.type!==kn&&t.type!==nn&&t.type!==_n&&t.type!==Ze?o||II(Gv(r,SI)):ur(t.type)&&t.type!==Oi&&t.type!==Ci?o||II(Gv(r,"screensharing-end")):t.type!==dn&&t.type!==un&&t.type!==hn&&t.type!==pn&&t.type!==cn&&t.type!==mn&&(o||II(Gv(r,"new-response"))):h+=1,t.type!==Ne)){if(t.sender.type===$u){var e=null;switch(t.type){case Rn:e=Y(function(t){var e=t.content.intentAnswers[0];return e.type===ek?AI(e.content):e.type===ik||e.type===sk?e.content.name:e.type===ok?"[Video]":e.type===ck?AI(e.content.text):e.content.text}(t),0,48);break;case qn:e=t.content.message+" "+t.content.signInText;break;case Un:case Jn:case Yn:e=t.content.message}if(null!=e){var n=dh(r,"/visitorside/images/logo60.png");return Ch(r)&&(n=""),void MI(e,n)}}if(s){var i="string"==typeof t.content?t.content:t.content.text,a=dh(r,"/visitorside/images/logo60.png");Ch(r)&&(a=""),MI(i,a)}}})),(u>0||p>0)&&(u>p?o||kI.play(Gv(r,yI),!0):kI.stop(Gv(r,yI))),(h>0||f>0)&&(h>f?o||kI.play(Gv(r,CI),!0):kI.stop(Gv(r,CI)))}var g=mg(i),m=mg(r),w=gg(i),b=gg(r)||m;if(g||!m||o?g&&!m&&kI.stop(Gv(r,yI)):kI.play(Gv(r,yI),!0),(w||g)&&!b&&r.window&&(o||II(Gv(r,SI))),s&&kf(r)&&!kf(i)&&xI(),n.type===ts){var _=n.payload.campaignId;if(Sm(i,_)!==Sm(r,_)){var x=ow(r,n.payload.campaignId),y=Sm(r,_);XC(y?"livechat.button.online":"livechat.button.offline",x)}}if(n.type===ud){var S=rf(i),C=rf(r);C.position===S.position&&C.waitTime===S.waitTime||XC("livechat.chat.waitingQueue.update",C)}return a}}}),(function(t){var e=t.getState,n=t.dispatch,i=function(){var t=Tw(iO),e="";try{e=JSON.parse(decodeURIComponent(t)).ssnid.split(".")[2]}catch(t){}n($S(e))},o=function(){n(iC())},a=function(t){var e=t&&t.enabled;rO.style.borderColor=e?"#cd0808":aO},r=function t(r){var s=N.GLANCE.Cobrowse.Visitor;try{s.removeEventListener("sessionend",t),s.removeEventListener("sessionstart",i),s.removeEventListener("rc",a),s.removeEventListener("error",o),F.body.removeChild(rO)}catch(t){}e().window&&n(iC())},s=function(t,e,n,s,c){var d=function(){var t=Tw(iO);if(!t)return null;try{return JSON.parse(decodeURIComponent(t))}catch(t){return null}}(),l=!c;if(l&&!d){var u={ssnid:e+"."+n+"."+s,R:1,yb:!0,Od:!1,Fa:[sO(N.location.host)],boxstate:3,expanded:!1};Pw(iO,encodeURIComponent(JSON.stringify(u)))}return uO(t,e).then((function(){var t=N.GLANCE.Cobrowse,e=t.VisitorUI,s=t.Visitor;try{e.showButton(!0),l||s.startSession(n),s.addEventListener("sessionend",r),s.addEventListener("sessionstart",i),s.addEventListener("rc",a),s.addEventListener("error",o),pO.forEach((function(e){try{var n,i=e[0],o=e[1],a=e.slice(2);(n=t[i])[o].apply(n,a)}catch(t){}})),F.body.appendChild(rO)}catch(t){}pO=[]}))};return function(t){return function(i){var o=e(),a=gg(o),r=mg(o),c=t(i),d=e(),l=gg(d),u=mg(d),p=function(t){return!eh(t)}(d),h=p&&eO&&nO;if(hO&&Vv(d)){var f=Yh(d),g=c_(d);lO(f,g),hO=!1}if(!r&&u&&(h||(t(Ny()),eO?p?nO||n(oC()):n(eC()):n(nC()))),!a&&l){var m=function(t){return t.window.cobrowseSessionCode}(d),w=function(t){return t.window.cobrowseGroupId}(d),b=function(t){return t.window.cobrowseCallId||""}(d),v=dO?sh(e(),"cobrowse/GlanceCobrowseLoader_3.3.0M.js"):"https://www.glancecdn.net/cobrowse/CobrowseJS.ashx?group="+w+"&site=production";if(h){if(Vv(d)){var _=Yh(d),x=c_(d);lO(_,x)}else hO=!0;s(v,w,m,b,r)}}if(a&&!l&&d.window)if(N.GLANCE){var y=N.GLANCE.Cobrowse.Visitor;try{y.stopSession()}catch(t){}}else eh(d)&&Xv(o)?n(Wy()):pO.push(["Visitor","stopSession"]);return c}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){var o,a=n();if(i.type!==dc||Vg(a)){if(i.type===lc){var r=Qh(a),s=Z(r,"returnUrl"),c=N.location.href.replace("#",""),d=decodeURIComponent(s)+(s.indexOf("?")>0?"&":"?")+"return="+encodeURIComponent(c),l=Vm(a),u=l?"&jwt="+l:"";D.href=r.substring(0,r.indexOf("returnUrl="))+"returnUrl="+encodeURIComponent(d)+u}}else{var p=um(a),h=Qh(a),f=window.location.href.match(/^[^:]+:\/\/[^/]+/)[0],g=h+encodeURIComponent("?target="+f),m=Vm(a),w=g+"&color=ffffff"+(m?"&jwt="+m:""),b="",v=Z(h,"returnUrl");v&&(b=v.match(/^[^:]+:\/\/[^/]+/)[0]);var _=cm(a),x=mO(a,_),y=x.width,S=x.height,C=Math.max(y,380);N.open(w,""+e_(a,xw)+p,"width="+C+",height="+S+",left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=no,titlebar=no");var k=(o=b,{subscribe:function(t){var e=function(e){var n=o.match(/^[^:]+:\/\/[^/]+/)[0];e.origin===n&&t(e)};return N.addEventListener("message",e),function(){return N.removeEventListener("message",e)}}}),I=k.subscribe((function(t){if(t.data){var n=JSON.parse(t.data);"sso-login"===n.type&&(e(NS(n.payload)),I(),k=null)}}))}return t(i)}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){var i=null;return function(o){var a=n(),r=df(a),s=fm(a);if(o.type===Nl){if(o.payload){var c=function(t){var e=um(t),n=df(t),i="html/screensharing.12d8c2d1712f9122fdc860f93d0d2abaae6ea662.html?siteId="+e+"&visitorId="+fm(t)+"&chatId="+n+"&target="+encodeURIComponent(window.location.href),o=dh(t,"/visitorside/"+i);return{win:N.open(o,""+e_(t,"screensharing")+e,"left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=0,titlebar=no"),url:o}}(a),d=c.win,l=c.url,u=(i=wA(d,l,!0)).subscribe((function(t){if(t.data){var n=JSON.parse(t.data);if("popoutScreenSharingLoaded"===n.type){var o=Qp(a),c=$v(a,o);i&&i.dispatch({type:"popoutScreenSharingInit",payload:{title:c.viewAgentSharedScreen.replace("{agent}",Yg(a)),popInLabel:c.embeddedWindowPopin,refuseLabel:c.visitorLeavesScreenSharing,webrtcUrl:fh(a,"/webrtcSignalingService/signaling.ashx")},meta:{chatId:r,visitorId:s}})}"popoutScreenSharingEnd"===n.type?(e(US()),u(),i=null):"popinScreenSharing"===n.type&&(e(xS(!1)),u(),i=null)}}));N.addEventListener("beforeunload",(function(){i&&i.dispatch({type:yO,meta:{chatId:r,visitorId:s}})}))}}else o.type===Ls?o.payload.forEach((function(t){t.type!==Ii&&t.type!==zi&&t.type!==be||i&&i.dispatch({type:yO,meta:{chatId:r,visitorId:s}})})):o.type===Ic&&Qg(a)&&(e(US()),i&&i.dispatch({type:yO,meta:{chatId:r,visitorId:s}}));return t(o)}}}));var kO="$brandingName Live Chat".replace("$brandingName",N.brandingName);function IO(t){var e=N.GoogleAnalyticsObject;if(e){var n=N[e];try{for(var i=n.getAll(),o=0;o<i.length;o+=1)n(i[o].model.data.ea[":name"]+".send","event",kO,t,t,0)}catch(t){}}else N._gaq&&N._gaq.push(["_trackEvent",kO,t,t]);N.gtag&&N.gtag("event",t,{event_category:kO,event_label:t})}var MO=q(IO,"Chat"),AO=q(IO,"Pre-chat"),OO=q(IO,"Offline-Message"),BO=q(IO,"Invitation"),TO=q(IO,"Post-Chat"),jO=q(IO,"Online Button Click"),PO=q(IO,"Offline Button Click"),FO=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.getChildContext=function(){return this.props.context},n.render=function(){return u(this.props.children)[0]},e}(p),NO=function(t,e){return{unmount:function(){for(var t=0;t<e.children.length;t+=1)e.removeChild(e.children[t])},render:function(n,o){var a;a=Array.isArray(n)?1===n.length?n[0]:i("div",null,n):n;var r=i(FO,{context:t.context},a);l(r,e),"function"==typeof o&&o()}}},WO=function(t,e){return"string"==typeof e?t[e]:e.reduce((function(t,e){return void 0===t?t:t[e]}),t)},VO=function(t,e,n,i){return void 0===i&&(i={}),n.some((function(n){var o=!1,a=WO(t[e],n),r=WO(i,n);return r instanceof Date&&a instanceof Date?o=JSON.stringify(r)!==JSON.stringify(a):r!==a&&(o=!0),o}))},DO=function(t){var e=t.split(".");return 1===e.length?t:e},RO=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);var i=e.map(DO),o=n.map(DO);return function(e,n){return VO(t,"props",i,e)||VO(t,"state",o,n)}},EO=function t(e){return e.parentNode?t(e.parentNode):e};function zO(t){return t}var LO=function(t){function e(e){var n;return n=t.call(this,e)||this,e.enableGa?n.update=n.update.bind(st(n)):n.update=function(){},n.componentDidMount=n.update,n.componentDidUpdate=n.update,n.shouldComponentUpdate=RO(st(n),["invitation","windowTab","chatStatus"]),n}rt(e,t);var n=e.prototype;return n.update=function(){var t=this.props;if(t.invitation||t.chatStatus===op)BO();else{var e=this.props.windowTab;if(e===Uu){var n=this.props.guid;(hb(n)||{}).gaChat||(mb(n,{gaChat:!0}),MO())}e===qu&&AO(),e===Ku&&OO(),e===Gu&&TO()}},n.render=function(){return i("div",null)},e}(p),HO=["name","children"],qO=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.name;t.children;var n=j(t,HO),i=F.createElement(e);Object.keys(n).forEach((function(t){i[t]=n[t]})),F.head.appendChild(i)},n.shouldComponentUpdate=function(){return!1},n.render=function(){return i("div",null)},e}(p),UO="render",GO=function(t,e){return function(n){return function(o){function a(e,n){var i;i=o.call(this,e,n)||this;var a=n&&n[UO]?n[UO]():{};return i.replacer=a[t],i}rt(a,o);var r=a.prototype;return r.componentDidMount=function(){if(this.useOrigin=!this.replacer,!this.useOrigin){var t=this.replacer(e?this.props[e]:void 0);t?(this.element.innerHTML="",this.element.appendChild(t)):this.useOrigin=!0}},r.shouldComponentUpdate=function(){return this.useOrigin},r.render=function(){var t=this;return this.replacer?i("div",{ref:function(e){t.element=e}},i(n,this.props)):i(n,this.props)},a}(p)}},KO=function(t,e){return function(n){var o;function a(){if(this.useOrigin=!this.replacer,!this.useOrigin){var t=this.replacer();t?(this.element.innerHTML="",this.element.appendChild(t)):this.useOrigin=!0}}var r=((o={})[qu]="livechat.prechat."+t,o[Uu]="livechat.chat."+t,o[Gu]="livechat.postChat."+t,o[Ku]="livechat.offlineMessage."+t,o),s=["livechat.postChat.greeting","livechat.postChat.form","livechat.postChat.submit"];function c(t,e,n){var i=r[e];if(!n||!s.includes(i))return i?t[i]:void 0}return function(t){function o(e,n){var i;(i=t.call(this,e,n)||this).apis=n&&n[UO]?n[UO]():{},i.replacer=c(i.apis,e.tab,e.ifCrossSiteTransfer),i.useOrigin=!0;var o=a.bind(st(i));return i.componentDidMount=o,i.componentDidUpdate=function(t){t.tab!==i.props.tab&&o()},i}rt(o,t);var r=o.prototype;return r.componentWillReceiveProps=function(t){t.tab!==this.props.tab&&(this.useOrigin||(this.element.innerHTML="",this.useOrigin=!0),this.replacer=c(this.apis,t.tab,t.ifCrossSiteTransfer))},r.shouldComponentUpdate=function(){return this.useOrigin},r.render=function(){var t=this;return i("div",{ref:function(e){t.element=e},className:e},i(n,this.props))},o}(p)}},YO=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.getChildContext=function(){var t;return(t={})[UO]=this.props.getRender,t},n.render=function(){return u(this.props.children)[0]},e}(p),JO="*,.innerIcon,::after,::before{box-sizing:border-box}html{margin:0;font-size:15px}body{margin:0;font-family:\"SourceSans Pro\",'',Arial;line-height:1.42857143;overflow:hidden}.chatButtonMask{position:fixed;right:25px;bottom:0;width:60px;height:100px;z-index:9}.chatButtonContainer--mobile.chatButtonMask{right:0;bottom:0;width:100px;height:100px}.chatButton,.chatButton::after,.chatButtonContainer{width:60px;height:60px;border-radius:100%}.chatButtonContainer{position:fixed;bottom:25px;right:25px;z-index:2147483636}.chatButton{position:absolute;right:0;bottom:0;box-shadow:0 3px 25px rgba(0,0,0,.3)}.chatButtonMask.chatButtonContainer--mobile .chatButton{right:25px;bottom:25px}.chatButtonMask .chatButton{bottom:25px}.chatButton::after,.chatButton::before{display:block;top:0;bottom:0;position:absolute;right:0;left:0}.chatButton:hover{box-shadow:0 3px 10px rgba(0,0,0,.3);transition:box-shadow .4s cubic-bezier(.785,.135,.15,.86);cursor:pointer;will-change:transform}.chatButton:focus{outline:#000001 auto 5px}.chatButton::after{content:''}.chatButton::before{content:'';border-radius:50%}.chatButton--ripple::before{animation:at-ripple 16.417s linear 3.625s infinite}.chatButton__svg-chat{position:absolute;left:13px;top:14px;z-index:9}.chatButton__svg-chat-path{stroke-width:0;fill:#00000b}.chatButton__svg-container{position:absolute;left:12px;top:12px;z-index:9;width:36px;height:36px}.chatButton__svg-container svg{fill:#00000b;width:100%;height:100%}.offline .chatButton__svg-chat-path{fill:#fff}.chatButton--scaleAnimation .chatButton__svg-chat-path{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:dash,fillIn;animation-duration:417ms,167ms;animation-delay:625ms,1.042s}@keyframes dash{from{stroke-dashoffset:120}to{stroke-dashoffset:0}}@keyframes fillIn{from{fill-opacity:0}to{fill-opacity:1}}.dot__element{display:inline-block;width:3px;height:3px;margin-left:3px;border-radius:100%;position:relative}.dot__element:first-child{margin-left:0}@keyframes dot--animation{0%{opacity:0;transform:translateY(-35px)}100%{opacity:1;transform:translateY(0)}}.dot--animation{animation-name:dot--animation;animation-delay:1.209s}@keyframes xAxis{100%{transform:translateX(-170px)}}@keyframes yAxis{78%{transform:translateY(-185px) translateZ(0) scale(8.97,8.97);background-color:transparent}89%{transform:translateY(-185px) translateZ(0) scale(10.235,10.235);background-color:transparent}100%{transform:translateY(-185px) translateZ(0) scale(11.5,11.5);background-color:transparent}}.chatButton--avatar .chatButton{box-shadow:none;z-index:1}.chatButton--avatar::after{content:'';display:block;width:60px;height:60px;border-radius:100%;background-repeat:no-repeat;background-size:cover;box-shadow:0 1px 6px rgba(0,0,0,.3)}.chatButton--avatar .chatButton::after{background:0 0!important}.chatButton--avatar .chatButton .chatButton__svg-chat,.chatButton--avatar .chatButton__svg-container{display:none}.chatButton--newMessage{position:absolute;right:0;top:4px;z-index:9;width:16px;height:16px;line-height:16px;background:rgba(222,57,57,.9);border-radius:100%;color:#fff;text-align:center;font-size:.8rem;animation:newincoming .4s cubic-bezier(.785,.135,.15,.86) both}@keyframes newincoming{0%{transform:scale(0)}75%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%,8.631%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}.at-ripple{animation-name:at-ripple}.svg-container{width:60px;height:60px;position:absolute;z-index:9;left:0;top:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.chatButton--avatar .svg-container{display:none}.innerDotContainer,.outIcon{-ms-transform:scale(1);transform:scale(1);position:absolute;top:16px;left:14px;width:32px;height:32px}.innerIcon{-ms-transform:scale(1) translate(0,0);transform:scale(1) translate(0,0);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.moveIn .outIcon{-ms-transform:scale(1.15);transform:scale(1.15);-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:transform 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerDotContainer{-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:opacity 150ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveOut .outIcon{-ms-transform:scale(1);transform:scale(1);-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:transform 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerIcon,.moveOut .innerIcon{transition:all 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerIcon{opacity:0;-ms-transform:scale(0);transform:scale(0);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.moveOut .innerIcon{opacity:1;-ms-transform:scale(1);transform:scale(1);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.innerDot{-ms-transform:scale(0);transform:scale(0);animation-name:bounce;-webkit-animation-name:bounce;animation-duration:.8s;-ms-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box;animation-timing-function:cubic-bezier(0,0,1,1);animation-fill-mode:both;animation-iteration-count:1;position:absolute}.innerDot:nth-child(1){animation-delay:60ms;left:5px}.innerDot:nth-child(2){animation-delay:120ms}.innerDot:nth-child(3){animation-delay:180ms}@keyframes bounce{0%,100%,66.67%{transform:translate(0,0)}6.67%{transform:translate(0,-4px)}13.33%,20%{translate:translate(0,-6px)}26.67%{transform:translate(0,-3px)}33.33%{transform:translate(0,-1px)}40%{transform:translate(0,2px)}46.67%{transform:translate(0,1px)}53.33%{transform:translate(0,-1px)}}.chatButtonHighContrast .chatButton{border:1px solid}.chatButtonHighContrast .chatButton__svg-chat-path{fill:currentColor}@media (forced-colors:active){.chatButton{border:1px solid}.chatButton__svg-chat-path{fill:currentColor}}@media (prefers-contrast:more){.chatButton{border:1px solid}.chatButton__svg-chat-path{fill:currentColor}}",QO=function(t){function e(e){var n;(n=t.call(this,e)||this).title=F.title,n.flag=!0,n.flashTitle=n.flashTitle.bind(st(n)),n.resetTitle=n.resetTitle.bind(st(n));var i=n.updateTitle.bind(st(n));return n.componentDidMount=i,n.componentDidUpdate=i,n.shouldComponentUpdate=RO(st(n),["message"]),n}rt(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this.timer&&this.resetTitle()},n.flashTitle=function(){var t=this;this.timer=setTimeout((function(){t.flag&&F.title!==t.title&&(t.title=F.title),F.title=t.flag?t.message+" - "+t.title:t.title,t.flag=!t.flag,t.flashTitle()}),1e3)},n.updateTitle=function(){var t=this.props.message;-1===F.title.indexOf(this.message)&&this.title!==F.title&&(this.title=F.title),t?(this.timer||(this.flag=!0,this.flashTitle()),this.message=t):this.resetTitle()},n.resetTitle=function(){clearTimeout(this.timer),this.timer=null,F.title=this.title},n.render=function(){return i("div",null)},e}(p),ZO=function(t,e,n){var i=[].concat(e),o=n?[].concat(n):[];i.forEach((function(e,n){e!==o[n]&&function(t,e,n){var i=t.head;if(i){var o=i.querySelector("style#"+e);o||((o=t.createElement("style")).id=e,i.appendChild(o)),o.innerHTML=n}}(t,"id-"+n,i[n])}))},XO=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props.css;this.doc=EO(this.div),ZO(this.doc,t)},n.componentDidUpdate=function(t){var e=this.props.css,n=t.css;e!==n&&ZO(this.doc,e,n)},n.componentWillUnmount=function(){var t=this.props.css;!function(t,e){var n=[].concat(e),i=t.head;i&&n.forEach((function(t,e){var n=i.querySelector("style#id-"+e);n&&i.removeChild(n)}))}(this.doc,t)},n.render=function(){var t=this;return i("div",{ref:function(e){t.div=e}})},e}(p),$O=["children","innerCss","noIframe","languageTag","title","extraJs"],tB=function(t){var e=[];return t.forEach((function(t){return e.push('<script src="'+t+'" async type="text/javascript" charset="utf-8"><\/script>')})),e.join("")},eB=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t,e,n=this,i=this.props,o=i.noIframe,a=i.languageTag,r=i.extraJs,s=i.baseTarget,c=i.title;if(o)this.container=this.div,t=N,e=EO(this.div);else{var d=function(t,e,n){return["<!doctype html>",t?'<html lang="'+t+'" translate="no">':"<html>","<head><title>"+n+"</title></head>",'<meta charset="utf-8" />','<meta name="viewport" content="width=device-width, initial-scale=1.0" />',e?tB(e):"","</head>","<body>",'<div id="container"></div>',"</body>","</html>"].join("")}(a,r,c);this.container=function(t,e){var n=t.contentDocument;return n.open(),n.write(e),n.close(),n.getElementById("container")}(this.iframe,d),t=this.iframe.contentWindow,e=this.iframe.contentDocument,s&&function(t,e){var n=document.createElement("BASE");n.target=e,t.head.appendChild(n)}(e,s)}var l,u=NO(this,this.container),p=u.render,h=u.unmount,f=RO(this,["style","innerCss","className"]);this.shouldComponentUpdate=function(n){var i=f(n);return i||(o?n.callback&&n.callback(t,e):p(n.children,(function(){return n.callback&&n.callback(t,e)}))),i},this.componentDidUpdate=function(){o?n.props.callback&&n.props.callback(t,e):p(n.props.children,(function(){return n.props.callback&&n.props.callback(t,e)}))},this.componentWillUnmount=o?function(){}:h,o||p(this.props.children),this.props.onMounted&&this.props.onMounted(t,e),this.props.callback&&this.props.callback(t,e),l=e,it&&l.addEventListener("selectionchange",(function(){var t=l.activeElement;if(t&&("TEXTAREA"===t.tagName||"INPUT"===t.tagName&&"text"===t.type)){var e=l.createEvent("CustomEvent");e.initCustomEvent("input",!0,!0,{}),t.dispatchEvent(e)}})),function(t,e){var n="global-showFocus",i=new RegExp("\\b"+n+"\\b"),o=function(){e.documentElement.className=e.documentElement.className.replace(i,"").trim()};t.addEventListener("keydown",(function(){i.test(e.documentElement.className)||(e.documentElement.className+=" "+n+" ")}),!0),t.addEventListener("touchstart",o,!0),t.addEventListener("mousedown",o,!0)}(t,e)},n.render=function(){var t=this,e=this.props,n=e.children;e.innerCss;var o=e.noIframe,a=e.languageTag,r=e.title;e.extraJs;var s=j(e,$O);return o?i("div",ct({},s,{ref:function(e){t.div=e}}),n):i("iframe",ct({allowFullScreen:"1",allow:"microphone;camera;midi;encrypted-media",title:r},s,{lang:a||"en",ref:function(e){t.iframe=e}}))},e}(p),nB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={isMouseDown:!1},n.doDrag=n.doDrag.bind(st(n)),n.stopDrag=n.stopDrag.bind(st(n)),n.startDrag=n.startDrag.bind(st(n)),n.mouseStart={x:0,y:0},n.divStart={x:0,y:0},n.benchmarkTopAndLeft=void 0!==e.left&&void 0!==e.top,n}rt(e,t);var n=e.prototype;return n.startDrag=function(t){var e=t;dt(e),this.mouseStart.x=e.clientX,this.mouseStart.y=e.clientY,this.setState({isMouseDown:!0});var n=this.props,i=n.left,o=n.top;this.benchmarkTopAndLeft?(this.divStart.x=i,this.divStart.y=o):(this.divStart.x=this.props.width-Math.min(this.props.right,this.props.width-this.props.ifrWidth)-this.props.ifrWidth,this.divStart.y=this.props.height-Math.min(this.props.bottom,this.props.height-this.props.ifrHeight)-this.props.ifrHeight),F.addEventListener("mousemove",this.doDrag),F.addEventListener("mouseup",this.stopDrag)},n.doDrag=function(t){var e=t;if(e||e.button){var n=e.clientX-this.mouseStart.x+this.divStart.x,i=e.clientY-this.mouseStart.y+this.divStart.y,o=this.props.width-this.props.ifrWidth,a=this.props.height-this.props.ifrHeight;n=(n=n<0?0:n)>o?o:n,i=(i=i<0?0:i)>a?a:i;var r=this.props.width-n-this.props.ifrWidth,s=this.props.height-i-this.props.ifrHeight,c=n,d=i;this.benchmarkTopAndLeft?this.props.ifrLeftAndTopPositionChanged(c,this.props.ifCanOnlyHorizontalDrag?this.props.top:d):this.props.ifrPositionChanged(r,s)}else this.stopDrag()},n.stopDrag=function(){this.setState({isMouseDown:!1}),F.removeEventListener("mousemove",this.doDrag),F.removeEventListener("mouseup",this.stopDrag)},n.render=function(){var t,e,n=this.props,o=n.id,a=n.left,r=n.top,s=n.width,c=n.height,d=n.barHeight,l=n.barWidth,u=n.ifrHeight,p=n.ifrWidth,h=n.ifrOffsetTop,f=n.ifrOffsetLeft;return t=this.state.isMouseDown?this.benchmarkTopAndLeft?c-r-d:Math.min(this.props.bottom,c-u):this.benchmarkTopAndLeft?c-r-d:Math.min(this.props.bottom+u,c)-(d+h),e=this.state.isMouseDown?this.benchmarkTopAndLeft?s-a-l-f:Math.min(this.props.right,s-p):this.benchmarkTopAndLeft?s-a-l-f:Math.min(this.props.right+p,s)-(l+f),i("div",{id:o,className:"movediv",onMouseDown:this.startDrag,style:{height:this.state.isMouseDown?u:d,width:this.state.isMouseDown?p:l,bottom:t,right:e,position:"fixed",cursor:"move",zIndex:tO}})},e}(p);nB.defaultProps={ifrOffsetLeft:30,ifrOffsetTop:30,barHeight:24,barWidth:315};var iB="circular",oB="square",aB=function(t){function e(e){var n;return(n=t.call(this,e)||this).maxHandledMsgId=-1,n.bodyDisableScroll=e.onMount,n.bodyEnableScroll=e.onUnmount,n.onReadNewMsg=n.onReadNewMsg.bind(st(n)),n.escMinimize=n.escMinimize.bind(st(n)),n.resize=null,n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.show?this.bodyDisableScroll():this.bodyEnableScroll(),lt(this.element.firstChild,this.props.onAnimated),ut(this.element.firstChild,this.onReadNewMsg,this.props.isMobile),this.element.ownerDocument.addEventListener("keydown",this.escMinimize),this.props.isPoppedOut&&this.props.windowStyle!==Zm&&window.ResizeObserver&&(this.resize=new window.ResizeObserver(Q((function(e){t.props.updateMainWindowWidth(e[0].contentRect.width)}),200)).observe(this.element))},n.componentDidUpdate=function(t){var e=this.props.show;!t.show&&e&&this.onReadNewMsg(),t.show!==e&&(e?this.bodyDisableScroll():this.bodyEnableScroll())},n.componentWillUnmount=function(){this.bodyEnableScroll(),lt(this.element.firstChild,this.props.onAnimated),pt(this.element.firstChild,this.onReadNewMsg,this.props.isMobile),this.element.ownerDocument.removeEventListener("keydown",this.escMinimize),this.props.isPoppedOut&&this.props.windowStyle!==Zm&&this.resize&&this.resize.disconnect()},n.onReadNewMsg=function(){this.props.chatStatus!==ap&&this.props.chatStatus!==op||!this.props.isMessageScrollBottom||(!this.props.maxVisitorReadId||this.props.maxVisitorReadId&&!Ar(this.props.maxVisitorReadId,this.props.maxGuid,this.props.messages))&&this.props.maxGuid!==this.maxHandledMsgId&&(this.props.onReadNewMsg(this.props.maxGuid),this.maxHandledMsgId=this.props.maxGuid)},n.escMinimize=function(t){this.props.show&&27===t.keyCode&&this.props.minimize&&this.props.minimize()},n.render=function(){var t=this,e=this.props,n=e.isMobile,o=e.isRightToLeft,a=e.isPoppedOut,r=e.windowStyle,s=e.children,c=e.windowTab,d=e.chatStatus,l=e.env,u=e.isIPad,p=e.show,f=e.showAvatar,g=e.ifShowSideWindow,m=e.cornerStyle,w=e.isCurrentAdaptiveButton,b=e.width;ht(this.context);var v,_=h(c===Uu&&h(d===ip&&"animation--waiting",d===ap&&"animation--chatting",d===rp&&"animation-chatted")),x=h("embedded-window",n&&"window--mobile",g&&"withSideWin",u&&"window--ipad",n&&2===l&&"window--mobileVertical",n&&1===l&&"window--mobileHorizontal",K&&"window--ie",ft&&"window--edge",!gt&&mt&&"window--chrome");m===iB?v="window--circular":m===oB&&(v="window--square");var y=null;return n&&!u&&(y=b),i("div",{className:h(x,!p&&"window--minimized"),ref:function(e){t.element=e}},i("div",{id:"whole-window",className:h(f&&"window--bio","whole-window","window--animated",o?"window--rtl":"",a?"":"window--embedded",v,Xm(r),r===Qm&&g&&!u&&!n&&"window--circle--sidewindow",r===Jm&&g&&!u&&!n&&"window--classic--sidewindow",w&&"window--adaptive",_,it?"window--ie9":"",wt&&"window--ie10"),style:{maxWidth:y},tabIndex:"0"},i("main",{id:"main",className:"main-container",style:g&&n&&(c===Uu||c===qu||c===Ku||c===Lu||c===Hu)&&(r!==Zm?{height:"calc(100% - 45px)"}:{"margin-bottom":"45px"})},s)))},e}(p),rB=function(t){return{position:t?"absolute":"fixed",width:"100%",height:"100%",overflow:"hidden",top:0,bottom:0,right:0,left:0,margin:0,touchAction:"none"}},sB={display:"none"},cB=25,dB=17.5,lB=function(t){var e=t.showAdaptiveMinimizeIcon,n=105;return t.windowStyle===Zm||(n-=dB),e?n:0},uB=function(t){return t.showAdaptiveMinimizeIcon?12.5:0},pB=function(){},hB=null,fB=null,gB={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};Object.keys(gB).forEach((function(t){t in F&&(hB=gB[t],fB=t)}));var mB=function(t){function e(e){var n;(n=t.call(this,e)||this).state={showMessage:!0,cobrowsingStopShowingLeft:"undefined",cobrowsingStopShowingTop:0,windowBaseChildrenDidMount:!1,minimized:e.windowStatus===Hl,sideWindowAnimationEnd:!1,isBubbleMinimizing:!1,isBubbleRestoring:!1},n.setWinSize=function(){},n.getWinStyle=function(){},n.getSideWinStyle=function(){},n.getInnerCss=n.getInnerCss.bind(st(n)),n.updateIframe=function(){return pB},n.shouldComponentUpdate=RO(st(n),["windowStatus","windowTab","children","windowStyle","unread","title","seed","sideWindow","right","bottom","width","height","cornerStyle","showToolbox","isPoppedOut","showChatWindowInSidewindow"],["showMessage","windowBaseChildrenDidMount","cobrowsingStopShowingLeft","cobrowsingStopShowingTop","minimized"]);var i=e.onFocusToggle;return n.onFocus=function(){var t=n.props.windowStatus;t!==zl&&t!==Ll||i(!0)},n.onFocusToggle=function(){var t=n.props.windowStatus;i(!F[fB]&&(t===zl||t===Ll))},n.getChildren=n.getChildren.bind(st(n)),n.getSideWin=n.getSideWin.bind(st(n)),n.getDragBar=n.getDragBar.bind(st(n)),n.onAnimated=n.onAnimated.bind(st(n)),n.onMount=n.onMount.bind(st(n)),n.bodyEnableScroll=n.bodyEnableScroll.bind(st(n)),n.bodyDisableScroll=n.bodyDisableScroll.bind(st(n)),n.sideWindowOnAnimated=n.sideWindowOnAnimated.bind(st(n)),n.updateSideWindowNoScroll=n.updateSideWindowNoScroll.bind(st(n)),n.bubbleIframeHeight=0,n.onWindowVisibleChange=n.onWindowVisibleChange.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isPoppedOut&&!this.props.showChatWindowInSidewindow){var t=xb().popout;t&&t.SideWinWidth&&t.SideWinWidth>0&&N.resizeTo(N.outerWidth-t.SideWinWidth,N.outerHeight),yb({popout:Object.assign({},t,{SideWinWidth:-1,isLarged:!1})})}var e=this.props,n=e.isMobile,i=e.isIPad,o=e.isPoppedOut;(n&&!i||o)&&bt(this.onWindowVisibleChange)},n.componentWillReceiveProps=function(t){var e=this.props;t.width!==e.width||(t.height,e.height),t.unread>e.unread&&this.setState({showMessage:!0}),t.windowStatus!==this.props.windowStatus&&this.setState({minimized:!1}),(t.windowStatus===zl||t.windowStatus===Ll)&&t.windowStatus!==this.props.windowStatus&&this.props.onReadNewMsg(),this.setState({isBubbleMinimizing:t.windowStatus!==this.props.windowStatus&&t.windowStatus===Hl}),this.setState({isBubbleRestoring:t.windowStatus!==this.props.windowStatus&&t.windowStatus===Ll})},n.componentWillUnmount=function(){var t=this.contentWindow;t&&t.removeEventListener&&(t.removeEventListener("focus",this.onFocus),t.removeEventListener("blur",this.onBlur)),F.removeEventListener(hB,this.onFocusToggle),this.timer&&(clearTimeout(this.timer),this.timer=null),this.bodyEnableScroll();var e=this.props,n=e.isMobile,i=e.isIPad,o=e.isPoppedOut;(n&&!i||o)&&vt(this.onWindowVisibleChange)},n.onAnimated=function(){this.props.windowStatus===Hl&&!this.state.minimized&&this.setState({minimized:!0})},n.onMount=function(t){this.contentWindow=t,t.addEventListener("focus",this.onFocus),t.addEventListener("blur",this.onBlur),this.props.onMounted&&(this.props.onMounted(),F.addEventListener(hB,this.onFocusToggle))},n.onWindowVisibleChange=function(){var t=this.props,e=t.windowStatus,n=t.chatStatus;!bt()||e!==zl&&e!==Ll||n!==ap&&n!==op||this.props.onReadNewMsg()},n.getInnerCss=function(){var t,e=this.props,n=e.isMobile,i=e.windowStyle===Zm;t=e.background?"background-image:"+e.background:"background-color:#f5f5f5";var o="#fff";n||(o=i?"#f8f8f8":"#fafafa");var a=!(n||i);a&&(o="rgba(250,250,250,.9)");var r=n||!i,s=n?"#glance_gesture{position: fixed;}":"";return[[e.fontCSS,Xa(fe,e.mainColor),Xa(JO,e.mainColor),".online .chatButton:after{","background-color:"+e.mainColor,"}",".offline .chatButton:after{","background-color:#bbb","}",".main-container{"+t+"}",".chatInputContainer{","background:"+o+";",r?"border-top:1px solid rgba(0,0,0,.1);":"","}",".chat-input__toolbox-more{","background:rgba(250,250,250,1);","}",".chatInputContainer+div>.footer{","background:"+o+";",a?"opacity:0.9;":"","}",".window--bubble .window__operation{background:"+O(e.mainColor)+"}",""].join(""),"",e.amyCustomCSS,e.customCss,s,""]},n.getChildren=function(t){var e=this.props,n=e.windowStatus,o=e.isMobile,a=e.title,r=e.isRightToLeft,s=e.isPoppedOut,c=e.windowStyle,d=e.children,l=e.windowTab,u=e.chatStatus,p=e.isIPad,h=e.showAvatar,f=e.ifShowSideWindow,g=e.cornerStyle,m=e.isCurrentAdaptiveButton,w=e.width,b=e.ifEnableVisitorSeeMsgSentSeen,v=e.maxVisitorReadId,_=e.maxMsgId,x=e.onReadNewMsg,y=e.maxGuid,S=e.messages,C=e.minimize,k=e.isMessageScrollBottom;return i(aB,{show:n===zl||n===Ll,isMobile:o,title:a,isRightToLeft:r,isPoppedOut:s,windowStyle:c,windowTab:l,chatStatus:u,isIPad:p,env:t,onUnmount:this.bodyEnableScroll,onMount:this.bodyDisableScroll,onAnimated:this.onAnimated,showAvatar:h,ifShowSideWindow:f,cornerStyle:g,isCurrentAdaptiveButton:m,width:w,ifEnableVisitorSeeMsgSentSeen:b,maxVisitorReadId:v,maxMsgId:_,maxGuid:y,onReadNewMsg:x,messages:S,minimize:C,isMessageScrollBottom:k,updateMainWindowWidth:this.props.updateMainWindowWidth},d)},n.getSideWin=function(t,e,n,o){var a=this.props,r=a.sideWindow;a.fontCSS;var s,c=a.onFocusToggle,d=a.isMobile,l=a.extraJs,u=this.props,p=sB;if(r){if(n)p={display:"none"};else{p=this.getSideWinStyle(t,e,n),d&&!e?(p.bottom=0,p.right=0):(p.bottom+=lB(u)+function(t){var e=t.windowStyle,n=t.isMobile,i=t.isIPad,o=t.isPoppedOut,a=e===Zm;return i?a||o?0:dB:!a||n||o?0:-17.5}(u),p.right+=uB(this.props));var h=0;p&&p.bottom&&(h=p.bottom),p.maxHeight="calc(100% - "+h+"px)"}s=i(r,{ToogleChatWinFocused:c,sideWindowOnAnimated:this.sideWindowOnAnimated,updateSideWindowNoScroll:this.updateSideWindowNoScroll})}u.isMobile||u.isPoppedOut||u.windowStyle===Zm||(p.zIndex=XA,p.right+=12);var f=ht(this.context);return i(eB,{key:"sideWin",id:"side_window_container",style:p,languageTag:o,scrolling:this.state.sideWindowAnimationEnd?"auto":"no",title:f.sideWindow,extraJs:l},s)},n.getCobrowsingStopShowingButton=function(){var t=this,e=this.props,n="";e.isMobile&&(n="@media screen and (max-width: 767px) {.glance_cobrowse_btn button{width:100%;}.glance_cobrowse_btn__drag{display: none;}}");var o=ht(this.context);return i(eB,{key:"cobrowsingStopShowing",id:"cobrowsing_stopshowing_container",style:e.ifCobrowsingShowing&&!e.isPoppedOut?{border:"none",width:e.isMobile?"135px":"172px",height:"30px",position:"fixed",top:0,left:"undefined"===t.state.cobrowsingStopShowingLeft?(e.width-(e.isMobile?135:172))/2:t.state.cobrowsingStopShowingLeft,zIndex:$A}:{display:"none"},title:o.cobrowsingBtn,languageTag:this.props.languageTag},i(XO,{css:'body{margin: 0;font-family: "Lucida Grande", "Lucida Sans Unicode", Arial, sans-serif;overflow: hidden}.glance_cobrowse_btn{position: absolute;width: 100%;background-color: #1c2124;height: 30px;box-sizing: border-box;border-bottom-right-radius: 4px;border-bottom-left-radius: 4px;overflow: hidden;}.glance_cobrowse_btn button{display:block;width: 135px;height: 30px;line-height: 30px;padding-left: 20px;padding-right: 20px;box-sizing: border-box;font-size: 15px;color: #fff;text-decoration: none;border: none;appearance:none;-moz-appearance:none; -webkit-appearance:none;outline: none;background: none;cursor: pointer;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}.glance_cobrowse_btn__drag{position: absolute;right: 8px;top: 5px;width: 20px;height: 20px;border-left: 1px solid rgba(255,255,255,0.2);padding-left: 8px;}.svgPath {fill: #000;width: 16px;height: 16px;}.glance_cobrowse_btn__drag .drag{fill: #fff}'+n}),i("div",{className:"glance_cobrowse_btn"},e.ifCobrowsingShowing&&i("button",{onClick:function(){return N.GLANCE.Cobrowse.Visitor.stopSession()}},e.languageCobrowseStop),i("div",{className:"glance_cobrowse_btn__drag"},i(_t,{type:xt,className:"",viewBox:"0 0 19 28"}))))},n.getDragBar=function(){var t=this,e=this.props,n=e.windowStyle,o=e.windowStatus,a=e.isPoppedOut,r=e.width,s=e.height,c=e.showAvatar;if(!((o===zl||o===Ll)&&!a&&!(n===Zm)))return null;var d=this.winWidth,l=Math.min(this.winHeight,s-lB(this.props)),u=7.5;return n===Qm&&c&&(u=32.5),i(nB,{key:"dragBar",barWidth:d-cB-112,ifrOffsetTop:u,ifrOffsetLeft:12.5,width:r,height:s,right:this.props.right,bottom:this.props.bottom+lB(this.props),ifrWidth:d,ifrHeight:l,ifrPositionChanged:function(e,n){var i=n-lB(t.props);t.props.onPositionChange(e,Math.max(0,i))}})},n.getCobrowsingStopShowingDragBar=function(){var t=this,e=this.props,n=e.ifCobrowsingShowing,o=e.width,a=e.height,r=e.isPoppedOut,s=e.isMobile;if(!n||r||s)return null;var c="cobrowsingStopShowingDrag";return i(nB,{key:c,id:c,ifCanOnlyHorizontalDrag:!0,barWidth:37,barHeight:30,ifrOffsetTop:0,ifrOffsetLeft:135,width:o,height:a,left:"undefined"===this.state.cobrowsingStopShowingLeft?(o-172)/2:this.state.cobrowsingStopShowingLeft,top:this.state.cobrowsingStopShowingTop,ifrWidth:172,ifrHeight:30,ifrLeftAndTopPositionChanged:function(e,n){t.setState({cobrowsingStopShowingLeft:e,cobrowsingStopShowingTop:n})}})},n.sideWindowOnAnimated=function(){this.setState({sideWindowAnimationEnd:!0})},n.updateSideWindowNoScroll=function(){this.setState({sideWindowAnimationEnd:!1})},n.bodyDisableScroll=function(){if(this.props.isMobile){var t=F.body.style,e=!this.props.isIPad;this.style=Object.keys(rB(e)).reduce((function(n,i){var o=n;return o[i]=t[i],t[i]=rB(e)[i],o}),{}),this.props.isPoppedOut||F.addEventListener("touchmove",dt),this.setState({windowBaseChildrenDidMount:!0})}},n.bodyEnableScroll=function(){var t=this;this.props.isMobile&&(Object.keys(this.style||{}).forEach((function(e){F.body.style[e]=t.style[e]})),this.props.isPoppedOut||F.removeEventListener("touchmove",dt),this.setState({windowBaseChildrenDidMount:!1}))},n.render=function(){var t=this,e=this.props,n=e.windowStatus,o=e.isMobile,a=e.width,r=e.height,s=e.orientation,c=e.isIPad,d=e.title,l=e.isPoppedOut,u=e.languageTag,p=e.windowStyle;e.brandConfig;var h=e.isSideWindowSelectedTabKb,f=N.brandingNameLowerCase,g=3;o&&(s===uu&&(!c||a<760)?g=1:s===pu&&(!c||r<760)&&(g=2)),this.setWinSize(g,c);var m=n===Hl,w=3!==g&&!m,b=this.getWinStyle(g,c),v=m&&(this.state.minimized||!yt||K||p===Zm);if(p===Zm&&this.state.isBubbleRestoring&&this.bubbleIframeHeight&&(b=Object.assign({},b,{height:this.bubbleIframeHeight})),v&&((b=Object.assign({},b,{width:0,height:0,display:"none"})).left="",b.top=""),!v&&l&&p===Qm&&(b.backgroundColor="#d5d5d5"),"100%"===b.height||p===Zm&&l)b.bottom=0,b.right=0;else{var _=Math.min(r-lB(this.props),b.height);b.bottom=Math.min(b.bottom+lB(this.props),r-_),b.right=Math.min(b.right,a-b.width)+uB(this.props)}var x=0,y=0;if(!o||c?(b&&b.right&&(x=b.right),b&&b.bottom&&(y=b.bottom),b.maxWidth="calc(100% - "+x+"px)",b.maxHeight="calc(100% - "+y+"px)"):(b.right=0,b.bottom=0),p===Zm&&!l&&(!o||c)){this.props.showAdaptiveMinimizeIcon&&(b.bottom=105,b.maxHeight="calc(100% - 105px)")}h&&o&&!c&&(b.display="none");var S,C=this.getInnerCss();w&&(S=function(t,e){return{position:t?"absolute":"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.15)",zIndex:e?1:ZA}}(o&&!c,l));var k=o&&!l&&!c&&!m&&"html{width:100%!important;position:static!important}body>*:not(#"+f+"-container):not(#branding-cobrowse-border){display:none!important}body{text-indent:-9999px!important}#"+f+"-container,#"+f+"-container>div{position:static!important}",I=ht(this.context);return i("div",{style:S,onTouchMove:!l&&dt},this.state.windowBaseChildrenDidMount&&k&&i(XO,{css:k}),this.getSideWin(g,c,m,u),this.getDragBar(g),i(eB,{key:"win"+(l?1:0),id:"chat_window_container",ref:function(e){t.container=e},onMounted:this.onMount,style:b,callback:this.updateIframe(g,c),noIframe:l,languageTag:u,tabIndex:v?-1:void 0,title:I.chatWindow,baseTarget:"_top"},i(XO,{css:C}),!l&&i(QO,{message:d}),this.getChildren(g)),this.getCobrowsingStopShowingButton(),this.getCobrowsingStopShowingDragBar())},e}(p),wB=function(t,e){if(!t)return 0;var n=t.querySelector("#main");if(!n)return 0;var i=n.getBoundingClientRect().height;if(e){i+=45}return i},bB=function(e){function n(n){var i;(i=e.call(this,n)||this).state=Object.assign({},i.state,{innerHeight:0}),i.updateIframe=t(1)((function(t,e){return function(n,o){var a=i.props,r=a.windowStatus,s=a.sideWindow;if(r===zl||r===Ll){var c=3===t&&e&&s;i.setState({innerHeight:wB(o,c)}),i.timer&&clearTimeout(i.timer),i.timer=setTimeout((function(){i.setState({innerHeight:wB(o,c)}),i.timer=null}),460)}r===Hl&&i.setState({innerHeight:0})}}));i.setWinSize=function(t){3===t&&(i.winWidth=i.props.isPoppedOut?380:360,i.props.windowStatus!==Hl||i.state.minimized?i.winHeight=Math.max(Math.min(i.props.height,i.state.innerHeight),500):("100%"!==i.winHeight&&(i.bubbleIframeHeight=i.winHeight),i.winHeight="100%")),1===t&&(i.props.width>500?i.winWidth=500:i.winWidth="100%",i.winHeight="100%"),2===t&&(i.winWidth="100%",i.winHeight="100%")},i.getWinStyle=function(t,e){var n,o,a=0,r=0;return 3===t&&(a=i.props.bottom,r=i.props.right,n=i.state.left,o=i.state.top),{position:3===t||e||i.props.isMinimized?"fixed":"absolute",border:0,zIndex:i.props.isPoppedOut?2:YA,top:o,left:n,bottom:a,right:r,width:i.winWidth,height:i.winHeight}},i.getSideWinStyle=function(t,e){var n=i.props,o=n.isPoppedOut,a=n.width,r=n.windowStyle;if(3===t&&!e){var s=i.props.right+i.winWidth<a?a-(i.props.right+i.winWidth):0,c=i.props.right+i.winWidth+505>=a?a-i.winWidth-s-505:i.props.right+i.winWidth,d=o?i.winWidth:c,l=o?480:505,u=i.props.height-i.winHeight>87.5?i.props.height-i.winHeight-87.5:0,p=i.winHeight+i.props.bottom>=i.props.height?u:i.props.bottom;r!==Zm||o||(p=0);var h=Math.max(0,Math.min(a-d,l));return{zIndex:o?1:ZA,width:l,height:o?555:580,bottom:p,right:d,background:"transparent",position:"fixed",border:0,maxWidth:h}}var f=i.props.showChatWindowInSidewindow,g=o&&e,m=g?"100%":i.winWidth,w=g?"100%":i.winHeight;return{zIndex:XA,width:m,height:f?45:w,right:i.props.right>=a-i.winWidth?a-i.winWidth:i.props.right,bottom:0,background:"transparent",position:"fixed",border:0}};var o=i.shouldComponentUpdate;return i.shouldComponentUpdate=function(t,e){return!!o(t,e)||e.innerHeight!==i.state.innerHeight},i}return rt(n,e),n}(mB),vB=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t){var e=n.props.iframeStyle,i=e&&e.width,o=e&&e.height,a=i;3===t&&(n.winWidth=a,n.sideWindowWidth=i,n.winHeight=o),1===t&&(n.props.width>500?n.winWidth=500:n.winWidth="100%",n.winHeight="100%"),2===t&&(n.winWidth="100%",n.winHeight="100%")},n.getWinStyle=function(t,e){var i=n.props.isMinimized;return{position:3===t||e||i?"fixed":"absolute",border:0,zIndex:YA,top:n.state.top,left:n.state.left,bottom:n.props.bottom,right:n.props.right,width:n.winWidth,height:n.winHeight}},n.getSideWinStyle=function(t,e){var i=n.props.showChatWindowInSidewindow,o=25;if(3===t){var a=n.props.showAvatar,r=n.winHeight;a&&(r-=25),e&&(i?r=45:(r-=o,a&&(r+=32.5)));var s=n.props.right+n.winWidth<n.props.width?n.props.width-(n.props.right+n.winWidth):0,c=n.winWidth+n.props.right+505>=n.props.width&&n.props.right>=505?n.props.width-n.winWidth-s-505:n.winWidth+n.props.right-o,d=n.winWidth+n.props.right>=n.props.width?n.props.width-n.winWidth-s+12.5:n.props.right+12.5,l=e?d:c,u=n.props.height-n.winHeight>87.5?n.props.height-n.winHeight-87.5:0,p=n.winHeight+n.props.bottom>n.props.height?u:n.props.bottom,h=Math.max(n.props.width-l,0);return{zIndex:e?XA:ZA,width:e?n.winWidth-o:505,height:r,bottom:p,right:l,background:"transparent",position:"fixed",border:0,maxWidth:h}}return{zIndex:XA,width:n.winWidth,height:i?45:n.winHeight,right:0,bottom:n.props.bottom,background:"transparent",position:"fixed",border:0}},n}return rt(e,t),e}(mB),_B=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t){var e=n.props.iframeStyle,i=e&&e.width,o=e&&e.height,a=i;3===t&&(n.winWidth=a,n.winHeight=o),1===t&&(n.props.width>500?n.winWidth=500:n.winWidth="100%",n.winHeight="100%"),2===t&&(n.winWidth="100%",n.winHeight="100%")},n.getWinStyle=function(t,e){var i=3!==t||e?YA:ZA;return{position:3===t||e||n.props.isMinimized?"fixed":"absolute",border:0,zIndex:i,top:n.state.top,left:n.state.left,bottom:n.props.bottom,right:n.props.right,width:n.winWidth,height:n.winHeight}},n.getSideWinStyle=function(t,e){if(3===t){var i=n.winHeight;e&&(i=n.props.showChatWindowInSidewindow?45:n.winHeight-25);var o=n.props.right+n.winWidth<n.props.width?n.props.width-(n.props.right+n.winWidth):0,a=n.winWidth+n.props.right+505>=n.props.width&&n.props.right>=505?n.props.width-n.winWidth-o-505:n.winWidth+n.props.right-25,r=n.winWidth+n.props.right>=n.props.width?n.props.width-n.winWidth-o+12.5:n.props.right+12.5,s=e?r:a,c=n.props.height-n.winHeight>87.5?n.props.height-n.winHeight-87.5:0,d=n.winHeight+n.props.bottom>n.props.height?c:n.props.bottom,l=Math.max(0,n.props.width-s);return{zIndex:3===t&&!e?ZA:XA,width:e?n.winWidth-25:505,height:i,bottom:d,right:s,background:"transparent",position:"fixed",border:0,maxWidth:l}}return{zIndex:XA,width:n.winWidth,height:n.props.showChatWindowInSidewindow?45:n.winHeight,right:0,bottom:n.props.bottom,background:"transparent",position:"fixed",border:0}},n}return rt(e,t),e}(mB),xB=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t,e){n.winHeight="100%";var i=n.props,o="100%",a="100%";if(i.sideWindow&&3===t&&!e){var r=i.width;r>860?(o=r-480,a=480):(o="44.2%",a="55.8%")}n.winWidth=o,n.sideWinWidth=a,n.sideWinHeight=i.showChatWindowInSidewindow?45:n.winHeight},n.getSideWinStyle=function(t,e){var i=n.props.width-n.winWidth;return 3!==t||e||(i=Math.min(i,500)),{background:"transparent",position:"fixed",border:0,zIndex:3!==t||e?3:1,width:n.sideWinWidth,height:n.sideWinHeight,bottom:0,left:0,maxWidth:i}},n.getWinStyle=function(){return{position:"absolute",border:0,zIndex:2,width:n.winWidth,height:n.winHeight,right:0,bottom:0}},n}return rt(e,t),e}(mB),yB=["hOnline","hOffline","hCallback","hStop"],SB=function(t){return function(e){function n(t){var n;return(n=e.call(this,t)||this).timer=null,n.stopTimer=null,n.hOnline=[].concat(t.hOnline),n.setTimespan=n.setTimespan.bind(st(n)),n.heartbeat=n.heartbeat.bind(st(n)),n.tick=n.tick.bind(st(n)),n.registerStop=n.registerStop.bind(st(n)),n.clean=n.clean.bind(st(n)),n.initial=n.initial.bind(st(n)),n}rt(n,e);var o=n.prototype;return o.componentDidMount=function(){this.props.hOnline&&this.initial()},o.componentDidUpdate=function(t){t.hOnline&&!this.props.hOnline&&this.clean(),!t.hOnline&&this.props.hOnline&&(this.hOnline=[].concat(this.props.hOnline),this.initial()),!function(t,e){if(!t&&e)return!1;if(!e&&t)return!1;if(!e&&!t)return!0;var n=[].concat(t),i=[].concat(e);return n.length===i.length&&n.every((function(t,e){return t.timespan===i[e].timespan&&t.duration===i[e].duration}))}(t.hOnline,this.props.hOnline)&&t.hOnline&&this.props.hOnline&&(this.clean(),this.hOnline=[].concat(this.props.hOnline),this.initial())},o.componentWillUnmount=function(){this.clean()},o.setTimespan=function(){var t=this.hOnline.shift();t&&(this.duration=t.duration,this.timespanTimer=setTimeout(this.setTimespan,1e3*t.timespan))},o.initial=function(){this.setTimespan(),this.tick(),this.registerStop(),this.props.hDelay||this.props.hCallback(this.props),this.props.hOnInit&&this.props.hOnInit.call()},o.heartbeat=function(){this.props.hCallback(this.props),this.duration?this.tick():this.heartbeatTimer=null},o.tick=function(){var t=void 0!==this.props.hOffline?this.props.hOffline:this.duration;this.heartbeatTimer=setTimeout(this.heartbeat,1e3*t)},o.registerStop=function(){var t=this;void 0!==this.props.hStop&&(this.stopTimer=setTimeout((function(){t.clean.call(),t.props.hOnStopped&&t.props.hOnStopped.call()}),1e3*this.props.hStop))},o.clean=function(){this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.timespanTimer&&clearTimeout(this.timespanTimer),this.stopTimer&&clearTimeout(this.stopTimer),this.heartbeatTimer=null,this.timespanTimer=null,this.stopTimer=null},o.render=function(){var e=this.props;e.hOnline,e.hOffline,e.hCallback,e.hStop;var n=j(e,yB);return i(t,n)},n}(p)},CB=["en","zh-Hans"],kB=null,IB=!1,MB=function(){var t=tt(et().mark((function t(){var e,n;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,import("./language.bf552dfb.js");case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),e=0;case 9:if(!(e<5)){t.next=25;break}return t.next=12,new Promise((function(t){return setTimeout(t,5e3)}));case 12:return(n=new URL(t.t0.message.replace("Failed to fetch dynamically imported module: ","").trim())).searchParams.set("t",""+ +new Date),t.prev=14,t.next=17,import(n.href);case 17:return t.abrupt("return",t.sent);case 20:t.prev=20,t.t1=t.catch(14);case 22:e++,t.next=9;break;case 25:throw t.t0;case 26:case"end":return t.stop()}}),t,null,[[0,6],[14,20]])})));return function(){return t.apply(this,arguments)}}(),AB=function(t){var e=function(e){function n(t){return e.call(this,t)||this}rt(n,e);var o=n.prototype;return o.getChildContext=function(){var t=this.props.languageTag;return CB.includes(t)?{language:L[t]}:(IB||kB||(IB=!0,MB().then((function(t){var e=t.default;IB=!1,kB=e}))),{language:kB?kB[t]:L.en})},o.render=function(){return i(t,this.props)},n}(p),n=t.displayName||t.name;return e.displayName="language("+n+")",e},OB=SB(AB((function(t){var e=t.windowStyle,n=t.isPoppedOut;return i(function(t,e){return t&&e!==Zm?xB:e===Zm?bB:e===Qm?vB:_B}(n,e),t)}))),BB=St((function(){return import("./RatingForm.ac0dcd84.js")})),TB=St((function(){return import("./SendEmailForm.1c381fdb.js")}));function jB(t){if(t)return t.displayName||t.name}var PB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={focusKey:e.show?jB(e.icons[0]):void 0,showRatingForm:!1,showSendEmailForm:!1},n.onFocus=n.onFocus.bind(st(n)),n.onKeyDown=n.onKeyDown.bind(st(n)),n.onDialogToggle=n.onDialogToggle.bind(st(n)),n.onRatingFormChange=n.onRatingFormChange.bind(st(n)),n.onEmailChange=n.onEmailChange.bind(st(n)),n.hasModal=!1,n.score=0,n.comment="",n.emailValue="",n}rt(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){this.props.show||!t.show||this.hasModal?this.props.show&&!t.show&&this.setState({focusKey:void 0}):this.setState({focusKey:jB(t.icons[0])})},n.onRatingFormChange=function(t){this.score=t.score,this.comment=t.comment},n.onEmailChange=function(t){this.emailChangeFlag=!0,this.emailValue=t.emailAddress},n.onDialogToggle=function(t,e){t?this.setState({focusKey:void 0,showRatingForm:"rating"===e,showSendEmailForm:"sendEmail"===e}):(this.setState({showRatingForm:!1,showSendEmailForm:!1}),this.props.hideMenu()),this.hasModal=t},n.onFocus=function(t){this.hasModal||this.setState({focusKey:t})},n.onKeyDown=function(t){if(this.hasModal)t.stopPropagation();else{var e=this.props.icons.map(jB),n=e.indexOf(this.state.focusKey);if(!(n<0)){var i=n,o=!1;switch(t.keyCode){case 40:o=!0,i=Math.min(n+1,e.length-1);break;case 38:o=!0,i=Math.max(n-1,0);break;case 36:o=!0,i=0;break;case 35:o=!0,i=e.length-1;break;case 27:o=!0,this.props.hideMenu(),this.props.onESCHide();break;case 9:this.props.hideMenu()}o&&(t.preventDefault(),t.stopPropagation()),this.setState({focusKey:e[i]})}}},n.render=function(){var t=this,e=this.props;return i("div",{className:h("window__operation-menu",e.show&&"window__menu-show"),onMouseLeave:e.hideMenu,onKeyDown:this.onKeyDown},i("ul",{role:"menu","aria-haspopup":!0,"aria-expanded":e.show.toString(),className:h("none"!==e.popupBubbleType&&"displayNone")},e.icons.map((function(e){var n=jB(e),o=n===t.state.focusKey;return"lazy"===e.type?i(Ct,{fallback:i("div",null)},i(kt,null,i(e.component,{key:n,onDialogToggle:t.onDialogToggle,onFocus:t.onFocus,focusKey:n,focus:o}))):i(e,{key:n,onDialogToggle:t.onDialogToggle,onFocus:t.onFocus,focusKey:n,focus:o})}))),this.state.showRatingForm&&i(Ct,{fallback:i("div",null)},i(kt,{failCallback:function(){t.setState({showRatingForm:!1,showSendEmailForm:!1})}},i(BB,{isShow:!0,onDialogToggle:this.onDialogToggle,onChange:this.onRatingFormChange}))),this.state.showSendEmailForm&&i(Ct,{fallback:i("div",null)},i(kt,{failCallback:function(){t.setState({showRatingForm:!1,showSendEmailForm:!1})}},i(TB,{isShow:!0,emailAddress:this.emailChangeFlag?this.emailValue:e.emailAddress,onDialogToggle:this.onDialogToggle,onChange:this.onEmailChange}))))},e}(p),FB=function(t){function e(e){var n;return(n=t.call(this,e)||this).updateBodyCss=n.updateBodyCss.bind(st(n)),n.focusOnClose=n.focusOnClose.bind(st(n)),n.focusOnLastButton=n.focusOnLastButton.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.updateBodyCss(),this.props.ifShow&&setTimeout((function(){if(t.props.autoFocus){var e=t.btn.ownerDocument.getElementById(t.props.autoFocus);e&&e.focus()}else t.btn.focus()}),100)},n.componentDidUpdate=function(t){var e=this;t.ifShow!==this.props.ifShow&&this.updateBodyCss(),!t.ifShow&&this.props.ifShow&&setTimeout((function(){if(e.props.autoFocus){var t=e.btn.ownerDocument.getElementById(e.props.autoFocus);t&&t.focus()}else e.btn&&e.btn.focus()}),100)},n.componentWillUnmount=function(){var t=this.props.globalClass,e=this.element.ownerDocument,n=new RegExp("\\b"+t+"\\b","g");n.test(e.body.className)&&(e.body.className=e.body.className.replace(n,"").trim())},n.focusOnClose=function(){this.btn.focus()},n.focusOnLastButton=function(){var t=this.element.querySelectorAll("button");t[t.length-1].focus()},n.updateBodyCss=function(){var t=this.props.ifShow,e=this.element.ownerDocument,n=this.props.globalClass,i=new RegExp("\\b"+n+"\\b"),o=i.test(e.body.className);t&&!o?e.body.className+=" "+n:!t&&o&&(e.body.className=e.body.className.replace(i,"").trim())},n.render=function(){var t=this,e=this.props,n=e.id,o=e.className,a=e.children,r=e.ifShow,s=e.onClose,c=e.title,d=e.aria,l=e.role,u=ht(this.context);return i("div",{id:n&&"bubble_box_"+n,ref:function(e){t.element=e},className:h("bubble-box",r&&"bubble-box--show",o),onClick:s},r&&[i("div",{tabIndex:0,onFocus:this.focusOnLastButton,ariaHidden:!0}),i("div",ct({id:n,className:"bubble",onClick:function(t){t.stopPropagation()},role:l||"alertdialog",style:{width:this.props.width},"aria-modal":"true","aria-label":"Dialog"},d),i("button",{className:"bubble-close",onClick:s,"aria-label":u.closeDialog,ref:function(e){t.btn=e}},i(_t,{type:It,ariaHidden:!0})),c&&i("div",{className:"bubble--title"},c),a),i("div",{tabIndex:0,onFocus:this.focusOnClose,ariaHidden:!0})])},e}(p),NB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowDialog:!1},n.show=n.toggle.bind(st(n),!0),n.hide=n.toggle.bind(st(n),!1),n}rt(e,t);var n=e.prototype;return n.toggle=function(t,e){e.stopPropagation(),this.setState({ifShowDialog:t})},n.render=function(){var t=this,e=this.props,n=e.languages,o=Mt(this.show);return i("div",{className:"header__operationContainer"},i("button",{role:"button",tabIndex:0,onClick:this.show,ref:function(e){t.btn=e},onKeyDown:o,title:n.buttonEndChat,"aria-label":n.buttonEndChat},i(_t,{type:It,className:"icon-endchat",ariaHidden:!0})),i(FB,{globalClass:"body__dialog",ifShow:this.state.ifShowDialog,onClose:this.hide,className:e.windowStatus===Hl&&"bubble-box--minimize",aria:{"aria-label":"","aria-describedby":"prompt-end-chat-title"},autoFocus:"embedded-end-chatConfirmLeave"},i("div",{id:"prompt-end-chat-title",className:"bubble--desc"},n.promptStopChat),i("div",{className:"embedded-end-chatConfirmAction bubble__operation"},i("button",{id:"embedded-end-chatConfirmLeave",className:"btn btn-primary",onClick:function(n){t.hide(n),e.onEndChat()}},n.buttonYes),i("button",{id:"embedded-end-chatConfirmCancel",className:"btn btn-grey",onClick:this.hide},n.buttonNo))))},e}(p);NB.displayName="EndChat";var WB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showEndChatConfirm:!1,showMenu:!1},n.onClickShowEndChatConfirm=n.onClickShowEndChatConfirm.bind(st(n)),n.updateEndChatConfirmStatus=n.updateEndChatConfirmStatus.bind(st(n)),n.showMenu=n.setMenuStatus.bind(st(n),!0),n.hideMenu=n.setMenuStatus.bind(st(n),!1),n.toggleMenuStatus=n.toggleMenuStatus.bind(st(n)),n.onKeyDown=Mt(n.toggleMenuStatus),n.onEnterPress=n.onEnterPress.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.container&&this.container.ownerDocument.body.addEventListener("touchend",this.hideMenu,!1)},n.componentWillUnmount=function(){this.container&&this.container.ownerDocument.body.removeEventListener("touchend",this.hideMenu,!1)},n.onClickShowEndChatConfirm=function(t){this.props.ifViewConfirmBubble?this.state.showEndChatConfirm||(t.stopPropagation(),t.preventDefault(),this.updateEndChatConfirmStatus(!0)):this.props.onEndChat(this.props.passEventArgs)},n.onEnterPress=function(t){13===t.keyCode&&(this.props.onEnterMinimize(),this.props.onMinimize(this.props.tab))},n.setMenuStatus=function(t){this.setState({showMenu:t})},n.updateEndChatConfirmStatus=function(t){this.setState({showEndChatConfirm:t})},n.toggleMenuStatus=function(t){t&&"keydown"===t.type||this.setState({showMenu:!this.state.showMenu})},n.render=function(){var t=this,e=this.props,n=e.icons.length>0,o=e.languages.embeddedWindowMinimize,a=i("button",{"aria-label":e.languages.buttonClose,onClick:function(){return e.onClose(e.tab)}},i(_t,{type:It,className:"icon-close",title:e.languages.buttonClose,ariaHidden:!0})),r=ht(this.context);return i("div",{className:"title-buttons window__operation",ref:function(e){e&&(t.container=e)}},n&&i("div",{onMouseEnter:!e.isMobile&&this.showMenu,onMouseLeave:!e.isMobile&&this.hideMenu,className:"header__operationContainer"},i("button",{className:"window__operation-menu-icon menubar__btn",onKeyDown:this.onKeyDown,onClick:this.toggleMenuStatus,"aria-label":r.menu,tabIndex:0,ref:function(e){t.menuBtn=e}},i(_t,{type:Ot,ariaHidden:!0})),i(PB,{icons:e.icons,show:this.state.showMenu,hideMenu:this.hideMenu,onESCHide:function(){return t.menuBtn.focus()},popupBubbleType:e.popupBubbleType,emailAddress:e.emailAddress})),e.hasMinimize&&i("button",{title:o,"aria-label":o,onClick:function(){return e.onMinimize(e.tab)},onKeyDown:this.onEnterPress},i(_t,{type:At,className:"icon-minimize",ariaHidden:!0})),e.hasEndChat?i(NB,{languages:e.languages,onEndChat:e.onEndChat,windowStatus:e.windowStatus}):e.hideCloseButton?null:a)},e}(p),VB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAIAAAC2BqGFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTk1OENGMTMxRUZFMTFFNTlBMDdBNjRGRTU4NjdDNTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTk1OENGMTQxRUZFMTFFNTlBMDdBNjRGRTU4NjdDNTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OTU4Q0YxMTFFRkUxMUU1OUEwN0E2NEZFNTg2N0M1MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OTU4Q0YxMjFFRkUxMUU1OUEwN0E2NEZFNTg2N0M1MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PscdlE0AAAduSURBVHja7J3tUxJbHMeXheV5EQUBwUdEqGayrKhpanrf/9ubunlfVLc718xeiRL4rIgPmKRpINL9CjN25w6Q4J4nOt8XTdNMZ5fP/s7v9/3tnj1revHihSJFXqpEIEFL0FIStAQtQUtJ0BK0lAQtQUvQUhK0BC0lQUvQErSUBC1BS0nQErQELUVeFt4DQVW9Nbndbl3X7Xa7paZqtVqpVMrl8nFNX79+PTg4KJVKEnR7MplMgUAgEon09/cDa8MLYK0JF+DyH4vFYj6f39raOj09laB/dUIWy2hNNput3f/bU1M8Ht/Z2clkMghzCbpxFI+MjMRisQ4Q/2+cUE25XC6dTp+cnEjQP+XxeCYnJxGPBo4ZDoeDwSBYr66u/vjxQ4JWotFoIpFA2jV8ZLPZfOvWLUT33Nwc21LJ2N4B7t27d2/evEmC8qX6+vqePn1q7HQRCTTq3qNHj2AtKBwLvvDx48fwML8daFBOJpOINWpHRBp58OABK9Yqq4yB30yT8uVx79+/j/bndwGNAuXz+Zgcuh7XyCTdD3poaAh+mWFtgE8Ha6Lllz1op9OJcGZuKOFA0Bl1M+g7d+40vHdBXwBN0/BRBT04OEi/ALbo1GnOLXqgUYXQ/ik8CVcdTWO3gR4eHqZf63+pRDyO0O4e0PgxY2NjCn9y6zqdbEYJNGaow+FQuFSUSgRQAg3vrPCqQDBot9m7AbSmaX6/X+FYoYFQN4BG3qBTcDpWJBI5Pz8XHjTn4Qx5vV6VcCjQAM1Pk9KKdW+v2KCdTieH9rnBtPP5iD5XJA7a4/EoIqi3r69yVhEYtMvlEgI0AuKsciYwaG77lAbnKXTqsFqtiiAiev+WOGiz2SwKaFVVydVDVegwMfhUNU1g0AIJPYvAoKvVqiigiXbhqtBnb6zOzkS2d+VyWRTQ379/Fxg0h4vvG6pUKmHykbvLSBz0t2/fhABdfz1AYNBcvd/QQoeHh6pJFTuiK5UK/6ALhYJqJkiDOGg404ODA/5B7+TzRJtYlU6wcE4Z0+7o6Ejsex1QPp/nHPTm5ib+NIsO+uTk5MuXLzyDXl1dVVVV+NQBbWxs8Ow39nZ3NcK3cymB3t7e5rZFzGQyCvn75pRAw+GtrKzw2XZnMxkkDdK3c+ndJl1bWyN616YzpVIpdN7XfCmaL9CgnF5c5Iry8fExTgkNobWbQEPrGxtcdeQfZ2cvwtlhp7BijSpodImfPn1i/v77paWDF4Kro5A3FPqPstCApebneWgFP8zMKBcLqVxdteL/UvhVS8vLcHsMKVer1bdv3pRKJVg6zarROSiDh7PwUogmtAmsQP/9/v3+/j6ShpPiKio2T8HhWt+9fYuiz6AAfvwIR4+J5XK7aa7aZrfcwGT6c3qaMuvZ2dmFVOoiNbtclBecqOw4m0yq+urly8L+PoXDwcb99e7d4sIC/u5wOukvVGO5gAZZUrNap6ens9ksaY/xx6tX9XsArNZrM16vVa9Isx8+wIckk0kSCMAXtbdcLmMK4VisFl2aePieIVqY09qmaVNTU+OxmFE1qlgsIilv53L1K4rqx3AhIBcrEOuxhqCb+Wcmk80+f/78+mPOzc2h7tW7UEQxxmf7ZhhHSz0v2gdNM+oxR/HwEJQxGkofhmX+6/haU4ugM2oLILeuO3h6T4m7Zbu6rhsyjtfrNascrYHnDrRRW3j5/f5q9VyCbpo6jHr78yKizTKim4ehUQ4M12wgHJagG2t0dNTA0cajUU4eMvAFOhgMBgIBAwf0+f0RboKaC3vncrni8fjAwIDhI0/duxfa3k6n08yXaTMGbbPZJiYmhoeHybVtuH6YK+vr65lMhuEiHmag0a2Nj48jKVPwBqqq4kCDg4NLS0srKytM3l9iABpk8bNBmXJnDD+TSCRwaGSSzc1NynWSKmjkh6GhIaRjOk/4myWrycnJaDS6sLCwu7vbhaDD4TAQc7KrhNvtTiaThUJhcXGRzmNiGqD7+/tv3LjB4Q4pPp/vyZMnuVzu8+fPpG0JWdDog4GY1Z7cV59qoVCItC0hBVrXdVQe+CpFBFGwJcaDdjgcyMWRSITzve6a2ZKRkRFkEsNtiZGgrVZrLBbDiVLe1d1Y2e12ErbEYlQs4MzGxsYE2gaFsi25LhcEb/1LYgLtncTElnQOGikYiRjpWJR9wK5pS9bW1rLZbMe2pEPQODDqxn8/2tjdwsRFYoQtWV5e7syWWDqYTbDGTD7Ow1yapnVsS9oAjdYOiBl+14srW4IAhy3Z29szEjSy8MTEBCaOcNaYnNCRPXz4EKBTqdRVFh9bfjlZ6r5NoH0CaQrz+9mzZ2jfkUxa10lL64p3+/btrvRtBqr+qVw4k/n5+a2trabltMUQ+P+S8tXrZOsvramtuyNJ8Opy1RbEtg0azbQQO5nzI8z+Fh8KUFtUVcmu7TskLnfboGXe6MTz9Xia7cUqI9pI9Xg8zbpzGdFGytPTU20XtChfm+BKvb29501SR9OG5fXr18dHRxzuGcO/oW7bRwu09TM/Oq80hvavAAMAcWJ5ooQVnC0AAAAASUVORK5CYII=",DB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={src:VB},n.download=n.download.bind(st(n)),n.download(e.src),n}rt(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){t.src!==this.props.src&&(this.setState({src:VB}),this.download(t.src))},n.shouldComponentUpdate=function(t,e){return e.src!==this.state.src},n.download=function(t){var e=this,n=new Image,i=function(){e.setState({src:t})};n.onload=i,n.onerror=i,n.src=t},n.render=function(){var t=this.props;return i("img",ct({},t,{alt:"",src:this.state.src}))},e}(p),RB=KO("header.icons")(WB),EB=t(1)(Bt),zB=function(t){function e(){var e;return(e=t.call(this)||this).state={showEndChatConfirm:!1,headerHeight:0},e.header=null,e.shuoldUpdateHeaderHeight=!1,e.shouldComponentUpdate=RO(st(e),["passEventArgs","ifViewConfirmBubble","ifHideBio","ifViewHeaderBox","ifViewHeader","color","onMinimize","team","avatars","banner","avatar","name","title","bio","logo","tab","controls","languages","agent","windowDisabled","icons","hasEndChat","hasCloseButton"],["showEndChatConfirm","headerHeight"]),e.onMinimize=e.onMinimize.bind(st(e)),e.onClose=e.onClose.bind(st(e)),e.showAnimation=!0,e}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.headerContainer.focus()},n.componentWillReceiveProps=function(t){t.tab===Uu&&this.props.tab!==Uu&&(this.showAnimation=!0);var e=t.agent&&t.agent.bio,n=this.props.agent&&this.props.agent.bio;(t.ifHideBio!==this.props.ifHideBio||this.props.windowDisabled&&e!==n||this.agent&&this.props.agent.avatar!==t.agent.avatar||this.agent&&this.props.agent.title!==t.agent.title)&&(this.shuoldUpdateHeaderHeight=!0),t.tab!==this.props.tab&&this.headerContainer.focus()},n.componentDidUpdate=function(){var t=this;it||this.header&&this.shuoldUpdateHeaderHeight&&!this.props.isMobile&&(this.shuoldUpdateHeaderHeight=!1,this.props.agent&&this.props.agent.bio?this.props.ifHideBio?this.header.style.height="":this.props.windowDisabled?setTimeout((function(){t.header.style.height=""}),400):this.header.style.height=this.header.scrollHeight+"px":(this.props.windowDisabled&&this.props.agent||!this.props.agent)&&(this.header.style.height=""))},n.onMinimize=function(){this.props.onMinimize(this.props.tab)},n.onClose=function(){return this.props.onClose(this.props.tab)},n.updateEndChatConfirmStatus=function(t){this.setState({showEndChatConfirm:t})},n.render=function(){var t=this,e=this.props,n=this.props.agent,o=this.showAnimation,a=e.chatWindowStyle===Jm,r=EB(e.mainColor),s=e.avatars,c=!(e.team||s||e.banner||n||e.logo),d=ht(this.context);return i("header",{className:"window__headerContainer",onTouchMove:dt,ref:function(e){t.headerContainer=e},tabIndex:-1},e.ifViewHeader&&i("div",{id:"branding",className:h("window__header","window__header--noBio",o&&"window__header--fadeInDown",n&&n.avatar&&"window__header--hasAvatar"),style:{background:a?r:"none"},ref:function(e){e&&(t.header=e)}},e.ifViewHeaderBox&&i("div",null,i("div",{className:h("window__headerBox","clearfix",e.team&&"window__headerBox--team",s&&"window__headerBox--hasAvatars",e.banner&&"window__headerBox--banner",c&&"window__headerBox--empty")},e.team&&i("div",{className:h("header__teamName",!s&&"header__teamNameNoAvatar")},e.team),s&&i("div",{className:h("header__teamAvatar",e.isAvatarGray&&"header__teamAvatar--gray",e.ifShowSideWindow&&"header__teamAvatar--withSideWindow")},s.map((function(t,e){return i(DB,{className:"header__teamAvatarImg",src:t,width:"50",height:"50",alt:d.avatar})}))),e.banner&&i("img",{className:"header__bannerImg",src:e.banner,alt:d.banner}),n&&i("div",{className:h("header__agent",e.logo?"header__agent--withlogo":"",n.bio&&e.ifHideBio&&!e.isMobile?"header__agent--compact":"",n.title&&"with__title",o&&"header__agent--fadeInUp"),onClick:function(){e.ifHideBio&&t.props.onUpdateScrollStatus(!1)},onTouchEnd:function(){e.ifHideBio&&t.props.onUpdateScrollStatus(!1)}},n.avatar&&i("div",{id:"header-operator-avatar",className:h("header__avatar",this.props.ifShowSideWindow&&"header__avatar--withSideWindow",o&&"header__avatar--fadeInDown"),key:"avatar"},i(DB,{className:"header__avatarImage",src:n.avatar,alt:function(t){var e=t.type;return"chatbot"===e?"Chatbot avatar":"taskbot"===e?"Taskbot avatar":d.avatar}(n),width:"50",height:"50"})),i("div",{className:h("header__agentInfo",!n.avatar&&"header__agentInfoNoAvatar")},n.name&&i("div",{className:"direction-ltr header__agentName"},n.name),n.title&&i("div",{className:"direction-ltr header__agentTitle"},n.title)),n.bio&&i("div",{className:"header__agentBio",style:{height:e.ifHideBio?"0":"auto",marginTop:e.ifHideBio?0:"4px",marginBottom:e.ifHideBio?0:"1px",paddingLeft:n.avatar&&e.chatWindowStyle===Jm?"62px":0,paddingBottom:e.ifHideBio?0:"2px",overflow:"hidden"},dangerouslySetInnerHTML:{__html:n.bio}})),e.logo&&i("div",{className:"header__logo "+(n&&(n.avatar||n.name)?"header__logo--up":""),key:"logo"},i("img",{id:"logo-image",className:"header__logoImg",src:e.logo,alt:d.logo,"aria-hidden":!0}))))),i("div",{className:"end-chat-top window__title"},i("span",{id:"embedded-window-title",className:"title-text embedded-only"}),i(RB,{tab:e.tab,hasMinimize:e.hasMinimize,hasEndChat:e.hasEndChat,icons:e.icons,popupBubbleType:e.popupBubbleType,languages:e.languages,passEventArgs:e.passEventArgs,ifViewConfirmBubble:e.ifViewConfirmBubble,ifViewHeader:e.ifViewHeader,onMinimize:this.onMinimize,onPopIn:e.onPopIn,onClose:e.onClose,onEndChat:e.onEndChat,isMobile:e.isMobile,windowStatus:e.windowStatus,onEnterMinimize:e.onEnterMinimize,emailAddress:e.emailAddress,hideCloseButton:e.hideCloseButton})))},e}(p),LB=KO("header","window__headerVessel")(zB),HB=function(t,e,n,i){return t&&{name:t.name,avatar:(n||e.chatWindowShowAvatar||e.showAvatar)&&t.avatar,title:(e.chatWindowShowTitle||e.showTitle)&&t.title,bio:e.chatWindowShowBio&&("<div>&nbsp;</div>"===t.bio?null:t.bio),type:i||"agent"}},qB=function(t,e,n){var i=Wh(t)||Vh(t)||ov(t);return{agent:HB(i,e.header,n)}},UB=function(t){return{banner:t.header.banner}},GB=function(t,e,n,i){var o=Xh(e);return!i||t!==Kp&&t!==Yp?t===Kp?qB(e,n,!1):o&&t===Yp?function(t,e,n){var i=Wh(t)||Vh(t)||ov(t);return{agent:HB(i,e.header,n,"chatbot")}}(e,n,!0):t===Jp?function(t,e){return e.header.showAvatar||e.header.logo?{logo:e.header.logo,agent:qB(t,e).agent}:{ifViewHeaderBox:!1}}(e,n):t===Yp?UB(n):{}:function(t,e){return{agent:HB(ov(t),e.header,!0,"taskbot")}}(e,n)},KB=function(t,e,n){return t===Kp?Ph(e).tab===zu?{}:function(t,e){var n=Lh(t),i=n===Yu,o=lm(t)[e.id],a=Ff(t),r=n===qu||i&&o||a||Nm(t)===Jl||n===Lu||n===Hu?e.header.preChatShowTeam:e.header.offlineMessageShowTeam,s=n===qu||i&&o||a||Nm(t)===Jl||n===Lu||n===Hu?e.header.preChatTeamName:e.header.offlineMessageTeamName;return{team:r&&s,avatars:(n===qu||i&&o||a||Nm(t)===Jl||n===Lu||n===Hu?e.header.preChatShowAvatars:e.header.offlineMessageShowAvatars)&&iw(t)}}(e,n):t===Jp?function(t,e){return{logo:e.header.logo}}(0,n):t===Yp?UB(n):{}},YB=function(t,e,n){if(t===Zm)return{ifViewHeader:!1};var i=Ph(e),o=function(t){var e=V(t,"window.involvedAgents");return e&&e.length>0}(e),a=n.header.type;if(i.tab===Uu&&(o||i.isChatBot||i.isTaskBot||i.chatStatus===rp&&!i.isTaskBot)&&(i.chatStatus===ap||i.chatStatus===rp||i.chatStatus===op&&_m(e)===lu||i.isChatBot||i.isTaskBot)||i.tab===Gu){var r=!o&&!i.isChatBot&&(i.isTaskBot||i.chatStatus===rp&&!i.isTaskBot);return GB(a,e,n,r)}return KB(a,e,n)},JB=function(t){function e(e){var n;(n=t.call(this,e)||this).onClick=n.onClick.bind(st(n)),n.toggle=n.toggle.bind(st(n)),n.shouldComponentUpdate=RO(st(n),["disabled","focus"],["active","fields"]),n.onButtonFocus=n.onButtonFocus.bind(st(n));var i=function(){n.props.focus&&n.btn&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}rt(e,t);var n=e.prototype;return n.onClick=function(){this.toggle(!0)},n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.toggle=function(t){this.props.onDialogToggle(t,"rating")},n.render=function(){var t,e=this,n=this.props,o=this.props,a=o.languages,r=o.ratingField,s=o.commentField;if(this.state.active||n.windowDisabled||(t=function(t){t.stopPropagation(),e.onClick(t)}),r||s){return i("li",{role:"none"},i("button",ct({},{role:"menuitem"},{onClick:t,tabIndex:n.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(t){e.btn=t},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}}),i(_t,{type:Tt,title:a.buttonRating,id:"iconRating",ariaHidden:!0}),i("div",{className:"menu__text-container"},a.buttonRating)))}return null},e}(p);JB.displayName="Rating";var QB,ZB=f((function(t){return{isPoppedOut:eh(t),isRightToLeft:ig(t),commentField:Ym(t),ratingField:Km(t),ratingValue:Rf(t,"rating"),commentValue:Rf(t,"comment"),languages:$v(t),popupBubbleType:Dg(t)}}),(function(t){return{onSubmit:function(e){XC("livechat.chat.visitor.rate",e),t(OS(e)),t({type:Is,payload:e})},onToggle:function(e){t(vy(e?"rating":"none"))}}}))(JB),XB="error",$B="warning",tT=g({announce:function(t,e,n){},removeMessage:function(t){}}),eT=function(t){function e(e){return t.call(this,e)||this}rt(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return this.props.id!==t.id},n.componentWillUnmount=function(){this.props.removeMessageWhenUnmount&&this.removeMessage&&this.removeMessage(this.props.id,this.props.message)},n.render=function(){var t=this,e=this.props,n=e.id,o=e.message,a=e.isHtml,r=void 0!==a&&a;return i(tT.Consumer,null,(function(e){var i=e.announce,a=e.removeMessage;t.removeMessage=a,i(n,o,r)}))},e}(p),nT=function(t){function e(e){return t.call(this,e)||this}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.errorContainer.focus()},n.render=function(){var t=this,e=this.props,n=e.type===XB,o=e.type===$B,a=ht(this.context);return i("div",{className:"chatError__container",ref:function(e){t.errorContainer=e}},i("div",{className:h("window_chatError",n&&"window_chatError--urgency",o&&"window_chatError--mitigate"),role:"alert"},e.message,i("button",{className:"window_chatErrorClose",onClick:e.onClose,ref:function(e){t.btn=e},"aria-label":a.closeAlert},i(_t,{type:It,className:"icon-close"}))))},e}(p),iT=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldCOmponentUpdate=RO(st(n),["input.value","isDisabled"]),n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus()},n.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},n.render=function(){var t=this,e=this.props,n=!(!e.input.value&&!e.initialValue),o=e.uniqKey||e.id,a=e.isDisabled?"":"checkbox-"+o;return i("div",{className:h("container-checkbox",e.isDisabled&&"disable",e.className),onClick:e.isDisabled?void 0:function(){e.input.onChange(!n,e.text,e.id)}},i("label",{className:h(e.isDisabled&&"disable",e.className,"checkbox__text"),id:"checkbox-label-"+o,htmlFor:a},e.text||e.children),i("input",{id:a,type:"Checkbox",className:"checkbox",disabled:e.isDisabled,checked:n,onFocus:e.input.onFocus,onBlur:e.input.onBlur,ref:function(e){t.element=e},"aria-labelledby":"checkbox-label-"+o,"aria-required":(e.isRequired||!1).toString()}),i("i",{className:n?"selected":"unselected"},i(_t,{type:jt})))},e}(p),oT=[zo,Lo,Ho,qo,Uo,Go,Yo,Jo,Qo,Zo,Xo,aa],aT=function(t){var e=function(e){function n(t){var n;return(n=e.call(this,t)||this).params={onChange:n.onChange.bind(st(n)),onBlur:n.onBlur.bind(st(n)),onFocus:n.onFocus.bind(st(n)),siteId:t.siteId,style:t.style,disabled:t.disabled,languages:t.languages,forceLabel:t.forceLabel,captchaSettings:t.captchaSettings,languageTag:t.languageTag,isHorizontal:t.isHorizontal,ifBotForm:t.ifBotForm},n.shouldComponentUpdate=RO(st(n),["field","disabled"]),n}rt(n,e);var o=n.prototype;return o.componentWillReceiveProps=function(t){var e=this.params;e.disabled===t.disabled&&e.languages===t.languages||(this.params.disabled=t.disabled,this.params.languages=t.languages)},o.onChange=function(t){this.props.onChange(this.props.field,t)},o.onBlur=function(){this.props.onBlur(this.props.field)},o.onFocus=function(){this.props.onFocus(this.props.field)},o.render=function(){var e=this.props.field,n=e.label,o=e.error,a=void 0===o?"":o,r=e.isErrorShowed,s=e.isHidden,c=e.isRequired,d=e.id,l="required"===a.toLowerCase(),u=!!a&&!l,p=u?Object.assign({},this.props.field,{isInvalidError:u}):this.props.field,f=function(t){return oT.indexOf(t)>=0}(p.type);if(s)return null;var g=p.type===ea||p.type===na,m=g;return g?i("div",{className:h("box-field",f&&"system-field")},i("div",{className:"check-box clearfix"},c&&i(_t,{type:Ft,className:"field__requiredTag"}),t(p,this.params),r&&a&&d!==eo&&i("span",{className:h("field__requiredMsg","field__requiredMsg--checkbox"),role:"alert"},i(_t,{title:"Error",type:Pt})," ",l?p.label+" is required.":a))):i("div",{className:h("box-field",f&&"system-field")},i("div",{className:"filed__content"},i("div",{className:h("field-name clearfix",g&&"checkbox-label")},c&&!m&&i(_t,{type:Ft,className:"field__requiredTag",title:"star"}),m?"":i("label",{className:"field__label",htmlFor:"field-"+d,id:"label-field-"+d},n)),t(p,this.params)),r&&a&&d!==eo&&i("div",{className:h("field__requiredMsg"),id:"field-error-"+d,role:"alert"},i(_t,{title:"Error",type:Pt})," ",l?p.label+" is required.":a))},n}(p);return e},rT=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value;if(Array.isArray(s)){var c=s.indexOf(t.label);s=c>=0?"true":"false",n(c>=0?"true":"false")}else s||(s="false",n("false"));return i(iT,{input:{value:s&&"true"===s.toString(),onChange:function(t){n(t?"true":"false")},onFocus:a,onBlur:o,"aria-describedby":"field-error-"+t.id},text:t.label,id:t.id,focused:t.isFocused,isDisabled:r,isRequired:t.isRequired})})),sT=["className","options","align","focused","ariaLabelledby"],cT=function(){},dT=function(t){function e(e){var n;(n=t.call(this,e)||this).Change=n.Change.bind(st(n)),n.shouldComponentUpdate=RO(st(n),["input.value","options"]);var i=n.validate.bind(st(n));return n.componentDidMount=i,n.componentDidUpdate=i,n.onFocus=n.onFocus.bind(st(n)),n.onBlur=n.onBlur.bind(st(n)),n.hasFocus=!1,n}rt(e,t);var n=e.prototype;return n.onBlur=function(){var t=this.props.input.onBlur;this.hasFocus=!1,t&&t()},n.onFocus=function(){var t=this.props.input.onFocus;this.hasFocus=!0,t&&t()},n.validate=function(){var t=this,e=this.props.input.value;0!==e.length&&e.every((function(e){return t.props.options.every((function(t){return t.id.toString()!==e.toString()}))}))&&this.props.input.onChange([])},n.Change=function(t,e,n){var i=this.props.input.value,o=this.props.input.onChange||cT;-1===i.indexOf(n)?o(i.concat(n)):o(i.filter((function(t){return t!==n})))},n.render=function(){var t=this,e=this.props,n=e.className,o=e.options;e.align;var a=e.focused,r=e.ariaLabelledby,s=j(e,sT);return i("div",{className:h("container-checkboxlist",n),id:this.props.id,role:"group","aria-labelledby":r||"label-"+this.props.id},o.map((function(e,n){return i("div",{key:e.id,className:"vertical"},i(iT,ct({},s,{focused:!t.hasFocus&&0===n&&a,id:e.id.toString(),uniqKey:t.props.input.id+"-"+n,text:e.text,input:{value:-1!==t.props.input.value.indexOf(e.id.toString()),onChange:t.Change,onBlur:t.onBlur,onFocus:t.onFocus},fieldId:t.props.id})))})))},e}(p),lT=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value,c=t.options;return c||(c=[]),Array.isArray(s)||(s?n(s=c.find((function(t){return t.value===s}))?[s]:[]):s=[]),i(dT,{input:{id:t.id,value:s,onChange:n,onFocus:a,onBlur:o,"aria-describedby":"field-error-"+t.id},options:c.map((function(t){return{id:t.value,text:t.label}})),focused:t.isFocused,isDisabled:r,id:"field-"+t.id})})),uT=function(t){function e(e){var n;return(n=t.call(this,e)||this).onChange=n.onChange.bind(st(n)),n.onError=n.onError.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.element=this.props.field.element(this.onChange,this.onError),this.element&&this.container.appendChild(this.element)},n.componentWillUnmount=function(){this.container.removeChild(this.element)},n.onChange=function(t){this.props.onChange(this.props.field,t)},n.onError=function(t){this.props.onError(this.props.field,t)},n.render=function(){var t=this;return i("div",{ref:function(e){t.container=e}})},e}(p),pT=uT,hT=["isRequired","input","isReadOnly","isDisabled","className","meta","type","placeholder","autoComplete","maxLength","animationEffect","style"],fT=function(t,e){var n=t.isRequired,o=t.input,a=t.isReadOnly,r=t.isDisabled,s=t.className,c=t.meta,d=t.type,l=t.placeholder,u=t.autoComplete,p=t.maxLength,f=t.animationEffect,g=t.style,m=j(t,hT);return i("input",ct({},o,{readOnly:a,disabled:r,className:h("input","form__input",f&&"input--effect01",s,c&&c.touched&&c.invalid&&"error"),type:d,placeholder:l,"aria-label":l,autoComplete:u||"off",maxLength:p,style:g,ref:e,"aria-required":n.toString()},m))},gT=function(t){function e(e){var n;return(n=t.call(this,e)||this).refCallback=n.refCallback.bind(st(n)),n.shouldComponentUpdate=RO(st(n),["input.value","meta.invalid","meta.touched","focused","isRequired","isDisabled","style","type"]),n.focus=n.focus.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.focus()},n.componentDidUpdate=function(t){this.props.focused!==t.focused&&this.props.focused&&this.focus()},n.focus=function(){var t=this.element;t&&t.focus()},n.refCallback=function(t){this.element=t},n.render=function(){var t=this.props;return t.animationEffect?i("div",{className:"form__inputContainer"},fT(t,this.refCallback)):fT(t,this.refCallback)},e}(p),mT=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled,c=t.value;return Array.isArray(c)&&(c=c.join(","),n(c)),i("div",{className:"field-control"},i(gT,{maxLength:64,type:"email",input:{value:t.value,onBlur:function(t){o()},onFocus:a,disabled:s,"aria-invalid":(t.isInvalidError||!1).toString(),onChange:function(t){var e=t.target.value;e!==c&&n(e)},"aria-describedby":"field-error-"+t.id},meta:{invalid:!!t.error,touched:t.isErrorShowed},isRequired:t.isRequired,isDisabled:s,animationEffect:Jm===r,focused:t.isFocused,id:"field-"+t.id,autoComplete:"email"}))})),wT=function(t){function e(){var e;return(e=t.call(this)||this).shouldComponentUpdate=RO(st(e),["radioOption","selectedVal"]),e}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.first&&this.first.focus()},n.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&!this.props.selectedVal&&this.first&&this.first.focus()},n.render=function(){var t=this;return i("div",{className:"clearfix container-radiolist",role:"radiogroup","aria-labelledby":this.props.ariaLabelledby||"label-field-"+this.props.id,id:"field-"+this.props.id},this.props.radioOption.map((function(e,n){var o=t.props.disabled,a=o?"":"radio-"+t.props.id+"-"+n,r=o?"":"radio-"+t.props.id+"-"+t.props.label,s=o?"":"radio-label-"+t.props.id+"-"+n,c=o?"":a;return i("div",{className:h("control","controlRadio",t.props.className),onClick:function(){o||t.props.handleChange(e.value)}},i("label",{key:e.id,className:"radioText",htmlFor:c,id:s},e.text),i("input",{type:"radio",name:r,value:e.value,checked:t.props.selectedVal===e.value||e.checked,onBlur:t.props.onBlur,onFocus:t.props.onFocus,id:a,disabled:t.props.disabled,ref:function(e){0===n&&(t.first=e)},"aria-labelledby":s}),i("div",{className:"controlIndicator","aria-hidden":"true"},i("svg",{viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false"},i("circle",{r:"8",cx:"8",cy:"8"}),i("circle",{r:"3",cx:"8",cy:"8"}))),e.component?e.component:"")})))},e}(p),bT=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value,c=t.options;return c||(c=[]),Array.isArray(s)&&(s=s.find((function(t){return c.some((function(e){return e.value===t}))}))||null,n(s)),i(wT,{label:t.label,id:t.id,radioOption:c.map((function(e,n){return{id:n,text:e.label,value:e.value,checked:e.value===t.value}})),selectedVal:t.value,handleChange:function(t){t!==s&&n(t)},onBlur:o,onFocus:a,focused:t.isFocused,disabled:r,"aria-labelledby":"field-"+t.id})})),vT=["input","rows","cols","style","isDisabled","placeholder","maxLength","className","meta"],_T=function(t){t.stopPropagation()},xT=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=RO(st(n),["input.value","meta.touched","meta.invalid","focused","isDisabled"]),n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus()},n.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},n.render=function(){var t=this,e=this.props,n=e.input,o=e.rows,a=e.cols,r=e.style,s=e.isDisabled,c=e.placeholder,d=e.maxLength,l=e.className,u=e.meta,p=j(e,vT);return i("textarea",ct({onKeyDown:_T},n,{cols:a,rows:o,style:r,disabled:!!s&&"disabled",className:h(l,"multipleText",u.touched&&u.invalid&&"error"),placeholder:c,"aria-label":c,maxLength:d,ref:function(e){t.element=e},"aria-required":(this.props.isRequired||!1).toString()},p))},e}(p),yT=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.ifBotForm,c=t.value;return Array.isArray(c)&&(c=c.join(","),n(c)),i("div",{className:"field-control"},i(xT,{input:{value:t.value,onBlur:function(t){o()},onChange:function(t){var e=t.target.value;e!==c&&n(e)},onFocus:a,id:"field-"+t.id,onTouchMove:t.ontouchmove,"aria-describedby":"field-error-"+t.id},rows:2,meta:{touched:t.isErrorShowed,invalid:!!t.error},maxLength:s?8e3:2048,focused:t.isFocused,isDisabled:r,isRequired:t.isRequired}))})),ST=function(t,e,n){void 0===e&&(e="text");return aT((function(o,a){var r=a.onChange,s=a.onBlur,c=a.onFocus,d=a.style,l=a.disabled,u=o.value;return o.field,Array.isArray(o.value)&&(u=u.join(","),r(u)),i("div",{className:"field-control"},i(gT,{maxLength:t,type:e,input:{value:o.value,onBlur:function(t){s()},onFocus:c,onChange:function(t){var e=t.target.value;e!==u&&r(e)},"aria-invalid":(o.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+o.id},meta:{invalid:!!o.error,touched:o.isErrorShowed},isRequired:o.isRequired,animationEffect:d===Jm,focused:o.isFocused,isDisabled:l,id:"field-"+o.id,autoComplete:n}))}))},CT=ST(128),kT=ST(64,"text","name"),IT=ST(32,"text","tel"),MT=ST(64,"text","organization"),AT=["options","disabled","className","width","selectedValue"],OT=function(t,e){return t==e},BT=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=RO(st(n),["options","disabled","className","width","selectedValue"]),n.handleChange=n.handleChange.bind(st(n)),n.validate=n.validate.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus(),this.validate()},n.componentDidUpdate=function(t){this.validate(),t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},n.handleChange=function(t){t.target.value!==this.props.selectedValue&&this.props.handleChange(t.target.value)},n.validate=function(){var t=this;this.props.selectedValue&&this.props.options.every((function(e){return!OT(e.value,t.props.selectedValue)}))&&this.props.handleChange(this.props.options[0].value)},n.render=function(){var t=this,e=this.props,n=e.options,o=e.disabled,a=e.className,r=e.width,s=e.selectedValue,c=j(e,AT);return i("div",{className:"select-box",style:{width:r+"px"}},i("select",ct({disabled:o,onChange:this.handleChange,className:"select "+(void 0!==a?a:""),ref:function(e){t.element=e}},c),n.map((function(t){return i("option",{index:t.id,style:{color:t.themeColor||"black"},value:t.value,selected:OT(s,t.value),ariaSelected:OT(s,t.value)},t.text)}))),i("svg",{viewBox:"0 0 9 6",focusable:"false"},i("path",{d:"M5.2,5.7c-0.4,0.4-1,0.4-1.4,0L0.3,1.9c-0.4-0.4-0.4-1.1,0-1.6s1-0.4,1.4,0l2.8,3.1l2.8-3.1c0.4-0.4,1-0.4,1.4,0s0.4,1.1,0,1.6L5.2,5.7z"})))},e}(p),TT=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.languages,c=t.value,d=t.options;return d||(d=[]),Array.isArray(c)&&n(c=c.find((function(t){return d.some((function(e){return e.value===t}))}))||""),i(BT,{options:[{id:-1,text:s.dropdownListDefault,value:""}].concat(d.map((function(t,e){return{id:e,value:t.value,text:t.label}}))),selectedValue:c,handleChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id})})),jT=TT,PT=ST(32),FT=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.languages,c=t.value;return Array.isArray(c)?n(c=c.find((function(e){return t.options.some((function(t){return t.value==e}))}))||""):c===Zi&&(c=""),i(BT,{options:[{id:Zi,text:s.fieldNoDepartment,value:""}].concat(t.options.map((function(t,e){return{id:e,value:t.value,text:t.label+" "+(t.isOnline?s.fieldDepartmentStatusOnline:s.fieldDepartmentStatusOffline),themeColor:t.isOnline?"green":"red"}}))),selectedValue:c,handleChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id})})),NT=FT,WT=function(t){function e(e){var n;n=t.call(this,e)||this;for(var i=0,o=0;o<e.rateItems.length;o+=1)if(e.rateItems[o].value==e.rateVal){i=o+1;break}return n.state={rateVal:i,hoverRateVal:0},n.stars=[],n.clickChange=n.clickChange.bind(st(n)),n.onKeyDown=n.onKeyDown.bind(st(n)),n.onClear=n.onClear.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){this.setState({rateVal:t.rateVal})},n.onKeyDown=function(t){var e;switch(t.keyCode){case 37:case 38:e=Math.max(this.state.hoverRateVal-1,0)-1;break;case 39:case 40:e=Math.min(this.state.hoverRateVal+1,this.props.rateItems.length)-1;break;case 9:this.onClear()}var n=this.stars[e];n&&n.focus(),void 0!==e&&(t.stopPropagation(),t.preventDefault())},n.onClear=function(){this.setState({hoverRateVal:0})},n.clickChange=function(t){this.setState({rateVal:t}),this.props.rateChange(t)},n.render=function(){var t=this,e=this.props,n=this.state.rateVal,o=n>0,a=0===this.state.hoverRateVal?n:this.state.hoverRateVal;return i("div",{ref:function(e){t.ratingDiv=e},className:"rating",id:e.id,style:Object.assign({width:e.width,height:e.height},e.style),onFocus:e.onFocus,onBlur:e.onBlur,onMouseLeave:this.onClear,onKeyDown:this.onKeyDown,"aria-labelledby":"label-"+e.id,role:"radiogroup"},e.rateItems.map((function(e,r){var s=-1,c=r===n-1;return o?r===a-1&&(s=0):0===r&&(s=0),i("button",{key:e.value,type:"button",name:"rating-"+r,className:h("star",r<a&&"starColor"),onClick:function(){return t.clickChange(e.value)},onFocus:function(){return t.setState({hoverRateVal:r+1})},onMouseEnter:function(t){return t.target.focus()},ref:function(e){t.stars[r]=e},title:e.label,"aria-label":e.label,"aria-checked":c.toString(),role:"radio",tabIndex:s},i("svg",{viewBox:"0 0 24 24",focusable:"false"},i("path",{d:"M18.539,7.366c-.12-.241-.241-.361-.481-.361L12.646,5.921,10,.861C9.88.62,9.76.5,9.52.5s-.361.12-.481.361L6.393,5.921.981,7C.74,7,.62,7.12.5,7.361a1.086,1.086,0,0,0,.12.6l3.728,4.216-.722,5.782a.627.627,0,0,0,.241.482.538.538,0,0,0,.6,0L9.4,16.04l4.931,2.409h.241a.439.439,0,0,0,.361-.12.915.915,0,0,0,.241-.482l-.722-5.782L18.18,7.849C18.539,7.728,18.539,7.607,18.539,7.366Z"})))})),e.children)},e}(p),VT=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value;return Array.isArray(s)&&n(s=s.find((function(e){return t.options.some((function(t){return+t.value==+e}))}))||0),i(WT,{rateVal:+s,rateItems:t.options.map((function(t){return{id:t.id,value:t.value,label:t.label}})),rateChange:n,onBlur:o,onFocus:a,disabled:r,id:"field-"+t.id,isFocused:t.isFocused})})),DT=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.siteId,s=e.style,c=e.disabled,d=t.value;return Array.isArray(d)&&(d=d[0],n(d)),i("div",{className:"fieldControl__Ticket"},i("div",{className:"form__ticketPrefix"},"S"+r+"-#"),i("div",{className:"field-control"},i(gT,{maxLength:10,type:"text",input:{value:d,onBlur:function(t){o()},onChange:function(t){var e=t.target.value;e!==d&&n(e)},onFocus:a,"aria-invalid":(t.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+t.id},meta:{invalid:!!t.error,touched:t.isErrorShowed},isDisabled:c,isRequired:t.isRequired,animationEffect:Jm===s,focused:t.isFocused,className:wt&&"form__input--ie10",id:"field-"+t.id})))})),RT=DT,ET=function(t){function e(){return t.apply(this,arguments)||this}return rt(e,t),e.prototype.render=function(){var t=this.props,e=this.context,n=Date.now().toString(),o=ht(e);return i(eB,{id:n,src:"about:blank",style:t.style,frameborder:0,scrolling:"no",innerCss:"body{margin:0;padding:0}",title:o.uploadForm,onMounted:function(t){t.ownerDocument}},i("form",{id:"form",method:"post",encType:"multipart/form-data",encoding:"multipart/form-data"},i("input",{ref:function(e){t.onMounted&&t.onMounted(e)},type:"file",name:"file",onChange:function(e){var i,o;t.onChange&&t.onChange({formId:n,name:(i=e.target.value,o=i.split(/\/|\\/),o[o.length-1])})},onBlur:t.onBlur,onFocus:t.onFocus})))},e}(p),zT=["focused"],LT=function(t){function e(e){var n;return(n=t.call(this,e)||this).focus=n.focus.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.focus()},n.componentDidUpdate=function(t){this.props.focused!==t.focused&&this.props.focused&&this.focus()},n.focus=function(){var t=this.element;t&&t.focus()},n.render=function(){var t=this,e=this.props;e.focused;var n=j(e,zT);return i("input",ct({type:"file",ref:function(e){return t.element=e}},n))},e}(p),HT=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t,e;t=this.div,e=this.props,l(i(ET,e),t)},n.shouldComponentUpdate=function(){return!1},n.render=function(){var t=this;return i("div",{ref:function(e){t.div=e},"aria-labelledby":"field-"+this.props.id})},e}(p),qT=cr()?function(t,e,n,o){return i(HT,{onChange:e,onBlur:n,onFocus:o})}:function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;return i("div",{className:"form__attachmentContainer"},i(LT,{onChange:function(t){n(t.target.files[0])},focused:t.isFocused,onBlur:o,onFocus:a,disabled:r,id:"field-"+t.id,name:t.label,"aria-invalid":(t.isInvalidError||!1).toString(),"aria-required":(t.isRequired||!1).toString(),"aria-describedby":"field-error-"+t.id}))},UT=aT(qT),GT=["onChange","onBlur","onFocus","style","disabled"],KT=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showPassword:!1},n.onClickShowPassword=n.onClickShowPassword.bind(st(n)),n.onClickHidePassword=n.onClickHidePassword.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.onClickShowPassword=function(){this.setState({showPassword:!0})},n.onClickHidePassword=function(){this.setState({showPassword:!1})},n.render=function(){var t=this.state.showPassword,e=this.props,n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled,c=j(e,GT);return i("div",{className:"field-control field-control-password"},i(gT,{maxLength:128,type:t?"text":"password",input:{value:c.value,onBlur:o,onFocus:a,onChange:function(t){var e=t.target.value;e!==c.value&&n(e)},"aria-invalid":(c.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+c.id},meta:{invalid:!!c.error,touched:c.isErrorShowed},isRequired:c.isRequired,animationEffect:r===Jm,focused:c.isFocused,isDisabled:s,id:"field-"+c.id}),t?i("svg",{class:"svg-icon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",onClick:this.onClickHidePassword},i("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})):i("svg",{class:"svg-icon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",onClick:this.onClickShowPassword},i("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})))},e}(p),YT=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled;return i(KT,Object.assign({},t,{onChange:n,onBlur:o,onFocus:a,style:r,disabled:s}))})),JT=ST(128,"number"),QT=function(t){var e=t.target.value;e=e.replace(/\D/g,""),t.target.value=e},ZT=function(t,e){void 0===e&&(e="text");return aT((function(n,o){var a=o.onChange,r=o.onBlur,s=o.onFocus,c=o.style,d=o.disabled,l=n.value;return n.field,Array.isArray(n.value)&&(l=l.join(","),a(l)),i("div",{className:"field-control"},i(gT,{maxLength:t,type:e,input:{onInput:QT,value:n.value,onBlur:function(t){r()},onFocus:s,onChange:function(t){var e=t.target.value;e!==l&&a(e)},"aria-describedby":"field-error-"+n.id},meta:{invalid:!!n.error,touched:n.isErrorShowed},isRequired:n.isRequired,animationEffect:c===Jm,focused:n.isFocused,isDisabled:d,id:"field-"+n.id}))}))}(128,"number"),XT=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={},n.handleDocumentClick=n.handleDocumentClick.bind(st(n)),n.anchorElRef=null,n.contentRef=null,n.doc=null,n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.doc=Nt(this.anchorElRef),this.doc.addEventListener("click",this.handleDocumentClick,!0),this.doc.addEventListener("touchend",this.handleDocumentClick,!0)},n.componentDidUpdate=function(t){var e=this;if(this.props.open&&this.props.open!==t.open&&this.doc)setTimeout((function(){e.contentRef.querySelector("[tabindex='0'],[tabindex='-1']").focus()}),20);else if(!this.props.open){if(!t.open)return;setTimeout((function(){e.anchorElRef.querySelector("[tabindex='0'],[tabindex='-1']").focus()}),20)}},n.componentWillUnmount=function(){this.doc&&(this.doc.removeEventListener("click",this.handleDocumentClick,!0),this.doc.removeEventListener("touchend",this.handleDocumentClick,!0))},n.handleDocumentClick=function(t){this.props.open&&this.contentRef&&!this.contentRef.contains(t.target)&&this.props.onClose()},n.render=function(){var t=this;this.state;var e=this.props,n=e.children,o=e.anchorEl,a=e.open;return i("div",{className:h(["taskbot-dropdown"]),onClick:this.onClick},i("div",{className:h(["taskbot-dropdown-trigger"]),ref:function(e){t.anchorElRef=e}},o),a&&i("div",{className:h(["taskbot-dropdown-content"]),ref:function(e){t.contentRef=e}},n))},e}(p),$T=["options","mainColor","isProcessed","onBlur","error","ariaLabel","required"],tj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={open:!1,inputWidth:e.width?e.width+"px":"192px",sIndex:0,value:Array.isArray(e.value)?e.value:[]},n.handleOpen=n.handleOpen.bind(st(n)),n.handleClose=n.handleClose.bind(st(n)),n.handleToggle=n.handleToggle.bind(st(n)),n.handleChange=n.handleChange.bind(st(n)),n.handleDelete=n.handleDelete.bind(st(n)),n.handleKeydown=n.handleKeydown.bind(st(n)),n.handleOptionKeyDown=n.handleOptionKeyDown.bind(st(n)),n._isSelected=n._isSelected.bind(st(n)),n.isClose=!1,n}rt(e,t);var n=e.prototype;return n.componentDidUpdate=function(t,e){!0===this.state.open&&!1===e.open&&this.setState({sIndex:0})},n.handleToggle=function(){this.isClose?this.isClose=!1:this.setState({open:!this.state.open})},n.handleOpen=function(){this.state.open||this.setState({open:!0})},n.handleClose=function(){var t=this,e=this.props.onClose;e&&e(),this.isClose=!0,this.setState({open:!1}),setTimeout((function(){t.isClose=!1}),100)},n.handleDelete=function(t,e){void 0===e&&(e=0),t.stopPropagation();var n=this.props.onChange;if(e>=0){var i=[].concat(this.state.value);i.splice(e,1),this.setState({value:i}),n(i)}window.event?window.event.cancelBubble=!0:t.stopPropagation()},n.handleChange=function(t,e){var n=this.props,i=n.onChange;n.options;var o=this.state.value.indexOf(t),a=[].concat(this.state.value);-1!==o?a.splice(o,1):a.push(t),this.setState({value:a}),void 0!==e&&this.setState({sIndex:e}),i(a)},n.handleKeydown=function(t){13!==t.keyCode&&32!==t.keyCode||this.handleToggle()},n.handleOptionKeyDown=function(t){t.stopPropagation();var e=t.keyCode,n=this.state.sIndex,i=this.props.options;38===e||37===e?(n=0===n?i.length-1:n-1,this.setState({sIndex:n})):39===e||40===e?(n=n===i.length-1?0:n+1,this.setState({sIndex:n})):13===e?this.handleChange(i[n].value):27!==event.keyCode&&9!==event.keyCode||(event.stopPropagation(),event.preventDefault(),this.handleClose())},n._isSelected=function(t){return-1!==this.state.value.indexOf(t)},n.render=function(){var t=this,e=this.props,n=e.options,o=void 0===n?[]:n;e.mainColor;var a=e.isProcessed,r=e.onBlur,s=e.error,c=e.ariaLabel,d=e.required,l=j(e,$T),u=this.state,p=u.sIndex,f=u.value;return a?null:i(XT,{open:this.state.open,onClose:this.handleClose,anchorEl:i("div",ct({className:h("taskbot_input","taskbot_select_box",s&&"taskbot_input_error"),"aria-label":c||"multiple select"+(f&&f.length>0?" selected "+f.join(","):""),onClick:this.handleToggle,onKeyDown:this.handleKeydown,tabIndex:0,onBlur:r,role:"listbox","aria-expanded":this.state.open,"aria-required":d},l),i("div",{className:"taskbot_select_multiple"},f.map((function(e,n){return i("div",{className:"taskbot_select_multiple_item"},i("span",null,e),i("svg",{className:"delete_icon",onClick:function(e){return t.handleDelete(e,n)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18.008 18.003"},i("path",{d:"M15.367,2.634a9,9,0,1,0,0,12.733A9,9,0,0,0,15.367, 2.634Zm-1.867,9.6L12.23,13.5,9, 10.269H9L5.769,13.5,4.5,12.231,7.731,9,4.5,5.769, 5.769,4.5,9,7.731,12.231,4.5,13.5,5.769,10.269,9Z",transform:"translate(0.004 0.003)"})))}))),i(_t,{type:Wt,className:h("arrow",{arrow_down:!this.state.open})})),onSelectionKeydown:this.handleOptionKeyDown},i("div",{className:"taskbot_select_option_container",style:{height:o.length>8?264:32*o.length}},i("ul",{ref:function(e){t.selectOptionRef=e},className:"taskbot_select_option_list",style:{width:this.state.inputWidth},tabIndex:-1,onKeyDown:this.handleOptionKeyDown,role:"listbox","aria-activedescendant":"taskbot_select_option_item_"+p,"aria-multiselectable":"true"},o.map((function(e,n){return i("li",{id:"taskbot_select_option_item_"+n,key:e.value,className:h("taskbot_select_option_item",{selected:t._isSelected(e.value),active:p===n}),onClick:function(){return t.handleChange(e.value,n)},role:"option","aria-selected":t._isSelected(e.value),"data-value":e.value,"aria-label":e.label},e.label)})))))},e}(p),ej=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;e.languages;var s=t.value,c=t.options;return c||(c=[]),i(tj,{options:c,value:s,onChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id,width:308,error:t.error})})),nj=aT((function(t,e){var n=e.onChange;e.onBlur;var o=e.onFocus,a=e.disabled;e.style;var r=t.value;return r||n(Vt(new Date,"YYYY/MM/DD")),i(Dt,{value:r,onChange:n,onFocus:o,disabled:a,id:"field-"+t.id})})),ij=function(t,e){void 0===e&&(e="AM");var n=t%60,i=(t-n)/60;return"PM"===e&&0===i&&(i="12"),i+":"+(n=n<10?"0"+n:""+n)+" "+e},oj=function(t){if("number"!=typeof t)return"";return t<720?ij(t):ij(t-720,"PM")},aj=function(){var t=new Date;return 60*t.getHours()+t.getMinutes()},rj=aT((function(t,e){var n=e.onChange;e.onBlur;var o=e.onFocus,a=e.disabled;e.style;var r=t.value,s=r?function(t){var e=Vt(new Date,"YYYY/MM/DD"),n=new Date(e+" "+t);return 60*n.getHours()+n.getMinutes()}(r):aj();return r||n(oj(aj())),i(Rt,{value:s,onChange:function(t){n(oj(t))},onFocus:o,disabled:a,formatType:"min",id:"field-"+t.id})})),sj=rj,cj=aT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;e.languages;var s=t.value,c=t.options;return c||(c=[]),i(Et,{options:c,value:s,onChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id,error:t.error})})),dj={},lj=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.componentWillMount=function(){var t=this,e=this.chatWindow(),n=ht(this.context);this.captcha=i(_t,{type:zt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":n.loading,"aria-busy":"true",style:{transform:"none"}}),e.recaptchaLoadedCallback=function(){t.renderRecaptcha(e.grecaptcha)}},n.componentDidMount=function(){var t=this.chatWindow();t.grecaptcha&&t.grecaptcha.reset?t.grecaptcha.reset(dj[this.container.id]):(!function(t,e){var n=N.brandingNameLowerCase,i=t.head;if(i){var o=i.querySelector("style#recaptch");o||((o=t.createElement("style")).id="recaptch",i.appendChild(o));var a="#"+n+"-container ~ div > :last-child {max-height: 550px !important;overflow-y: auto !important;}#"+n+"-container ~ div > :last-child::-webkit-scrollbar-thumb {background-color: #c8c8c8;}#"+n+"-container ~ div:last-child {left: 0px !important;}#container ~ div:last-child {left: 0px !important;}";o.innerHTML=a}}(t.document,this.props.brandConfig),t.document.head.appendChild(this.createRecaptchaApiScript()))},n.shouldComponentUpdate=function(){return!1},n.createRecaptchaApiScript=function(){var t=this.chatWindow().document.createElement("script"),e=this.props,n=e.settings,i=e.language;return t.src="https://"+n.host+"/recaptcha/api.js?hl="+i+"&render=explicit&onload=recaptchaLoadedCallback",t.defer=!0,t.async=!0,t},n.componentWillUnmount=function(){this.chatWindow().grecaptcha=null},n.chatWindow=function(){var t=window.parent||window,e=t.document.getElementById("chat_window_container");return e&&"iframe"===e.tagName.toLowerCase()?e.contentWindow:t},n.renderRecaptcha=function(t){var e=this.props,n=e.settings,i=e.onError,o=e.onExpired,a=e.onSuccess,r=n.siteKey,s=n.isCompact;this.container.innerHTML="",dj[this.container.id]=t.render(this.container,{sitekey:r,size:s?"compact":"normal",callback:a,"expired-callback":o,"error-callback":i}),this.container.height=this.container.height+1},n.render=function(){var t=this;return i("div",{id:this.props.id,ref:function(e){t.container=e},className:h(!this.props.settings.isCompact&&"captcha")},this.captcha)},e}(p),uj=lj,pj=aT((function(t,e){var n=e.isHorizontal,o=e.onChange,a=e.captchaSettings,r=e.languageTag,s=e.brandConfig;return i(uj,{id:"captcha-"+t.id,isCompact:n,onSuccess:o,onExpired:function(){return o(null)},settings:a,language:r,brandConfig:s})})),hj=pj,fj=["fields"],gj=St((function(){return import("./NPS.e0f89b75.js")})),mj=((QB={})[zo]=kT,QB[Lo]=mT,QB[Ho]=IT,QB[qo]=MT,QB[Uo]=jT,QB[Go]=NT,QB[Yo]=VT,QB[Jo]=yT,QB[Zo]=yT,QB[Qo]=PT,QB[Ko]=RT,QB[ea]=rT,QB[na]=rT,QB[ia]=lT,QB.checkBoxList=lT,QB.custom=pT,QB.radioBox=bT,QB.radio=bT,QB.dropdownList=jT,QB.dropDownList=jT,QB[ta]=yT,QB[$o]=CT,QB[Xo]=UT,QB[oa]=gj,QB[aa]=hj,QB[ra]=cj,QB[sa]=ej,QB[ca]=nj,QB[da]=sj,QB[la]=YT,QB[pa]=ZT,QB[ua]=JT,QB),wj=KO("form")((function(t){var e=t.fields,n=j(t,fj);return i("div",{className:"field-table form-style-hor"},e.map((function(t){return t.type===oa?i(Ct,null,i(kt,null,i(mj[t.type],Object.assign({},n,{field:t,key:t.id})))):i(mj[t.type],Object.assign({},n,{field:t,key:t.id}))})))})),bj=["disabled","text","onClick","className","htmlType","loading","size","icon","iconPosition","type","children","spanStyle","ariaLabelText"],vj={large:"btn-lg",small:"btn-sm"},_j={primary:"btn-primary",default:"btn-default",gray:"btn-grey",noborder:"btn-noborder"},xj=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=RO(st(n),["disabled","text","className","loading","size","icon","iconPosition","type","children"]),n}return rt(e,t),e.prototype.render=function(){var t=this.props,e=t.disabled,n=t.text,o=t.onClick,a=t.className,r=t.htmlType;t.loading;var s=t.size,c=t.icon,d=t.iconPosition,l=t.type,u=t.children;t.spanStyle;var p=t.ariaLabelText,f=j(t,bj),g=null;return c&&(g=c),i("button",ct({},f,{className:h("btn",e&&"disabled",vj[s]||"",_j[l]||"btn-default",a),onClick:e?void 0:o,type:r,"aria-label":p,"aria-disabled":e}),"right"!==d&&g,"right"!==d&&u,n&&i("span",{className:"window_quick_reply_buttons_item_inner"},i("span",null,n)),"right"===d&&u,"right"===d&&g)},e}(p),yj=["isSubmitting","onClick","success","text","disabled"],Sj=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.componentDidUpdate=function(t){var e=this;if(this.props.success&&!t.success&&gt)var n=0,i=setInterval((function(){e.btn&&(e.btn.style.fontSize=n/50%2==0?"1rem":"1.0001rem"),(n+=50)>500&&clearInterval(i)}),50);this.props.success&&!t.success&&this.svg.focus()},n.render=function(){var t=this,e=this.props,n=e.isSubmitting,o=e.onClick,a=e.success,r=e.text,s=e.disabled,c=j(e,yj),d=ht(this.context);return a?d.submitted:n&&d.uploading,i("div",ct({className:h("buttonProgressContainer",n&&!a&&"buttonProgressContainerLoading",a&&"buttonProgressContainerSuccess"),ref:function(e){t.btn=e}},c),i(xj,{type:"primary",text:r,className:"buttonProgressBtnAnimated buttonProgressBtnDefaultSize",htmlType:"submit",onClick:o,disabled:s||n}),i("div",{className:"lds-css ng-scope"},i("div",{className:"lds-rolling"})),i("svg",{version:"1.1",className:"buttonProgress__layerCircle",id:"buttonProgress__layer-circle",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 30 30",xmlSpace:"preserve",focusable:"false",ref:function(e){t.svg=e},tabindex:"-1","aria-label":d.submitted},i("path",{className:"buttonProgress__submitCirclePath",d:"M15,1.5c7.4,0,13.5,6.1,13.5,13.5S22.4,28.5,15,28.5S1.5,22.4, 1.5,15S7.6,1.5,15,1.5L15,1.5z"})),i("svg",{version:"1.1",className:"buttonProgress__layerSuccess",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"16px",height:"16px",viewBox:"0 0 16 16",xmlSpace:"preserve"},i("title",null,d.submitted),i("polygon",{className:"buttonProgress__submitSuccessPath",points:"16,3.5 12.8,1 6.5,9.2 2.5,6.1 0,9.3 6,14 7.3,15"})))},e}(p),Cj=KO("submit")((function(t){return i(Sj,{onClick:t.onClick,isSubmitting:t.isSubmitting,success:t.success,text:t.text,disabled:t.disabled})})),kj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={reCaptchaError:""},n.onSubmit=n.onSubmit.bind(st(n)),n.onReCaptchaErrorClose=n.onReCaptchaErrorClose.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.onSubmit=function(t){var e=this;t.preventDefault(),setTimeout((function(){if(e.props.submitStatus!==Qu){var t=e.props.fields.filter((function(t){return""!==t.error}));if(t.length>0){var n=t.map((function(t){return t.id}));e.props.onValidateAll(n);for(var i=0;i<n.length;i+=1)if(-1===n[i]){e.setState({reCaptchaError:e.props.languages.recaptchaError});break}}else e.props.onSubmit(e.props.fields)}}),0)},n.onReCaptchaErrorClose=function(t){t.preventDefault(),this.setState({reCaptchaError:""})},n.render=function(){var t=this.props,e=t.fieldId,n=t.isHorizontal,o=t.tab,a=t.fields,r=t.siteId,s=t.onChange,c=t.onBlur,d=t.onFocus,l=t.onError,u=t.disabled,p=t.windowStyle,f=t.languages,g=t.submitStatus,m=t.buttonText,w=t.languageTag,b=t.captchaSettings,v=t.brandConfig,_=t.ifCrossSiteTransfer,x=ht(this.context),y=a.some((function(t){return t.isRequired}));return i("form",{onSubmit:this.onSubmit},i("div",{id:e,className:h("form-fields",n&&"form-fields--horizonal")},y&&i("i",{className:"form-note",tabIndex:0},x.requiredMark),i(wj,{tab:o,fields:a,siteId:r,onError:l,onChange:s,onBlur:c,onFocus:d,style:p,disabled:u,languages:f,languageTag:w,captchaSettings:b,isHorizontal:n,brandConfig:v,ifCrossSiteTransfer:_})),i("div",{className:"form-bottom form__submitContainer"},this.state.reCaptchaError&&i(nT,{message:this.state.reCaptchaError,type:XB,onClose:this.onReCaptchaErrorClose}),i(Cj,{tab:o,onClick:this.onSubmit,isSubmitting:g===Qu,success:g===Zu,text:m,disabled:u})))},e}(p),Ij=function(t){function e(e){var n;(n=t.call(this,e)||this).onClick=n.onClick.bind(st(n)),n.toggle=n.toggle.bind(st(n)),n.onButtonFocus=n.onButtonFocus.bind(st(n));var i=function(){n.props.focus&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}rt(e,t);var n=e.prototype;return n.componentWillMount=function(){this.props.isActive&&this.toggle(!0)},n.componentWillReceiveProps=function(t){t.isActive&&this.toggle(!0)},n.onClick=function(){this.toggle(!0)},n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.toggle=function(t){this.props.onDialogToggle(!0,"sendEmail")},n.render=function(){var t=this,e=this.props,n=this.props.languages,o=e.windowDisabled||this.state.active?null:function(e){e.stopPropagation(),t.onClick(e)};return i("li",{role:"none"},i("button",ct({},{role:"menuitem"},{onClick:o,tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(e){t.btn=e},onTouchEnd:function(t){if(t&&t.stopPropagation)t.stopPropagation();else if(window.event)return window.event.cancelBubble=!0,!1;return!0}}),i(_t,{id:"iconSendEmail",type:Lt,title:n.buttonTranscript,ariaHidden:!0}),i("div",{className:"menu__text-container"},n.buttonTranscript)))},e}(p);Ij.displayName="SendEmail";var Mj,Aj=f((function(t){var e=_f(t),n=ng(t),i=Rf(t,"email");return{isPoppedOut:eh(t),isRightToLeft:ig(t),isActive:n&&!e,disabled:!1,emailAddress:i,languages:$v(t),popupBubbleType:Dg(t)}}),(function(t){return{onSubmit:function(e){XC("livechat.chat.visitor.setEmail",e),t(BS(e))},onToggle:function(e){t(vy(e?"sendEmail":"none"))}}}))(Ij),Oj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowDialog:!1},n.toggle=n.toggle.bind(st(n)),n.onClick=n.onClick.bind(st(n)),n.onContinue=n.onContinue.bind(st(n)),n.onCancel=n.onCancel.bind(st(n)),n.beforeUnload=n.beforeUnload.bind(st(n)),n.unload=n.unload.bind(st(n)),n.onButtonFocus=n.onButtonFocus.bind(st(n)),n.onKeyDown=Mt(n.onClick),n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.isPopout&&(N.addEventListener("beforeunload",this.beforeUnload),N.addEventListener("unload",this.unload))},n.componentWillReceiveProps=function(t){var e=this;t.focus&&setTimeout((function(){return e.btn.focus()}),0)},n.componentWillUnmount=function(){this.props.isAudioVideoChatting&&this.props.onContinue()},n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.onClick=function(t){this.props.isAudioVideoChatting||this.props.isScreenSharing?this.toggle(!0,t):this.props.onClick()},n.onContinue=function(t){this.toggle(!1,t),this.props.onContinue(this.props.isAudioVideoChatting,this.props.isScreenSharing)},n.onCancel=function(t){this.toggle(!1,t)},n.beforeUnload=function(t){if(this.props.isAudioVideoChatting){var e=this.props.languages.audioVideoChangeWindowType,n=t||N.event;return n.stopPropagation(),n.preventDefault(),n.returnValue=e,e}},n.unload=function(){this.props.isAudioVideoChatting&&this.props.onContinue()},n.toggle=function(t,e){e&&e.stopPropagation(),this.setState({ifShowDialog:t}),this.props.onDialogToggle(t)},n.render=function(){var t=this,e=this.props,n=this.props.languages,o=e.isPopout?n.embeddedWindowPopup:n.embeddedWindowPopin,a=e.isPopout?Ht:qt,r=ht(this.context),s=this.props.isAudioVideoChatting&&!this.props.isScreenSharing?n.audioVideoChangeWindowType:r.confirmStopAudioVideoOrScreenSharing;return i("li",{role:"none"},i("button",{role:"menuitem",onClick:this.onClick,tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(e){t.btn=e},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}},i(_t,{type:a,title:o,ariaHidden:!0}),i("div",{className:"menu__text-container"},o)),i(FB,{globalClass:"body__dialog-menu",iconId:"iconPop",ifShow:this.state.ifShowDialog,onClose:function(e){return t.toggle(!1,e)},width:e.isPopout?305:385},i("div",{className:"bubble--desc"},s),i("div",{className:"embedded-end-chatConfirmAction bubble__operation"},i("button",{id:"embedded-continue",className:"btn btn-primary",onClick:function(e){return t.onContinue(e)},tabIndex:"0"},n.buttonContinue),i("button",{id:"embedded-cancel",className:"btn btn-grey",onClick:function(e){return t.onCancel(e)},tabIndex:"0"},n.buttonCancel))))},e}(p);Oj.displayName="PopOutOrRestore";var Bj,Tj,jj=[],Pj="visitorMsgRestritUnlockTimeKey2",Fj="visitorMsgSentTimeKey",Nj="penaltyFactorKey",Wj=1,Vj=null,Dj=[],Rj=null,Ej={},zj=function(t){var e=sb(fb());return null==e?"":e[t]},Lj=function(t,e){return Ej[Pj]=zj(Pj),Ej[Fj]=zj(Fj),Ej[Nj]=zj(Nj),Ej[t]=e,Ej};function Hj(){var t=zj(Pj);return null!=t&&""!==t?new Date(+t):null}function qj(){gb(Lj(Fj,jj.join(":")))}var Uj=function(){Vj&&(clearInterval(Vj),Vj=null)};function Gj(){Dj.forEach((function(t){clearTimeout(t)})),Dj=[]}function Kj(){Rj&&clearTimeout(Rj),Rj=null}function Yj(){Tj(!1),jj=[],Gj(),Kj(),gb(Lj(Pj,"")),gb(Lj(Fj,""))}function Jj(){var t=Mj.penalty*Wj*1e3;gb(Lj(Pj,(new Date).getTime()+t)),Tj(!0),Rj=setTimeout(Yj,t),(Wj*=2)>Math.pow(2,Mj.repeat-1)&&(Wj=1),gb(Lj(Nj,Wj))}function Qj(){return!!Rj||!(jj.length<=Mj.count)&&(Jj(),!0)}function Zj(){jj.shift(),Dj.shift(),qj()}var Xj=function(t,e,n){var i;Mj=t,Bj=e,Tj=n,(i={})[Pj]="",i[Fj]="",i[Nj]="",Ej=i,Gj(),Uj(),Kj(),jj=[],Wj=1,Vj=null,function(){var t=(new Date).getTime(),e=zj(Fj);if(null!=e&&""!==e){var n=!1;e.split(":").forEach((function(e){var i=new Date(+e);t-i<=1e3*Mj.penalty&&(jj.push(+e),Dj.push(setTimeout(Zj,1e3*Mj.penalty-(t-i))),n=!0)})),n&&qj()}var i=Hj();i&&t<i&&(Tj(!0),Rj=setTimeout(Yj,i-t));var o=zj(Nj);Wj=null==o||""===o||isNaN(+o)?1:+o}()},$j=function(){Yj(),gb(Lj(Nj,1)),Uj()},tP=function(){!function(){if(!Rj){jj.push((new Date).getTime()),qj();var t=setTimeout(Zj,1e3*Mj.duration);Dj.push(t)}}();var t=Qj(),e=0;return t&&(e=Math.max(0,Math.floor((Hj()-(new Date).getTime())/1e3))),t&&!Vj&&(Vj=setInterval((function(){var t=Qj(),e=Math.max(0,Math.floor((Hj()-(new Date).getTime())/1e3));t&&e>0?Bj(e):(Bj(0),Uj())}),1e3)),!t&&Vj&&Uj(),{isLimited:t,waitSecond:e}},eP=f((function(t){return{isPopout:!0,isAudioVideoChatting:Xf(t),isScreenSharing:Qg(t),languages:$v(t)}}),(function(t){return{onClick:function(){Uj(),t(oy())},onContinue:function(e,n){e&&t(qS()),n&&t(US()),setTimeout((function(){Uj(),t(oy())}),1e3)}}}))(Oj),nP=f((function(t){return{isPopout:!1,isAudioVideoChatting:Xf(t),isScreenSharing:Qg(t),languages:$v(t)}}),(function(t){return{onClick:function(){t(ay())},onContinue:function(e,n){e&&t(qS()),n&&t(US()),t(ay())}}}))(Oj),iP=function(t){function e(e){var n;(n=t.call(this,e)||this).onButtonFocus=n.onButtonFocus.bind(st(n));var i=function(){n.props.focus&&n.btn&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}rt(e,t);var n=e.prototype;return n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.render=function(){var t=this,e=this.props,n=this.props,o=n.languages,a=n.isSoundOff,r=n.setSoundOff;return i("li",{role:"none"},i("button",ct({},{role:"menuitem"},{onClick:function(){return r(!t.props.isSoundOff)},tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,onKeyDown:this.onKeyDown,ref:function(e){t.btn=e},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}}),i(_t,{type:a?Ut:Gt,title:a?o.buttonSoundOff:o.buttonSoundOn,id:"iconSound",ariaHidden:!0}),i("div",{className:"menu__text-container"},a?o.buttonSoundOff:o.buttonSoundOn)))},e}(p);iP.displayName="Sound";var oP,aP=f((function(t){return{languages:$v(t),isSoundOff:rh(t)}}),(function(t){return{setSoundOff:function(e){t(B_(e))}}}))(iP),rP=St((function(){return import("./Print.7a9eb268.js")})),sP=((oP={})[Uu]="livechat.chat",oP[qu]="livechat.prechat",oP[Gu]="livechat.postChat",oP[Ku]="livechat.offlineMessage",oP),cP=f((function(t){var e=Lh(t),n=Kh(t),i=Av(t,n.id),o=hm(t),a=zf(t),r=vv(t),s=Iv(t,r),c=s&&function(t,e){return!!($g&Dm(t,e))&&t.window.chatStatus!==rp}(t,r)&&Km(t),d=s&&Rm(t,r)&&!_f(t),l=s&&function(t,e){return!!(im&Dm(t,e))&&!_f(t)&&!Cm(t)}(t,r),u=eh(t),p=h_(t),h=!u&&!p,f=ih(t),g=Nh(t),m=e===Uu&&g===ap,w=f&&m,b=Xv(t),v=Cm(t),_=!u;_=_&&!Ng(t);var x=jm(t),y=s&&qm(t,r),S=!b&&!_&&!m;return Object.assign({tab:e,hasMinimize:h,hasEndChat:w,hasPrint:l,icons:[c&&ZB,d&&Aj,l&&{type:"lazy",name:"Print",component:rP},y&&aP,b&&nP,_&&eP].filter((function(t){return t})),windowDisabled:Ef(t),chatWindowStyle:i,isAvatarGray:e===Ku||e===Yu&&!Sm(t,n.id),ifViewConfirmBubble:e!==Gu,ifHideBio:Vf(t),isPopout:eh(t),languages:n.languages,ifViewHeader:!0,ifViewHeaderBox:x>340,color:Hv(t),mainColor:Yh(t),windowStatus:o,ifShowSideWindow:a,height:jm(t)},YB(i,t,n),{isMobile:v,popupBubbleType:Dg(t),emailAddress:Rf(t,"email"),hideCloseButton:S})}),(function(t){return{onMinimize:function(e){var n=sP[e];n&&XC(n+".minimize"),t(K_())},onEnterMinimize:function(){t(Q_(!0))},onClose:function(e){var n=sP[e];n&&XC(n+".close"),t(Y_())},onEndChat:function(){t(TS()),t(E_())},onUpdateScrollStatus:function(e){t(ty(e))}}}))(LB),dP=function(t){function e(e){var n;return(n=t.call(this,e)||this).handlerKeydown=n.handlerKeydown.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.handlerKeydown=function(t){if(9===t.keyCode&&!top.frames.chat_button_adaptive_container){var e=top.frames.side_window_container&&top.frames.side_window_container.contentWindow,n=e&&e.document.querySelector(".sideWindow");if(n)return void n.focus();var i=this.poweredByRef.ownerDocument.querySelector(".whole-window");i&&i.focus()}},n.render=function(){var t=this,e=this.props,n=ht(this.context);return"Comm100"===e.brandingName?i("div",{className:"poweredby",onKeyDown:this.handlerKeydown,ref:function(e){t.poweredByRef=e}},i("a",{rel:"noopener noreferrer nofollow",target:"_blank",href:e.poweredByUrl,onClick:void 0,hrefLang:"en","aria-label":n.poweredBy.replace("${brandingName}",N.brandingName),title:"Powered by "+e.brandingName},i("svg",{viewBox:"0 0 75.1 13.5",style:{width:75.1},focusable:"false"},i("polygon",{points:"9.1,4.9 5.4,4.9 7.8,0.3 3,0.3 0,8 3.6,8 1.6,13.5"}),i("path",{d:"M33.6,2.5c0.5,0.1,1,0.4,1.4,0.8c0.3-0.3,0.7-0.6,1-0.8c-0.5-0.6-1.3-1-2.1-1.2c-2.1-0.4-4.1,1-4.5,3c-0.4,2.1,1,4.1,3,4.5c0.9,0.2,1.7,0,2.4-0.3c-0.2-0.3-0.5-0.8-0.6-1.1c-0.5,0.1-1,0.2-1.6,0.1c-1.4-0.3-2.3-1.6-2-3C30.9,3.1,32.2,2.2,33.6,2.5z M23.1,6.2C23,6.6,22.9,7,22.8,7.3c-0.1-0.3-0.2-0.8-0.3-1.2l-1.1-3.4H20l2.1,5.6c0.1,0.2,0.1,0.2,0.1,0.3c0,0.2-0.5,1.4-1.8,1.9l0.3,1.1c0.3-0.1,0.9-0.3,1.4-0.8C22.8,10.1,23.3,9,24,7l1.4-4.2h-1.3L23.1,6.2zM38,3c-1.6,0-2.9,1.3-2.9,2.9c0,1.6,1.3,2.9,2.9,2.9s2.9-1.3,2.9-2.9C40.9,4.3,39.6,3,38,3z M38,7.7c-1,0-1.8-0.8-1.8-1.8S37,4.1,38,4.1s1.8,0.8,1.8,1.8S39.1,7.7,38,7.7z M17.7,2.6c-0.8,0-1.4,0.4-1.8,1L15.8,0h-1.3v8.8h1.1l0.1-0.9c0.4,0.7,1,1,1.8,1c1.2,0,2.5-1,2.5-3.2C20,3.8,19.1,2.6,17.7,2.6z M17.2,7.9c-0.9,0-1.4-0.7-1.4-1.5V5.2c0-0.8,0.6-1.6,1.4-1.6c1,0,1.5,1,1.5,2.1C18.7,7,18.2,7.9,17.2,7.9z M72.5,1.2c-1.1,0-2.6,0.8-2.6,3.8c0,3.1,1.6,3.8,2.6,3.8c1.2,0.1,2.6-0.7,2.6-3.8S73.6,1.2,72.5,1.2zM72.5,7.9C71.6,7.9,71,7,71,5s0.6-2.9,1.5-2.9S74,3,74,5S73.4,7.9,72.5,7.9z M66.4,1.2c-1.1,0-2.6,0.8-2.6,3.8c0,3.1,1.6,3.8,2.6,3.8C67.5,8.9,69,8.1,69,5S67.5,1.2,66.4,1.2z M66.3,7.9c-0.9,0-1.5-0.9-1.5-2.9s0.6-2.9,1.5-2.9c0.9,0,1.5,0.9,1.5,2.9S67.2,7.9,66.3,7.9z M57.7,3c-0.8,0-1.5,0.4-1.9,1.2c-0.1-0.4-0.2-0.7-0.5-0.9S54.7,3,54.3,3c-0.8,0-1.4,0.3-1.8,1V3.1h-1.2v5.8h1.2V5.8c0-0.6,0-1,0.3-1.3S53.3,4,53.7,4c0.7,0,1.1,0.5,1.1,1.6v3.2H56V5.7c0-0.5-0.1-0.9,0.2-1.2S56.8,4,57.1,4c0.4,0,0.7,0.1,0.9,0.4c0.2,0.3,0.3,0.7,0.3,1.3v3.1h1.2V5.4C59.5,3.8,59,3,57.7,3z M48.2,3c-0.8,0-1.5,0.4-1.9,1.2c-0.1-0.4-0.2-0.7-0.5-0.9S45.2,3,44.8,3C44,3,43.4,3.3,43,4V3.1h-1.2v5.7H43V5.7c0-0.5-0.1-0.9,0.2-1.2S43.7,4,44.1,4c0.7,0,1.1,0.5,1.1,1.6v3.2h1.2V5.7c0-0.5,0.2-0.9,0.4-1.2C47.1,4.2,47.4,4,47.7,4c0.4,0,0.7,0.1,0.9,0.4c0.2,0.3,0.3,0.7,0.3,1.3v3.1h1.2L50,5.4C50,3.8,49.5,3,48.2,3z M60.5,2.1h0.8v6.7h1V1.1h-1.8V2.1z"})))):i("div",{className:"poweredby",dangerouslySetInnerHTML:{__html:e.poweredByContent},onKeyDown:this.handlerKeydown,ref:function(e){t.poweredByRef=e}})},e}(p),lP=KO("footer.poweredby")(dP),uP=function(t){function e(e){var n;return(n=t.call(this,e)||this).focusInput=n.focusInput.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){if(t.isPopout&&!t.isBubble&&this.container.parentElement){var e=Kt(t.width);this.container.parentElement.style.marginLeft=e.marginLeft||"",this.container.parentElement.style.marginRight=e.marginRight||""}},n.focusInput=function(){var t=this.container.ownerDocument.querySelector("#chat-input textarea");t&&t.focus()},n.render=function(){var t=this,e=this.props;return i("footer",{ref:function(e){t.container=e},className:h("footer window__footer",!e.poweredByUrl&&!e.showChatWithAgent&&"footer--empty"),style:e.style,onTouchMove:dt,onClick:this.focusInput},e.poweredByUrl&&i(lP,e),e.showChatWithAgent&&i("button",{onClick:e.onChatWithAgentClick,className:"window__chatWithAgent window__chatWithAgent--bottom"},e.chatWithAgentText))},e}(p),pP=KO("footer","footer-container")(uP),hP=f((function(t){var e=Cm(t)||ww(t)?null:vf(),n=Lh(t),i=Ih(t),o=qh(t),a=Av(t,o)===Zm;return{tab:n,poweredByUrl:e,showChatWithAgent:!1,chatWithAgentText:e_(t,"buttonChatbotChatWithAgent"),brandingName:i&&i.brandingName,partnerId:i&&i.partnerId,poweredByContent:i&&i.poweredByContent,isPopout:eh(t),width:Lg(t),isBubble:a}}),(function(t){return{onChatWithAgentClick:function(){t(Hx())}}}))(pP),fP={},gP=t(5)((function(t){return ot("iframe",{src:t,style:{display:"none"},title:"Login"},document.body).then((function(e){var n=wA(e.contentWindow,t),i=function(t){try{return JSON.parse(t)}catch(t){return}};return n.subscribe((function(t){var e=t.data,n=i(e);if(n&&fP[n.meta]){var o=fP[n.meta],a=o.reject,r=o.resolve;n.error?a(n.payload):r(n.payload)}})),n}))}));function mP(t,e){var n=Math.random().toString();return gP(e).then((function(e){return new Promise((function(i,o){var a=Object.assign({meta:n},t);fP[a.meta]={resolve:i,reject:o},e.dispatch(a)}))}))}var wP,bP=function(t,e){return mP({type:"facebook-init",payload:t},e)},vP=((wP={})[1]={text:"Facebook",color:"#39599C",svg:"M9.253,4.07a1.3,1.3,0,0,1,1.24-1.3,5.294,5.294,0,0,1,1.648.247l.5-2.7A12.567,12.567,0,0,0,9.315.01,3.286,3.286,0,0,0,6.427,1.328a4.764,4.764,0,0,0-.566,2.761V5.9H4.046V8.54H5.86V16H9.315V8.481h2.7l.19-2.636V5.778H9.253Z",id:"fb-login"},wP),_P=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this,e=this.btn.style.backgroundColor;this.btn.style.backgroundColor="initital",setTimeout((function(){t.btn&&(t.btn.style.backgroundColor=e)}),0)},n.render=function(){var t=this,e=this.props,n=vP[e.type];return i("button",{className:h("prechatForm__socialBtn",e.isSimpleIcon&&"socialBtn--simple"),onClick:e.onClick,id:n.id,style:{backgroundColor:n.color},"aria-label":n.text,ref:function(e){t.btn=e}},i("svg",{viewBox:"0 0 16 16",focusable:"false"},i("path",{d:n.svg})),i("span",null,n.text))},e}(p),xP=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return t.prefix!==this.props.prefix||t.greeting!==this.props.greeting},n.render=function(){var t=this.props,e=t.prefix,n=t.greeting;return i("div",{className:"greeting-message window__formGreeting",id:e+"-greeting",dangerouslySetInnerHTML:{__html:n}})},e}(p),yP=KO("greeting")(xP),SP=t(1)((function(t,e,n,o,a,r){if(!t)return null;var s,c,d,l=e+"&key="+o;if(t){var u=(c=q(bP,t,l),d=_P,function(t){function e(e){var n;return(n=t.call(this,e)||this).state={status:"loading"},n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;c().then((function(){t.setState({status:"done"})}),(function(){t.setState({status:"error"})}))},n.render=function(){var t=ht(this.context);return"loading"===this.state.status?i(_t,{type:zt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":t.loading,"aria-busy":"true"}):"done"===this.state.status?i(d,this.props):null},e}(p));s=i(u,{type:1,onClick:function(){return function(t){return mP({type:"facebook-login"},t)}(l).then(n)},isSimpleIcon:r})}else s=null;return KO("social")((function(){return i("div",{id:"social-logins",className:h("prechatForm__login",r&&"form-fields--horizonal","form-fields")},i("div",{className:"box-field"},i("div",{className:"field-name clearfix"},i("span",{className:"lang-sign-in-with system LanguagePreChatSocialMediaSignInWith prechatForm__signinwith field__label"},a.preChatSocialMediaSignInWith)),i("span",{id:"social-login-icons",className:"float-left box-icons prechatForm__social field-control"},s)),i("div",{className:"box-hor-or"},i("span",{className:"LanguagePreChatSocialMediaOr hor-or prechatForm__divide"},a.preChatSocialMediaOr)))}))})),CP=function(t,e){var n=t.facebookAppId,i=t.iframeSrc,o=t.onLogin,a=t.languages,r=t.isHorizontal;return SP(n,i,o,e,a,r)},kP=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={animated:!1,isAnimationEnd:!1},n.social=null,n.key=+new Date,n.social=CP(e,n.key),n.onAnimated=n.onAnimated.bind(st(n)),n.onAnimationEnd=n.onAnimationEnd.bind(st(n)),n.onScroll=n.onScroll.bind(st(n)),n.canUpdateHideBio=!0,n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.onMounted(),setTimeout((function(){t.element&&(t.element.scrollTop=0)}),0),K&&this.onAnimationEnd(),lt(this.animation,this.onAnimationEnd),setTimeout((function(){}),10),lt(this.animation,this.onAnimated)},n.componentWillReceiveProps=function(t){this.social=CP(t,this.key)},n.componentDidUpdate=function(t){var e=this,n=t.ifHideBio;this.props.ifHideBio!==n&&(this.canUpdateHideBio=!1,setTimeout((function(){e.canUpdateHideBio=!0}),625))},n.componentWillUnmount=function(){Yt(this.animation,this.onAnimated),Yt(this.animation,this.onAnimationEnd)},n.onAnimated=function(){this.setState({animated:!0})},n.onAnimationEnd=function(){this.setState({isAnimationEnd:!0})},n.onScroll=function(t){if(!(window.navigator.userAgent.toLowerCase().indexOf("msie 9.0")>=0)&&this.props.tab!==qu){var e=t.currentTarget.scrollTop;this.canUpdateHideBio&&e>0&&!this.props.ifHideBio&&this.props.onUpdateScrollStatus(!0),this.canUpdateHideBio&&0===e&&this.props.ifHideBio&&this.props.onUpdateScrollStatus(!1)}},n.render=function(){var t=this,e=this.props,n=e.prefix,o=e.greeting,a=e.submitStatus,r=e.onChange,s=e.onBlur,c=e.onFocus,d=e.isHorizontal,l=e.buttonText,u=e.siteId,p=e.style,f=e.error,g=e.windowStyle,m=e.disabled,w=e.tab,b=e.height,v=e.languages,_=e.isMobile,x=e.onError,y=e.onValidateAll,S=e.onSubmit;e.mainColor;var C,k=e.showAdaptiveMinimizeIcon,I=e.isIPad,M=e.fields,A=e.isPopout,O=e.hasPoweredBy,B=e.ifShowSideWindow,T=e.captchaSettings,j=e.languageTag,P=e.isEmbeddedWindow,F=e.brandConfig,N=e.ifCrossSiteTransfer,W=this.state.isAnimationEnd?"auto":"hidden";if(g===Zm){if(C=b-(_?20:30),_||(C-=O?35:0),!_||I){k&&(C-=105)}if(I){B&&(C-=45)}_&&!I&&(C="100%")}var V=Zt(),D=M;ft&&(D=[{type:$o,isHidden:!0,value:"",error:""}].concat(D));var R="";n===sp?R="Pre-chat window":n===cp?R="Post-chat window":n===dp&&(R="Offline message window");var E={maxHeight:C},z={};return A&&(E=Object.assign({},E,Jt(this.props.width)),z=Qt(this.props.width)),g===Zm?i("div",{className:"window__formContainer window__formContainer--bubble",style:{maxHeight:C,overflowY:W},ref:function(e){t.element=e}},i("div",{className:h("form window__form",!this.state.isAnimationEnd&&"window__form--animation"),id:n+"-window",ref:function(e){t.animation=e},style:!_&&{background:V}},i("h1",{className:"visually-hidden","aria-hidden":!0},R),f&&i("div",{className:"window__formError"},f),o&&i("div",{className:"greeting-message-container",ref:function(e){t.greetingElement=e},tabindex:-1},i(yP,{prefix:n,greeting:o,tab:w})),this.social&&i(this.social,{tab:w}),i(kj,{onSubmit:S,onChange:r,onError:x,onBlur:s,onFocus:c,onValidateAll:y,fieldId:n+"-fields",isHorizontal:d,tab:w,fields:D,siteId:u,disabled:m,windowStyle:p,languages:v,submitStatus:a,buttonText:l,style:{background:V},captchaSettings:T,languageTag:j,ifCrossSiteTransfer:N}))):i("div",{onScroll:this.onScroll,className:h("form window__form",!this.state.isAnimationEnd&&"window__form--animation",(A||!P)&&"window__form_popout"),id:n+"-window",style:E,ref:function(e){t.element=e,t.animation=e}},i("div",{style:z},i("h1",{className:"visually-hidden","aria-hidden":!0},R),f&&i("div",{className:"window__formError"},f),o&&i("div",{tabIndex:0,ref:function(e){t.greetingElement=e}},i(yP,{prefix:n,greeting:o,tab:w})),this.social&&i(this.social,{tab:w}),i(kj,{onSubmit:S,onChange:r,onError:x,onBlur:s,onFocus:c,onValidateAll:y,fieldId:n+"-fields",isHorizontal:d,tab:w,fields:D,siteId:u,disabled:m,windowStyle:p,languages:v,submitStatus:a,buttonText:l,captchaSettings:T,languageTag:j,brandConfig:F,ifCrossSiteTransfer:N})))},e}(p),IP=kP,MP=function(t){var e="";t===sp?e="livechat.prechat":t===cp?e="livechat.postChat":t===dp&&(e="livechat.offlineMessage");return f((function(n){var i,o=t===sp,a=function(t){return t.configuration.isChinaIP}(n),r=o&&function(t){var e=t.entities.campaigns.entities[t.window.id];return!!e.socialLogin&&e.socialLogin.facebook}(n),s=r&&!a?function(t){return t.configuration.facebookAppId}(n):void 0;t===sp?i=qu:t===cp?i=Gu:t===dp&&(i=Ku);var c=eh(n),d=jm(n),l=qh(n),u=Uh(n)||l,p=t===cp?dv(n):lv(n,t,u),h=Ef(n);t===dp&&0===p.length&&(h=!0);var f=$v(n),g=Yh(n),m=Cm(n),w=!m&&!ww(n)&&!!vf(),b=t_(n),v=sw(n,l),_=Rv(n,t),x=Av(n,l),y=m&&gt&&rg(n)||_&&x===Zm||rg(n)&&gt&&ig(n),S=Object.assign({},function(t){return t.configuration.recaptchaSettings}(n),{isCompact:y});return{height:d,isPopout:c,tab:i,fields:p,prefix:t,facebookAppId:s,iframeSrc:dh(n,"/visitorside/html/socialiframe.1efca11d23c8aaad0ed8eaa08ef9ce9e3a166f1e.html?origin="+D.origin+"&id="+(window.frameElement?window.frameElement.id:"id")),captchaSettings:S,submitStatus:uv(n,t),greeting:Dv(n,t),isHorizontal:_,buttonText:Ev(n,t),hCallback:undefined,siteId:um(n),style:Bv(n),error:hf(n),windowStyle:Av(n,l),disabled:h,isMobile:m,isIPad:km(n),languages:f,languageTag:b,ifHideBio:Vf(n),mainColor:g,bottom:wg(n),hasPoweredBy:w,showAdaptiveMinimizeIcon:h_(n),ifShowSideWindow:zf(n),onMounted:function(){XC(e+".display",u)},isEmbeddedWindow:v,brandConfig:Ih(n),ifCrossSiteTransfer:!!mv(n),width:Lg(n)}}),(function(n){return{onChange:function(i,o){n(lC(t,i.id,o)),XC(e+".field.change",Object.assign({},i,{value:o}))},onError:function(e,i){n(uC(t,e.id,i))},onBlur:function(i){n(hC(t,i.id)),XC(e+".field.blur",Object.assign({},i,{isFocused:!1}))},onFocus:function(i){n(pC(t,i.id)),XC(e+".field.focus",Object.assign({},i,{isFocused:!0}))},onLogin:function(e){n(function(t,e){return{type:Ud,payload:e,meta:{formType:t}}}(t,e))},onSubmit:function(e){return n(CC(t,1500,e))},onValidateAll:function(t){n(vC(pp,t))},onUpdateScrollStatus:function(t){n(ty(t))}}}))(IP)},AP=MP(sp),OP=MP(cp),BP=MP(dp);Math.pow("production",m.shape({fields:m.arrayOf(m.shape()),buttons:m.arrayOf(m.shape()),isEnable:m.bool,tabIndex:m.number}));var TP=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),lt(this.container,t)}},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Yt(this.container,this.props.scrollDown)},n.render=function(){var t=this,e=this.props,n=e.windowStyle===Zm;return e.type===Zn?i("div",{className:"chat__greetingContainer"},i("div",{className:n?"chat-system-message window__chatSystemMessage":"greeting-message window__formGreeting"},i("div",{className:h(n&&"window__chatSystemMessageContent"),dangerouslySetInnerHTML:{__html:e.message}}))):i("div",{tabIndex:e.tabIndex,id:e.type===Ce?"system-queue-position":null,className:"chat-system-message window__chatSystemMessage",ref:function(e){t.container=e}},i(eT,{id:e.messageGuid,message:e.liveMessage||e.message}),n&&i("div",{className:"window__chatSystemMessageContent"},e.message),!n&&e.message)},e}(p),jP={minimize:"minimize",popup:"popup",embedded:"embedded",close:"close",inputSend:"input-send",plus:"plus",bubble:"bubble",sendfile:"sendfile",kb:"icon-kb",kbActive:"icon-kb-active",bot:"icon-bot",botActive:"icon-bot-active",media:"icon-media",mediaActive:"icon-media-active",search:"kb-search"},PP=["type","color","size","className","hoverScale","disabled","hoverColor"],FP=function(t){function e(){var e;return(e=t.call(this)||this).state={isHover:!1},e.updateHoverStatus=e.updateHoverStatus.bind(st(e)),e.shouldComponentUpdate=RO(st(e),["type","disabled","size","className","color","id","onClick"],["isHover"]),e}rt(e,t);var n=e.prototype;return n.updateHoverStatus=function(t){this.setState({isHover:t})},n.render=function(){var t=this,e=this.props,n=e.type,o=e.color,a=e.size,r=e.className,s=e.hoverScale,c=e.disabled,d=e.hoverColor,l=j(e,PP),u={large:"icon-large",small:"icon-small",larger:"icon-larger",smaller:"icon-smaller",normal:"icon-normal"}[a]||"",p=n.split("#"),f=p[0],g=p[1],m=h("icon","icon-"+f,u,s&&"icon-hover",r),w=l.style||{};return d&&this.state.isHover?w.color=d:o?w.color=o:g&&(w.color="#"+g),"number"==typeof a&&(w.fontSize=a+"px"),c&&(w.color="#999"),i("i",ct({},l,{style:w,className:m,onMouseOver:function(){return t.updateHoverStatus(!0)},onMouseOut:function(){return t.updateHoverStatus(!1)}}))},e}(p);FP.types=jP;var NP=t(1)((function(t,e){return t?C(e,"guid",t):-1}));function WP(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent}var VP=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowLoading:!1,imgWidth:0,imgHeight:0},n.timer=null,n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;if(this.props.type===Xn&&(this.timer=setTimeout((function(){t.setState({ifShowLoading:!0}),t.timer=null}),1e3)),(0,this.props.scrollDown)(!0),this.props.type===ke&&this.props.message.url&&/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(this.props.message.name)){var e=new Image;e.src=Mr(this.props.message.url,!0),e.onload=function(){t.setState({imgWidth:e.width,imgHeight:e.height})}}},n.componentWillReceiveProps=function(t){t.type!==Xn&&(this.timer&&clearTimeout(this.timer),this.setState({ifShowLoading:!1}))},n.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer)},n.getLiveMessage=function(){var t,e=ht(this.context),n=this.props,i=n.type;return i===Xn?t=e.sendMessageLiveMessage.replace("${message}",n.displayedText?n.displayedText:n.message):i===Se?t=n.translated&&n.translated!==n.message&&n.ifShowTranslationOnly?e.translateLiveMessage.replace("${translated}",n.translated).replace("${message}",n.message):e.sendMessageLiveMessage.replace("${message}",n.displayedText?n.displayedText:n.message):i===Ie?t=e.sendImgLiveMessage:i===ke?t=e.sendFileLiveMessage.replace("${name}",n.message.name):n.type===ti||n.type===$n?t=e.sendingFileLiveMessage.replace("${name}",n.message.fileName):i===Me?t=e.sendPwdLiveMessage:i!==Kn&&i!==Gn||(t=e.sendMessageLiveMessage.replace("${message}",n.message.message)),t&&(t=e.visitorSendLiveMessage.replace("${message}",t).replace("${time}",Xt(n.time))),t},n.render=function(){var t,e,n,o=this,a=this.props,r=!1,s=!1,c="",d="",l=a.isMobile&&!a.isIpad,u=ht(this.context);a.type===Xn?t=ar(a.displayedText?a.displayedText:a.message,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin):a.type===Se?a.translated&&a.translated!==a.message&&!a.ifShowTranslationOnly?((t=ar(a.translated,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin)).push(i("em",{className:"window__chatMessageOrignal window__chatMessageTranslatedTag"},"(",a.translatedTag,")")),t.push(i("em",{className:"window__chatMessageOrignal"},ar(a.message,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin)," (",a.originalTag,")"))):t=ar(a.displayedText?a.displayedText:a.message,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin):a.type===Ie?(d=Fr(a.message.url,a.customizeFileService,a.standbyFileService),r=!0,c=/.*[.](gif)$/i.test(a.message.name)?d:d+"?maxWidth=200&maxHeight=200",t=i("a",{onClick:function(){a.onPreviewImage(c,a.message.name)}},i("img",{src:c,alt:a.message.name,style:{maxWidth:200,maxHeight:200},onLoad:function(){return a.scrollDown(!0)}}))):a.type===ke?(d=Fr(a.message.url,a.customizeFileService,a.standbyFileService),/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(a.message.name)?(r=!0,0===this.state.imgWidth?(r=!1,t=i("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},i(FP,{type:jP.sendfile}),i("a",{href:d,target:"_blank",rel:"noopener noreferrer"},a.message.name))):(c=/.*[.](gif)$/i.test(a.message.name)?d:Mr(d,!1,this.state.imgWidth,this.state.imgHeight),t=i("a",{onClick:function(){a.onPreviewImage(d,a.message.name)},rel:"noopener noreferrer",style:Ir(this.state.imgWidth,this.state.imgHeight)},i("div",{className:"image-container"},i("img",{src:c,alt:a.message.name,onLoad:function(){return a.scrollDown(!0)},style:kr(this.state.imgWidth,this.state.imgHeight)}))))):$t(a.message.name)?(s=!0,t=i("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},i("video",{controls:!0,src:d,alt:a.message.name}))):(r=!1,d=Fr(a.message.url,a.customizeFileService,a.standbyFileService),t=i("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},i(FP,{type:jP.sendfile}),i("a",{href:d,target:"_blank",rel:"noopener noreferrer"},a.message.name)))):a.type===ti||a.type===$n?(t=[a.fileName],a.percent&&t.push(i("span",{role:"progressbar","aria-valuenow":a.percent,"aria-valuemin":"0","aria-valuemax":"100"},"(",a.percent,"%)")),a.onCloseClick&&t.push(i("button",{onClick:function(t){t.preventDefault(),t.stopPropagation(),a.onCloseClick()},"aria-label":u.cancelUpload,className:"file__icon--cancel"},i(_t,{type:It}))),t.push(i("span",{className:"chat-message--loading","aria-label":u.uploading},i(_t,{type:zt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":u.uploading,"aria-busy":"true"})))):a.type===Kn?(e=a.message,n=e.message?e.message.replace(/\r\n|\r|\n/g,"<br />"):"",t=i("div",null,i("div",{dangerouslySetInnerHTML:{__html:n}}),e.values.map((function(t,e){return i("div",{key:e},t.label," : ","checkbox"===t.type?"true"===t.value?WP(""):WP(""):"checkbox-list"===t.type?t.value.replace(/\u2299/gi,","):t.value)})))):a.type===Gn&&(t=a.message.message),a.textType===Me&&(t=a.message?"".repeat(a.message.length):"");var p=this.getLiveMessage();return i("div",{className:h("chat-visitor","window__chatVisitor","clearfix",a.type===Kn&&"window__chatVisitorFormMessage"),ref:function(t){o.container=t}},i(eT,{id:a.msgGuid,message:p}),a.time&&i("span",{className:"chat-message-time"},Xt(a.time)),i("div",{className:h("chat-visitor-message","window__chatVisitorMessage",r&&"chat-message--img",s&&"chat-message--video",a.meta.isFirst&&"window__chatVisitorFirstMessage",a.meta.isLast&&"window__chatVisitorLastMessage"),style:{background:O(a.mainColor),borderColor:O(a.mainColor)}},!function(t){return t===ti||t===$n}(a.type)&&function(t,e,n,o,a){if(t){var r=NP(n,a),s=NP(e,a),c=-1===r||r&&r>s?"message--notSeen":"message--seen",d=r>s?o:"";return i("div",{className:h("dot_container"),"aria-label":d},i("span",{title:d},i("svg",{version:"1.1",x:"0px",y:"0px",width:"6px",height:"6px",viewBox:"0 0 6 6",xmlSpace:"preserve",focusable:"false",className:c,"aria-hidden":"true"},i("circle",{r:"3",cy:"3",cx:"3",className:"innerDot"}))))}return null}(a.ifShowSeenDot,a.maxAgentReadId,a.msgGuid,a.tooltip,a.originalMessages),t,this.state.ifShowLoading&&i("span",{className:"chat-message--loading"},i(_t,{type:zt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":u.uploading,"aria-busy":"true"}))))},e}(p),DP=function(t){function e(e){return t.call(this,e)||this}return rt(e,t),e.prototype.render=function(){return i("div",null,this.props.message)},e}(p),RP=GO("livechat.invitation.message","invitation")(DP),EP=St((function(){return import("./AgentSendSSO.b8a533c0.js")})),zP=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={mobileShowTime:!1,imgWidth:0,imgHeight:0},n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this,e=this.props;if(e.isMessageScrollBottom&&(e.scrollDown(),lt(this.container,e.scrollDown)),XC("livechat.chat.agent.input",e.sender,e.message),(e.type===qe||e.type===Ue)&&e.message.url&&/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(e.message.name)){var n=new Image;n.src=Mr(e.message.url,!0),n.onload=function(){t.setState({imgWidth:n.width,imgHeight:n.height})}}if(this.props.type===Ye&&this.props.message&&this.props.chatStatus===ap){var i=E(this.props.message.url);switch(this.props.message.pushType){case"sideWindow":this.props.onPushPage(i);break;case"currentWindow":N.location.href=i;break;case"newWindow":N.open(i,"_blank")}}},n.componentDidUpdate=function(){var t=this,e=this.props;if(e.type===Ue&&e.message.url&&/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(e.message.name)){var n=new Image;n.src=Mr(e.message.url,!0),n.onload=function(){t.setState({imgWidth:n.width,imgHeight:n.height})}}},n.shouldComponentUpdate=function(t,e){return this.props.message!==t.message||t.sender.name!==this.props.sender.name||t.sender.avatar!==this.props.sender.avatar||t.time!==this.props.time||t.translated!==this.props.translated||t.ifShowName!==this.props.ifShowName||t.ifShowAvatar!==this.props.ifShowAvatar||t.isMobile!==this.props.isMobile||t.type!==this.props.type||e.mobileShowTime!==this.state.mobileShowTime||e.imgWidth!==this.state.imgWidth||e.imgHeight!==this.state.imgHeight||t.isSSOLoggedIn!==this.props.isSSOLoggedIn||t.isChatting!==this.props.isChatting},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Yt(this.container,this.props.scrollDown)},n.getLiveMessage=function(){var t,e=ht(this.context),n=this.props,i=n.type;if(i===Pe||i===ri||i===Fe||i===Nn||i===Fn?t=n.translated&&n.translated!==n.message&&!n.ifShowTranslationOnly?e.translateLiveMessage.replace("${translated}",n.translated).replace("${message}",n.message):e.sendMessageLiveMessage.replace("${message}",n.message):i===Ee?t=e.sendLinkLiveMessage.replace("${message}",n.message):i===Ye?t=e.sendPageLiveMessage.replace("${url}",n.message.url):i===Ue?t=e.sendImgLiveMessage:i===qe&&(t=e.sendFileLiveMessage.replace("${name}",n.message.name)),t)return e.agentSendLiveMessage.replace("${senderName}",n.sender.name).replace("${message}",t).replace("${time}",Xt(n.time))},n.render=function(){var t,e=this,n=this.props,o=!1,a=!1,r="",s="",c=n.isMobile&&!n.isIpad,d=ht(this.context);if(n.type===Pe||n.type===ri||n.type===Fe||n.type===Fn||n.type===Nn)if(n.translated&&n.translated!==n.message)n.ifShowTranslationOnly?t=ar(n.translated,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin):((t=ar(n.translated,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin)).push(i("em",{className:"window__chatMessageOrignal window__chatMessageTranslatedTag"},"(",n.translatedTag,")")),t.push(i("em",{className:"window__chatMessageOrignal"},ar(n.message,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin)," (",n.originalTag,")")));else if(n.type===ri){var l=ar(n.message,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin);t=[i(RP,{message:l})]}else t=ar(n.message,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin);else n.type===Ee?t=te(n.message):n.type===Ye?t=ar(n.message.url,i("br",null)):n.type===Ue?/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(n.message.name)&&(o=!0,r=s=Fr(n.message.url,n.customizeFileService,n.standbyFileService),0===this.state.imgWidth?(o=!1,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i("span",{className:"chat-message--loading","aria-label":d.uploading},i(_t,{type:zt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":d.uploading,"aria-busy":"true"})),i("a",{href:r,target:"_blank",rel:"noopener noreferrer"},n.message.name))):(r=s,t=i("a",{onClick:function(){n.onPreviewImage(s,n.message.name)},rel:"noopener noreferrer",style:Ir(this.state.imgWidth,this.state.imgHeight)},i("div",{className:"image-container"},i("img",{src:r,alt:n.message.name,style:kr(this.state.imgWidth,this.state.imgHeight),onLoad:function(){n.isMessageScrollBottom&&n.scrollDown()}}))))):n.type===qe&&(/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(n.message.name)?(o=!0,r=s=Fr(n.message.url,n.customizeFileService,n.standbyFileService),0===this.state.imgWidth?(o=!1,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i("span",{className:"chat-message--loading","aria-label":d.uploading},i(_t,{type:zt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":d.uploading,"aria-busy":"true"})),i("a",{href:r,target:"_blank",rel:"noopener noreferrer"},n.message.name))):(r=/.*[.](gif)$/i.test(n.message.name)?s:Mr(s,!1,this.state.imgWidth,this.state.imgHeight),t=i("a",{onClick:function(){n.onPreviewImage(s,n.message.name)},href:""+s,target:"_blank",rel:"noopener noreferrer",style:Ir(this.state.imgWidth,this.state.imgHeight)},i("div",{className:"image-container"},i("img",{src:r,alt:n.message.name,style:kr(this.state.imgWidth,this.state.imgHeight),onLoad:function(){n.isMessageScrollBottom&&n.scrollDown()}}))))):$t(n.message.name)?(s=Fr(n.message.url,n.customizeFileService,n.standbyFileService),a=!0,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i("video",{controls:!0,src:s,alt:n.message.name}))):(s=Fr(n.message.url,n.customizeFileService,n.standbyFileService),o=!1,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i(FP,{type:jP.sendfile}),i("a",{href:s,target:"_blank",rel:"noopener noreferrer"},n.message.name))));var u=this.getLiveMessage(),p=n.isMobile?"#fff":Zt(n.mainColor);return i("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},i(eT,{id:n.messageGuid,message:u}),n.ifShowAvatar&&n.sender.avatar&&i("div",{className:"agentMessage__avatar"},i(DB,{src:n.sender.avatar,alt:d.avatar,className:"agentMessage__avatarImg"})),i("div",{className:"window__chatAgentMessage_container"},i("div",{className:"chat-message-extra-info"},n.sender.name&&i("span",{className:"chat-operator-name window__chatAgentName"},n.sender.name),n.time&&i("span",{className:"chat-message-time"},Xt(n.time))),i("div",{className:h("chat-operator-message","window__chatAgentMessage",o&&"chat-message--img",a&&"chat-message--video",n.type===Ge&&"chat-message--imgLoading",(!n.ifShowAvatar||!n.sender.avatar)&&"window__chatMessageNoAvatar"),style:{background:p}},n.type===Ge&&i(_t,{type:zt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":d.loading,"aria-busy":"true"}),n.type===Tn?i(Ct,null,i(kt,null,i(EP,{message:n.message,ifDisable:n.isSSOLoggedIn||!n.isChatting||n.message.isDisable,onClick:n.onSSORequestClick,mainColor:n.mainColor,isPopoutWindow:n.isPopoutWindow}))):t)))},e}(p),LP=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),lt(this.container,t)}},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Yt(this.container,this.props.scrollDown)},n.render=function(){var t=this,e=this.props,n=e.fields,o=e.greeting,a=e.buttonText,r=e.onFocus,s=e.onBlur,c=e.onChange,d=e.onSubmit,l=e.onValidateAll,u=e.submitStatus,p=e.languages,h=e.isHorizontal,f=e.isMobile?"#fff":Zt(e.mainColor),g=u!==Ju;return 0===n.length?null:i("div",{className:"window__formMessageContainer"},i("div",{tabIndex:e.tabIndex,className:"window__formMessage",style:{background:f},ref:function(e){t.container=e}},e.greeting&&i("div",{className:"greeting-message-container greeting-message window__formGreeting",ref:function(e){t.greetingElement=e},tabIndex:-1,dangerouslySetInnerHTML:{__html:e.greeting}}),i(kj,{fields:n,greeting:o,buttonText:a,onFocus:r,onBlur:s,onSubmit:d,onChange:c,onValidateAll:l,submitStatus:u,text:a,disabled:g,languages:p,isHorizontal:h,tab:e.tab})))},e}(p);function HP(t,e){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var r=t.state.fields.map((function(i){return i.id!==n.id?i:function(t,e){if(t.isRequired){if(!t.value&&!t.error)return Object.assign({},t,{error:e.promptRequired});if(t.value&&t.error)return Object.assign({},t,{error:""})}return t}(Object.assign({},i,e.apply(void 0,o)),t.props.languages)}));t.setState({fields:r})}}var qP,UP=function(t){function e(e){var n;n=t.call(this,e)||this;var i=e.fields;return i=i.map((function(t){return"rating"===t.type?t.value=0:"comment"===t.type&&(t.value=""),t})),n.state={fields:i},n.onBlur=HP(st(n),(function(){return{isFocused:!1,isErrorShowed:!0}})),n.onFocus=HP(st(n),(function(){return{isFocused:!0}})),n.onChange=HP(st(n),(function(t){return{value:t}})),n.onSubmit=n.onSubmit.bind(st(n)),n.onErrorToggle=n.onErrorToggle.bind(st(n)),n.onValidateAll=n.onErrorToggle.bind(st(n),!0),n}rt(e,t);var n=e.prototype;return n.onSubmit=function(){var t=this.state.fields,e=t.filter((function(t){return"rating"===t.type}))[0],n=t.filter((function(t){return"comment"===t.type}))[0],i=e?e.value:0,o=n?n.value:"";this.props.onSubmitRating({score:i,comment:o})},n.onErrorToggle=function(t){var e=this.state.fields.map((function(e){return Object.assign({},e,{isErrorShowed:t})}));this.setState({fields:e})},n.render=function(){var t=this.props;return 0===t.fields.length?null:i(LP,ct({},t,{onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onSubmit:this.onSubmit,onValidateAll:this.onValidateAll,fields:this.state.fields}))},e}(p),GP=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.onPostChatMounted(),this.anchor.scrollIntoView(!0),setTimeout((function(){return t.props.updatePostChatVisible(!0)}),500),this.props.enableGa&&TO()},n.render=function(){var t=this,e=this.props;return 0===e.fields.length?null:i(w,null,i("div",{style:{position:"relative",top:"-15px",width:"100%"},ref:function(e){t.anchor=e}}),i(LP,ct({},e,{tab:Gu})))},e}(p),KP=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),lt(this.container,t)}},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Yt(this.container,this.props.scrollDown)},n.render=function(){var t=this,e=this.props;if(this.state.timeout)return null;var n=e.isMobile?"#fff":Zt(e.mainColor),o=ht(this.context);return i("div",{className:"window__chatAgent clearfix",ref:function(e){t.container=e}},e.ifShowAvatar&&e.sender.avatar&&i("div",{className:"agentMessage__avatar"},i(DB,{src:e.sender.avatar,alt:o.avatar,className:"agentMessage__avatarImg"})),i("div",{className:"window__chatAgentMessage_container"},i("div",{className:"chat-message-extra-info"},e.sender.name&&i("span",{className:"chat-operator-name window__chatAgentName"},e.sender.name),e.time&&i("span",{className:"chat-message-time"},Xt(e.time))),i("div",{className:h("chat-operator-message","window__chatAgentMessage",(!e.ifShowAvatar||!e.sender.avatar)&&"window__chatMessageNoAvatar"),style:{background:n}},i("div",{className:"dot","aria-label":o.typing},i("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames7"},i("circle",{r:"2"})),i("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames10"},i("circle",{r:"2"})),i("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames13"},i("circle",{r:"2"}))))))},e}(p),YP=["messages"],JP=St((function(){return import("./BotEntry.43942eee.js")})),QP=St((function(){return import("./SecureForm.f65ecc26.js")})),ZP="{queuePosition}",XP="{estimatedWaitTime}",$P=0,tF=0,eF=function(t,e){if(t.type===ve){for(var n=[],i=t.originalMessage.split(/{linkText}/gi),o=0;o<i.length;o+=1)n.push(i[o]),o<i.length-1&&n.push(e);return n.join(" ")}if(t.type===Qn)return t.content.text;if(t.type===Tn){var a=t.originalMessage.split(Xi);return a.length>1?a[0]+"\n["+a[1]+"]":t.originalMessage}return t.type===zn||t.type===Rn||t.type===En||t.type===Hn||t.type===qn||t.type===Un||t.type===Jn||t.type===Yn||t.type===Gn||t.type===Kn?JSON.stringify(t.content):t.type===Ji?t.content:t.originalMessage},nF=((qP={})[Ce]=function(t,e){var n=e.windowStyle,o=e.scrollDown,a=e.chatStatus,r=e.isMessageScrollBottom;if(t.content){var s=t.content;if(s.indexOf(ZP)>=0&&void 0===t.queuePosition)return null;if(s.indexOf(XP)>=0&&(void 0===t.estimatedWaitTime||0===t.estimatedWaitTime))return null;for(;s.indexOf(ZP)>=0;)a===ap||a===rp?s=s.replace(ZP,$P):(s=s.replace(ZP,t.queuePosition),$P=t.queuePosition);for(;s.indexOf(XP)>=0;)a===ap||a===rp?s=s.replace(XP,tF):(s=s.replace(XP,t.estimatedWaitTime),tF=t.estimatedWaitTime);return i(TP,{key:t.guid,messageGuid:t.guid,type:t.type,message:s,windowStyle:n,scrollDown:o,isMessageScrollBottom:r})}return null},qP[ve]=function(t,e){var n=e.gotoOfflineLinkText,o=e.onOfflineLinkClick,a=e.windowStyle,r=e.scrollDown,s=e.chatStatus,c=e.isMessageScrollBottom;if(s===ip){var d=[];if(t.content){for(var l=t.content.split(/{linkText}/gi),u=0;u<l.length;u+=1){var p=l[u];d.push(p),u<l.length-1&&d.push(i("a",{href:"",onClick:o},n))}return i(TP,{key:t.guid,messageGuid:t.guid,liveMessage:t.content.replace(/{linkText}/gi,n),type:t.type,message:d,windowStyle:a,scrollDown:r,tabIndex:-1,isMessageScrollBottom:c})}}return null},qP[ni]=function(t,e){var n=e.onStartChatAgainClick,o=e.windowStyle,a=e.scrollDown,r=e.isMessageScrollBottom,s=e.isPrint;if(t.content){var c=s?i("span",null,t.content):i(w,null,i(_t,{type:ee,ariaHidden:!0}),i("a",{href:"",onClick:n},t.content));return i(TP,{key:t.guid,type:ni,message:c,messageGuid:t.guid,liveMessage:t.content+" link",windowStyle:o,scrollDown:a,isMessageScrollBottom:r})}return null},qP[ii]=function(t,n){var o=n.windowStyle,a=n.scrollDown,r=n.chatWindowIfCanDownloadChatDetail,s=n.agents,c=n.prechatDepartment,d=n.startTime,l=n.endTime,u=n.campaignId,p=n.originalMessages,h=n.gotoOfflineLinkText,f=n.isMessageScrollBottom,g=n.isPrint;if(t.content&&r){var m=t.content,b=m.text,v=m.url,_=g?i("span",null,b):i(w,null,i(_t,{type:ne,ariaHidden:!0}),i("a",{onClick:function(t){var n=function(t){return t.filter((function(t){return t.guid&&!(Tr.indexOf(t.type)>=0)}))}(p).map((function(t){return{type:t.type,message:eF(t,h),senderType:t.sender.type,senderName:t.senderName,time:Math.round(t.originalTime/1e3),translated:t.translated}}));oe(v,e.Base64.encode(JSON.stringify({agents:s,department:c,startTime:d,endTime:l,campaignId:u,timezone:ja(),messages:n}))),t.preventDefault(),t.stopPropagation()},target:"_blank",rel:"noopener noreferrer",href:""},b));return i(TP,{key:t.guid,type:ii,message:_,liveMessage:b+" link",messageGuid:t.guid,windowStyle:o,scrollDown:a,isMessageScrollBottom:f})}return null},qP[Ke]=function(t,e){var n=e.isPrint,o=e.windowStyle,a=e.scrollDown,r=e.isMessageScrollBottom,s=[];return s.push(i(TP,{key:t.guid,type:t.type,message:t.content.text,messageGuid:t.guid,windowStyle:o,sender:t.sender,scrollDown:a,isMessageScrollBottom:r})),n||s.push(i(Ct,null,i(kt,null,i(QP,{isHidden:t.isHidden,url:t.content.url,targetUrl:D.href,getSecureFormFailure:e.getSecureFormFailure,submitSecureForm:e.submitSecureForm,cancelSecureForm:e.cancelSecureForm,windowStyle:o,scrollDown:a,isPopedOut:e.isPopout})))),s},qP[ze]=function(t,e){var n=e.isPrint,o=e.windowStyle,a=e.ifShowName,r=e.ifShowAvatar,s=e.isMobile,c=e.scrollDown,d=e.mainColor,l=e.agentTypingText,u=e.isMessageScrollBottom;return n?null:i(KP,{key:t.guid,message:l,time:t.time,windowStyle:o,sender:t.sender,ifShowName:a,ifShowAvatar:r,isMobile:s,scrollDown:c,mainColor:d,isMessageScrollBottom:u})},qP[be]=function(t,e){if(t.content){var n=e.windowStyle,o=e.scrollDown,a=e.isMessageScrollBottom,r=t.time,s=r.getHours(),c=r.getMinutes(),d=r.getSeconds(),l=t.content.concat(" ("+ie(s)+":"+ie(c)+":"+ie(d)+")");return i(TP,{key:t.guid,type:t.type,message:l,messageGuid:t.guid,windowStyle:n,sender:t.sender,scrollDown:o,isMessageScrollBottom:a})}return null},qP[oi]=function(t,e){var n=e.onEmailTranscriptClick,o=e.ifCanEmailTranscript,a=e.windowStyle,r=e.scrollDown,s=e.isMessageScrollBottom,c=e.isPrint;if(t.content&&o){var d=c?i("span",null,t.content):i(w,null,i(_t,{type:Lt,ariaHidden:!0}),i("a",{href:"",onClick:n},t.content));return i(TP,{key:t.guid,type:oi,message:d,messageGuid:t.guid,liveMessage:t.content+" link",windowStyle:a,scrollDown:r,isMessageScrollBottom:s})}return null},qP);var iF=function(t,e){if(function(t){return t.type===ai||t.type===li||t.type===Di||t.type===Ei||t.type===di||t.type===Vi||t.type===ui||t.type===Ri||t.type===ci||t.type===gi||t.type===mi||t.type===wi||t.type===bi||t.type===vi||t.type===_i||t.type===xi||t.type===ln}(t))return null;if(pr(t))return function(t,e){var n=e.windowStyle,o=e.scrollDown,a=e.isMessageScrollBottom;return t.content?"string"==typeof t.content&&t.content?i(TP,{key:t.guid,messageGuid:t.guid,type:t.type,message:t.content,windowStyle:n,sender:t.sender,scrollDown:o,isMessageScrollBottom:a}):"string"==typeof t.content.text&&t.content.text?i(TP,{key:t.guid,messageGuid:t.guid,type:t.type,message:t.content.text,windowStyle:n,sender:t.sender,scrollDown:o,isMessageScrollBottom:a}):null:null}(t,e);if(hr(t))return function(t,e){return i(VP,ct({key:t.guid,type:t.type,textType:t.textType,message:t.content,time:t.time,meta:t.meta,translated:t.translated,fileName:t.content.fileName,percent:t.content.percent,onCloseClick:t.content.onCancel,ifShowSeenDot:e.ifEnableVisitorSeeMsgSentSeen&&e.isChattingWithAgent,msgId:t.id,msgGuid:t.guid,tooltip:e.msgNotSeenByAgent,displayedText:t.displayedText},e))}(t,e);if(fr(t))return function(t,e){return i(zP,ct({key:t.guid,messageGuid:t.guid,type:t.type,message:t.content,sender:t.sender,time:t.time,translated:t.translated},e))}(t,e);if(function(t){return t.type===Wn}(t))return function(t,e){return e.isPrint?null:e.isChatting?i(UP,ct({fields:e.ratingForm.fields,greeting:e.ratingForm.greeting,buttonText:e.ratingForm.buttonText,submitStatus:e.ratingForm.submitStatus,onChange:function(t,e){return othersProps.onChange(t,e,!0)},onBlur:function(t){return e.onBlur(t,!0)},onFocus:function(t){return e.onFocus(t,!0)}},e)):i(GP,ct({fields:e.ratingForm.fields,greeting:e.ratingForm.greeting,buttonText:e.ratingForm.buttonText,submitStatus:e.ratingForm.submitStatus,onChange:function(t,e){return othersProps.onChange(t,e,!1)},onBlur:function(t){return e.onBlur(t,!1)},onFocus:function(t){return e.onFocus(t,!1)}},e))}(0,e);if(function(t){return gr(t)||wr(t)||br(t)}(t))return i(Ct,null,i(kt,null,i(JP,{message:t,otherProps:e})));var n=nF[t.type];return n?n(t,e):null},oF=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={botLoaded:!1},n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.element;if(t&&this.props.isBubble){var e=t.getBoundingClientRect().width;t.style.width=e+"px"}},n.render=function(){var t=this,e=this.props,n=e.messages,o=j(e,YP),a=n.reduce((function(t,e){return function(t,e){if(!hr(e))return t.concat(e);if(t.length>0){var n=t[t.length-1];if(hr(n))return n.meta.isLast=!1,t.concat(Object.assign({},e,{meta:{isLast:!0}}))}return t.concat(Object.assign({},e,{meta:{isFirst:!0}}))}(t,e)}),[]).map((function(t){return iF(t,o)})).filter((function(t){return null!==t})).reduce((function(t,e){return t.concat(e)}),[]);return i("div",{ref:function(e){t.element=e},id:"chatMessages"},a)},e}(p),aF=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return t.isBubble!==this.props.isBubble||t.greeting!==this.props.greeting},n.render=function(){var t=this.props,e=t.isBubble,n=t.greeting;return i("div",{className:"chat__greetingContainer"},i("div",{className:e?"chat-system-message window__chatSystemMessage":"greeting-message window__formGreeting"},i("div",{className:h(e&&"window__chatSystemMessageContent"),dangerouslySetInnerHTML:{__html:n}})))},e}(p),rF=["greeting","height","hasMobileSideWindow","bottom","ifShowBio","ifHideBio"];function sF(t,e){if(function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}var cF,dF,lF=function(t){function e(e){var n;return(n=t.call(this,e)||this).onScroll=n.onScroll.bind(st(n)),n.scrollDown=n.scrollDown.bind(st(n)),n.canUpdateHideBio=!0,n.beforeunload=n.beforeunload.bind(st(n)),n.onTouch=n.onTouch.bind(st(n)),n.io=null,n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.onMounted(),setTimeout((function(){t.element&&(t.hasAnimation=!0,sF(t.element,"window__chat--animation"))}),625),N.addEventListener("beforeunload",this.beforeunload),$C("livechat.chatwindow.restore",(function(){t.scrollDown()})),!this.props.isPrint&&window.IntersectionObserver&&(this.io=new window.IntersectionObserver((function(e){e[0].intersectionRatio<=0?t.props.updateIsMessageScrollBottom(!1):(t.props.updateIsMessageScrollBottom(!0),t.props.onReadNewMsg())})),this.io.observe(this.refBottomElement))},n.shouldComponentUpdate=function(t){return this.props.messages!==t.messages||t.ifHideBio!==this.props.ifHideBio||t.height!==this.props.height||t.hasMobileSideWindow!==this.props.hasMobileSideWindow||t.isInputVisible!==this.props.isInputVisible||t.showToolbox!==this.props.showToolbox||t.maxAgentReadId!==this.props.maxAgentReadId||t.isSSOLoggedIn!==this.props.isSSOLoggedIn||t.isChatting!==this.props.isChatting||t.isMessageScrollBottom!==this.props.isMessageScrollBottom||JSON.stringify(t.ratingForm.fields)!==JSON.stringify(this.props.ratingForm.fields)||t.ratingForm.submitStatus!==this.props.ratingForm.submitStatus||t.width!==this.props.width},n.componentDidUpdate=function(t){var e=this,n=t.ifHideBio;this.props.ifHideBio!==n&&(this.canUpdateHideBio=!1,setTimeout((function(){e.canUpdateHideBio=!0}),625)),this.hasAnimation&&sF(this.element,"window__chat--animation")},n.componentWillUnmount=function(){N.removeEventListener("beforeunload",this.beforeunload),!this.props.isPrint&&this.io&&this.io.disconnect()},n.componentWillReceiveProps=function(t){var e=this;t.isInputVisible!==this.props.isInputVisible&&t.isInputVisible&&setTimeout((function(){e.scrollDown()}),625)},n.onTouch=function(){var t=this.element.ownerDocument.getElementById("chat-input-control");t&&t.blur()},n.onScroll=function(t){if(!it){var e=t.currentTarget.scrollTop;this.canUpdateHideBio&&e>0&&!this.props.ifHideBio&&this.props.onUpdateScrollStatus(!0),this.canUpdateHideBio&&0===e&&this.props.ifHideBio&&this.props.onUpdateScrollStatus(!1)}},n.beforeunload=function(){Mb(this.props.chatGuid)},n.scrollDown=function(t){if(this.element&&(this.props.isMessageScrollBottom||t)){if(!this.props.isChatting&&!this.props.isPostChatVisible){var e=this.props.messages.length>1?this.props.messages[this.props.messages.length-1]:null;if(e&&e.type===Wn)return}this.element.scrollTop=this.element.scrollHeight}},n.render=function(){var t=this,e=this.props,n=e.greeting,o=e.height,a=e.hasMobileSideWindow,r=e.bottom,s=e.ifShowBio;e.ifHideBio;var c,d,l=j(e,rF),u=l.isInputVisible,p=!1;if(l.windowStyle===Zm){p=!0;var f=0;if(this.element){var g,m=this.element.nextElementSibling;(g=this.props.ifShowQuickReply?m.nextSibling:m)&&"chat-input"===g.id&&(f=g.getBoundingClientRect().height)}if(l.isMobile){if(c=o-20,l.isIpad&&(c-=r),u&&(c-=Math.max(f,70)),a){c-=45}}else{c=o-35,u&&(c-=Math.max(f,47))}this.props.showAdaptiveMinimizeIcon&&(c-=105)}l.isPrint&&(c="");var w=i("div",null,(d="<div>&nbsp;</div>"!==n&&!!n)&&i(aF,{isBubble:p,greeting:n}),i(oF,ct({},l,{scrollDown:this.scrollDown}))),b=i(oF,ct({},l,{scrollDown:this.scrollDown})),v=ht(this.context),_={maxHeight:c};return this.props.isPopout&&!p&&(_=Object.assign({},_,Kt(this.props.width,!0))),i("div",{id:"window-chat-wrapper",ref:function(e){t.element=e},className:h("chat window__chat window__chat--animation",s?"window__chat--withBio":"window__chat--noBio",this.props.ifShowQuickReply&&"window__chat--withQuickReply"),onScroll:this.onScroll,onTouchEnd:this.onTouch,style:_},i("h1",{className:"visually-hidden","aria-hidden":!0},"Chat window"),i(eT,{id:"greeting"+this.props.chatGuid,message:n,isHtml:!0}),!(p&&l.isMobile)&&d&&i(aF,{isBubble:p,greeting:n}),p&&l.isMobile?w:b,i("div",{ref:function(e){t.refBottomElement=e},style:{height:1,padding:0}}),!this.props.isMessageScrollBottom&&!l.isPrint&&i("button",{onClick:this.scrollDown,"aria-label":v.scrollToBottom,className:h("btnScrollToBottom",{btnScrollToBottomWithBadge:this.props.unReadMessageCount>0}),title:v.scrollToBottom},this.props.unReadMessageCount>0&&i("span",null,this.props.unReadMessageCount," "),i("svg",{viewBox:"0 0 24 24","aria-hidden":!0,focusable:!1},i("path",{d:"M12,17.013,23.609,5.405A1.333,1.333,0,0,0,21.724,3.52L12,13.243,2.28,3.52A1.333,1.333,0,0,0,.4,5.405Zm10.652,1.4H1.332a1.334,1.334,0,0,0,0,2.667H22.654a1.334,1.334,0,0,0,0-2.667Z"}))))},e}(p),uF=function(){return{type:xM,payload:{type:"locationCancelled"}}},pF=function(){return{type:yM,payload:{type:"visitorSSOCancelled"}}},hF=function(t){var e=t.fromSource;return{type:SM,payload:{type:"meetingCancelled",fromSource:e}}},fF=function(t){var e=t.eventUri,n=t.inviteeUri,i=t.fromSource;return{type:CM,payload:{bookMeetingEventUri:e,bookMeetingEventInviteeUri:n,fromSource:i,type:"meetingSubmitted"}}},gF=function(){return{type:kM,payload:{type:"formCancelled"}}},mF=function(t){var e=t.fromSource;return{type:IM,payload:{fromSource:e,type:"microsoftBooking"}}},wF=function(t,e){return{type:t,guid:U(),time:new Date,content:e,sender:{type:Xu}}},bF=f((function(t){var e=nf(t),n=sf(t).length;e.filter((function(t){return t.type===Ln||t.type===Li||t.type===Hi})).length>0&&(n+=1);var i=eh(t),o=jm(t),a=Cm(t),r=qh(t),s=function(t){return t.entities.campaigns.entities[t.window.id].greetingMessages.chatWindowGreetingMessage}(t);!s||"<div>&nbsp;</div>"!==s&&"<div></div>"!==s&&"<div/>"!==s||(s="");var c=function(t){var e=mm(t).url;return R(e)}(t),d=vv(t),l=function(t,e){return V(t,"entities.campaigns.entities."+e+".chatWindowIfCanDownloadChatDetail")}(t,d),u=Rm(t,d),p=vv(t),h=Nh(t)===ap,f=dv(t),g=h?f.filter((function(t){return"rating"===t.type||"comment"===t.type})):f,m=uv(t,h?up:cp);return{siteId:um(t),transferSiteId:pm(t),KbHost:c,height:o,isPopout:i,isMobile:a,isIpad:km(t),ifShowBio:ag(t),hasMobileSideWindow:zf(t)&&a,windowStyle:Av(t,r),greeting:s||"",messages:e,ifShowName:n>1,gotoOfflineLinkText:e_(t,"eventLinkText")||"here",startChatAgainText:e_(t,"startChatAgain",p),emailTranscriptText:e_(t,"buttonTranscript",p),translatedTag:e_(t,"translation"),originalTag:e_(t,"original"),agentTypingText:e_(t,"eventOperatorIsTyping",p),chatStatus:Nh(t),ifShowAvatar:Bv(t)===Zm||qv(t),chatGuid:df(t),ifHideBio:Vf(t),isInputVisible:xf(t),mainColor:Yh(t),bottom:wg(t),showAdaptiveMinimizeIcon:h_(t),showToolbox:Mg(t),onMounted:function(){XC("livechat.chat.display",r)},maxAgentReadId:_g(t),ifEnableVisitorSeeMsgSentSeen:vg(t,p),msgNotSeenByAgent:e_(t,"msgNotSeenByAgent",p),isChattingWithAgent:Nh(t)===ap&&!Xh(t)&&!iv(t)||Nh(t)===op||Nh(t)===ip||Nh(t)===rp&&0!==sf(t).length,languages:$v(t),ifShowQuickReply:!!yg(t),agents:w_(t),prechatDepartment:m_(t),startTime:Tg(t),endTime:jg(t),campaignId:cm(t),transferCampaignId:vv(t),originalMessages:of(t),chatWindowIfCanDownloadChatDetail:l,ifCanEmailTranscript:u,isSSOLoggedIn:null!==Tw(Nb)&&Tw(Nb),isChatting:h,isPopoutWindow:eh(t),isFreemiumSignupFormInsideChatWindowEnabled:kv(t),isChatEnded:b_(t)===Xl,prechatEmail:Rf(t,"email"),customizeFileService:o_(t),standbyFileService:a_(t),apiHost:r_(t),isMessageScrollBottom:Eg(t),unReadMessageCount:zg(t),ratingForm:{fields:g,greeting:Dv(t,cp),buttonText:Ev(t,cp),submitStatus:m,ratingValue:Rf(t,"rating"),commentValue:Rf(t,"comment")},isHorizontal:Rv(t,cp),width:Lg(t),isPostChatVisible:Hg(t),onPostChatMounted:function(){XC("livechat.postChat.display",r)},enableGa:Mv(t),ifShowTranslationOnly:Oh(t),resourceOrigin:lh(t)}}),(function(t){return{submitSecureForm:function(e,n){var i=wF(pi,""+e+Xi+n);t(HS([i]))},cancelSecureForm:function(e){t(Fx(e));var n=wF(hi,"");t(HS([n]))},getSecureFormFailure:function(){var e=wF(fi,"");t(HS([e]))},onOfflineLinkClick:function(e){e.preventDefault(),t(xx(Ku))},onChatWithAgentClick:function(){t(Hx())},onRateClick:function(e,n,i,o,a,r){t(Ux(n,e,i,o,a,r))},onStartChatAgainClick:function(e){e.preventDefault(),t(Xx())},onEmailTranscriptClick:function(e){e.preventDefault(),t(uS(!0))},onUpdateScrollStatus:function(e){t(ty(e))},onChatbotTimeout:function(e){t(Cy(e))},onKbLinkClick:function(e,n){t(QS(e,n))},onSideWindowLinkClick:function(e){var n=e.url,i=e.type,o=e.title,a=e.iframe,r=e.noFocus,s=e.botId;t(Py(n,i,o,a,r,s))},onCloseBotSignWindow:function(){t(Fy())},onWebViewLinkClick:function(e){t(Oy(e))},onIntentLinkClick:function(e,n,i,o,a,r){t($y(r)),t(qx({id:e,name:n,clickType:i,agentId:o,botId:a}))},onPushPage:function(e){t(My(e))},onSSORequestClick:function(e){e.isPopoutWindow?t(Xy()):e.content.ifOpenSignInPageEmbeddedWindow?t(Oy(e)):t(Qy())},onTaskBotQuickReplyClick:function(e,n){XC("livechat.chat.visitor.input",e),t(Ax(e)),t(WI(n))},onTaskBotCollectInput:function(e,n){XC("livechat.chat.visitor.input",e),setTimeout((function(){t(Ax(e)),t(WI(n))}),1350)},onChatbotActionSendText:function(e){var n=e.text,i=e.messageGuid,o=e.delay,a=void 0===o?0:o,r=e.textType,s=e.isCollect,c=void 0!==s&&s,d=e.displayedText,l=e.quickReplyNextActionId;XC("livechat.chat.visitor.input",n),setTimeout((function(){t(Ax(n,!1,{textType:r,isCollect:c,displayedText:d,quickReplyNextActionId:l})),i&&t($y(i))}),a)},onChatbotActionChatWithAgentoptions:function(e){e.text;var n=e.messageGuid;t(Hx()),t($y(n)),XC("livechat.chat.visitor.chatwithagent")},hideQuickReply:function(){t(Jy())},onInputAreaVisibleChange:function(e){t(cS(e))},onReadNewMsg:function(){t(aC()),t(lS())},updateIsMessageScrollBottom:function(e){t(dS(e))},onBotFeedback:function(e){t(function(t){return{type:vk,payload:Object.assign({},t,{type:"botFeedback"})}}(e))},onChange:function(e,n,i){t(lC(cp,e.id,n)),i||XC("livechat.postChat.field.change",Object.assign({},e,{value:n}))},onError:function(e,n){t(uC(cp,e.id,n))},onBlur:function(e,n){t(hC(cp,e.id)),n||XC("livechat.postChat.field.blur",Object.assign({},e,{isFocused:!1}))},onFocus:function(e,n){t(pC(cp,e.id)),n||XC("livechat.postChat.field.focus",Object.assign({},e,{isFocused:!0}))},onSubmit:function(e){t(fC(cp)),t(CC(cp,1500,e)).then((function(){return t(pS())}))},onSubmitRating:function(e){t(fC(up)),XC("livechat.chat.visitor.rate",e),t(OS(e)),t({type:Is,payload:e})},onValidateAll:function(e){t(vC(pp,e))},updatePostChatVisible:function(e){t(fS(e))},onPreviewImage:function(e,n){t(CS({url:e,name:n}))},onChatbotCanvasAuthorization:function(e){var n=e.status,i=e.fromSource;t(function(t){var e=t.status,n=t.fromSource;return{type:MM,payload:{type:"canvasAuthorization",status:e,fromSource:n}}}({status:n,fromSource:i}))}}}))(lF),vF=function(t){function e(){var e;return(e=t.call(this)||this).state={showIcon:!1,animated:!1},e.animated=function(){e.setState({animated:!0})},e}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.timer=setTimeout((function(){return t.setState({showIcon:!0})}),200),lt(this.element,this.animated)},n.componentWillUnmount=function(){clearTimeout(this.timer),Yt(this.element,this.animated)},n.render=function(){var t=this,e=this.props,n=ht(this.context);return i("div",{className:h("window__form",this.state.animated&&"window__form--animation"),ref:function(e){t.element=e}},e.errorMessage&&i("div",{className:"window__formError"},e.errorMessage),this.state.showIcon&&!e.errorMessage&&i(_t,{type:zt,className:"svg--loadingChat",viewBox:"0 0 100 100","aria-label":n.loading,"aria-busy":"true"}))},e}(p),_F=f((function(t){return{errorMessage:hf(t),windowStyle:Av(t,cm(t))}}))(vF),xF=St((function(){return import("./SideWindow.957c5dd6.js")})),yF=function(t){return i(Ct,{key:"sideWindow",style:{background:"#f2f2f2",display:"flex",alignItems:"center",position:"absolute",boxShadow:"0 5px 15px 0 rgba(0,0,0,.15)",width:"calc(100% - 15px)",bottom:12.5,height:"calc(100% - 15px)",borderRadius:5,right:0}},i(kt,null,i(xF,t)))},SF=St((function(){return import("./KBsearch.f1988502.js")}));St((function(){return import("./SideWindow.957c5dd6.js")}));var CF,kF=St((function(){return import("./ChatInput.1f870624.js")})),IF=St((function(){return import("./WebView.c3ef469a.js")})),MF=St((function(){return import("./PreLogin.b495c9d3.js")})),AF=St((function(){return import("./SSOLogin.547f7785.js")})),OF=((cF={})[qu]=AP,cF[Gu]=OP,cF[Ku]=BP,cF[Uu]=bF,cF[Lu]=MF,cF[Hu]=AF,cF[zu]=_F,cF[Yu]=SF,cF),BF=((dF={})[qu]={timespan:0,duration:20},dF[Gu]={timespan:0,duration:20},dF[Ku]={timespan:0,duration:20},dF[Uu]={timespan:0,duration:2},dF[Lu]=null,dF[Hu]=null,dF[zu]=null,dF[Yu]={timespan:0,duration:20},dF),TF=function(){},jF=f((function(t){var e,n=Lh(t),o=OF[n],a=Vg(t);n!==Hu||a||(o=MF);var r=hm(t),s=r===Hl,c=km(t),d=n===Lu||n===Hu||n===Yu?i(Ct,null,i(kt,null,i(o))):i(o);e=n===Hu?a?[d]:[i(cP,null),d]:[i(cP,null),d,xf(t)&&i(Ct,null,i(kt,null,i(kF,{isIPad:c}))),i(hP,null),yf(t)&&i(Ct,null,i(kt,null,i(IF,null)))].filter((function(t){return t}));var l=Nh(t),u=l===ap,p=Bv(t),h=Tv(t),f=ff(t),g=hf(t),m=mf(t),w=zv(t,m),b=Lv(t),v=BF[n];l!==rp||n!==Uu&&n!==Gu||(v={timespan:0,duration:10});var _=l===rp,x=l===rp?180:void 0,y=Yf(t),S=0,C=zf(t),k=C?yF:null;p===Zm&&(S=Math.random());var I=Pm(t),M=jm(t),A=cm(t),O=hw(t,A),B=ow(t,A),T=ig(t),j=function(t){return t.page.orientation}(t),P=YB(p,t,Qp(t,A)),F=lm(t)[A],N=h_(t),W=bg(t),V=wg(t),D=nf(t),R=Pg(t),E=function(t){return t.configuration.visitorsideCustomCSS}(t),z=vv(t),L=Eg(t);return{isPoppedOut:eh(t),fontCSS:$a(q(dh,t)),mainColor:Yh(t),background:Jh(t),isFocused:tg(t),children:e,windowTab:n,windowStatus:r,windowStyle:p,warning:f,error:g,isMobile:Cm(t),isIPad:c,showChatWindowInSidewindow:Uf(t),title:u?w:void 0,seed:S,hOnline:v,writeReply:b,ifShowSideWindow:C,sideWindow:k,customCss:y,amyCustomCSS:E,width:I,height:M,isRightToLeft:T,iframeStyle:O,orientation:j,showAvatar:!!(P.avatars||P.avatar||P.agent&&P.agent.avatar),isMinimized:s,iconStyle:B.svg,ifCobrowsingShowing:gg(t),languageCobrowseStop:d_(t),cornerStyle:h,languageTag:t_(t),online:F,showAdaptiveMinimizeIcon:N,isCurrentAdaptiveButton:p_(t),right:W,bottom:V,ifEnableVisitorSeeMsgSentSeen:vg(t,z),maxVisitorReadId:xg(t),maxMsgId:pf(t),maxGuid:R,messages:D,chatStatus:l,showToolbox:Mg(t),hDelay:_,hStop:x,brandConfig:Ih(t),isSideWindowSelectedTabKb:Gf(t)===vp,isMessageScrollBottom:L}}),(function(t){return{dispatch:t,onMounted:function(){t(Sy())},onErrorClose:function(){t(Lx())},onWarningClose:function(){t(Dx())},onFocusToggle:function(e){t(Wx(e))},onPositionChange:function(e,n){t(Dy(e,n))},onReadNewMsg:function(e){t(aC(e))},hOnInit:function(){t(S_(!0))},hOnStopped:function(){t(S_(!1))},minimize:function(){t(K_())},updateMainWindowWidth:function(e){t(hS(e))}}}),(function(t,e){var n=t.windowTab,i=e.dispatch,o=TF;return n===Uu?o=function(){return i(AS())}:n===qu||n===Yu?o=function(){return i(ES())}:n===Gu?o=function(){return i(AS())}:n===Ku&&(o=function(){return i(zS())}),Object.assign({},t,e,{hCallback:o})}))(OB),PF=function(t){function e(){return t.apply(this,arguments)||this}rt(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return this.props.message!==t.message},n.render=function(){return i("div",{"aria-live":"polite",style:{position:"absolute",left:-1e4,top:-1e4,width:1,height:1}},this.props.message)},e}(p),FF=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={message:"",htmlMessage:""},n.pendingMessage=[],n.announcedMessageIds={},n.announce=n.announce.bind(st(n)),n.removeMessage=n.removeMessage.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),this.htmlTimer&&clearTimeout(this.htmlTimer)},n.shouldComponentUpdate=function(t,e){return this.props.children!==t.children||this.state.message!==e.message},n.announce=function(t,e,n){var i,o,a=this;this.announcedMessageIds[t]||(this.announcedMessageIds[t]=!0,this.pendingMessage.push(n?(i=e,(o=document.createElement("div")).innerHTML=i,o.textContent||o.innerHTML):e),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t=a.pendingMessage.join("\n");a.pendingMessage=[],a.setState({message:t})}),100))},n.removeMessage=function(t,e){this.announcedMessageIds[t]&&(this.announcedMessageIds[t]=void 0,e&&this.state.message===e&&this.setState({message:""}))},n.render=function(){return i(tT.Provider,{value:{announce:this.announce,removeMessage:this.removeMessage}},i(PF,{message:this.state.message}),this.props.children)},e}(p),NF=function(t,e){var n=.95*N.document.documentElement.clientWidth,i=.95*N.document.documentElement.clientHeight,o=1;return{width:t/(o=t/e>=n/i?t>=n?t/n:1:e>=i?e/i:1),height:e/o}},WF=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={loading:!0,rotation:1},n.hidePreview=n.hidePreview.bind(st(n)),n.rotate=n.rotate.bind(st(n)),n.onImgLoad=n.onImgLoad.bind(st(n)),n.setImageSize=n.setImageSize.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.onImgLoad=function(t){var e=t.target.naturalWidth,n=t.target.naturalHeight;this.setState({originalWidth:e,originalHeight:n},this.setImageSize)},n.setImageSize=function(){if(this.state.rotation%2==1){var t=NF(this.state.originalWidth,this.state.originalHeight),e=t.width,n=t.height;this.image.style.width=e+"px",this.image.style.height=n+"px"}else{var i=NF(this.state.originalHeight,this.state.originalWidth),o=i.width,a=i.height;this.image.style.width=a+"px",this.image.style.height=o+"px"}},n.rotate=function(t){var e=this;t.stopPropagation(),this.container.style.overflow="hidden",this.setState({rotation:this.state.rotation+1},(function(){e.container.style.overflow="",e.setImageSize()})),this.image.style.transform="rotate(-"+90*this.state.rotation+"deg)"},n.hidePreview=function(t){t.target!==this.image&&(this.props.onResetPreviewImage(),this.setState({rotation:1}))},n.render=function(){var t=this,e=this.props,n=e.url,o=e.labels,a=e.name;if(!n)return null;var r=ht(this.context);return i(w,null,i("style",null,".preview-modal {\n      position: absolute;\n      background: rgba(0, 0, 0, 0.5);\n      z-index: 2147483645;\n      width: 100%;\n      height: 100%;\n      right: 0;\n      bottom: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n    }\n    .preview-modal img {\n      transition: 160ms ease-in-out;\n    }\n    .preview-operation {\n      position: absolute;\n      top: 10px;\n      right: 15px;\n      background-color: #212121;\n      border-radius: 4px;\n      height: 42px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 8px;\n      padding: 2px 12px;\n      z-index: 99;\n    }\n    .preview-operation button {\n      outline: none;\n      border: none;\n      background: none;\n      width: 38px;\n      height: 38px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      padding: 0;\n    }\n    .preview-operation button:hover,\n    .preview-operation button:active {\n      background-color: #000;\n      border-radius: 4px;\n    }\n    .preview-operation svg {\n      width: 28px;\n      height: 28px;\n      fill: #fff;\n    }\n    svg.icon-popout {\n      width: 20px;\n    }\n    svg.icon-close {\n      width: 16px;\n      height: 16px;\n    }"),i("div",{className:"preview-modal",onClick:this.hidePreview,ref:function(e){t.container=e}},i("div",{className:"preview-operation"},i("button",{"aria-label":r.rotate,title:r.rotate,onClick:this.rotate},i(_t,{type:ae,viewBox:"0 0 20 20"})),i("button",{"aria-label":o.popout,title:o.popout,onClick:function(){N.open(n)}},i(_t,{type:re,className:"icon-popout"})),i("button",{"aria-label":o.close,title:o.close,onClick:this.hidePreview},i(_t,{type:It,className:"icon-close"}))),i("img",{src:n,alt:a,ref:function(e){t.image=e},onLoad:this.onImgLoad})))},e}(p),VF=AB(WF),DF=f((function(t){var e=Zg(t),n=$v(t);return Object.assign({},e,{labels:{close:n.buttonClose,popout:n.embeddedWindowPopup},languageTag:t_(t)})}),(function(t){return{onResetPreviewImage:function(){t(CS({}))}}}))(VF),RF="chatButton",EF="chatButton--ripple",zF=t(1)(Bt),LF=t(1)((function(t,e,n){var i="";return e&&(i=".chatButton--avatar:after{background-image:url("+e+");background-color:#f4f5f6;background-size:60px 60px;}"),[[Xa(JO,t),".online .chatButton:after{","background:"+zF(t),"}",".online ."+EF+"."+RF+":before{","animation:at-ripple 16.417s linear 3.625s infinite","}",".offline .chatButton:after{","background:"+zF("#bbb"),"}",".innerIcon {","fill:"+zF(t),"}"].join(""),i,n]})),HF=t(1)(se),qF=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifReceiveNewMessage:!0,customizeIcon:""},n.removeAnimationClass=n.removeAnimationClass.bind(st(n)),n.getCustomSvgIcon=n.getCustomSvgIcon.bind(st(n)),n.shouldComponentUpdate=RO(st(n),["iconStyle","count","href","status","avatar","online","mainColor","showArrowDown","customCSS","ifUseCustomizeIcon","customizeIcon"],["ifReceiveNewMessage","customizeIcon"]),n.handleReFocus=n.handleReFocus.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;setTimeout((function(){t.button&&(t.button.style.zIndex=YA)}),0),this.button.addEventListener("mouseenter",(function(){if(t.icon&&t.props.online&&(!t.props.ifUseCustomizeIcon||!t.props.customizeIcon)){t.icon.classList.add("moveIn"),t.icon.classList.remove("moveOut");var e=t.props.online?t.props.mainColor:"#bbb";t.dotContainer.innerHTML='<svg viewBox="0 0 32 32" width="32px" fill='+e+' aria-hidden="true">\n        <circle r="2" cy="15" cx="10" class="innerDot" />\n        <circle r="2" cy="15" cx="16" class="innerDot" />\n        <circle r="2" cy="15" cx="22" class="innerDot" />\n        </svg>'}})),this.button.addEventListener("mouseleave",(function(){!t.icon||!t.props.online||t.props.ifUseCustomizeIcon&&t.props.customizeIcon||(t.icon.classList.remove("moveIn"),t.icon.classList.add("moveOut"),t.dotContainer.innerHTML="")}))},n.componentWillReceiveProps=function(t){t.status===ql&&this.button&&(this.button.style.zIndex=YA+1),t.count!==this.props.count&&this.setState({ifReceiveNewMessage:!0})},n.getCustomSvgIcon=function(t){var e=this;if(""!==t)if(t.indexOf("<svg")>=0)this.setState({customizeIcon:t});else{var n=t.indexOf("http")>=0?t:""+this.props.chatserverUrl+t;nM(n).then((function(t){e.setState({customizeIcon:t.output})}))}},n.removeAnimationClass=function(){this.setState({ifReceiveNewMessage:!1})},n.handleReFocus=function(t){var e=this.props.status;if([zl,Ll].includes(e)&&9===t.keyCode){var n=top.frames.chat_window_container.contentWindow,i=top.frames.side_window_container&&top.frames.side_window_container.contentWindow,o=i&&i.document.querySelector(".sideWindow");if(o)return void o.focus();if(n){var a=n.document.querySelector(".whole-window");a&&a.focus()}}},n.render=function(){var t=this,e=this.props,n=e.onClick,o=e.href,a=e.count,r=e.status,s=e.avatar,c=e.online,d=e.ifRipple,l=e.isMobile;e.iconStyle;var u=e.mainColor,p=e.showArrowDown,f=e.customCSS,g=e.onTouchStart,m=e.onMouseEnter,w=e.ifUseCustomizeIcon,b=LF(u,s,f),v=ht(this.context),_=HF(c?u:"#bbb"),x=_.startColor,y=_.stopColor,S=this.props.customizeIcon;return i("div",{className:h("chatButtonContainer",l&&"chatButtonContainer--mobile",r===Hl&&s&&"chatButton--avatar",c?"online":"offline"),ref:function(e){t.button=e}},i(XO,{css:b,id:"adaptive"}),i("a",{className:h(d&&EF,RF),href:o||"",onClick:n,onTouchStart:g,onMouseEnter:m,"aria-label":this.props["aria-label"],role:"button","aria-expanded":p?"true":"false",onKeyDown:this.handleReFocus},p?i("svg",{x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32",focusable:"false",className:"chatButton__svg-chat","aria-hidden":"true"},i("path",{className:"chatButton__svg-chat-path",stroke:"#fff",d:"M25.8,14.9c-0.5-0.4-1.3-0.3-1.7,0.2l-6,6l-6.2-6.1c-0.6-0.5-1.3-0.6-1.7-0.2c-0.3,0.5-0.3,1.2,0.2,1.7l6.6,6.5c0.2,0.2,0.4,0.3,0.6,0.4h0.1c0.1,0,0.1,0,0.2,0c0.4,0,0.8-0.1,1.1-0.4l6.6-6.6C26,16,26.2,15.4,25.8,14.9z"})):w&&S?i("div",{className:"chatButton__svg-container",dangerouslySetInnerHTML:{__html:S}}):i("div",{className:"svg-container",ref:function(e){t.icon=e}},i("svg",{x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32",focusable:"false",className:"outIcon","aria-hidden":"true"},i("g",null,i("defs",null,i("linearGradient",{id:"linear"},i("stop",{offset:"0%","stop-color":x}),i("stop",{offset:"100%","stop-color":y}))),i("path",{fill:"#fff",className:"chatButton__svg-chat-path",d:"M16.007 0c-8.299 0-14.023 6.836-14.023 14.024 0 5.88 2.982 8.636 4.107 9.916 0 0 4.093 4.585 12.068 8.060v-4.121c4.783-0.563 11.858-5.289 11.858-13.855-0.001-8.271-6.794-14.024-14.010-14.024z"}),i("path",{fill:"url(#linear)",ref:function(e){t.path=e},className:"innerIcon",d:"M18.035 22.372v3.657c-0.014 0-2.729-1.364-4.276-2.574-2.926-2.236-6.498-4.416-6.498-9.438 0-4.993 4.149-8.622 8.622-8.622 0.005 0 0.011-0 0.017-0 4.744 0 8.591 3.838 8.605 8.579v0.043c0 5.162-4.164 7.779-6.47 8.355z"}))),i("div",{className:"innerDotContainer",ref:function(e){t.dotContainer=e}})),!!a&&a>0&&i("div",{ref:function(e){e&&(t.newMessageCount=e)},className:h("chatButton--newMessage",this.state.ifReceiveNewMessage&&"chatButton--newMessageAnimation"),onAnimationEnd:this.removeAnimationClass,"aria-label":v.unread},a)))},e}(p),UF=Object.freeze({__proto__:null,default:qF}),GF={width:110,height:110,position:"fixed",border:"none",zIndex:YA},KF=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showNotify:!0},n.onClick=n.onClick.bind(st(n)),n.onAccept=n.onAccept.bind(st(n)),n.onRefuse=n.onRefuse.bind(st(n)),n}rt(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){t.unread!==this.props.unread&&this.setState({showNotify:!0})},n.onAccept=function(t,e,n){this.props.onMaximize(this.props.windowTab),e&&this.props.onSend(e,n)},n.onRefuse=function(){this.setState({showNotify:!1}),this.props.isBubbleManualInvited&&this.props.onRefuse()},n.onClick=function(t){t.preventDefault(),(this.props.windowStatus===Hl?this.props.onMaximize:this.props.onMinimize)(this.props.windowTab)},n.render=function(){var t=this.props,e=t.windowStatus===Hl,n=this.state.showNotify&&t.NotifyBubble,o=this.props.isBubbleManualInvited?t.refuseText:t.closeText,a=this.props.isBubbleManualInvited?t.acceptText:t.openText,r=!1,s=ht(this.context),c=s.maximize;e&&(c=s.minimizeBar),e||(r=!0);var d=this.onAccept,l=this.onRefuse,u=t.windowStyle===Zm?350:t.chatWindowWidth,p=Math.min(t.right,n?t.windowWidth-270-25:t.windowWidth-u)||0,h=Math.min(t.windowHeight-87.5,t.chatWindowHeight),f=Math.min(t.bottom,n?t.windowHeight-177.5-87.5:t.windowHeight-h-87.5);t.windowStyle!==Zm||n||(f=0);var g=t.isRightToLeft,m=t.fontCSS;return i("div",null,n&&i(t.NotifyBubble,{onAccept:d,onRefuse:l,xText:o,acceptText:a,fontCSS:m,isRightToLeft:g}),i(eB,{style:Object.assign({},GF,{right:p,bottom:f}),title:s.minimizeBtn,id:"chat_button_adaptive_container",languageTag:t.languageTag},i(qF,{isMobile:t.isMobile,avatar:t.avatar,onClick:this.onClick,count:t.unread,status:t.windowStatus,online:t.online,iconStyle:t.iconStyle,showArrowDown:r,mainColor:t.buttonColor,"aria-label":c,customCSS:t.customCSS,ifUseCustomizeIcon:t.isCustomizedAdaptiveButtonUsed,customizeIcon:t.customizeIcon})))},e}(p),YF=St((function(){return import("./Bar.ca9e6065.js")})),JF=AB((function(t){return t.showAdaptiveMinimizeIcon?i(KF,t):i(Ct,{fallback:i("div",null)},i(kt,null,i(YF,t)))})),QF=St((function(){return import("./NotifyBubble.31a29062.js")})),ZF=function(t){return i(Ct,{fallback:i("div",null)},i(kt,null,i(QF,t)))};var XF,$F=((CF={})[Uu]="livechat.chat",CF[qu]="livechat.prechat",CF[Gu]="livechat.postChat",CF[Ku]="livechat.offlineMessage",CF),tN=f((function(t){var e=function(t){var e,n=Bv(t);return Uv(t)&&n!==Zm&&(e=Bf(t)),e}(t),n=qh(t),i=Lh(t),o=hm(t),a=function(t){if(hm(t)===Hl)return mf(t)}(t),r=function(t){var e=cm(t);return lm(t)[e]}(t),s=function(t){var e=cm(t);return ow(t,e).svg}(t),c=Yh(t),d=h_(t),l=ow(t,n),u=l.color,p=Tv(t),h=g_(t),f=zv(t,a),g=bg(t),m=wg(t),w=o===Hl,b=Jv(t),v=function(t){return(bm(t)||{}).invitationType===au}(t),_=Yf(t),x=t_(t),y=cm(t),S=hw(t,y),C=S&&S.width,k=Pm(t),I=S&&S.height,M=jm(t),A=Bv(t);return{isMobile:Cm(t),isIPad:km(t),avatar:e,windowTab:i,windowStatus:o,unread:a,online:r,iconStyle:s,mainColor:c,buttonColor:u,showAdaptiveMinimizeIcon:d,cornerStyle:p,text:h,notification:f,right:g,bottom:m,isBubbleManualInvited:b&&v,customCSS:_,NotifyBubble:w?ZF:null,languageTag:x,languages:$v(t),openText:L[x].minimizeBar,acceptText:L[x].acceptInv,refuseText:L[x].refuseInv,closeText:L[x].closeNewMsg,chatWindowWidth:C,windowWidth:k,windowStyle:A,isPoppedOut:eh(t),fontCSS:$a(q(dh,t)),isRightToLeft:ig(t),chatWindowHeight:I,windowHeight:M,isCustomizedAdaptiveButtonUsed:l.isCustomizedAdaptiveButtonUsed,customizeIcon:l.customizeIcon,shouldFocusBar:Wm(t)}}),(function(t){return{onMinimize:function(e){var n=$F[e];n&&XC(n+".minimize"),t(K_())},onMaximize:function(e){var n=$F[e];n&&XC(n+".restore"),t(J_())},onRefuse:function(){t(by())},onSend:function(e,n){t(Ey(e,n))},onBlurMinimize:function(){t(Q_(!1))}}}))(JF),eN=St((function(){return import("./Button.307e45cc.js")})),nN=St((function(){return import("./Invitation.a7e27ff6.js")})),iN=f((function(t){var e,n=$p(t);if(!n)return{isReady:n};var i=h_(t);return{isReady:n,enableGa:Mv(t),tab:Lh(t),invitation:Zb(t),guid:df(t),ban:nh(t),isCampaignReady:zh(t),windowStatus:hm(t),isPoppedOut:eh(t),customJs:Qv(t),chatStatus:Nh(t),showAdaptiveMinimizeIcon:i,languageMaxmized:null==(e=L[t_(t)])?void 0:e.maximized}}))((function(t){var e=t.isReady,n=t.windowStatus,o=t.tab,a=t.enableGa,r=t.customJs,s=t.chatStatus,c=t.invitation,d=t.guid,l=t.ban,u=t.isCampaignReady,p=t.isPoppedOut,h=t.showAdaptiveMinimizeIcon,f=t.languageMaxmized;if(t.previewImageUrl,!e)return null;if(l)return null;var g=n!==ql,m=n===Hl,w=m;return m||(w=h),i("div",null,r&&i(qO,{key:"js",textContent:r,name:"script",type:"text/javascript",nonce:"setupVisitorSideCustomJS"}),i(LO,{enableGa:a,windowTab:o,invitation:c,guid:d,chatStatus:s}),!p&&i(Ct,{fallback:i("div",null)},i(kt,{isShowError:!1},i(eN,null))),u&&g&&i(FF,{key:"chatwindow"},i(jF,null)),i(FF,{key:"invitation"},c&&c.type===au&&i(eT,{id:"invitation",message:(c.agent?c.agent+": ":"")+c.message+"}",isHtml:!0,removeMessageWhenUnmount:!0}),c&&i(Ct,{fallback:i("div",null)},i(kt,{isShowError:!1},i(nN,null))),w&&i(tN,null),!m&&!w&&g&&i(eT,{id:"restoreChatWindow",message:f,removeMessageWhenUnmount:!0})),u&&i(DF,null))})),oN=function(t){var e=t.store;return i(YO,{getRender:QC},i(b,{store:e},i(iN,null)))},aN="$brandingName-container".replace("$brandingName",N.brandingNameLowerCase);XF=[function(t){var e=F.getElementById(aN),n=e||F.createElement("div");return e||(n.id=aN,F.body.appendChild(n)),l(i(oN,{store:t}),n),function(){n.innerHTML=""}},function(t){if(eh(t.getState()))return null;var e=null,n=null,i=function(){if(null===e){var n=t.getState(),i=jv(n),o=q(OC,t);e=setInterval((function(){var t=Ta(i);o(t)}),1e3)}},o=function(){e&&clearInterval(e),n&&clearTimeout(n),e=null,n=null},a=t.getState(),r=t.subscribe((function(){var e=t.getState();if(nh(e)||oh(e))o();else if(!$p(a)&&$p(e)){if(nh(e))return;if(null==jv(e))return;i(),n=setTimeout(o,1e3*wh(e))}else $p(e)&&gh(e)!==gh(a)&&(o(),i(),n=setTimeout(o,1e3*wh(e)));a=e}));return function(){r(),o()}},function(t){JC={},ZC={},B.get=tk(function(t){return{"livechat.siteId":NC(t),"livechat.campaignIds":Rr,"livechat.isDynamicCampaign":WC(t),"livechat.isMobile":VC(t),"livechat.button.isVisible":DC(t),"livechat.button.status":RC(t),"livechat.prechat.isSkip":EC(t),"livechat.prechat.fields":LC(sp,t),"livechat.postChat.fields":LC(cp,t),"livechat.offlineMessage.fields":LC(dp,t),"livechat.sideWindow.isVisible":zC(t),"livechat.sideWindow.tabs":qC(t),"livechat.visitor.guid":UC(t),"livechat.chat.maxMessageLength":GC(t),"livechat.sso.artifact":HC(t)}}(t)),B.set=tk(function(t){var e=PC(t),n=e(hx);return{"livechat.customVariables":function(e){void 0===e&&(e=[]),OC(t,Array.prototype.reduce.call(e,(function(t,e){var n=t;return void 0===e.value||(n[e.name]=""+e.value),n}),{}),!1)},"livechat.button.isVisible":function(e,i){void 0===i&&(i=cm(t.getState())),n(e,i)},"livechat.button.color":function(n,i){void 0===i&&(i=cm(t.getState())),e(px)({id:i,entity:{color:n}})},"livechat.prechat.isSkip":e(Z_),"livechat.prechat.fields":KC(t,sp),"livechat.postChat.fields":KC(t,cp),"livechat.offlineMessage.fields":KC(t,dp),"livechat.sideWindow.isVisible":e(hy),"livechat.sideWindow.tabs":e(fy),"livechat.chat.maxMessageLength":e(dx),"livechat.sso.artifact":e(ax),"livechat.chatWindow.color":function(n,i){void 0===i&&(i=cm(t.getState())),e(ux)({id:i,entity:{mainColor:n}})},"livechat.sso.jwt":e(sx)}}(t)),B.do=tk(function(t){var e=PC(t),n=e(K_),i=e(J_),o=e(Y_),a=e(TS),r=function(t){return e(q(pC,t))},s=function(e){return function(n){var i=Zb(t.getState());i&&n===i.id&&e(cm(t.getState()))}},c=e(D_,H_);function d(e,n,i){return function(){return new Promise((function(o,a){var r=t.getState();if(Nh(r)!==ap||Nf(r))return a("not_chatting");if(!v||!1===Lf(r))return a("webrtc_not_supported");var s=qh(r);return e(r,s)?qf(r)?a("audio_video_chatting"):eg(r)?a("frequency_limited"):(t.dispatch(i()),o()):a(n)}))}}var l,u=d(zm,"audio_not_enabled",Ly),p=d(Lm,"video_not_enabled",Hy);return{"livechat.button.click":function(e){return void 0===e&&(e=cm(t.getState())),c(e)},"livechat.invitation.accept":s(e(V_,H_)),"livechat.invitation.refuse":s(e(R_)),"livechat.prechat.minimize":n,"livechat.chat.minimize":n,"livechat.postChat.minimize":n,"livechat.offlineMessage.minimize":n,"livechat.prechat.restore":i,"livechat.chat.restore":i,"livechat.postChat.restore":i,"livechat.offlineMessage.restore":i,"livechat.prechat.close":o,"livechat.chat.close":o,"livechat.postChat.close":o,"livechat.offlineMessage.close":o,"livechat.chat.endChat":a,"livechat.prechat.field.focus":r(sp),"livechat.postChat.field.focus":r(cp),"livechat.offlineMessage.field.focus":r(dp),"livechat.prechat.submit":YC(sp,t),"livechat.postChat.submit":YC(cp,t),"livechat.offlineMessage.submit":YC(dp,t),"livechat.sideWindow.tabs.click":e(py),"livechat.chat.audio.request":u,"livechat.chat.video.request":p,"livechat.pageVisit":e(DS),"livechat.invitation.show":(l=e(cC),function(e){var n=t.getState(),i=b_(n);kf(n)||hm(n)===zl||hm(n)===Ll||i===Jl||i===Yl||i===tu||If(n)||l(e)}),"livechat.chat.visitor.sendText":function(e){xf(t.getState())&&t.dispatch(SS(e))}}}(t)),B.render=function(t,e){JC[t]=e},B.on=$C;var e=PC(t),n=function(){};FC("ban",e(__)),FC("end_chat",e(TS)),FC("setIfSkipPrechat",e(Z_));var i=q($C,"livechat.invitation.display");FC("onBeforeImageInvitationDisplay",i),FC("onAfterImageInvitationDisplay",i);var o=q($C,"livechat.chat.display");FC("onChatWindowLoadBegin",o),FC("onChatWindowLoaded",o),FC("setIfHideChatWindowLoadingAnimation",n),FC("onChatWindowStatusChanged",n);var a=e(D_,H_);FC("open_chat_window",(function(e,n){return void 0===n&&(n=cm(t.getState())),a(n)})),FC("set_custom_variables",(function(e){return void 0===e&&(e=[]),OC(t,Array.prototype.reduce.call(e,(function(t,e){var n=t;return n[e.name]=""+e.value,n}),{}),!1)})),B.setCustomVariables=B.set_custom_variables;var r=t.getState(),s=t.subscribe((function(){if(!$p(r)){var e=t.getState();$p(e)&&(s(),function(){"function"==typeof Lr&&Lr(),B.onReady&&B.onReady!==Lr&&B.onReady();var t=B.onReady;Object.defineProperty(B,"onReady",{get:function(){return t},set:function(e){"function"==typeof e&&e(),t=e},configurable:!1})}()),r=e}}));return function(){delete B.get,delete B.set,delete B.do,delete B.render,delete B.on,s()}},function(t){var e=function(t){return t&&t.indexOf("landscape")>=0},n=function(){var e=t.getState(),n=Pm(e),i=jm(e),o=H(),a=cm(e),r=fw(e,a);o.width===n&&o.height===i||t.dispatch(X_(o,r))},i=function(){!function(){var t=N.screen,n=t.msOrientation||t.mozOrientation||t.orientation,i=typeof n;return"undefined"===i?"orientation"in N&&90===Math.abs(N.orientation):e("string"===i?n:n.type)}()?t.dispatch(ex()):t.dispatch(tx())},o=Q((function(){t.dispatch(RS())}),500);N.addEventListener("resize",Q(n,200)),N.addEventListener("orientationchange",Q(i,50)),N.addEventListener("hashchange",o),N.addEventListener("popstate",o);var a=N.history.pushState,r=N.history.replaceState;return N.history.pushState=function(t,e,n){a.call(N.history,t,e,n),o()},N.history.replaceState=function(t,e,n){r.call(N.history,t,e,n),o()},n(),i(),function(){N.removeEventListener("resize",n),N.removeEventListener("orientationchange",i),N.removeEventListener("hashchange",o),N.addEventListener("popstate",o),N.history.pushState=a,N.history.replaceState=r}}];var rN=10,sN=[];function cN(t){sN.length>=rN&&sN.shift(),sN.push(t)}window.getStoredErrors=function(){return sN},function(t){return function(e,n,i,o){if(!B.loaded){B.loaded=!0,function(t){var e=t.length>0?t[t.length-1].div_id:null;if(e&&F.body&&!F.getElementById(e)){var n=F.getElementsByTagName("head")[0];if(n)for(var i=n.getElementsByTagName("script"),o=0;o<i.length;o+=1)if(new RegExp("var\\s+"+"$brandingNameAPI".replace("$brandingName",N.brandingName)).test(i[o].innerHTML)){var a=F.createElement("div");a.id=e,F.body.appendChild(a);break}}}(B.chat_buttons);var a=null,r=null,s=null;if(o)try{var c=JSON.parse(o);c.chatserver&&(a=P(c.chatserver)),c.fileservice&&(r=P(c.fileservice)),c.apiserver&&(s=P(c.apiserver))}catch(t){}window.store=t({siteId:Vr,chatGroup:Dr,mainCampaignId:Yr,campaignIds:Rr(),isDynamicCampaign:!!B.dynamic,serverUrl:{url:a||e,standbyUrl:n,vue:i,fileService:r,apiHost:s}});var d=F.getElementById(N.brandingNameLowerCase+"-iframe");d&&(d.contentDocument.documentElement.setAttribute("lang","en"),d.contentDocument.title=N.brandingName+" scripts")}}}((function(t){var e=t.siteId,n=t.chatGroup,i=t.mainCampaignId,o=t.campaignIds,a=t.isDynamicCampaign,r=t.serverUrl;Sb();var s,l=B.popout,u=function(t){return t?Object.assign({},xo(t.planId,{type:t.chatSource,invitationId:t.invitationId},!1,t.ticketId,t.departmentId),{lastChattedAgents:Ob()}):null}(l),p=(s=l,Object.keys(s||{}).reduce((function(t,e){var n,i="CUSTOM!";return 0===e.indexOf(i)?Object.assign({},t,((n={})[e.substr(i.length)]=s[e],n)):t}),{})),h=function(t){if(t){var e=t.visitorGuid;if(e)return{guid:e}}return{guid:ob()}}(l);!function(t){t.guid&&ab(t.guid)}(h);var f,g=function(t){return t&&t.isStandbyServer?"standby":Xp}(l),m=(f={app:{isReady:!1,isActive:!0,server:g,isPoppedOut:!!l,isOpenerExists:!!N.opener,banned:db().isBanned,recoverFailTimes:0,isRecovering:!1,lastSuccessTime:0,isSoundOff:Hb()||!1},page:{siteId:e,isDynamicCampaign:a,campaignId:a?to:i,buttons:o.reduce((function(t,e){var n;return Object.assign({},t,((n={})[e]=!1,n))}),{}),platform:qa(),chatGroup:n,visitor:h,windowStatus:ql,requestChatAction:u,popout:B.popout,visitorStatus:$l},configuration:Object.assign({},r,{customVariableResult:p})},c(fI,f,d(Qr,CO)));return function(t){var e=XF.map((function(e){return e(t)}))}(m),m.dispatch(KS()),m}))(B.main,B.standby,B.vue,B.others),window.addEventListener("unhandledrejection",(function(t){cN(t.reason)})),window.addEventListener("error",(function(t){cN(t.error)}));export{mw as $,au as A,$a as B,dh as C,um as D,Cm as E,Pm as F,jm as G,ch as H,eB as I,Ih as J,Mv as K,ql as L,D_ as M,H_ as N,jO as O,PO as P,V_ as Q,MS as R,S_ as S,QA as T,JA as U,ru as V,iu as W,fw as X,Ov as Y,su as Z,iw as _,GO as a,xp as a$,og as a0,p_ as a1,lh as a2,R_ as a3,Zm as a4,Sj as a5,nT as a6,XB as a7,FP as a8,jP as a9,Sp as aA,Cp as aB,ky as aC,xx as aD,Ku as aE,Iy as aF,JS as aG,Lx as aH,FB as aI,Hl as aJ,xb as aK,yb as aL,ap as aM,iB as aN,$m as aO,XO as aP,Xa as aQ,Qm as aR,Jm as aS,l_ as aT,u_ as aU,XS as aV,tC as aW,hg as aX,Fy as aY,Kf as aZ,z_ as a_,eT as aa,cm as ab,cg as ac,Sm as ad,e_ as ae,Cw as af,kw as ag,gw as ah,Av as ai,qh as aj,hf as ak,lg as al,ug as am,pg as an,eh as ao,Uf as ap,zf as aq,km as ar,Yh as as,h_ as at,wg as au,ww as av,vf as aw,dg as ax,Lg as ay,L_ as az,de as b,ff as b$,yp as b0,vp as b1,_p as b2,kp as b3,Ip as b4,Mp as b5,mf as b6,Gf as b7,sg as b8,Hf as b9,$B as bA,Uj as bB,qf as bC,eg as bD,Lf as bE,kh as bF,$v as bG,Ly as bH,Hy as bI,Qg as bJ,wS as bK,Kh as bL,Hh as bM,vv as bN,yv as bO,Cf as bP,Em as bQ,Nf as bR,Vh as bS,$h as bT,bw as bU,Fv as bV,Nv as bW,Sf as bX,df as bY,bh as bZ,vh as b_,ig as ba,Nh as bb,ih as bc,Lh as bd,Qp as be,py as bf,aC as bg,Q_ as bh,K_ as bi,TS as bj,E_ as bk,Y_ as bl,Uu as bm,ET as bn,cr as bo,Pr as bp,Xj as bq,bp as br,rp as bs,$j as bt,jr as bu,Cr as bv,gp as bw,tP as bx,mp as by,Ga as bz,YA as c,pa as c$,_h as c0,Jh as c1,xf as c2,Um as c3,Iv as c4,Mg as c5,Iw as c6,Ax as c7,Ox as c8,Qx as c9,Bv as cA,Cg as cB,kg as cC,Ty as cD,Kx as cE,qy as cF,By as cG,Gx as cH,wA as cI,_O as cJ,fm as cK,xO as cL,Ig as cM,sC as cN,bO as cO,vO as cP,uh as cQ,rC as cR,wO as cS,ph as cT,WS as cU,NI as cV,BI as cW,TI as cX,WI as cY,FI as cZ,la as c_,Dx as ca,Zx as cb,sy as cc,Hx as cd,zy as ce,Uy as cf,Xh as cg,zm as ch,Lm as ci,Hm as cj,iv as ck,ea as cl,ia as cm,Xi as cn,Lo as co,za as cp,$o as cq,wj as cr,zo as cs,qo as ct,Ho as cu,Jo as cv,Zo as cw,Qo as cx,ta as cy,Rv as cz,wu as d,oj as d$,ua as d0,ra as d1,sa as d2,ca as d3,da as d4,Ha as d5,Pv as d6,tS as d7,gF as d8,Yx as d9,Rn as dA,Un as dB,Jn as dC,Yn as dD,qn as dE,pr as dF,bf as dG,Lv as dH,bg as dI,Tv as dJ,Yf as dK,ym as dL,ek as dM,ik as dN,sk as dO,ok as dP,ck as dQ,Xm as dR,bF as dS,vr as dT,fe as dU,oB as dV,Qw as dW,xj as dX,gT as dY,Me as dZ,aj as d_,Rh as da,Eh as db,cx as dc,LS as dd,uF as de,$y as df,fF as dg,Sg as dh,mF as di,hF as dj,pF as dk,PI as dl,jI as dm,Zh as dn,Vg as dp,VS as dq,IS as dr,Hu as ds,Qy as dt,Xy as du,Qh as dv,Vm as dw,NS as dx,Lu as dy,wf as dz,XC as e,ma as e$,xT as e0,tj as e1,jh as e2,Bh as e3,Th as e4,to as e5,Jw as e6,Wr as e7,ep as e8,qp as e9,En as eA,qi as eB,kj as eC,Ym as eD,Km as eE,Dg as eF,Rf as eG,OS as eH,Is as eI,vy as eJ,_f as eK,ng as eL,Rm as eM,BS as eN,aT as eO,RP as eP,ar as eQ,ue as eR,pe as eS,Ja as eT,he as eU,le as eV,ce as eW,Ka as eX,ba as eY,wa as eZ,va as e_,Rp as ea,zp as eb,Lp as ec,Vp as ed,Np as ee,Pp as ef,Dp as eg,Ap as eh,Op as ei,Bp as ej,Tp as ek,jp as el,Fp as em,Hp as en,Wp as eo,Ep as ep,Up as eq,DB as er,ak as es,nk as et,rk as eu,dk as ev,Hn as ew,Ki as ex,Vn as ey,zn as ez,mu as f,ha as f0,ga as f1,jf as f2,Tf as f3,Zf as f4,Qf as f5,$f as f6,ly as f7,qS as f8,cy as f9,dy as fa,uy as fb,Sa as fc,ya as fd,xa as fe,ka as ff,Ca as fg,Yg as fh,Jg as fi,qg as fj,gS as fk,US as fl,_S as fm,mS as fn,vS as fo,xS as fp,UF as fq,Za as g,SB as h,gu as i,hm as j,lm as k,AB as l,hu as m,Om as n,t_ as o,sh as p,Jf as q,NO as r,RO as s,fu as t,Sv as u,zO as v,gh as w,mh as x,wh as y,Zb as z};

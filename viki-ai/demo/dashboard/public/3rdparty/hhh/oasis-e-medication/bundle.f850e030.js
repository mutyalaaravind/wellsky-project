/**
 * compiled: 2024-01-22 03:46:15
 * version: 1.8.137
 * commit: f65fc6eae7afbbfbd6d88969d2c870bf577c0934
 */

import{m as t,a as e,d as n,y as i,e as o,f as a,g as r,t as s,h as c,i as d,q as l,$ as u,b as p,c as h,j as f,F as g,p as m,k as w,P as b}from"./vendor.27a43acd.js";import{i as v,g as _,r as x,h as y,c as S,a as C,b as k,d as I,e as M,f as O,j as A,_ as B,k as T,u as j,l as P,m as F,n as W,o as N,p as V,q as D,s as R,t as E,v as z,w as L,x as H,y as q,z as U,A as G,B as K,C as Y,D as J,E as Q,F as Z,G as X,H as $,I as tt,J as et,K as nt,L as it,M as ot,N as at,O as rt,P as st,Q as ct,R as dt,S as lt,T as ut,U as pt,V as ht,W as ft,X as gt,Y as mt,Z as wt,$ as bt,a0 as vt,a1 as _t,a2 as xt,a3 as yt,a4 as St,a5 as Ct,a6 as kt,a7 as It,a8 as Mt,a9 as Ot,aa as At,ab as Bt,ac as Tt,ad as jt,ae as Pt,af as Ft,ag as Wt,ah as Nt,ai as Vt,aj as Dt,ak as Rt,al as Et,am as zt,an as Lt,ao as Ht,ap as qt,aq as Ut,ar as Gt,as as Kt,at as Yt,au as Jt,av as Qt,aw as Zt,ax as Xt,ay as $t,az as te,aA as ee,aB as ne,aC as ie,aD as oe,aE as ae,aF as re,aG as se,aH as ce}from"./common.084d6f57.js";var de="centered",le="bottomMiddle",ue="bottomRight",pe="centeredWithOverlayBackground",he="middleLeft",fe="middleRight",ge=".buttonProgress__layerCircle,button{outline:0}.DayPicker-wrapper,.btn,.chat-input__toolbox,.emoji__cell,.form-fields .field-control-password .svg-icon{-webkit-user-select:none;-ms-user-select:none}.btn,button{-webkit-appearance:none}.btn,.buttonProgressBtnDefaultSize{width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}button{margin:0;padding:0;font-family:\"SourceSans Pro\",Arial}.article-list:focus,.global-showFocus a:focus,.global-showFocus button:focus{outline:#000001 auto 5px}.btn{text-decoration:none;zoom:1;display:inline-block;margin-bottom:0;font-size:.93333rem;font-weight:400;text-align:center;cursor:pointer;background-image:none;border:1px solid transparent;line-height:1.7;padding:4px 10px;font-family:\"SourceSans Pro\",Arial;border-radius:5px;user-select:none;position:relative;background-color:inherit;max-width:270px}.window--mobile:not(.window--ipad) .btn{max-width:unset}.window--circular .btn{border-radius:20px}.disabled{cursor:default;box-shadow:none!important}.btn-grey:active,.btn-primary:active{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-primary{color:#00000e;background:#00000a;border:1px solid #00000a}.btn-primary.disabled{background-color:#00000a!important;border:1px solid #00000a!important}.btn-primary:focus,.btn-primary:hover{background:#000003;border:1px solid #000003;text-decoration:none}.btn-primary:active{background:#000003;border:1px solid #000003}.btn-grey{color:#000;background:#e8e8e8;border:1px solid #e8e8e8}.btn-grey:focus,.btn-grey:hover{background:#c4c4c4;border:1px solid #c4c4c4;text-decoration:none}.btn-grey:active{background:#e8e8e8;border:1px solid #e8e8e8}.buttonProgressContainer{position:relative;text-align:center}.buttonProgressBtnAnimated{animation-fill-mode:both}.buttonProgressContainerLoading .buttonProgressBtnAnimated,.buttonProgressContainerSuccess .buttonProgressBtnAnimated{animation-name:form__submit--loading;animation-duration:.4s;cursor:default}.window--ie .buttonProgressContainerLoading .buttonProgressBtnAnimated{animation:none;opacity:.65}@keyframes form__submit--loading{0%{border-radius:20px;text-indent:999em;background:#00000a;border:1px solid #00000a;width:128px;text-overflow:clip}99%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;text-overflow:clip}100%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;opacity:0;text-overflow:clip}}.lds-css,.lds-rolling{width:32px;height:32px}.buttonProgress__layerCircle,.buttonProgress__layerLoading,.buttonProgress__layerSuccess,.lds-css{position:absolute;left:50%;top:50%;display:none}.buttonProgress__layerCircle,.buttonProgress__layerLoading,.lds-css{margin-top:-16px;margin-left:-16px}.buttonProgress__layerSuccess{margin-top:-8px;margin-left:-8px}.buttonProgressContainerLoading .buttonProgress__layerLoading,.buttonProgressContainerLoading .lds-css{display:block;animation:fadeIn 0s cubic-bezier(.785,.135,.15,.86) .4s both;cursor:default}.buttonProgressContainerSuccess .buttonProgress__layerLoading,.buttonProgressContainerSuccess .lds-css,.window--ie .buttonProgressContainerLoading .lds-css{display:none}.buttonProgressContainerSuccess .buttonProgress__layerCircle,.buttonProgressContainerSuccess .buttonProgress__layerSuccess{display:block;cursor:default}.buttonProgress__submitLoadingPath{fill:#00000a}.buttonProgress__submitCirclePath{stroke:#00000a;stroke-width:3px;stroke-dasharray:100;stroke-dashoffset:0;fill:#fff;fill-opacity:0}.buttonProgressContainerSuccess .buttonProgress__submitCirclePath{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:buttonProgress__submitCirclePath-dash;animation-duration:.5s}@keyframes buttonProgress__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}.buttonProgress__submitSuccessPath{fill:#00000a;stroke-width:1;-ms-transform:scale(0);transform:scale(0);opacity:0}.buttonProgressContainerSuccess .buttonProgress__submitSuccessPath{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:buttonProgress__submitSuccessPath-animation;animation-duration:.5s;animation-delay:542ms}@keyframes buttonProgress__submitSuccessPath-animation{0%{transform:scale(0);transform-origin:50% 50%;opacity:0}100%{transform:scale(1);transform-origin:50% 50%;opacity:1}}@keyframes lds-rolling{0%{transform:rotate(0) translateZ(0)}100%{transform:rotate(360deg) translateZ(0)}}.lds-rolling{position:absolute;border:3px solid #00000a;border-top-color:transparent;border-radius:50%;animation:lds-rolling .75s linear infinite}.window--ie .lds-rolling{animation:none}.form-fields--horizonal .container-checkboxlist,.form-fields--horizonal .container-radiolist{width:calc(100% - 80px);max-width:calc(100% - 80px)}.container-checkboxlist{display:inline-block;width:100%;max-width:100%}.container-checkbox{display:inline-block;position:relative;color:#333;padding-left:26px;width:100%;line-height:1.2rem}.container-checkbox.disable{pointer-events:none}.container-checkbox i{display:inline-block;width:16px;height:16px;position:absolute;left:0;top:0;margin-top:1px}.container-checkbox i.selected{display:block}.container-checkbox i.unselected,.horizontal,.prepend,.prependContainer{display:inline-block}.checkbox:focus+.selected .checkbox2,.selected .checkbox2{fill:#00000a}.checkbox2{fill:#ddd}.checkbox3{fill:#fff}.checkbox:focus+.unselected .checkbox2,.container-checkbox:hover>.unselected .checkbox2{fill:#00000a}.checkbox{position:absolute;z-index:-1;opacity:0;top:-2px;left:-2px;width:18px;height:16px}.horizontal{margin-right:10px}.control,.vertical{display:block}.container-checkbox input[type=Checkbox]:disabled~.checkbox__text,.container-checkbox input[type=Checkbox]:disabled~i svg{opacity:.6;pointer-events:none;cursor:default}.container-checkbox input[type=Checkbox]~.checkbox__text{cursor:pointer}.container-checkbox input[type=Checkbox]~i svg{cursor:pointer;width:15px;height:15px;margin-left:2px}.global-showFocus .container-checkbox input[type=Checkbox]:focus~i svg{outline:#00000a auto 1px}.checkbox1{fill-rule:evenodd;clip-rule:evenodd;fill:#fff}.selected .checkbox1{fill:#00000a}.control{position:relative;padding-left:26px;margin-bottom:6px;cursor:pointer;font-size:.933333333333rem;color:#333;line-height:1.2rem}.control .radioText{line-height:1.2rem;padding-left:0}.control input[type=radio]{position:absolute;z-index:-1;opacity:0;top:-2px;left:-5px;width:18px;height:18px}.controlIndicator{position:absolute;top:0;left:0;margin-top:1px;height:16px;width:16px;border-radius:50%;overflow:hidden}.controlRadio .controlIndicator svg{width:16px;height:16px;border:1px solid #ddd;border-radius:50%;background-color:#fff}.control input[type=radio]:checked~.controlIndicator svg,.control input[type=radio]:focus~.controlIndicator svg,.control:hover input[type=radio]~.controlIndicator svg{border:1px solid #00000a}.control input[type=radio]~.controlIndicator svg circle{fill:#fff}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:#00000a;stroke:#00000a;stroke-width:1px}.control input[type=radio]:disabled~.controlIndicator{opacity:.6;pointer-events:none}.rating .starColor.opacity svg,.svg.disabled{opacity:.3}.control:hover input[type=radio]:disabled~.controlIndicator{border:none}.control input[type=radio]:checked~.controlIndicator svg circle:nth-child(2){fill:#fff}.global-showFocus .control input[type=radio]:focus~.controlIndicator{outline:#000003 auto 1px;outline-color:-webkit-focus-ring-color}.controlRadio.horizontal{float:left;margin-right:20px}.select-box{position:relative;padding:3px;height:35px;background:#fff;border-radius:5px}.select-box svg{position:absolute;width:9px;height:6px;top:calc(50% - 3px);right:10px;color:#333}.window--ie9 .select-box svg{display:none}.select-box .select{position:absolute;left:0;right:0;top:0;bottom:0;z-index:9;padding:5px 25px 5px 10px;background:0 0;height:100%;width:100%;color:#333;cursor:pointer;border:1px solid #ddd;outline:0;font-size:1.066667rem;font-family:inherit;appearance:none;border-radius:5px}.select-box .select:disabled{background-color:#f5f5f5}.embedded-window:not(.window--mobile) .select-box .select{font-size:.934rem}.select-box .select::-ms-expand{display:none}.select-box .select:focus{border-color:#00000a}.svg{width:16px;height:16px}.svg--loading{width:18px;height:18px}.svg--loadingChat{display:block;width:28px;height:28px;margin:0 auto}svg:hover{cursor:pointer}.svg.disabled:hover{cursor:default}.svgPath{fill:#000;width:16px;height:16px}.svgRatePath1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathSendFile1{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svgPathVideo1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVideo2{fill:none}.svgPathVoice1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVoice2{fill:#000}.sendemail1{fill:none}.sendemail2{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svg:not(.disabled):hover .sendemail1,.svg:not(.disabled):hover .svgPathSendFile1,.svg:not(.disabled):hover .svgPathVideo1,.svg:not(.disabled):hover .svgPathVoice1,.svg:not(.disabled):hover .svgRatePath1{fill:rgba(0,0,0,.3)}.svg.active .svgRatePath1{fill:#000}.svg-white .svgPathVoice2,.svgClosePath,.svgMinimizePath,.svgPopupPath{fill:#fff}.svg-white .sendemail2,.svg-white .svgPathSendFile1,.svg-white .svgPathVideo1,.svg-white .svgPathVoice1,.svg-white .svgRatePath1{stroke:#fff}.svg-white:not(.disabled):hover .sendemail1,.svg-white:not(.disabled):hover .svgPathSendFile1,.svg-white:not(.disabled):hover .svgPathVideo1,.svg-white:not(.disabled):hover .svgPathVoice1,.svg-white:not(.disabled):hover .svgRatePath1{fill:rgba(255,255,255,.3)}.svg-white.active .svgRatePath1{fill:#fff!important}.svg-white.active .svgPathSendFile1{fill:#fff!important;stroke:#000001!important}.svg-white.active .sendemail2{fill:none!important;stroke:transparent!important}.svg-white.active .sendemail1{fill:#fff!important}.svg-sidewindow-icon{width:25px;height:25px;fill:#a2a2a2;position:relative;border:1px solid transparent}.sideWindow:not(.sideWindow--mobile) .svg-sidewindow-icon:focus,.sideWindow:not(.sideWindow--mobile) .svg-sidewindow-icon:hover{border:1px solid #a2a2a2;border-radius:50%}.svg-sidewindow-icon-select-dark{border:1px solid #a2a2a2;border-radius:50%;fill:#000;background-color:#a2a2a2}.svg-sidewindow-icon-select-light{border:1px solid #a2a2a2;border-radius:50%;fill:#fff;background-color:#a2a2a2}.svg-sidewindow-icon-select-light-mobile{border:none;fill:#00000a;background-color:#fdfdfd}.svg-sidewindow-icon-select-dark-mobile{border:none;fill:#fdfdfd;background-color:#000}.window--circular .input{padding:5px 20px;border-radius:20px}.input,.multipleText{padding:5px 10px;outline:0}.input{border:1px solid #ddd;font-size:1.066667rem;-webkit-appearance:none;border-radius:5px}.embedded-window:not(.window--mobile) .input{font-size:.934rem}.input:disabled{background-color:#f5f5f5}.input[readOnly]{border:0}input.attachTicket{width:100px;margin-left:5px}.input:not(.input--effect01):focus{border-color:#00000a;outline:0}.prepend{line-height:18px;padding:5px 5px 4px;background-color:#fafafa}.prependContainer .input{border-top-left-radius:0;border-bottom-left-radius:0}.prependIcon{float:left;padding:0 6px 0 0}.defaultIcon{display:block;width:24px;height:24px}.inputContainer{position:relative;display:inline-block}.input.input--effect01{border:1px solid #ddd}.input__focusBorder{display:block}.input.input--effect01:focus{border-color:#00000a;transition:26ms;transition-delay:182ms}.window--circular .input.input--effect01~.input__focusBorder::after,.window--circular .input.input--effect01~.input__focusBorder::before{left:20px}.input.input--effect01~.input__focusBorder::after,.input.input--effect01~.input__focusBorder::before{content:\"\";position:absolute;top:0;left:5px;width:0;height:1px;background-color:#00000a}.input.input--effect01~.input__focusBorder::after{top:auto;bottom:0}.input.input--effect01~.input__focusBorder i::after,.input.input--effect01~.input__focusBorder i::before{content:\"\";position:absolute;top:50%;left:0;width:1px;height:0;background:#ddd}.window--circular .input.input--effect01~.input__focusBorder i::after{top:20px;height:calc(100% - 40px)}.input.input--effect01:not(.error):focus~.input__focusBorder i::before{background-color:#00000a}.input.input--effect01~.input__focusBorder i::after{left:auto;right:0;top:5px;bottom:0;height:calc(100% - 10px)}.window--circular .input.input--effect01:focus~.input__focusBorder::after,.window--circular .input.input--effect01:focus~.input__focusBorder::before{width:calc(100% - 40px)}.input.input--effect01:focus~.input__focusBorder::after,.input.input--effect01:focus~.input__focusBorder::before{width:calc(100% - 10px);transition:156ms;transition-delay:26ms}.window--circular .input.input--effect01:focus~.input__focusBorder i::after,.window--circular .input.input--effect01:focus~.input__focusBorder i::before{height:calc(100% - 40px);top:20px}.input.input--effect01:focus~.input__focusBorder i::after,.input.input--effect01:focus~.input__focusBorder i::before{height:calc(100% - 10px);transition:26ms;top:5px}.input.input--effect01:focus~.input__focusBorder i::after{height:0;transition-delay:182ms;top:50%}.window--circular .input.input--effect01~.input__cornerLeft,.window--circular .input.input--effect01~.input__cornerRight{border-radius:20px}.input.input--effect01~.input__cornerLeft,.input.input--effect01~.input__cornerRight{width:0;display:block;border:0 solid #00000a;top:0;bottom:0;position:absolute;border-radius:5px}.window--circular .input.input--effect01:not(.error):focus~.input__cornerLeft,.window--circular .input.input--effect01:not(.error):focus~.input__cornerRight{width:20px}.input.input--effect01:not(.error):focus~.input__cornerLeft,.input.input--effect01:not(.error):focus~.input__cornerRight{width:10px;border-width:1px}.input.input--effect01:not(.error):focus~.input__cornerLeft{left:0;border-top-right-radius:0;border-bottom-right-radius:0;transition-delay:26ms;border-right-color:transparent}.input.input--effect01:not(.error):focus~.input__cornerRight{right:0;border-top-left-radius:0;border-bottom-left-radius:0;transition-delay:182ms;border-left-color:transparent;border-right-color:transparent}.input.error,.input.error:focus,.input.error:hover{border-color:#d34747}.input.error~.input__focusBorder i::after,.input.error~.input__focusBorder i::before,.input.error~.input__focusBorder::after,.input.error~.input__focusBorder::before{background:#d34747}input,textarea{-webkit-transform:translate3d(0,0,0)}input[type=search]{-webkit-appearance:textfield}.multipleText,.window--mobile input[type=search]{-webkit-appearance:none}input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.multipleText{border:1px solid #ddd;transition:border-color .2s;border-radius:5px;width:100%;font-size:1.0666667rem;overflow:auto}:not(.window--mobile) .multipleText{font-size:.934rem}.multipleText:disabled{background-color:#f5f5f5}.multipleText:focus{border-color:#00000a;outline:0}.multipleText.error,.multipleText.error:focus,.multipleText.error:hover{border-color:#d34747}.window--circular .multipleText{border-radius:20px;padding:15px}.bubble-box{visibility:hidden;position:absolute;background:rgba(0,0,0,.5);z-index:2147483645;width:100%;height:100%;right:0;bottom:0}.bubble{position:relative;width:305px;background:#fff;padding:28px 18px;font-size:1rem;line-height:20px;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,.3);z-index:99;text-align:left}.corner-style .prechatForm__social .prechatForm__socialBtn,.window--circular .bubble{border-radius:20px}.window--ie .bubble{top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.bubble-close,.rating .star{border:none;background:0 0;cursor:pointer}.bubble-box--show{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;visibility:visible;position:fixed}.window--ie .bubble-box--show{display:block}.bubble-box--show .bubble{animation:showBubble 333ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .bubble-box--show .bubble{animation:none}@keyframes showBubble{0%{transform:scale(0)}100%{transform:scale(1)}}.window--ie9 .bubble .bubble__operation .btn:first-child{margin-right:0}.bubble .bubble__operation .btn:first-child,.rating .star{margin-right:10px}.bubble-close{position:absolute;right:10px;top:10px}.bubble-close svg{width:10px;height:10px;fill:#626262}.bubble-close svg:hover{fill:#333}.bubble__operation{margin-top:10px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.embedded-end-chatConfirmAction .btn,.media-chat-ConfirmAction .btn{max-width:50%}.bubble--title{color:#333;font-size:1rem;margin-bottom:13px;word-wrap:break-word}.bubble--desc{font-size:1rem;color:#333;margin-bottom:27px;text-align:center}.rating{position:relative;height:24px}.rating .star{display:inline-block;position:relative;width:24px;height:24px;overflow:hidden}.rating .star svg{fill:#fff;stroke:#626262;width:24px;height:24px}.rating .star:last-child{margin-right:0}.window--bubble .form-fields--horizonal .rating .star{font-size:1.066667rem;line-height:16px;margin-right:6px}.window--circle .form-fields--horizonal .rating .star{font-size:1.666667rem;line-height:25px}.rating .starColor svg{fill:#c24700;stroke:#c24700}.rating .focusColor svg{stroke:#c24700;stroke-width:1px}.window__headerContainer,.window__headerVessel{-ms-flex-negative:0;flex-shrink:0}.window__headerContainer:focus{outline:0}.window__header{width:100%;min-height:30px;border-radius:5px 5px 0 0;transition:height 50ms linear}.window--circular .window__header{border-radius:20px 20px 20px 0}.window--mobile:not(.window--ipad) .window--circular .window__header{border-radius:0}.window--classic .window__header--fadeInDown{animation:fadeInDown 292ms both cubic-bezier(.785,.135,.15,.86);animation-delay:.3s}.window--ie .window--classic .window__header--fadeInDown{animation:none}.window__headerBox{padding:15px 27px 18px;width:100%}.window__header--hasAvatar .window__headerBox,.window__headerBox.window__headerBox--banner,.window__headerBox.window__headerBox--hasAvatars{padding:24px 27px 23px}.window__headerBox--onlylogo{min-height:85px}.window__headerBox--fadeInDown{opacity:1;-ms-transform:translateY(0);transform:translateY(0)}.title-buttons__operation{display:block;float:left;padding-left:10px;padding-right:10px}.window--circle:not(.window--embedded) .title-buttons__operation,.window--classic:not(.window--embedded) .title-buttons__operation{line-height:1}.window--mobile .title-buttons__operation{padding:0 9.5px}.title-buttons__operation .icon{cursor:pointer}.title-buttons__operation--text{border-left:2px solid rgba(255,255,255,.5)}.window--circle .title-buttons__operation--text{border-left-color:#a3a3a3;line-height:13px}.window--classic .title-buttons__operation--text{border-left-color:#000007;line-height:13px}.title-buttons__operation--text a{color:#fff;text-decoration:none;cursor:pointer;display:block;max-height:21px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.window--circle .title-buttons__operation--text a{color:#a3a3a3}.window--classic .window__headerBox{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--classic .window__headerBox.window__headerBox--banner{display:block}.window--classic .window__headerBox--team{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.window--classic .header__agent--withlogo{margin-right:10px}.window--classic .title-buttons__operation--text a{color:#000004}.header__teamAvatar--gray .header__teamAvatarImg{filter:gray;-webkit-filter:grayscale(100%)}.window__operation{height:30px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around;padding-right:5px}.window__operation .icon-close,.window__operation .icon-endchat{width:12px}.window--mobile .window__operation .icon-close,.window--mobile .window__operation .icon-endchat{width:16px}.window__operation .header__operationContainer>button,.window__operation>button{margin:0 1px;height:20px;background:0 0;border:none;padding:4px 10px 0;position:relative;display:inline-block;text-align:right}.window__operation .header__operationContainer>button,button.menubar__btn{background:0 0;border:none}.window__operation .header__operationContainer>a:hover svg,.window__operation .header__operationContainer>button:hover svg,.window__operation>button:hover svg{opacity:1}.window--bubble .window__operation .header__operationContainer>a.window__operation-menu-icon{margin-left:0}.window__operation-menu-icon{cursor:pointer}.window__operation-menu-icon>svg{width:20px}.body__dialog-menu .window__operation-menu,.window__menu-show.window__operation-menu{display:block;position:relative;z-index:11}.window__operation-menu{display:none;position:absolute}.window__operation-menu::before{content:'';background-color:transparent;display:block;width:135px;height:20px;position:absolute;right:0;top:-20px}.form__submit,.window--ie9 .window--bubble .window__operation-menu{width:160px}.window--bubble .window__operation-menu{position:absolute;right:0;top:20px}.window__operation-menu li{height:30px;line-height:30px;text-align:left}.window__operation-menu li>button{margin:0;height:30px;padding-left:22px;padding-right:22px;display:block;cursor:pointer;color:#333;background:0 0;border:none;width:100%}.window__operation-menu li>button:focus,.window__operation-menu li>button:hover{background-color:#eee;outline:0}.window__operation-menu li>button>div.menu__text-container{float:left;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:170px;min-width:50px;font-size:15px}.window--bubble .window__operation-menu li>button{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--mobile .window__operation-menu li>button>div.menu__text-container>span{width:100%}.body__dialog-menu .window__operation-menu li>button:hover,.window--mobile .window__operation-menu li>button:hover{background-color:initial}.window__operation .window__operation-menu ul{background:#fff;border-radius:5px 0 5px 5px;border:1px solid #ddd;z-index:2147483645;padding:10px 0}.window__operation .window__operation-menu ul li>button>svg{fill:#333;margin-right:10px;float:left;margin-top:2px}.global-showFocus .window__operation .header__operationContainer>a:focus,.global-showFocus .window__operation .header__operationContainer>button:focus,.global-showFocus .window__operation>button:focus{outline:#000004 solid 2px;border-radius:2px}.window--bubble .window__operation .window__operation-menu ul li>button>svg{-ms-flex-negative:0;flex-shrink:0;margin-top:0}.window__operation .header__operationContainer>a>svg,.window__operation .header__operationContainer>button>svg,.window__operation>button>svg{fill:#000004}.window--bubble .window__operation .header__operationContainer>a>svg,.window--bubble .window__operation .header__operationContainer>button>svg,.window--bubble .window__operation>button>svg{fill:#000}.window__operation .header__operationContainer>button:hover,.window__operation>button:hover{background:rgba(0,0,0,.1)}.main-container .window__title{position:absolute;right:0;top:0}.window--classic .icon-close,.window--classic .icon-embedded,.window--classic .icon-minimize,.window--classic .icon-popup{color:#000004;font-size:.8rem}.header__bannerImg{max-height:90px;width:auto;height:auto}.window--classic .header__bannerImg{display:block;max-width:calc(100% + 54px);margin:0 -27px -23px}.window--classic .header__agentInfo{overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;max-width:100%}.window--classic .window__header--hasAvatar .header__agentInfo{height:45px}.window--classic .header__agentInfoNoAvatar{max-width:100%;width:100%;padding-left:0}.window--circle .header__agentInfo{width:100%}.window--classic .header__chatbot{height:50px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--classic .header__avatar{float:left;margin-right:17px;width:45px;height:45px;-ms-flex-item-align:start;align-self:flex-start;border-radius:50%}.header__avatarImage{-ms-transform:scale(1.05);transform:scale(1.05)}.window--classic .header__avatarImage{display:block;width:45px;height:45px;border-radius:50%}.header__agentBio,.window--circle .header__agentBio{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;text-overflow:ellipsis}.header__agent{position:relative}.window--circle .header__agent--compact{height:21px}.window--circle .header__agent--compact.with__title{height:38px}.header__agent--compact:hover::before{content:'';position:absolute;z-index:99;width:calc(100% + 10px);height:calc(100% + 10px);background:rgba(0,0,0,.1);border-radius:4px;left:-5px;top:-5px;cursor:pointer}.window--circle .header__agent--compact:hover::before{width:100%;height:calc(100% + 6px);left:0;top:-3px;border-radius:10px}.window--classic .header__agent{-ms-flex-align:center;align-items:center;max-width:100%;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:1;flex-shrink:1}.window--classic .header__agent--fadeInUp{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--classic .header__agent--fadeInUp{animation:none}.window--classic .header__agent.header__agent--withlogo{float:left;max-width:calc(100% - 110px);margin-top:11.5px;margin-bottom:11.5px}.window--classic .window__header--hasAvatar .header__agent--withlogo{margin-top:0;margin-bottom:0}.header__agentName,.header__agentTitle{max-width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.window--classic .header__agentName{font-size:1.133333rem;line-height:1.29;color:#000004;text-shadow:0 1px 0 rgba(0,0,0,.2)}.window--classic .header__agentTitle{font-size:.8rem;line-height:1.25;color:#000004;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.header__agentBio{max-height:80px;overflow:hidden;word-wrap:break-word}.window--classic .header__agentBio{font-size:.8rem;line-height:1.17;color:#000004;margin-top:4px;padding-left:60px;padding-bottom:2px;margin-bottom:-2px;max-height:84px;overflow-y:auto}.window--classic .header__agentBio a{color:#000004;border-bottom:1px solid #000007}.window--classic .header__logo{margin-left:auto;margin-top:20px;margin-bottom:5px}.window--classic .header__logoImg{max-height:45px;max-width:100px;display:block;float:right;width:auto;height:auto}.header__teamName{margin-top:0;font-family:\"SourceSans Pro\",Arial}.window--classic .header__teamName{font-size:1.133333rem;line-height:1.29;color:#000004;text-align:center;text-shadow:0 1px 0 rgba(0,0,0,.2);width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:8px}.window--classic .header__teamName+.header__teamAvatar,.window--classic .header__teamName.header__teamNameNoAvatar,.window--classic .window__headerBox--hasAvatars .header__teamName{margin-bottom:0}.window--classic .window__headerBox.window__headerBox--empty{padding-top:15px;padding-bottom:15px}.window--classic .header__teamAvatar{position:relative;width:142px;height:40px;margin:9px auto}.header__teamAvatarImg{background:#f4f5f6}.window--classic .header__teamAvatarImg{position:absolute;width:40px;height:40px;border-radius:100%}.window--classic .header__teamAvatarImg:nth-child(1){left:0;z-index:9}.window--classic .header__teamAvatarImg:nth-child(2){left:49px;z-index:8}.window--classic .header__teamAvatarImg:nth-child(3){left:99px;z-index:7}.window--classic .window__header--prechatWithAvatar{height:126px}.window--classic .header--compact{height:55px}.window--classic .header--compact .header__teamAvatar,.window--classic.animation--chatting .header__teamAvatar{-ms-transform:translateY(-105px);transform:translateY(-105px)}.window--classic.animation--chatting .header__teamName{-ms-transform:translateY(-60px);transform:translateY(-60px)}.window--circle .header{border-top-left-radius:20px;border-top-right-radius:20px}.window--circle .header__bannerImg{display:block;max-width:calc(100% + 40px);margin:0 0 -15px -20px}.window--circle .header__avatar{position:absolute;top:-69.5px;left:50%;margin-left:-35px}.body__dialog .window--embedded.window--circle .header__avatar::before,.body__dialog-menu .window--embedded.window--circle .header__avatar::before{content:'';position:absolute;top:0;left:0;height:50%;width:100%;border-radius:70px 70px 0 0;background-color:rgba(0,0,0,.5)}.body__dialog .window--mobile:not(.window--ipad) .window--circle .header__avatar::before,.body__dialog-menu .window--mobile:not(.window--ipad) .window--circle .header__avatar::before{height:0}.window--mobile .window--circle .header__avatar--withSideWindow,.window--mobile .window--circle .window__headerBox .header__teamAvatar--withSideWindow{left:50%}.window--circle .header__avatar--fadeInDown{animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--circle .header__avatar--fadeInDown{animation:none}.window--circle .header__avatarImage{display:block;border-radius:100%;width:65px;height:65px;margin:0 auto}.window--circle .header__agentInfo{text-align:center;margin-top:13px;display:-ms-flexbox;display:flex;display:-webkit-flex;flex-direction:column;-ms-flex-direction:column;-ms-flex-align:center;align-items:center}.window--circle .header__agentInfoNoAvatar{margin-top:0}.window--circle .header__agentName{max-width:calc(100% - 90px);margin:0 auto;font-size:1.13333333rem;color:#333;line-height:1.29;text-shadow:0 1px 0 rgba(0,0,0,.2)}.window--circle .header__agentTitle{font-size:.8rem;color:#333;margin-top:2px;line-height:1.25}.window--circle .header__agentBio{text-align:center;margin-top:2px;margin-bottom:1px;padding-bottom:2px;font-size:.8rem;color:#333;line-height:1.17;overflow:hidden;max-height:70px;width:100%;overflow-y:auto}.window--circle .header__agentBio a{color:#333;border-bottom:1px solid #333}.window--circle .header__agentBio a:hover{border-bottom-color:#333}.window--circle .header__teamName{font-size:1.133333333333333rem;line-height:1.29;color:#333;margin-top:21px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--circle .header__teamNameNoAvatar{margin-top:0}.window--circle .header__teamAvatar{position:absolute;left:50%;top:-22px;width:112px;height:42px;margin-bottom:10px;margin-left:-56px;animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--circle .header__teamAvatar{animation:none}.window--bubble .window__ssologin.window__ssologin--animation,.window__chat--animation,.window__form--animation{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.window--circle .header__teamAvatarImg{position:absolute;width:44px;height:44px;border:2px solid #fff;border-radius:100%;top:0}.window--circle .header__teamAvatarImg:nth-child(1){z-index:8}.window--circle .header__teamAvatarImg:nth-child(2){left:36px;z-index:9}.window--circle .header__teamAvatarImg:nth-child(3){right:0;z-index:10}.window--circle .icon-close,.window--circle .icon-embedded,.window--circle .icon-minimize,.window--circle .icon-popup{color:#a3a3a3;font-size:.8rem}.global-showFocus .window--circle .window__operation .header__operationContainer>button:focus,.global-showFocus .window--circle .window__operation>a:focus,.global-showFocus .window--circle .window__operation>button:focus{border-bottom-color:#5d5d5d}.window--circle .window__operation .header__operationContainer>a>svg,.window--circle .window__operation .header__operationContainer>button>svg,.window--circle .window__operation>button>svg{fill:#5d5d5d}.window--circle .window__headerBox{border-bottom:1px solid #ddd;width:calc(100% - 40px);margin:0 auto;padding-left:0;padding-right:0;padding-bottom:15px}.window--circle .window__headerBox .header__agent,.window--circle .window__headerBox .header__teamName{padding:0 40px}.window--circle .window__headerBox.window__headerBox--hasAvatars.window__headerBox--team{padding-bottom:15px}.window--circle .window__headerBox.window__headerBox--hasAvatars{padding-bottom:21px}.window--circle .window__headerBox.window__headerBox--empty{border-bottom:none}.window--circle .header-operator{margin-bottom:17px}.body__dialog .window--bubble .window__title,.body__dialog-menu .window--bubble .window__title{visibility:visible;opacity:1}.window--bubble:hover .window__title{visibility:visible;opacity:1;transition:opacity .4s cubic-bezier(.785,.135,.15,.86)}.window--mobile .window--bubble .window__title{visibility:visible;opacity:1}.window--bubble .header__avatar{position:absolute;top:-45px;left:50%;margin-left:-42px}.window--bubble .header__avatarImage{display:block;border-radius:100%;width:85px;height:85px;border:1px solid #000004}.window--bubble .header__agentInfo{text-align:center;margin-top:35px}.window--bubble .header__agentName{font-size:1.2rem;color:#000}.window--bubble .header__agentTitle{font-size:.933333rem;color:rgba(0,0,0,.3)}.window--bubble .header__agentBio{font-size:.933333rem;color:rgba(0,0,0,.5);margin-top:5px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-height:20px;max-height:80px;-webkit-line-clamp:4;-webkit-box-orient:vertical}.window--bubble .icon-close,.window--bubble .icon-embedded,.window--bubble .icon-minimize,.window--bubble .icon-popup{color:#fff;font-size:.8rem}.window--bubble .window__operation{border-radius:10px;padding:0 5px}.window__operation .header__operationContainer{position:relative;height:20px;text-align:right}.window--bubble .window__operation .header__operationContainer>a,.window--bubble .window__operation .header__operationContainer>button,.window--bubble .window__operation>button{padding:2px 4px}.window--bubble .main-container .window__title{right:4px;z-index:2147483645}.window--bubble .window__headerBox{padding-bottom:0}.window--bubble .header-operator{border-bottom:1px solid #ddd;padding-bottom:28px}.window--ie .window--classic .window__headerBox--banner{display:block}.window--bubble .window__ssologin{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1;padding:28px 40px}.window--bubble .window__ssologin.window__ssologin--animation{animation-delay:.3s}.window--circle .window__ssologin,.window--classic .window__ssologin,.window--mobile:not(.window--ipad) .window--bubble .window__ssologin{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-top:0}.window--circle .window__ssologin.window__ssologin--animation,.window--classic .window__ssologin.window__ssologin--animation,.window--mobile:not(.window--ipad) .window--bubble .window__ssologin.window__ssologin--animation{animation:ssologinAnimate 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window__ssologin--animation{animation:none!important}@keyframes ssologinAnimate{0%{opacity:0;transform:translate(-50%,0)}to{opacity:1;transform:translate(-50%,-50%)}}.window__ssologinError{font-size:.933333rem;line-height:18px;color:#de3939;margin-bottom:26px}.window__ssologinGreeting{font-size:.93333333rem;line-height:1.21;color:#333;margin-bottom:53px;text-align:center}.window__ssologinForm{text-align:center}.window__ssologinOperation{display:block;margin:0 auto 26px;overflow:hidden;text-overflow:ellipsis}.window__ssologinOperation:last-child{margin-bottom:0}.prechatForm__social{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.form-fields--horizonal .prechatForm__social{-ms-flex-pack:left;justify-content:left}.prechatForm__social .prechatForm__socialBtn{border:none;color:#fff;fill:#fff;border-radius:5px;font-size:14px;line-height:18px;-ms-flex-align:center;align-items:center;margin-right:12px;-ms-flex:1 1 350px;flex:1 1 350px;height:30px;max-width:130px;display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-wrap:wrap;flex-wrap:wrap;cursor:pointer}.nps .npsItem:last-child,.prechatForm__social .prechatForm__socialBtn:last-child{margin-right:0}.prechatForm__socialBtn svg{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.prechatForm__socialBtn span{display:block;-ms-flex-negative:1;flex-shrink:1;-ms-flex-positive:1;flex-grow:1;line-height:1.29;font-size:.9333333rem;-ms-transform:translateX(-10px);transform:translateX(-10px)}.prechatForm__socialBtn.socialBtn--simple{width:30px;height:30px;-ms-flex-positive:0;flex-grow:0;margin-right:10px;-ms-flex-preferred-size:30px;flex-basis:30px}.socialBtn--simple svg{height:30px}.socialBtn--simple span{display:none}.form-fields--horizonal .prechatForm__socialBtn span{line-height:1.25;font-size:.8rem}.prechatForm__socialBtn svg{height:24px;width:24px;margin-left:6px;margin-top:6px}.window--ie .form-fields--horizonal #social-login-icons{-ms-flex:0 0 70px;flex:0 0 70px}.prechatForm__login{color:#bbb}.prechatForm__divide{font-size:.8rem;position:relative;display:block;text-align:center;margin-top:10px;margin-bottom:20px;color:#626262}.prechatForm__divide::after,.prechatForm__divide::before{border-top:1px solid #ddd;width:40%;position:absolute;top:9px;content:''}.prechatForm__divide::before{left:0}.prechatForm__divide::after{right:0}.loading{display:block;background-size:50px}.icon-facebook{margin-right:10px;color:#39599c}.window--rtl .icon-facebook{margin-left:10px}.ssologin .window__ssologinForm{margin-bottom:30px}.captcha{perspective:100px;perspective-origin:left}:not(.window--ie) .window--rtl .captcha{perspective-origin:right}.window--edge .window--rtl .captcha,.window--ie .window--rtl .captcha{perspective-origin:0}.captcha>:first-child{transform:translateZ(-15px)}.window--bubble .captcha>:first-child{transform:translateZ(-13px)}.window--bubble.window--rtl .captcha>:first-child{transform:translateZ(-40px)}.form-fields--horizonal .captcha>:first-child{transform:translateZ(-70px)}.window__form_popout .captcha>:first-child{transform:translateZ(-8px)}.window__form_popout .form-fields--horizonal .captcha>:first-child{transform:translateZ(-53px)}.window__formContainer--bubble{overflow:hidden;overflow-y:auto;padding:0 27px;-ms-flex-positive:1;flex-grow:1;margin-top:30px}.window__form{overflow:auto;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;width:100%;padding:25px 45px 0;overflow-x:hidden}.window__form--animation{animation-delay:.3s}.window--ie .window__form--animation{animation:none}.window--bubble .window__form{padding:30px 17px 0 19px;border-radius:5px;-ms-flex-negative:0;flex-shrink:0;position:relative;margin-bottom:12px;overflow:visible}.window--circular .window--bubble .window__form{border-radius:20px}.window--mobile .window--bubble .icon-bubble-line{left:10px}.window--bubble .window__form .icon-bubble-line{position:absolute;left:-10px}.window--bubble .window__form .icon-bubble-line .bubbleline1{fill:#fff;stroke:#ddd;stroke-width:2px}.window--bubble .icon-bubble-line::before{color:#ddd}.window__formGreeting{font-size:.933333rem;line-height:1.285714;color:#666;margin-bottom:25px;word-wrap:break-word;word-break:break-word}.window__formGreeting a{color:#666;border-bottom:1px solid rgba(102,102,102,.6)!important}.window__chat .window__formGreeting{text-align:center}.window__formError{font-size:.933333rem;line-height:18px;color:#de3939;margin-bottom:26px}.form-fields .box-field{margin-bottom:15px}.form-fields .box-field input[type=file]{width:100%}.form-fields.form-fields--horizonal .box-field div.field-name+:not(.container-checkbox){-ms-flex-preferred-size:calc(100% - 80px);flex-basis:calc(100% - 80px)}#postchat-window .form-fields.form-fields--horizonal .box-field div.field-name+:not(.container-checkbox){max-width:calc(100% - 60px)}.form-fields.form-fields--horizonal .box-field input[type=file]{width:calc(100% - 80px)}.form-fields--horizonal .box-field{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap}.form__inputContainer{position:relative;text-align:center}.fieldControl__Ticket{display:-ms-flexbox;display:flex}.form-fields--horizonal .fieldControl__Ticket{-ms-flex-positive:1;flex-grow:1}.form__ticketPrefix{-ms-flex-negative:0;flex-shrink:0;line-height:35px;font-size:.934rem}.window--bubble .form-fields:not(.form-fields--horizonal) .fieldControl__Ticket .form__input--ie10{width:120px}.fieldControl__Ticket .form__inputContainer,.form-fields--horizonal .form__inputContainer,.form-fields--horizonal .multipleText,.form-fields--horizonal .select-box{-ms-flex-positive:1;flex-grow:1}.form-fields .field-name{margin-bottom:10px;color:#626262;word-wrap:break-word}.form-fields .checkbox__text{color:#626262;font-size:.8rem;font-family:'SourceSans Pro Bold',Arial;line-height:1rem;width:100%}.form-fields .container-checkboxlist .container-checkbox{display:block}.form-fields .container-checkboxlist>div+div{margin-top:6px}.form-fields .container-checkboxlist .checkbox__text{color:#333;text-transform:none;font-weight:400;font-size:.933333rem;line-height:1.2rem;font-family:'SourceSans Pro',Arial}.form-fields .field-control{-ms-flex-positive:1;flex-grow:1}.form-fields .field-control-password{position:relative}.form-fields .field-control-password input{padding-right:40px}.form-fields .field-control-password input[type=password]::-ms-reveal{display:none}.form-fields .field-control-password input[type=password]::-ms-clear{display:none}.form-fields .field-control-password input[type=password]::-o-clear{display:none}.form-fields .field-control-password .svg-icon{fill:#bebebe;position:absolute;top:0;right:10px;display:inline-block;width:40px;height:35px;margin-right:-10px;padding:7.5px 10px;font-size:35px;transition:fill .2s cubic-bezier(.4,0,.2,1) 0s;user-select:none}.form-fields.form-fields--horizonal .field-control,.form-fields.form-fields--horizonal .fieldControl__Ticket,.window--ie10 .fieldControl__Ticket .field-control,.window--ie10 .form-fields--horizonal .select-box{-ms-flex-negative:1;flex-shrink:1}.form-fields--horizonal .field-name{margin-bottom:0;margin-right:10px;-ms-flex:1 0 80px;flex:1 0 80px;max-width:80px;display:-ms-flexbox;display:flex}.form-fields--horizonal .field-name .field__label{display:inline-block;max-width:80px}.form-fields--horizonal .field-name.checkbox-label{-ms-flex-preferred-size:unset;flex-basis:unset;max-width:none;-ms-flex-negative:1;flex-shrink:1;display:none}.form-fields--horizonal .field-name.checkbox-label .field__label{max-width:none}.form-fields--horizonal .form__ticketPrefix{-ms-flex-negative:0;flex-shrink:0}.form-fields .field__requiredTag{margin-right:4px;margin-left:-7px;font-size:.8rem;line-height:1rem;fill:#ed1c24;vertical-align:middle;width:3px;height:15px;-ms-flex-negative:0;flex-shrink:0;float:left}.check-box .field__requiredTag{margin-top:2px}.window--rtl .form-fields .field__requiredTag{margin-left:4px;margin-right:-7px;float:right}.form-fields .field__label{font-size:.8rem;line-height:1rem;float:left;font-family:'SourceSans Pro Bold',Arial}.window--rtl .form-fields .field__label{float:right}.form-fields .field__requiredMsg{font-size:12px;color:#d31219;margin-top:4px}.form-fields .field__requiredMsg svg{fill:#d31219;overflow:visible;width:12px;height:12px;margin-right:4px}.filed__content .original_input{width:100%}.form-fields--horizonal .filed__content{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:100%}.form-fields--horizonal .field__requiredMsg:not(.field__requiredMsg--checkbox){margin-left:90px}.form__input{height:35px;width:100%}.form__textarea{height:auto}.form__submitContainer{position:relative;text-align:center;margin-top:30px;padding-bottom:30px}.bubble .form__submitContainer{padding:0;margin-top:23px}.form__submitContainer--loading .form__submit{animation-name:form__submit--loading;animation-duration:167ms}.form__layer-circle,.form__layer-success{position:absolute;left:50%;top:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);display:none}.form__submitContainer--loading .form__layer-circle,.form__submitContainer--loading .form__layer-success{display:block}.form__submitContainer--loading .form__submitCirclePath{stroke:#000001;stroke-width:3px;stroke-dasharray:100;stroke-dashoffset:100;fill:#fff;fill-opacity:0;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:form__submitCirclePath-dash;animation-duration:.5s;animation-delay:167ms}.window_botform{padding:0!important;height:100%}.window_botform .botform_title{margin:0 0 10px;text-align:center;color:#444648;font-size:16px}.botform__submitContainer{text-align:center;margin:10px 0 30px}.botform__submitContainer button{padding:5px 18px;border:1px solid #00000a;border-radius:5px;color:#fff;margin:0 4px;cursor:pointer;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:160px}.botForm__container,.botForm__content,.botForm__content_iframe,.botForm__content_webview{height:100%;overflow:auto}.botform__submitContainer button.btn-submit{background-color:#00000a;color:#00000e}.botform__submitContainer button.btn-cancel{background-color:#fff;color:#00000c}.botform__submitContainer button.btn-submit:focus,.botform__submitContainer button.btn-submit:hover{background-color:#000003;border-color:#000003}.botform__submitContainer button.btn-cancel:focus,.botform__submitContainer button.btn-cancel:hover{color:#000003;border-color:#000003}.botform__submitContainer button[disabled]{background-color:#f5f5f5!important;color:#888!important;border-color:#b5b1b1!important;cursor:default}.botconfirm_list li p{font-family:'SourceSans Pro',Arial;color:#333}.botconfirm_list li p:first-child{font-family:'SourceSans Pro Bold',Arial}@keyframes form__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}.form__submitContainer--loading .form__submitSuccessPath{fill:#00000a;stroke-width:1;-ms-transform:scale(0);transform:scale(0);opacity:0;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:form__submitSuccessPath-animation;animation-duration:.5s;animation-delay:542ms}@keyframes form__submitSuccessPath-animation{0%{transform:scale(0);transform-origin:50% 50%;opacity:0}100%{transform:scale(1);transform-origin:50% 50%;opacity:1}}.botForm__content_webview{width:100%}.botForm__content_iframe{width:100%;border:none}.form__gradient--white{position:absolute;height:25px;width:100%;bottom:0;background-image:linear-gradient(to bottom,transparent,rgba(255,255,255,.97) 86%,#fff)}.container-checkbox span,.control span{display:inline-block}.form-fields--horizonal .form__attachmentContainer{height:36px}.form-fields--horizonal .form__attachmentContainer input[type=file]{position:absolute;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%)}.window_sendForm{padding:0!important;height:100%}.window_sendForm .sendForm_title{margin:0 0 10px;text-align:center;color:#444648;font-size:16px}.sendForm__submitContainer{text-align:center;margin:10px 0 30px}.sendForm__submitContainer button{border:1px solid #00000a;margin:0 4px;cursor:pointer;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:160px;border-radius:4px;color:#fff;padding:6px 18px}.sendForm__submitContainer button.btn-submit{background-color:#00000a;color:#00000e}.sendForm__submitContainer button.btn-cancel{background-color:#fff;color:#00000c;border:1px solid #00000c}.sendForm__submitContainer button.btn-submit:focus,.sendForm__submitContainer button.btn-submit:hover{background-color:#000003;border-color:#000003}.sendForm__submitContainer button.btn-cancel:focus,.sendForm__submitContainer button.btn-cancel:hover{color:#000010;border-color:#000010}.sendForm__submitContainer button[disabled]{background-color:#f5f5f5!important;color:#888!important;border-color:#b5b1b1!important;cursor:default}.sendForm__container,.sendForm__content{height:100%;overflow:auto}.sendForm__container .form-note{padding-left:20px}.sendFormConfirm_list li p{font-family:'SourceSans Pro',Arial;color:#333}.sendFormConfirm_list{padding:20px;min-width:190px}.sendFormConfirm_list li{margin-bottom:10px}.sendFormConfirm_list li p{margin:0}.sendFormConfirm_list li p:first-child{font-family:'SourceSans Pro Bold',Arial;color:#666;margin:0}.invitation__name,.nps .npsItem{font-family:\"SourceSans Pro Bold\",Arial}.form-note,.nps .npsItem{color:#626262;font-size:12px}.form-note{display:block;margin-bottom:8px}.emoji,.nps{display:-ms-flexbox}.nps{display:flex;-ms-flex-pack:distribute;justify-content:space-around}.nps .npsItem{height:22px;width:22px;border:none;background:#e8e8e8;border-radius:100%;overflow:hidden;cursor:pointer;position:relative}.nps .npsItem--selected,.nps .npsItem:hover{background:#00000a;color:#00000e}.nps .npsItem svg{position:relative;width:100%;height:100%;fill:#e8e8e8;border-radius:50%}.nps .npsItem--selected svg,.nps .npsItem:hover svg{fill:#00000a;color:#000004}.nps .npsItem .npsItem-label{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:100%}.nps__label{font-size:11px;color:#626262;word-wrap:break-word}.nps__label--left{float:left;margin-top:5px;width:50%;padding-right:8px}.nps__label--right{float:right;margin-top:5px;width:50%;padding-left:8px;text-align:right}.window--rtl .nps .npsItem:last-child{margin-right:2px}.window--rtl .nps__label--left{float:right;padding-right:0;padding-left:8px}.window--rtl .nps__label--right{float:left;text-align:left;padding-left:0;padding-right:8px}.window--mobile .nps .npsItem:hover{background:#e8e8e8;color:#626262}.window--mobile .nps .npsItem--selected{background:#00000a!important;color:#000004!important}.form-fields--horizonal .nps .npsItem{height:13px;width:13px;line-height:13px}.emoji{position:absolute;left:0;bottom:0;box-shadow:var(--shadow2-color);border-radius:4px;overflow:hidden;background-color:var(--whitePopup-color);--scrollbar-width:8px;--emoji-width:32px;--emoji-height:32px;--emoji-list-padding:12px;--emoji-category-title-height:22px;--emoji-font-size:22px;--emoji-column-count:8;--emoji-row-count:8;--emoji-list-width:var(--emoji-width) * var(--emoji-column-count) + var(--emoji-list-padding) * 2;--emoji-list-height:var(--emoji-height) * var(--emoji-row-count) + var(--emoji-category-title-height);--black-color:#000000;--white-color:#FFFFFF;--whiteFixed-color:#FFFFFF;--whiteFixed8-color:rgba(255, 255, 255, 0.08);--whiteFixed12-color:rgba(255, 255, 255, 0.12);--whitePopup-color:#FFFFFF;--blackLight-color:rgba(33, 33, 33, 0.2);--blackMid-color:#999999;--blackDark-color:#595959;--blackFixed-color:#212121;--blackToast-color:rgba(33, 33, 33, 0.8);--grey8-color:rgba(114, 114, 114, 0.08);--greyN2bg-color:#FCFCFC;--greyBackground-color:#F0F0F0;--greyMenu-color:#F0F0F0;--shadow1-color:0px 1px 6px 0px rgba(0, 0, 0, 0.2);--shadow2-color:0px 2px 6px 0px rgba(0, 0, 0, 0.08);--shadow3-color:1px 2px 12px 0px rgba(0, 0, 0, 0.16);--greyScrollbar-color:#BCBBBA;--greyScrollbarHover-color:#A1A1A1;--greyToast-color:#D3D3D3;--tableTitle-color:#EDEDED;--bubbleBackground-color:#FFFFFF;--replyBackground-color:#F0F0F0;display:flex;-ms-flex-flow:column;flex-flow:column}.emoji__scroll-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:var(--emoji-list-padding);width:calc(var(--emoji-list-width));height:calc(var(--emoji-list-height))}.emoji__cell{font-family:var(--emoji-font);font-size:var(--emoji-font-size);width:var(--emoji-width);height:var(--emoji-height);line-height:1;-ms-flex-preferred-size:var(--emoji-width);flex-basis:var(--emoji-width);display:-ms-flexbox;display:flex;-ms-flex:none;flex:none;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;user-select:none;text-decoration:none;outline:0;border-radius:4px;padding:4px}.emoji__cell img{width:100%;height:100%}.emoji__cell.emoji__cell--selected,.emoji__cell:focus,.emoji__cell:hover{outline:0;background-color:rgba(114,114,114,.08);text-decoration:none}.window__chat{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;overflow:overlay;overflow-x:hidden!important;-webkit-overflow-scrolling:touch;width:100%;padding:18px 27px 0;margin-bottom:0}.chat__greetingContainer .window__chatSystemMessage,.chat__greetingContainer .window__formGreeting{margin-bottom:0;color:#666}.chat__greetingContainer .window__chatSystemMessage a[href],.chat__greetingContainer .window__formGreeting a[href]{color:#00000a;border-bottom:1px solid #00000a!important}.window--mobile .window--bubble .chat__greetingContainer{margin-bottom:16px}.window__chat--animation{animation-delay:.3s}.window--ie .window__chat--animation{animation:none}.window__chatSystemMessage{color:#626262;font-size:14px;text-align:center;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);word-wrap:break-word}.window--bubble .window__chat .window__chatSystemMessageContent{display:inline-block;background:#f8f8f8;line-height:1.57;padding:8px 14px;border-radius:5px;max-width:240px}.window__chatSystemMessage a,.window__chatSystemMessage a[href]{color:#00000c;border-bottom:1px solid #00000c}.window__chatSystemMessage a:hover,.window__chatSystemMessage a[href]:hover{color:#000010;border-bottom:1px solid #000010}.window__chatSystemMessage svg{fill:#00000c;position:relative;top:6px;right:3px}.window__chatSystemMessage svg:hover{fill:#000010}.window__chatAgent,.window__chatVisitor{display:-ms-flexbox;display:flex;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);position:relative}.window__chat>div>div+div>.chat-message-time,.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window__chat>div{padding-bottom:16px}.window__chat>div>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div+div{margin-top:16px}.window__chat>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--ie .window__chatAgent,.window--ie .window__chatSystemMessage,.window--ie .window__chatVisitor{animation:none}.window__chatVisitor{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.agentMessage__avatar{margin-right:15px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-negative:0;flex-shrink:0}.agentMessage__avatarImg{display:block;width:30px;height:30px;border-radius:100%;margin-bottom:15px}.agentMessage__pci{background:#f0f0f0;border:1px solid #ddd;border-radius:4px;padding:23px 20px 12px}.agentMessage__pciField{margin-bottom:7px;color:#888}.agentMessage__pciControl{margin-bottom:12px}.agentMessage__pciControl .form__input{height:30px;line-height:30px;width:calc(100% - 20px)}.window__chatAgentMessage p{margin:0}.window--circular .window__chatAgentMessage,.window--circular .window__chatVisitorMessage{border-radius:20px}.window__chatAgentMessage,.window__chatVisitorMessage{position:relative;font-size:.93333333rem;line-height:1.57;padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5}.window__chatAgentMessage_container{max-width:640px}.window__chatAgentMessage_container .chat-message-extra-info{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:4px}.window__chatAgentMessage_container .chat-message-extra-info>.chat-message-time{margin-left:8px}.window__chatAgentMessage_container .window__chatAgentMessage{max-width:100%;display:inline-block;border-top-left-radius:0;border-bottom-left-radius:5px}.window--mobile .window__chatAgentMessage{border:1px solid #f5f5f5}.window__formMessageContainer{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.window__formMessage{padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5;width:100%;max-width:600px}.window__formMessage .window__formGreeting{text-align:left;color:#000}.window--ie .window__chatVisitorMessage{margin-left:auto}.window__chatAgentMessage{border-top-left-radius:0}.window__chatVisitorMessage{background-color:#000001;color:#000;border-top-right-radius:0;margin-left:67px;max-width:640px}@keyframes bounceOut{20%{width:5px;height:5px;border-radius:5px;opacity:1}50%,55%{width:8px;height:8px;border-radius:8px;opacity:1}to{width:2px;height:2px;border-radius:2px;opacity:0}}.dot_container{width:20px;height:20px;position:absolute;left:-20px;bottom:19px}.message--notSeen,.message--seen{display:inline-block;background:#00000c;width:6px;height:6px;border-radius:6px;position:relative;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);fill:#00000c}.message--seen{animation:bounceOut .5s linear forwards}.window--rtl .dot_container{left:-35px}.window--ie9 .message--seen{display:none}.file__icon--cancel{float:right}.file__icon--cancel svg{width:12px;height:12px;fill:#00000c}.file__icon--cancel svg:hover{fill:#000010}.window__chatMessageOrignal{display:block;opacity:.85}.window__chatMessageTranslatedTag{display:inline}.window__chatAgentMessage img:not(.emoji-char){display:inline-block}img.emoji-char{height:1.2em;width:1.2em;margin:0 .05em 0 .1em;vertical-align:-.2em}img.emoji-char-large{height:2em;width:2em;margin:0 .05em 0 .1em;vertical-align:-.2em}.invitation__message img.emoji-char-large,.window__chatMessageOrignal img.emoji-char-large{height:1.2em;width:1.2em;margin:0 .1em;vertical-align:-.2em}.window__chatAgentMessage .chatMessage__questionList li{color:#323dbf;line-height:1;margin-bottom:10px}.window__chatAgentMessage .chatMessage__questionList li span{margin-right:5px;display:inline-block;-ms-flex-negative:0;flex-shrink:0}.window__chatAgentMessage .chatMessage__questionList li:last-child{margin-bottom:0}.window__chatAgentMessage .chatMessage__questionList li a[href]{border-bottom-color:transparent}.window__chatAgentMessage .chatMessage__questionList li a[href]:active,.window__chatAgentMessage .chatMessage__questionList li a[href]:focus,.window__chatAgentMessage .chatMessage__questionList li a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.window__chatAgentMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatAgentMessage a[href]:active,.window__chatAgentMessage a[href]:focus,.window__chatAgentMessage a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.chat-message--img a,.chat-message--video video{min-width:60px!important;min-height:60px!important;border-bottom:none!important;overflow:hidden}.chat-message--img a{max-width:200px!important;max-height:200px!important;display:block}.chat-message--video video{max-width:250px!important;max-height:250px!important}.invitation__image,.invitation__name,.pasteImage img,.window__chatAgentMessage a,.window__chatVisitorMessage a{max-width:100%}.chat-message--img .image-container{margin:0 auto;height:100%}.chat-message--img img,.chat-message--video video{display:block;margin:0 auto;border:none}.window__chatVisitorMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatVisitorMessage a[href]:hover{border-bottom-color:#323dbf}.window__chatVisitorMessage button{border:none;background:0 0;margin:5px 0 0 9px;cursor:pointer}@keyframes message--show{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}.chat-time{opacity:0;color:#fff;font-size:.8rem;background:rgba(0,0,0,.6);padding:0 5px;line-height:17px;height:17px;border-radius:8px;transition:opacity 50ms linear;position:absolute;z-index:1}.chat-message-time{font-size:12px;font-family:\"SourceSans Pro\",Arial;color:#626262}.window__chatAgentName,.window__chatVisitorName{font-size:12px;font-family:\"SourceSans Pro\",Arial;color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--classic .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.chat-message--img,.window__chatAgentMessage.chat-message--video,.window__chatVisitorMessage.chat-message--video{padding:0}.window__chatAgentMessage{background:#fff;color:#000}.window__chatAgentMessage--file .icon-sendfile,.window__chatVisitorMessage--file .icon-sendfile{position:relative;top:3px;margin-right:5px;font-size:15px;color:#00000c}.window__chatAgentMessage--file a[href],.window__chatVisitorMessage--file a[href]{border:none}.kbsearch__container .window_chatError,.window--mobile .kbsearch__container .window_chatError,.window--mobile .window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 88px)}.window_chatError{position:absolute;z-index:99;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%);padding:10px 47px 10px 18px;box-shadow:0 0 5px rgba(0,0,0,.1);font-size:.8rem;line-height:1.17;text-align:left;bottom:0;width:calc(100% - 54px);border-radius:5px}.form-bottom .window_chatError{width:100%}.window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 38px)}.window--circular .window_chatError{border-radius:20px}.chatError__container{position:absolute;top:-20px;width:100%}.window_chatErrorClose{position:absolute;right:15px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);line-height:12px;cursor:pointer;background:0 0;border:none}.window_chatErrorClose svg{width:12px;height:12px}.window_chatError--urgency .window_chatErrorClose svg{fill:#BF0007}.window_chatError--mitigate .window_chatErrorClose svg{fill:#A05700}.window_chatError i{vertical-align:bottom}.window_chatError--mitigate{background:#fff6eb;border:1px solid #fff6eb;color:#A05700}.window_chatError--urgency{background:#fff2f2;border:1px solid #ffd6d8;color:#BF0007}.window--bubble .window__chatAgentMessage--file,.window--circle .window__chatAgentMessage--file::before{color:#000004}.window--circle .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window__chat>div{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--bubble .window__chatAgent{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.window--bubble .window__chatVisitor{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.window--bubble .chat-time{font-size:.8rem;padding:0 5px;top:0}.window--bubble .icon-bubble-line{position:absolute;width:10px;bottom:-1px}.window--bubble .icon-bubble-line .svgPath{width:auto;height:auto}.window--bubble .window__chatVisitorMessage{max-width:calc(100% - 50px)}.window__chatVisitorMessage .chat-message--loading{position:absolute;left:-30px;top:50%;margin-top:-11px}.window--bubble .window__chat{padding:30px 15px 0 27px;margin-bottom:0;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.window--bubble .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window--bubble__messageNoAvatar{margin-left:0;padding-left:15px;display:block}.chatMessage__questionList{margin-top:19px}.chatMessage__questionList li>a{display:inline}.chatMessage__questionList--disc{list-style-type:disc;padding-left:20px}.window__chatAgentMessage .chatMessage__questionList.chatMessage__questionList--disc li{display:list-item}.window__chatAgentMessage .btn{margin-top:16px}.chatMessage__chatBotRate__wrapper{position:absolute;right:-50px;bottom:0;width:40px}.chatMessage__chatBotRate{margin-left:10px;-ms-flex-item-align:end;align-self:flex-end}.chatMessage__chatBotRate>button{width:20px;height:20px;border-radius:20px;background-color:#fff;cursor:pointer;font-size:10px;border-width:0;display:block}.chatMessage__chatBotRate .icon{width:20px;line-height:20px;color:#626262}.chatMessage__chatBotRate>button:hover{background-color:#00000c}.chatMessage__chatBotRate>button:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover{background-color:#00000c;color:#fff;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover{background-color:#e8e8e8;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover .icon{color:#626262}.chatMessage__chatBotRate>button.chatMessage__chatBotRateLast{margin-top:5px}.window__chatWithAgent{z-index:9;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px;height:23px;text-align:center;padding-right:15px;padding-left:15px;background:0 0;border:none;cursor:pointer}.window__chatWithAgent--above:focus,.window__chatWithAgent--above:hover{border:1px solid #000003;color:#000003}.window__chatWithAgent--above{padding:4.5px;font-size:.8rem;line-height:1.25;height:27px;width:175px;border-radius:5px;border:1px solid #00000a;color:#00000a;background-color:#fff;position:absolute;top:-37px;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%)}.window--circular .window__chatWithAgent--above{border-radius:20px}.window__chatWithAgent--bottom:focus,.window__chatWithAgent--bottom:hover{color:#000003}.window__chatWithAgent--bottom{color:#00000a;font-size:.8rem;line-height:1.12;height:1rem;padding-left:12px;float:left}.window__chat .dot{position:relative;top:-3px}.window__chat .dot__element{display:inline-block;width:4px;height:4px;border-radius:100%;margin-right:5px;background:#000005;fill:#000005}@media screen and (-ms-high-contrast:active){.window__chat .dot__element{background:#fff;fill:#fff}}.window__chat .dot__element:last-child{margin-right:0}.amimated-infinite{-webkit-animation-iteration-count:infinite}.amimated-infinite,.animated.infinite,.window__chat .dot__element--loadingAnimation{animation-iteration-count:infinite}@keyframes dot__element--loadingAnimation{0%,100%,50%{transform:translateY(0)}25%{transform:translateY(-8px)}}.window__chat .dot__element--loadingAnimation{animation-name:dot__element--loadingAnimation;animation-duration:1s}.window--ie .webView_background .webView_scroll_container,.window--ie .window__chat .dot__element--loadingAnimation{animation:none}.window--bubble .chat-message--imgLoading,.window--circle .chat-message--imgLoading,.window--classic .chat-message--imgLoading{width:62px;height:62px;text-align:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.chat-message__secure-form span{display:block;position:absolute;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%;left:50%}.postchatFormContainer{position:absolute;top:80px;bottom:30px;overflow:auto;overflow-x:hidden;padding:30px 50px;width:100%;-ms-transform:translateY(450px);transform:translateY(450px);opacity:0}*,.window__ssoLogin{-webkit-overflow-scrolling:touch}.postchatFormContainer__greeting{margin-bottom:20px}.postchatFormContainer__submitContainer{text-align:center}@keyframes fadeInUp--windowFormContainer{0%{opacity:0;transform:translateY(375px)}100%{opacity:1;transform:translateY(0)}}.window__ssoLogin{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow-y:scroll}.window__ssoLogin iframe{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;background-color:#fff}.window--bubble .window__ssoLogin{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:1;flex-grow:1}.window--bubble .window__ssoLogin iframe{display:block;width:100%;height:100%;min-height:456px;background-color:#fff}.window_buttons_container .window_buttons_item{margin-top:12px;text-align:center;cursor:pointer}.window_buttons_container .window_buttons_item li{min-width:150px;margin-top:4px}.window_buttons_container .window_buttons_item button{border:none;border-radius:4px;background:#00000a;color:#00000e;cursor:pointer;padding:7px 10px;width:100%}.window_buttons_container .window_buttons_item--active button:hover{background:#000003!important;color:#00000e}.window_buttons_container .window_buttons_item--disable button{background-color:#e8e8e8!important;color:#626262!important;cursor:default}.webView_background{position:absolute;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);border-radius:5px 5px 0 0;z-index:1000}.webView_background .webView_scroll_container{width:100%;position:absolute;height:100%;bottom:0;max-height:100%;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.webView_background .webView_scroll_container--compact{max-height:300px}.webView_background .webView_scroll_container--full{max-height:530px}.webView_background .webView_scroll_container--tall{max-height:415px}.webView_background .webView--scroll{width:100%;position:relative;height:calc(100% - 40px);overflow:-moz-scrollbars-none;-ms-overflow-style:none}.webView_background .webView__title{width:100%;text-align:center;background-color:#fff;height:40px;border-bottom:1px solid #ddd;line-height:40px;border-radius:5px 5px 0 0}.webView_background .webView__title h1{font-weight:400;margin:0;width:200px;font-size:inherit;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.webView_background .webView__close{position:absolute;right:10px;cursor:pointer;z-index:9999;fill:#5d5d5d;background:0 0;border:none;padding:6px 16px 0;width:44px;height:40px;top:0}.webView_background .webView__close svg{width:13px;height:13px}.webView_background .webView{background:#fff}.webView_background .webView .box-field{margin-top:15px;padding:0 30px}.webView_background .webView__content{height:100%}.window--bubble .webView_scroll_container--compact{max-height:330px}.window--bubble .webView_scroll_container--full{max-height:560px}.window--bubble .webView_scroll_container--tall{max-height:445px}.window--bubble .webView_scroll_container{padding-top:30px}.window--bubble .webView__close{top:30px}.window_quick_reply_container_box{width:100%;display:-ms-flexbox;display:flex;padding:0 16px;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around}.window_quick_reply_container_box i{cursor:pointer}.window_quick_reply_container_box .window_quick_reply_buttons_item{width:auto;min-width:75px;background-color:#fff;color:#00000c;border:1px solid #00000c;cursor:pointer;height:25px;display:inline-block;padding:0;overflow:hidden;max-width:260px;line-height:25px;white-space:nowrap;margin-right:12px;border-radius:4px;margin-bottom:12px;text-overflow:ellipsis}.poweredby a[href]:active,.poweredby a[href]:focus,.poweredby a[href]:hover,.window__chatAgentMessage .window_botAnswer_richText a[href]{border-bottom:none}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner{background-color:#000012;width:100%;height:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner>span{display:inline-block;padding:0 12px;font-weight:600;height:100%;width:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item:hover{background-color:#00000c;color:#fff}.window_quick_reply_container_box .window_quick_reply_buttons{width:100%;margin:0;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-align:center;align-items:center;padding-left:0;-ms-flex-line-pack:center;align-content:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:flex-start;display:-ms-flexbox;display:flex}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item>.window_quick_reply_buttons_item{margin:0}.window_quick_reply_container_box .window_quick_reply button:last-child{margin-right:0}.window_quick_reply_container_box .window_quick_reply_control+.window_quick_reply{width:calc(100% - 40px)}.botconfirm_list{padding:20px;min-width:190px}.botconfirm_list li{margin-bottom:10px}.botconfirm_list li p{margin:0}.botconfirm_list li p:first-child{color:#666;margin:0}.window__chatAgentMessage .window_botAnswer_richText a[href]:hover{border-bottom:1px solid #323dbf}.window__chatAgentMessage .window_botAnswer_richText--disable a[href^=\"intent:\"]{color:#888}.visually-hidden{width:1px;height:1px}.visually-hidden:focus,.visually-hidden:hover{outline:0;border:none}.window__chatAgentMessage.bot_item_content.chat-message--img{padding:1px}.window__chatAgentMessage.bot_item_content.chat-message--img a{max-width:244px!important;min-height:10px!important}.chatInputContainer{position:relative;-ms-flex-negative:0;flex-shrink:0}.chatInputLabel{visibility:hidden;position:absolute;left:-10000px}.chatInputContainer--fadeInUp{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3}.window--ie .chatInputContainer--fadeInUp{animation:none}.chat-input__controlbox{padding:10px 8px 10px 0;display:-ms-flexbox;display:flex}.textareaContainer{-ms-flex-positive:1;flex-grow:1}.window--rtl .chat-input__controlbox{-ms-flex-pack:end;justify-content:flex-end}.window--rtl .chat-input__controlbox--noTool .window__chatInputControl{padding-right:8px}.window__chatInputControl{display:block;width:100%;padding-top:0;padding-bottom:0;font-size:1.06667rem;color:#333;outline:0}.embedded-window:not(.window--mobile) .window__chatInputControl{font-size:1rem}.chatInput--ripple{position:absolute;border-radius:50%;width:50px;height:50px;background:#ddd;animation:chatInput--ripple 2s}@keyframes chatInput--ripple{from{transform:scale(1);opacity:.4}to{transform:scale(100);opacity:0}}.chatInputContainer--hide{height:0!important;width:0!important;visibility:hidden}.chatInputContainer--hide+div>.footer{background:0 0!important}.chatInputContainer{height:auto;padding-right:2px}.window--mobile .chatInputContainer--active .window__chatInputControl,.window--mobile .window__chatInputControl:focus{border-top:none;box-shadow:initial;transition:none}.window__chatInput--Drag::before{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;background:rgba(250,245,205,.85);z-index:99;text-align:center;color:#d2b067;font-size:2.133333rem}.chat-input__toolbox{animation:fadeIn .5s;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-item-align:end;align-self:flex-end;user-select:none;-moz-user-select:none}.window--ie .invitation-showType,.window--ie .invitation__message,.window--ie .invitation__name{animation:none}.chat-input__toolbox button{cursor:pointer;background:0 0;width:36px;height:36px;margin:2px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border-radius:100%;border:1px solid transparent}.chat-input__toolbox button.chat-input__icon--disabled,.chat-input__toolbox button.chat-input__icon--disabled svg:hover,.chat-input__toolbox button.chat-input__icon--disabled:focus svg:hover{cursor:default}.chat-input__toolbox button:focus,.chat-input__toolbox button:hover{background-color:rgba(114,114,114,.08);border-radius:4px}.chat-input__toolbox button.window__chatSender--active svg,.chat-input__toolbox button:focus svg,.chat-input__toolbox button:hover svg{fill:#00000c}.chat-input__toolbox button svg{fill:#626262}.chat-input__toolbox button.chat-input__icon--disabled,.chat-input__toolbox button.chat-input__icon--disabled:focus{background:0 0}.chat-input__toolbox button.chat-input__icon--disabled svg,.chat-input__toolbox button.chat-input__icon--disabled:focus svg{fill:#bbb}.chat-input__toolbox button:last-child{margin-right:0}.chat-input__toolbox svg{width:20px;height:20px;color:#626262}.chat-input__toolbox .window__chatSender{position:unset}.global-showFocus .chat-input__controlbox button:focus{border-color:#000003}.window--bubble .chatInputContainer{box-shadow:initial;background:#f8f8f8;border-radius:5px 5px 0 0}.window--bubble .chatInputContainer+div>.footer{background:#f8f8f8}.window--circular.window--bubble .chatInputContainer{border-radius:20px 20px 0 0}.window--mobile .window--circular.window--bubble .chatInputContainer{border-radius:0}.window--mobile.window--ipad .chatInputContainer{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.window--mobile.window--ipad .window--circular .chatInputContainer{border-bottom-right-radius:20px;border-bottom-left-radius:20px}.window--mobile.window--ipad .window--bubble .bubble-box,.window--mobile.window--ipad .window--bubble .chatInputContainer,.window--mobile.window--ipad .window--circular.window--bubble .bubble-box,.window--mobile.window--ipad .window--circular.window--bubble .chatInputContainer{border-radius:0}.chatInputContainer--active .chat-input__controlbox{border-top-color:#000002}.chatInputContainer--typed .window__chatInputControl{padding-right:10px}.window__chatInputControl{border:none;background-color:transparent;padding:10px 10px 0 25px;max-height:84px;min-height:29px;overflow-y:hidden;overflow-x:hidden;height:29px;line-height:1.27}.window--circular.window--bubble .window__chatInputControl{padding-left:20px}.chat-input__limitNumSpan{position:absolute;right:40px;color:red;padding:2px 2px 4px;bottom:-4px}.window--classic .chat-input__limitNumSpan{right:20px}.window--bubble .chat-input__controlbox--limit .window__chatInputControl,.window--circle .chat-input__controlbox--limit .window__chatInputControl,.window--classic .chat-input__controlbox--limit .window__chatInputControl{padding-bottom:8px}.window--mobile .window--bubble .chat-input__controlbox--limit .window__chatInputControl,.window--mobile .window--circle .chat-input__controlbox--limit .window__chatInputControl,.window--mobile .window--classic .chat-input__controlbox--limit .window__chatInputControl{padding-bottom:0}.window--mobile .chat-input__limitNumSpan,.window--mobile .window--classic .chat-input__limitNumSpan{right:4px;bottom:0}.window--mobile .window__chatInputControl{border-radius:0}.pasteImageContainer{padding:0 50px 0 25px;-ms-flex-negative:1;flex-shrink:1;width:100%;height:84px;overflow-y:auto;display:-ms-flexbox;display:flex;ime-mode:disabled;outline:0}.pasteImageContainer::-webkit-scrollbar-thumb{background-color:#c8c8c8}.pasteImage{width:100%}.pasteImageClose{position:absolute;float:right;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;right:30px;top:15px}.displayNone,.window--mobile .window__footer{display:none}.pasteImageClose button{outline:0;border:none;height:20px;width:20px;background:0 0}.pasteImageClose svg{width:12px;height:12px;fill:#666;opacity:.7}.date-picker-container>.taskbot_submit_btn_container svg,.highContrast .calendar-container .date-picker-arrow,.pasteImageClose:hover svg{opacity:1}.pasteImageTemp{position:absolute;width:1;height:1;left:-1}.chat-input__toolbox-more{position:absolute;top:-52px;right:4px;background-color:#f8f8f8;border-radius:4px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:4px;z-index:99;transition:160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.chat-input__toolbox-more--icon-expand{-ms-transform:rotate(0);transform:rotateZ(0);transition:160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.chat-input__toolbox-more--icon-collapse{-ms-transform:rotate(45deg);transform:rotateZ(45deg);transition:160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.emoji-container{position:relative;bottom:40px;left:-280px}.footer-text-single-line{height:30px}.footer{-ms-flex-negative:0;flex-shrink:0;z-index:999;width:100%;padding-left:15px;padding-right:15px;font-size:.8rem;height:23px;background:0 0;border-radius:0 0 5px 5px}.invitation__message,.invitation__name{font-size:.933333333rem;color:#000004;overflow:hidden}.window--bubble .footer{margin-top:12px}.window--bubble .window__chat+div>.footer.footer--empty,.window--bubble .window__formContainer+div>.footer.footer--empty,.window--bubble .window__kb_formContainer+div>.footer.footer--empty{margin-top:0;height:0}.window--bubble .chatInputContainer+div>.footer{margin-top:0}.window--circular .footer{border-radius:0 0 20px 20px}.poweredby{height:23px;float:right}.poweredby a[href]{line-height:15px}.poweredby a[href] svg{height:15px;vertical-align:text-bottom}.poweredby a[href] svg polygon{fill:#ffd928}.poweredby a[href] svg path{fill:#626262}.footer-container{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.invitation{position:fixed;bottom:0;cursor:pointer;min-width:270px;border:none;box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15);margin:2.5px 7.5px 12.5px}.window--circular .invitation{border-radius:20px 20px 0}.window--chrome.invitation{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.invitation__name{line-height:1.21;text-overflow:ellipsis;white-space:nowrap;-ms-flex-positive:0;flex-grow:0}.invitation__message{line-height:1.57;padding:20px 35px;max-height:250px;min-height:95px;text-overflow:ellipsis;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;text-align:left;border:none;cursor:pointer;width:100%}.invitation__message a[href]{color:#000004}a[href].invitation__message:focus,a[href].invitation__message:hover{border:none}.global-showFocus a[href].invitation__message:focus{background-color:#000006}.window--circular .invitation__message{border-radius:20px 20px 0 0}.window--ie9 .invitation__message{display:block}.invitation__type{height:50px;line-height:1;padding:17.5px 27px;background:#f8f8f8;color:#333;font-size:1rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border:none;width:100%;text-align:left;border-radius:0 0 0 5px}button.invitation__type{cursor:pointer;padding:0 27px;color:#bbb}.invitation__type:focus{outline:0}.invitation__avatars{top:-15px;left:100px;position:absolute;z-index:99}.invitation__avatars img{width:28px;height:28px;border-radius:100%;border:1px solid #fff;margin-right:-5.5px}@keyframes invitation-show{0%{transform:scale(0);opacity:0;transform-origin:calc(100% - 29px) calc(100% + 18px)}100%{transform:scale(1);opacity:1;transform-origin:calc(100% - 29px) calc(100% + 18px)}}@keyframes invitation-showType{0%{transform:translateY(35px);opacity:0}100%{transform:translateY(0);opacity:1}}.invitation--coming .invitation:nth-child(2){animation:fadeOutUp 374ms linear both;z-index:2147483636}@keyframes fadeOutUp{from{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}.invitation--coming .invitation:nth-child(1){animation:invitation-show 375ms cubic-bezier(.785,.135,.15,.86) both;z-index:2147483636}.invitation__close{position:absolute;top:-4px;right:-4px;background:rgba(0,0,0,.6);border:none;z-index:1;width:21px;height:21px;cursor:pointer;border-radius:21px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.invitation__close:hover{background:#000}.invitation__close svg{fill:#000004;width:9px;height:9px;display:block;margin:5px}.invitation__image{display:block;max-height:500px;margin:auto}.invitation__container{border-radius:5px;overflow:hidden;width:100%}.window--mobile .window--bubble .window__chatOperationPlus,.window--mobile .window--bubble .window__chatSender,.window--mobile .window--circle .window__chatOperationPlus,.window--mobile .window--circle .window__chatSender,.window--mobile .window--classic .window__chatOperationPlus{display:block}.window--mobile .chatInputContainer{overflow:initial;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--mobile .chat-time{display:block}.window--mobile{background-color:rgba(0,0,0,.15);-webkit-backface-visibility:hidden}.window--mobileHorizontal .window--embedded,.window--mobileHorizontal .window--embedded .bubble-box,.window--mobileVertical .window--embedded,.window--mobileVertical .window--embedded .bubble-box{top:0;right:0;bottom:0;left:0;width:100%;height:100%}.window--rtl .container-checkbox i,.window--rtl .controlIndicator{left:auto;right:0}.window--mobileHorizontal .window--bio.window--circle,.window--mobileHorizontal .window--bio.window--circle .bubble-box,.window--mobileHorizontal .window--embedded .bubble-box.window--bio.window--circle,.window--mobileHorizontal .window--embedded .bubble-box.window--bio.window--circle .bubble-box,.window--mobileHorizontal .window--embedded.window--bio.window--circle,.window--mobileHorizontal .window--embedded.window--bio.window--circle .bubble-box,.window--mobileVertical .window--bio.window--circle,.window--mobileVertical .window--bio.window--circle .bubble-box,.window--mobileVertical .window--embedded .bubble-box.window--bio.window--circle,.window--mobileVertical .window--embedded .bubble-box.window--bio.window--circle .bubble-box,.window--mobileVertical .window--embedded.window--bio.window--circle,.window--mobileVertical .window--embedded.window--bio.window--circle .bubble-box{height:100%;top:0}.window--mobile .chat-input__controlbox{-ms-flex-positive:1;flex-grow:1;padding:10px 8px 20px 24px;border-top:solid;border-top-width:.5px;border-top-color:rgba(0,0,0,.2)}.window--mobile .chat-input__controlbox .textareaContainer{border-bottom:1px solid #787878;padding-top:10px}.window--mobile .chat-input__controlbox ::-webkit-input-placeholder{color:#787878}.window--mobile .chat-input__controlbox ::-moz-placeholder{color:#787878}.window--mobile .chat-input__controlbox :-ms-input-placeholder{color:#787878}.window--mobile .window__chatInputControl{padding:0 0 10px;height:30px;line-height:20px;min-height:30px;box-shadow:none}.window--mobile .window__chatSender .icon-input-send{color:#626262;font-size:1.5625rem;margin-top:5px}.window--mobile .window__chatSender--active .icon-input-send{color:#00000a}.window--mobile .window--bubble .window__chatSender .icon-input-send,.window--mobile .window--circle .window__chatSender .icon-input-send{color:#626262}.window--mobile .window--bubble .window__chatSender--active .icon-input-send,.window--mobile .window--circle .window__chatSender--active .icon-input-send{color:#00000a}.window--mobile .window__chatSender{bottom:20.5px;right:12px;width:37px;height:37px;padding:5px}.window--mobile .window__chatSender svg{width:27px;height:27px;fill:#626262}.window--mobile .chatInputContainer--typed .window__chatSender svg,.window--mobile .window__chatSender--active .window__chatSenderSVGPath{fill:#00000c}.window--mobile .window__chatSender.window__chatTools{bottom:unset;top:12px}.window--mobile .window__chatOperationPlusBox{-ms-flex-preferred-size:40px;flex-basis:40px}.window--mobile .window__chatOperationPlus{width:20px;height:20px;margin:0 auto}.window--mobile .window__chatOperationPlus .icon-plus{font-size:1.3125em;color:#fff}.window--mobile .window--classic .window__chatAgentMessage_container{max-width:calc(100% - 34px)}.window--mobile .window--classic .window__chatAgentMessage_container .window__chatAgentMessage.chat-message--img{max-width:200px;max-height:none}.window--mobileHorizontal .window--bubble.whole-window,.window--mobileVertical .window--bubble.whole-window{top:0;height:calc(100% - 0px)}.window--mobile .window--circle .main-container{height:100%}.window--mobile:not(.window--ipad) .window--circle,.window--mobile:not(.window--ipad) .window--circle .bubble-box,.window--mobile:not(.window--ipad) .window--circle .main-container{border-radius:0;top:0;height:100%}.window--mobile:not(.window--ipad) .window--circle .header__avatar{position:static;margin:0}.window--mobile:not(.window--ipad) .window--circle .header__agentInfo{margin:0}.window--mobile:not(.window--ipad) .window--circle .window__headerBox:not(.window__headerBox--banner){display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center}.window--mobile:not(.window--ipad) .window--circle .header__teamAvatar{position:relative;left:auto;top:0;margin:10px 0 0}.window--mobile:not(.window--ipad) .window--circle .header__teamName{margin-top:10px}.window--mobile:not(.window--ipad) .window--circle .window__headerBox.window__headerBox--hasAvatars{padding-bottom:16px}.window--mobile:not(.window--ipad) .window--circle .header__agent{max-width:100%}.window--mobile:not(.window--ipad) .window--circle .header__agentName{max-width:100%;margin:0 45px}.window--mobile:not(.window--ipad) .window--bubble.whole-window .main-container{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}.window--mobile .window_chatError{position:absolute;z-index:2147483000;width:calc(100% - 40px)}.window--mobile .window__chatWithAgent--bottom{display:none}.window--mobile .bubble-box--show .bubble{-ms-transform:scale(1);transform:scale(1);animation:showBubble 333ms cubic-bezier(.785,.135,.15,.86) both}.window--mobile .window--bubble.whole-window .main-container{overflow:initial;background-color:#f5f5f5}.window--mobile .window__formContainer--bubble{margin-top:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;padding:0}.window--mobile .window--ie10 .window__formContainer--bubble{-ms-flex-negative:1;flex-shrink:1}.window--mobile .window--bubble .window__form{padding-left:45px;padding-right:43px}.window--mobile .window--bubble .window__form .greeting-message-container{-ms-flex-negative:0;flex-shrink:0}.window--mobile .window--bubble .window__operation{background-color:transparent;-ms-flex-pack:end;justify-content:flex-end}.window--mobile .window__operation{height:40px;padding-right:6px}.window--mobile .window__operation>a,.window--mobile .window__operation>button{margin:0 1px;height:20px}.window--mobile .window__operation>a>svg,.window--mobile .window__operation>button>svg{width:20px;height:16px}.window--mobile .window__operation .header__operationContainer{height:40px}.window--mobile .window__operation .header__operationContainer>button,.window--mobile .window__operation>button{height:40px;padding:0 10px}.window--mobile .bubble-close{width:30px;height:30px;right:0;top:0}.global-showFocus .window--mobile .window--bubble a:focus{border-bottom-color:#787878}.window--mobile .window--bubble .window__operation .header__operationContainer>button>svg,.window--mobile .window--bubble .window__operation>a>svg,.window--mobile .window--bubble .window__operation>button>svg{fill:#787878}.window--mobile .window--bubble .main-container .window__title{position:relative}.window--mobile .chatError__container{left:0}.window--mobile .window--bubble .window__chat{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:25px;padding-right:27px}.window--mobile .window--bubble .window__chat>div{-ms-flex-negative:0;flex-shrink:0;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-positive:1;flex-grow:1}.window--mobile .window--bubble .window__chat>div>div>div.window__chatAgent+div.window__chatAgent,.window--mobile .window--bubble .window__chat>div>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window--mobile .window--bubble .window__chat>div>div>div+div{margin-top:16px}.window--mobile .window--bubble .window__chat>div>div>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window--mobile .window--bubble .window__chat>div>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--mobile .window--bubble .window__chat>div>div+div{margin-top:0}.window--mobile .window--bubble .chatInputContainer{background-color:#fff}.main-container,.window--mobile .main-container{background-color:#f5f5f5}.window--mobile .window--bubble .window__kb_formContainer{-ms-flex-positive:1;flex-grow:1}.window--mobile .window--bubble .window__form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--mobile.window--ipad .window--bubble .chatInputContainer{border:2px solid #f0f1f2;border-top:none}.window--mobile.window--ipad.withSideWin .window--bubble .chatInputContainer{border-bottom:none}.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.window--mobile .window__chatVisitorMessage{border-color:#f5f5f5}.window--mobile .chat-input__toolbox,.window--mobile .chat-input__toolbox-more{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start}.window--mobile .chat-input__toolbox button,.window--mobile .chat-input__toolbox-more button{width:40px;height:40px}.window--mobile .chat-input__toolbox button:hover,.window--mobile .chat-input__toolbox-more button:hover{background:0 0}.window--mobile .chat-input__toolbox button:hover svg,.window--mobile .chat-input__toolbox-more button:hover svg{fill:#787878}.window--mobile .chat-input__toolbox svg,.window--mobile .chat-input__toolbox-more svg{width:20px;height:20px;fill:#787878}.window--mobile .whole-window:not(.window--classic) .window__header{background-color:transparent;box-shadow:none}.window--mobile .whole-window:not(.window--classic) .window__header .header__agentName{color:#333}.window--classic:not(.window--embedded) .window__header,.window--mobile:not(.window--ipad) .window__header{border-radius:0}html:not(.global-showFocus) button::-moz-focus-inner{border:0}.window--mobile ::-webkit-scrollbar{display:none}.window--mobile .chat-input__toolbox button.bubble-close{width:30px;height:30px;margin-right:0;border:none}.window--mobile .chat-input__toolbox .bubble-close svg{width:10px;height:10px}.window--mobile .chat-input__toolbox-more{padding-top:50px;padding-bottom:132px;display:-ms-flexbox;display:flex;gap:30px;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:relative;top:unset;right:unset}.window--mobile .chat-input__toolbox-more button{width:48px;height:48px;cursor:pointer;margin:0;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border-radius:4px;border:none;background:0 0}.window--mobile .chat-input__toolbox-more button:active,.window--mobile .chat-input__toolbox-more button:focus{background-color:rgba(114,114,114,.08)}.window--mobile .chat-input__toolbox-more button:active svg,.window--mobile .chat-input__toolbox-more button:focus svg{fill:#000010}.window--mobile .chat-input__toolbox-more button svg{width:28px;height:28px}.window__kb_formContainer{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-left:25px;margin-right:25px;margin-top:30px}.kbsearch__container{display:-ms-flexbox;display:flex;margin-bottom:64px;height:100%;-ms-flex-pack:center;justify-content:center}.window--bubble .kbsearch__container,.window--mobile .window--bubble .kbsearch__container{margin-bottom:0;padding-bottom:98px}.window--embedded.window--bubble .kbsearch__container{border-radius:5px}.window--embedded.window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{border-radius:0 0 5px 5px}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer,.window--mobile .window--bubble .kbsearch__container{border-radius:0}.window--bubble .kbsearch-window__chatWithAgent .chatError__container{top:10px}.greeting-message__kb{margin-bottom:10px}.kbsearch-input__container{padding-bottom:25px;position:relative}.kbsearch-input__container .field__requiredMsg{font-size:12px;color:#d31219;margin-top:4px}.kbsearch-input__container .field__requiredMsg svg{fill:#d31219;overflow:visible;width:12px;height:12px;margin-right:7px}.visually-hidden{position:absolute;left:-10000px}.kbsearch-input{width:100%;height:35px;padding:7.5px 30px 7.5px 17px}.kbsearch-input::-ms-clear{display:none}input::-webkit-search-cancel-button{display:none}.kbsearch-icon{display:inline-block;position:absolute;right:8px;top:0;cursor:pointer;width:30px;height:35px;background:0 0;border:none}.window--rtl .kbsearch-icon{left:10px;right:auto}.kbsearch-icon i{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);font-size:14px}.kbsearch-window__chatWithAgent{position:absolute;bottom:35px;left:0;right:0}.kbsearch-window__chatWithAgent .buttonProgressContainer{padding:0 45px}.window--bubble .kbsearch-window__chatWithAgent{bottom:35px;right:unset;width:calc(100% - 54px);margin:0 27px}.window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 19px 35px}.window--bubble .kbsearch--noFooter .kbsearch-window__chatWithAgent{bottom:0}.window--mobile .window--bubble .kbsearch-window__chatWithAgent{bottom:0;width:100%;margin:0}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 45px 35px}.window--mobile .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble .buttonProgressContainer{padding-top:20px;padding-bottom:45px}.window--mobile.withSideWin .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble .buttonProgressContainer{padding-bottom:30px}.window--ie .window--bubble.window--ie9 .kbsearch-window__chatWithAgent{bottom:20px}.window--ie .window--embeddend.window--bubble.window--ie9 .kbsearch-window__chatWithAgent{bottom:50px}.mobileSidewindow.kbsearch-mobile .kbsearch-window__chatWithAgent{bottom:55px}.kbsearch-window__form{position:relative}.window__form.kbsearch-window__form{padding-top:20px;padding-bottom:0;height:100%}.window__formContainer--bubble .kbsearch-window__form{height:auto}.article-list-container{position:relative}.kbsearch-window__form>div.article-list-container .article-list .article-item:last-child,.kbsearch-window__form>div.article-list-container .article-list .article-item:last-child .article-summary{margin-bottom:0}.article-item{margin-bottom:15px}.article-title{font-size:.93333333rem;font-family:\"SourceSans Pro\",Arial;color:#323dbf;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;-webkit-text-size-adjust:100%;-webkit-box-orient:vertical;display:block;background:0 0;border:none;text-align:left;width:100%}.window--rtl .article-title{text-align:right}.article-title>span{border-bottom:1px solid transparent;display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis}.article-title:active,.article-title:focus,.article-title:hover{border:none!important}.article-title:hover>span{border-bottom-color:#2b72ef}.article-summary{margin-bottom:25px;font-size:12px;line-height:1.67;font-family:\"SourceSans Pro\",Arial;color:#666;max-height:40px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-webkit-text-size-adjust:100%}.kb-highlight{color:#ed1c24}.window--bubble .window__form .icon-bubble-line__div{bottom:-1px;overflow:hidden;height:16px;position:absolute;width:10px;left:-10px}.window--bubble .window__form .icon-bubble-line__div .icon-bubble-line{left:0;bottom:0}.window--circle.window--ie10 .kbsearch__container,.window--classic.window--ie10 .kbsearch__container{max-height:calc(100% - 220px)}.window--mobile .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble{bottom:45px}.window--mobile .kbsearch__container{overflow-y:hidden;margin-bottom:0;padding-bottom:95px}.kbsearch__container{-ms-flex:1;flex:1;overflow-y:hidden}.kbsearch-window__form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.article-list-container{-ms-flex:1;flex:1;overflow-y:auto}.window--ie .window--bubble:not(.window--mobile) .article-list-container{-ms-flex:auto;flex:auto}.window--mobile.withSideWin .kbsearch__container{margin-bottom:0;padding-bottom:125px}.window--mobile.withSideWin .kbsearch-window__chatWithAgent{bottom:75px}.DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;user-select:none;padding-bottom:1rem;-ms-flex-direction:row;flex-direction:row}.DayPicker-Month,.calendar-container{-webkit-user-select:none;-ms-user-select:none}.DayPicker-Months{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:center;justify-content:center}.window--bubble .DayPicker-Months,.window--circle .DayPicker-Months{color:#666}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;user-select:none;margin:1rem .5rem 0}.DayPicker-NavButton{position:absolute;cursor:pointer;top:1rem;right:1.5rem;margin-top:2px;color:#8b9898;width:1.25rem;height:1.25rem;display:inline-block;background-size:50%;background-repeat:no-repeat;background-position:center}.DayPicker-NavButton--interactionDisabled,.window--minimized .window--bubble{display:none}.DayPicker-NavButton:hover{opacity:.8}.DayPicker-NavButton--prev{margin-right:1.5rem;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC)}.DayPicker-NavButton--next{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==)}.DayPicker-Caption{padding:0 .5rem;display:table-caption;text-align:left;margin-bottom:.5rem}.DayPicker-Caption>div{font-size:1.15rem;font-weight:500}.DayPicker-Weekdays{margin-top:1rem;display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:.5rem;font-size:.875em;text-align:center;color:#8b9898}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day,.DayPicker-WeekNumber{display:table-cell;padding:.5rem;cursor:pointer;vertical-align:middle}.DayPicker-Day{text-align:center;outline:0}.DayPicker-WeekNumber{text-align:right;min-width:1rem;font-size:.75em;color:#8b9898;border-right:1px solid #eaecec}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:.5rem}.DayPicker-TodayButton{border:none;background-image:none;background-color:transparent;box-shadow:none;cursor:pointer;color:#4a90e2;font-size:.875em}.DayPicker-Day--today{color:#d0021b;font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#dce0e0;cursor:default}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){position:relative;color:#666;background-color:#000001;border-radius:100%}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002}.window--circle .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#000001;color:#000004}.window--circle .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002;color:#000004}.window--bubble .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#000001;color:#000004}.window--bubble .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002;color:#000004}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover{background-color:#f0f8ff;border-radius:50%}.DayPickerInput{position:relative}.DayPickerInput .input[readOnly]{border:1px solid #ddd}.DayPickerInput .form__input[disabled]{color:#888}.DayPickerInput-OverlayWrapper{position:absolute;z-index:99;top:-265px;left:0;width:225px}.DayPickerInput-Overlay{background:#fff;box-shadow:0 2px 5px rgba(0,0,0,.15)}.calendar-container .date-picker-span.date-picker-span__selected,.calendar-container .date-view-span.date-view-span__selected,.minimize-bar{background-color:#000001}.minimize-bar{cursor:pointer;border:1px solid #000001;width:300px;height:30px;border-radius:5px 5px 0 0;padding:0 15px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-line-pack:center;align-content:center}.minimize-bar:focus{border:1px solid #000004}.minimize-bar .minimize-bar__message{font-size:14px;line-height:30px;color:#000004;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;text-align:left;vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.minimize-bar svg{width:16px;height:30px;fill:#000004;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.minimize-bar.window--circular{border-radius:20px 20px 0 0}@media (forced-colors:active){.minimize-bar{border:1px solid transparent}}.date-picker-container{background-color:#fff;color:#484848;font-family:'Open Sans',sans-serif;font-size:14px;position:relative;width:100%;height:33px}.date-picker-container>.date-picker-input{display:inline-block;cursor:pointer;height:33px;line-height:33px;width:100%;min-width:80px;padding:0 14px;border:1px solid #dbdbdb;border-radius:4px;position:relative}.date-picker-container>.date-picker-input>svg{color:#333;opacity:.5;font-size:16px;width:16px;height:16px;position:absolute;top:8px;right:12px}.date-picker-container>.date-picker-input.date-picker-input__withAction{width:calc(100% - 33px);border-right:none;border-radius:4px 0 0 4px}.date-picker-container>.date-picker-input:focus{border-color:#000001}.date-picker-container .svg{color:#333;opacity:.5;width:auto;height:auto}.date-picker-container button .svg{width:16px;height:16px}.calendar-container{width:100%;user-select:none;max-width:325px;min-width:315px;border:1px solid #f4f4f4;border-radius:6px;padding-bottom:16px;box-shadow:0 1px 3px rgba(63,63,68,.15)}.calendar-container:focus{outline:0}.calendar-container .date-picker-header{width:100%;text-align:left}.calendar-container .date-picker-icon{width:22px;height:22px;position:absolute;cursor:pointer;bottom:3px;margin:auto;right:10px}.calendar-container .date-picker-label{font-size:15px;color:#000}.calendar-container .date-picker-span{font-size:14px;text-align:center;color:#222;width:40px;height:40px;margin:15px;display:inline-block;line-height:40px;cursor:pointer;overflow:auto}.calendar-container .date-picker-wrapper{width:100%;max-width:280px;text-align:center;box-sizing:border-box;margin:0 auto}.calendar-container .calendar-heading{width:100%;height:40px;max-width:325px;max-height:40px;margin-top:8px;position:relative;border-radius:6px}.calendar-container .date-editor-wrapper{min-width:170px;text-align:center;height:40px;line-height:40px}.calendar-container .date-editor-span{display:inline-block;color:#7e7e7e;font-size:1.125em;font-family:'SourceSans Pro';text-align:center;font-weight:600;cursor:pointer;height:40px;margin-right:10px;line-height:40px;overflow:auto}.calendar-container .date-editor-selected-span{color:#000001}.calendar-container .date-view-body{width:100%;text-align:left;height:40px}.calendar-container .date-view-span{border-radius:50%;font-size:14px;text-align:center;color:#222;display:inline-block;cursor:pointer;width:40px;height:40px;line-height:40px;margin:0;overflow:auto}.calendar-container .date-view-head-span{font-size:14px;text-align:center;color:#222;display:inline-block;cursor:pointer;width:40px;height:30px;line-height:30px;margin:0;font-weight:600;opacity:.4;overflow:auto}.calendar-container .date-view-today{display:block;width:100%;height:40px;line-height:40px}.calendar-container .month-view-wrapper{margin-top:18px}.calendar-container .month-view-span{border-radius:5px;margin:0;width:90px;height:50px;line-height:50px}.calendar-container .year-view-wrapper{margin-top:18px}.calendar-container .year-view-span{border-radius:5px;margin:0;width:66px;height:50px;line-height:50px}.calendar-container .date-picker-arrow{cursor:pointer;color:#333;border-radius:50%;width:22px;height:22px;display:inline-block;position:absolute;top:0;bottom:0;margin-top:10px;font-weight:700;opacity:.5}.calendar-container .single-arrow-left{left:50px}.calendar-container .single-arrow-right{right:50px}.calendar-container .double-arrow-left{left:16px}.calendar-container .double-arrow-right{right:16px}.scroll-column-stack{position:relative;width:100%;height:100%}.scroll-column-stack button{background:0 0;border:none;font-size:16px;width:100%;padding:0 5px;text-align:center;cursor:pointer}.scroll-column-stack button.disabled{opacity:.5}.scroll-column-stack>input{position:absolute;left:1px;top:calc(38%);width:calc(97%);height:24px;line-height:24px;margin:0;border:none;text-align:center;font-size:20px;padding:0}.scroll-column{position:relative;width:100%;height:150px}.scroll-clip{overflow:hidden;width:100%;height:100%}.scroll-clip>ul{position:relative;list-style:none;margin:0;padding:0}.scroll-column li{width:100%;height:30px;line-height:30px;margin:0;padding:0;text-align:center;cursor:pointer}.selected-region{position:absolute;width:100%;height:30px;left:0;top:60px;z-index:-1}.selected-region-bottom,.selected-region-top{position:absolute;width:calc(100%);height:60px}.selected-region-top{top:0}.selected-region-bottom{top:90px}.scroll-handle{position:absolute;width:100%;height:100%;left:0;top:0;background:0 0;cursor:pointer}.time-selector{border:1px solid #dbdbdb;border-radius:4px;font-size:14px;height:33px;position:relative;width:100%}.time-selector.time-selector-dark{background-color:#484e58;color:#fff}.time-selector-dark>svg path{fill:#fff}.time-selector-dark .time-range-panel{background-color:#484e58}.time-selector-dark .panel-arrow>path:first-child{fill:#484e58}.time-selector-dark .panel-arrow>path:last-child{stroke:#f58520;fill:none}.time-selector-dark .scroll-column-stack button{color:#fff}.time-selector-dark .scroll-column-stack>input{background-color:#f58520;box-shadow:0 0 3px inset rgba(0,0,0,.5);color:#fff}.time-selector-dark .selected-region{background-color:rgba(234,133,32,.9);box-shadow:0 0 6px rgba(0,0,0,.5)}.time-selector-dark .selected-region-top{border-bottom:2px solid #e4e7e7;background:linear-gradient(#484e58 10%,rgba(72,78,88,.2) 95%,transparent 100%)}.time-selector-dark .selected-region-bottom{border-top:2px solid #e4e7e7;background:linear-gradient(transparent 0,rgba(72,78,88,.2) 5%,#484e58 100%)}.time-selector.time-selector-light{background-color:#fff;color:#484848}.time-selector-light>svg path{fill:#484848}.time-selector-light.time-range-panel{background-color:#fff;box-shadow:0 1px 3px rgba(63,63,68,.15);border-radius:4px}.time-selector-light .panel-arrow>path:first-child{fill:#fff}.time-selector-light .panel-arrow>path:last-child{stroke:#dbdbdb;fill:none}.time-selector-light .scroll-column-stack button{color:#484848}.time-selector-light .scroll-column-stack>input{background-color:#00a699;box-shadow:0 0 3px inset rgba(255,255,255,.5);color:#333}.time-selector-light .scroll-selected-value{margin:1px 0 -1px;color:#333;font-weight:700}.time-selector-light .scroll-transparent-value{color:#a8a8a8}.time-selector-light .selected-region{box-shadow:0 0 6px rgba(255,255,255,.5);color:#fff}.time-selector-light .selected-region-top{border-bottom:1px solid #b9b9b9}.time-selector-light .selected-region-bottom{border-top:1px solid #b9b9b9}.time-selector>span{display:inline-block;cursor:pointer;height:33px;line-height:33px;width:100%;min-width:80px;padding:0 14px}.time-selector>span>svg{color:#333;opacity:.5;font-size:16px;width:16px;height:16px;position:absolute;top:8px;right:38px}.time-selector>.taskbot_submit_btn_container{top:-1px}.time-range-panel{padding:8px 12px;z-index:10}.time-range-panel>.panel-arrow{position:absolute;top:-10px;width:20px;height:20px}.time-range-panel>.arrow-left{left:22px}.time-range-panel>.arrow-right{left:122px}.time-range-panel .time-columns{display:-ms-grid;display:grid;-ms-grid-columns:(1fr) [3];grid-template-columns:repeat(3,1fr)}.time-range-panel .time_confirm{height:32px;line-height:32px;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding-right:8px;cursor:pointer}.time-range-panel .time_confirm .time_tick{width:32px;height:32px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.time-range-panel .time_confirm .time_tick svg{width:16px;fill:#000001}.fc_input_ref{animation-duration:.6s;animation-timing-function:ease-in;animation-delay:.75s;animation-fill-mode:forwards}.fc_input_container{border-radius:5px;min-height:33px;position:relative;background-color:#fff}.fc_input{border-radius:5px 0 0 5px;height:33px;padding:7px 14px 6px;border:1px solid #d5d5d5;width:calc(100% - 33px);border-right:none}.fc_input_container_error .fc_input{border-color:#ed1c24!important}.fc_select_container{position:relative}.fc_select_input_container{position:relative;height:100%;border:1px solid #d5d5d5;border-radius:5px;box-sizing:border-box}.fc_select_input_container .fc_select_input_single{padding:7px 30px 6px 14px;width:100%;height:31px;line-height:18px;overflow:hidden;white-space:nowrap;cursor:pointer;text-overflow:ellipsis}.fc_select_input_container .fc_select_input_multiple{min-height:31px;padding:0 30px 4px 10px;max-height:85px;overflow-y:scroll;margin-right:1px}.fc_select_input_container .fc_select_input_multiple::-webkit-scrollbar-thumb{background:rgba(51,51,51,.2)}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item{background:#efefef;border-radius:17px;height:23px;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;margin:4px 4px 0}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item span{font-size:12px;line-height:23px;color:#263238;margin:0 10px 0 16px;cursor:default;max-width:83px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item .delete_icon{width:18px;height:18px;fill:#c4c4c4;border-radius:50%;margin-right:3px}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item .delete_icon:hover{fill:#6c6c6c}.fc_select_input_container .arrow_container{position:absolute;right:0;top:0;margin-right:12px;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.fc_select_input_container .arrow{width:10px;height:10px;fill:#989898}.fc_select_input_container .arrow.arrow_down{-ms-transform:rotate(180deg);transform:rotateZ(180deg)}.fc_select_input_container:focus{border-color:#000001}.fc_select_input_container--error{border-color:#d34747}.fc_select_option_container{min-height:8px}.fc_select_option_list{box-shadow:0 1px 3px rgba(63,63,68,.35);margin-top:.5px;width:100%;padding:0;background:#fff;border-radius:5px;overflow-y:scroll;overflow-x:hidden;z-index:0;max-height:264px;animation-duration:.4s;animation-timing-function:ease-in-out;animation-delay:0s;animation-fill-mode:forwards}.fc_select_option_list::-webkit-scrollbar-thumb{background:rgba(51,51,51,.2)}.fc_select_option_list .fc_select_option_item{padding:0 16px;color:#747474;background:#fff;cursor:pointer;height:32px;line-height:32px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.fc_select_option_list .fc_select_option_item:hover{color:#263236;background-color:rgba(0,0,0,.06)}.fc_select_option_list .fc_select_option_item.selected{color:#000;background-color:#efefef}.highContrast .bubble,.highContrast .chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.highContrast .fc_multiple_select_item,.highContrast .fc_select_option_list,.highContrast .prechatForm__social .prechatForm__socialBtn,.highContrast .taskbot-popper,.highContrast .taskbot_multiple_select_item,.highContrast .taskbot_select_multiple .taskbot_select_multiple_item,.highContrast .taskbot_select_option_list,.highContrast .taskbot_submit_btn_container,.highContrast .taskbot_tool_tip_container,.highContrast .time-range-panel,.highContrast .whole-window,.highContrast .window__chatAgentMessage,.highContrast .window__chatVisitorMessage,.highContrast .window_buttons_container .window_buttons_item button,.highContrast .window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.highContrast .window__headerBox{border-bottom:1px solid}.highContrast .webView_background .webView__title{border-top:1px solid;border-bottom:none}.highContrast .window__chat .dot__element{background-color:CanvasText}.highContrast .calendar-container .date-picker-arrow svg,.highContrast .time-range-panel .time_confirm .time_tick svg,.highContrast .window__operation button>svg{fill:CanvasText!important}.highContrast .fc_select_option_list .fc_select_option_item.selected,.highContrast .taskbot_select_option_list .taskbot_select_option_item.active,.highContrast .taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.highContrast .chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.highContrast .date-picker-container>.date-picker-input:focus,.highContrast .fc_select_input_container:focus,.highContrast .taskbot_select_input_container:focus{border:1px solid Highlight}.highContrast .chat-message-time{opacity:.8}.highContrast .calendar-container [aria-selected=true]{color:Highlight!important}.highContrast .container-checkbox i.selected .checkbox1{fill:Highlight}.highContrast .container-checkbox i.unselected .checkbox1,.highContrast .container-checkbox i.unselected .checkbox3,.highContrast .control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.highContrast .checkbox2,.highContrast .date-picker-container>.date-picker-input>svg,.highContrast .prechatForm__social .prechatForm__socialBtn svg,.highContrast .taskbot_submit_btn_container .taskbot_send_button>div svg,.highContrast .taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.highContrast .time-selector>span>svg{fill:CanvasText}.highContrast .controlRadio .controlIndicator svg{border:1px solid CanvasText}.highContrast .control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.highContrast .taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}.highContrast #chat-input-control:-ms-input-placeholder{color:CanvasText}.highContrast #chat-input-control::placeholder{color:CanvasText}.highContrast .poweredby a[href] svg path,.highContrast .window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.highContrast .window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}@media (forced-colors:active){.bubble,.chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.fc_multiple_select_item,.fc_select_option_list,.prechatForm__social .prechatForm__socialBtn,.taskbot-popper,.taskbot_multiple_select_item,.taskbot_select_multiple .taskbot_select_multiple_item,.taskbot_select_option_list,.taskbot_submit_btn_container,.taskbot_tool_tip_container,.time-range-panel,.whole-window,.window__chatAgentMessage,.window__chatVisitorMessage,.window_buttons_container .window_buttons_item button,.window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.window__headerBox{border-bottom:1px solid}.webView_background .webView__title{border-top:1px solid;border-bottom:none}.window__chat .dot__element{background-color:CanvasText}.calendar-container .date-picker-arrow svg,.time-range-panel .time_confirm .time_tick svg,.window__operation button>svg{fill:CanvasText!important}.calendar-container .date-picker-arrow{opacity:1}.fc_select_option_list .fc_select_option_item.selected,.taskbot_select_option_list .taskbot_select_option_item.active,.taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.date-picker-container>.date-picker-input:focus,.fc_select_input_container:focus,.taskbot_select_input_container:focus{border:1px solid Highlight}.chat-message-time{opacity:.8}.calendar-container [aria-selected=true]{color:Highlight!important}.container-checkbox i.selected .checkbox1{fill:Highlight}.container-checkbox i.unselected .checkbox1,.container-checkbox i.unselected .checkbox3,.control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.checkbox2,.date-picker-container>.date-picker-input>svg,.prechatForm__social .prechatForm__socialBtn svg,.taskbot_submit_btn_container .taskbot_send_button>div svg,.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.time-selector>span>svg{fill:CanvasText}.controlRadio .controlIndicator svg{border:1px solid CanvasText}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}#chat-input-control:-ms-input-placeholder{color:CanvasText}#chat-input-control::placeholder{color:CanvasText}.poweredby a[href] svg path,.window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}}@media (prefers-contrast:more){.bubble,.chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.fc_multiple_select_item,.fc_select_option_list,.prechatForm__social .prechatForm__socialBtn,.taskbot-popper,.taskbot_multiple_select_item,.taskbot_select_multiple .taskbot_select_multiple_item,.taskbot_select_option_list,.taskbot_submit_btn_container,.taskbot_tool_tip_container,.time-range-panel,.whole-window,.window__chatAgentMessage,.window__chatVisitorMessage,.window_buttons_container .window_buttons_item button,.window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.window__headerBox{border-bottom:1px solid}.webView_background .webView__title{border-top:1px solid;border-bottom:none}.window__chat .dot__element{background-color:CanvasText}.calendar-container .date-picker-arrow svg,.time-range-panel .time_confirm .time_tick svg,.window__operation button>svg{fill:CanvasText!important}.calendar-container .date-picker-arrow{opacity:1}.fc_select_option_list .fc_select_option_item.selected,.taskbot_select_option_list .taskbot_select_option_item.active,.taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.date-picker-container>.date-picker-input:focus,.fc_select_input_container:focus,.taskbot_select_input_container:focus{border:1px solid Highlight}.chat-message-time{opacity:.8}.calendar-container [aria-selected=true]{color:Highlight!important}.container-checkbox i.selected .checkbox1{fill:Highlight}.container-checkbox i.unselected .checkbox1,.container-checkbox i.unselected .checkbox3,.control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.checkbox2,.date-picker-container>.date-picker-input>svg,.prechatForm__social .prechatForm__socialBtn svg,.taskbot_submit_btn_container .taskbot_send_button>div svg,.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.time-selector>span>svg{fill:CanvasText}.controlRadio .controlIndicator svg{border:1px solid CanvasText}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}#chat-input-control:-ms-input-placeholder{color:CanvasText}#chat-input-control::placeholder{color:CanvasText}.poweredby a[href] svg path,.window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}*{border-color:#000!important}}@media all and (-webkit-min-device-pixel-ratio:0){::-webkit-scrollbar{height:6px;width:6px}.window__chat:hover::-webkit-scrollbar-thumb,.window__form:hover::-webkit-scrollbar-thumb,.window__formContainer:hover::-webkit-scrollbar-thumb,textarea:hover::-webkit-scrollbar-thumb{background-color:#c8c8c8}.window__chat{width:calc(100% - 2px);padding:18px 25px 0 27px;margin-bottom:0}.window__form{width:calc(100% - 2px);padding-right:43px}.window__form.window__ssologin{padding-right:45px}.window--bubble .window__form.window__ssologin{padding-right:19px}.kbsearch-window__chatWithAgent .buttonProgressContainer{padding-right:43px}.window__formContainer--bubble{padding-right:25px;margin-right:2px}.window__formContainer--bubble .window__form{width:100%}.window--mobile .window--bubble .kbsearch-window__chatWithAgent{width:calc(100% - 2px)}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 43px 35px 45px}.window--mobile .window--bubble .window__form{padding-left:45px;padding-right:43px}.window--mobile .window--bubble .window__form.kbsearch-window__form{padding-left:20px;padding-right:18px}::-webkit-scrollbar-button{height:4px;background-color:transparent;background-repeat:no-repeat;cursor:pointer}::-webkit-scrollbar-corner{background-color:#fff}::-webkit-scrollbar-thumb{border-radius:4px;background-color:transparent}::-webkit-scrollbar-track{background-color:transparent}.window--rtl .window__form{padding-right:45px;padding-left:43px}}body,html,ol,ul{margin:0}::-webkit-input-placeholder{color:#626262}::-moz-placeholder{color:#626262}:-ms-input-placeholder{color:#626262}*,::after,::before{box-sizing:border-box}html{position:fixed;left:0;right:0;top:0;bottom:0;font-size:15px;-webkit-text-size-adjust:100%}body{font-family:'SourceSans Pro','',Arial;line-height:1.42857143;overflow:hidden}h1,h2,h3{font-weight:400;font-family:\"SourceSans Pro Bold\",Arial}div,section{outline:0}.clearfix::after{content:'';display:block;clear:both}.clear{clear:both}a{color:#000001;cursor:pointer;text-decoration:none}.global-showFocus .window__operation .header__operationContainer>a:focus{outline:0!important;border-bottom-width:1px;border-bottom-style:solid;text-decoration:none}a[href]:active,a[href]:focus,a[href]:hover{border-bottom:1px solid #000007;text-decoration:none}input,textarea{font-family:inherit}ol,ul{list-style-type:none;padding:0}b,strong{font-family:\"SourceSans Pro Bold\",Arial}textarea{resize:none}.animated{animation-duration:1s;animation-fill-mode:both}.animated.hinge{animation-duration:2s}.animated-delayFrames7{animation-delay:292ms}.animated-delayFrames10{animation-delay:417ms}.animated-delayFrames13{animation-delay:542ms}.transform-origin-00{-ms-transform-origin:0 0;transform-origin:0 0}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}.fadeInDown{animation-name:fadeInDown}.fadeInUp,.fadeInUp--window__form{animation-name:fadeInUp}@keyframes main-container--fadeOut{0%{opacity:1;transform:translateY(0)}99%{opacity:0;transform:translateY(0)}100%{opacity:0;transform:translateY(620px)}}@keyframes main-container--fadeIn{0%{opacity:0;transform:translateY(0)}100%{opacity:1;transform:translateY(0)}}@keyframes fadeInUp{0%{opacity:0;transform:translate3d(0,50%,0)}to{opacity:1;transform:none}}.fadeInUp--window__form{animation-duration:292ms;animation-fill-mode:both;animation-delay:625ms}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}.fadeOutUp{animation-name:fadeOutUp}@keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}.at-ripple{animation-name:at-ripple}@keyframes yAxisWindow{100%{opacity:1}}@keyframes window--opening{0%{opacity:0;transform:translateY(100%)}99.999999%{opacity:1;transform:translateY(0)}100%{opacity:1;transform:none}}@keyframes window--adaptive--opening{0%{opacity:.666667;transform:scale(.666667)}99.999999%{opacity:1;transform:scale(1)}100%{opacity:1;transform:none}}@keyframes window--minimizing{0%{transform:translateY(0);opacity:1}100%{transform:translateY(100%);opacity:0}}@keyframes window--adaptive--minimizing{0%{transform:scale(1);opacity:1}100%{transform:scale(.666667);opacity:0}}.animation--chatting.window--animated .header{transition:height 416ms cubic-bezier(.785,.135,.15,.86) .4s}.animation--chatting .prechatHeader,.animation--waiting .prechatHeader{opacity:0;-ms-transform:translateY(-140px);transform:translateY(-140px);transition:all 416ms cubic-bezier(.785,.135,.15,.86) 1.792s}@keyframes animation-translateY-Up{0%{transform:translateY(0);overflow:hidden}100%{transform:translateY(-100%)}}.animation-translateY-Up{animation-duration:458ms;animation-fill-mode:both;animation-timing-function:cubic-bezier(.785,.135,.15,.86);animation-name:animation-translateY-Up;animation-delay:1.209s}.whole-window{position:absolute;z-index:10;width:100%;height:100%;box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15);animation:window--opening .3s linear none;border-radius:5px}.window--chrome .whole-window{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.window--chrome .whole-window.window--bubble,.window--chrome .whole-window.window--bubble:not(.window--embedded){box-shadow:none}.window--chrome .whole-window:not(.window--embedded){box-shadow:2.5px 0 5px 0 rgba(0,0,0,.15)}.window--chrome .whole-window:not(.window--embedded).window--bubble{box-shadow:none}.whole-window:not(.window--embedded){box-shadow:2.5px 0 2.5px 0 rgba(0,0,0,.15)}.whole-window:not(.window--embedded).window--bubble,.window--bubble{box-shadow:none}.whole-window.window--circular{border-radius:20px}.whole-window.window--adaptive{-ms-transform-origin:bottom right;transform-origin:bottom right;animation:window--adaptive--opening .2s linear none}.window--ie .whole-window,.window--ie .whole-window.window--adaptive{animation:none}.window--minimized .whole-window{animation:window--minimizing .3s linear forwards}.window--minimized .whole-window.window--adaptive{-ms-transform-origin:bottom right;transform-origin:bottom right;animation:window--adaptive--minimizing .2s linear forwards}.window--ie .window--minimized .whole-window,.window--ie .window--minimized .whole-window.window--adaptive{animation:none}.window--bubble.whole-window .main-container{position:relative;min-height:200px}.window--bubble,.window--ipad .window--embedded .bubble-box.bubble-box--minimize{position:absolute}.window--embedded,.window--embedded .bubble-box{right:7.5px;bottom:12.5px;width:calc(100% - 15px);height:calc(100% - 15px)}.window--circle--sidewindow,.window--classic--sidewindow{box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15)}.window--chrome .window--circle--sidewindow,.window--chrome .window--classic--sidewindow{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.window--embedded.window--circle--sidewindow,.window--embedded.window--circle--sidewindow .bubble-box,.window--embedded.window--classic--sidewindow,.window--embedded.window--classic--sidewindow .bubble-box{width:calc(100% - 15px)}.window--ipad .window--embedded,.window--ipad .window--embedded .bubble-box{right:7.5px;width:calc(100% - 15px)}.window--ipad .window--bubble.window--embedded,.window--ipad .window--bubble.window--embedded .bubble-box{bottom:0;height:100%}.window--bubble.window--embedded,.window--bubble.window--embedded .bubble-box{height:100%;width:100%;right:0;bottom:0}.window--bubble{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:end;justify-content:flex-end}.main-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;background-repeat:no-repeat;background-position:center bottom;background-size:cover}.loading-circle{fill:#a3a3a3}.main-container,.main-container .bubble-box{border-radius:5px}.window--circular .main-container,.window--circular .main-container .bubble-box{border-radius:20px}.window--mobile:not(.window--ipad) .main-container,.window--mobile:not(.window--ipad) .main-container .bubble-box{border-radius:0}.window--embedded.window--circle,.window--embedded.window--circle .bubble-box{height:calc(100% - 15px);top:2.5px}.window--embedded.window--bio.window--circle,.window--embedded.window--bio.window--circle .bubble-box{height:calc(100% - 45px);top:unset}.window--embedded.window--circle.window-noavator,.window--embedded.window--circle.window-noavator .bubble-box{height:calc(100% - 7.5px)}.window--bio.window--circle{height:calc(100% - 32.5px);top:32.5px}.window--bio.window--circle .bubble-box,.window--circle.window-noavator,.window--circle.window-noavator .bubble-box{top:0;height:100%}.window--circle.window--embedded.window-noavator,.window--circle.window--embedded.window-noavator .bubble-box{top:unset}.window--bubble{background:0 0}.window--bubble:not(.window--embedded){padding-left:0;padding-right:0}.window--rtl .container-checkbox,.window--rtl .control{padding-left:0;padding-right:26px}.window--bubble .main-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;background:0 0;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-negative:0;flex-shrink:0;position:static;bottom:0;height:auto}.window--bubble.window--rtl .window__chatSystemMessageContent,.window--rtl .bubble,.window--rtl .knowlegedbase__content,.window--rtl .window__chatAgentMessage,.window--rtl .window__chatInputControl,.window--rtl .window__chatSystemMessage,.window--rtl .window__chatVisitorMessage,.window--rtl .window__form,.window--rtl .window__formContainer,.window--rtl .window__formGreeting,.window--rtl .window_chatError{direction:rtl}.window--bubble.window--rtl .window__chatSystemMessage{direction:ltr}.window--rtl .rating{text-align:right}.window--rtl .rating .star:first-child{margin-right:0}.window--rtl .rating .star:last-child{margin-right:10px}.window--rtl .prechatForm__social .prechatForm__socialBtn{margin-right:0;margin-left:12px}.window--rtl .prechatForm__social .prechatForm__socialBtn:last-child{margin-left:0}.window--rtl .bubble .bubble__operation .btn:first-child,.window--rtl .form-fields--horizonal .field-name{margin-right:0;margin-left:10px}.window--rtl .invitation__message,.window--rtl .invitation__type,.window--rtl .minimize-bar__message{direction:rtl;text-align:right}.window--rtl .minimize-bar__message{padding-right:15px}.window--ie9.window--classic .header__agentInfo,.window--ie9.window--classic .header__avatar{float:left}.window--ie9.window--circle .window__form,.window--ie9.window--classic .window__form{height:calc(100% - 156px);padding-bottom:30px}.window--ie9.window--circle .window__form.window__ssologin,.window--ie9.window--classic .window__form.window__ssologin{height:auto}.window--ie9 .chat-time{margin-top:15px}.window--ie9.chat-time{padding-top:10px}.window--ie9.window--classic .header__avatar{float:left}.window--ie9 .chatInputContainer{position:absolute;bottom:23px;width:100%}.window--ie9.window--bubble .window__chat,.window--ie9.window--bubble .window_quick_reply_container_box{position:relative;bottom:75px}.window--ie9 .buttonProgressContainerSuccess .buttonProgressBtnAnimated{opacity:.65}.window--ie9 .buttonProgress__layerCircle,.window--ie9 .buttonProgress__layerLoading,.window--ie9 .buttonProgress__layerSuccess,.window--ie9 .lds-css{display:none!important}.window--ie9 .window__footer{position:absolute;bottom:0;display:inline-block}.window--ie9 .multipleText{overflow:auto}.window--ie9.window--bubble .window__chatAgent{position:relative}.window--ie9 .rating .star.animate{color:#ffd051}.window--ie9 .select-box .select{padding:5px 10px}.window--ie9 .form-fields .box-field iframe{height:30px}.window--ie9 .window__formContainer--bubble{overflow-y:auto!important}.window--ie9.window--classic .header__agent--withlogo{max-width:calc(100% - 110px)}.window--ie9.window--classic .header__logo{float:right}.window--ie9.window--classic .header__agentInfo{max-width:calc(100% - 60px)}.window--ie9.window--classic .window__header--withBio{height:136px}.window--ie9.window--classic .window__header--noBio{height:126px;background-color:#000001}.window--ie9.window--circle .window__header--noBio,.window--ie9.window--circle .window__header--withBio,.window--ie9.window--circle .window__headerBox{height:136px}.window--ie9.window--classic .window__chat--withBio{max-height:calc(100% - 236px)}.window--ie9.window--classic .window__chat--withBio.window__chat--withQuickReply{height:calc(100% - 286px)}.window--ie9.window--classic .window__chat--noBio{height:calc(100% - 195px)}.window--ie9.window--classic .window__chat--noBio.window__chat--withQuickReply{height:calc(100% - 245px)}.window--ie9.window--circle .window__chat--withBio{max-height:calc(100% - 205px)}.window--ie9.window--circle .window__chat--withBio.window__chat--withQuickReply{height:calc(100% - 255px)}.window--ie9.window--circle .window__chat--noBio{height:calc(100% - 205px)}.window--ie9.window--circle .window__chat--noBio.window__chat--withQuickReply{height:calc(100% - 255px)}.window--ie9.window--bubble .main-container{overflow:auto;overflow-x:hidden}.window--ie9 .window__chatInputControl{padding:0 10px 0 25px}.window--ie9 .chat-input__toolbox{position:absolute;right:20px;bottom:10px}.window--ie9 .main-container{display:block}.window--ie9 .window--bubble.whole-window .main-container{position:fixed}.window--ie9 .window__kb_formContainer{margin-right:0;margin-left:0}.window--ie9 .agentMessage__avatar,.window--ie9 .window__chatAgentMessage{float:left}.window--ie9 .window--bubble .window__operation-menu{max-width:160px}.window--ie9 .window__operation-menu li button>div.menu__text-container{max-width:85px}.window--ie9 .window__operation-menu,.window--ie9 .window__operation-menu-icon{width:150px}.window--ie .window--embedded.window--circle .window__header--hasAvatar+.window__title .bubble-box{top:32.5px}#container~div>:last-child{max-height:580px;overflow-y:auto!important}#container~div>:last-child::-webkit-scrollbar-thumb{background-color:#c8c8c8}.btnScrollToBottom{position:sticky;z-index:9;bottom:10px;float:right;margin-right:-14px;background-color:#fff;border:none;outline:0;border-radius:36px;box-shadow:0 2px 2px rgba(0,0,0,.12);padding:10px;height:30px;line-height:1;color:#00000a;cursor:pointer}.btnScrollToBottom>svg{fill:#00000a;width:1em;height:1em;font-size:10px;position:relative;top:1px}.btnScrollToBottomWithBadge{background-color:#00000a;color:#00000e}.btnScrollToBottomWithBadge>svg{fill:#00000e}.greeting-message ol{list-style-type:decimal;text-align:initial;list-style-position:outside;padding-left:10px}.greeting-message ul{list-style-type:initial;text-align:initial;list-style-position:inside}.greeting-message table{border-collapse:collapse;empty-cells:show;max-width:100%}.greeting-message table td,.greeting-message table th{border:1px solid #ddd}.greeting-message table th{background:#ececec}.greeting-message table.fr-dashed-borders td,.greeting-message table.fr-dashed-borders th{border-style:dashed}.greeting-message table td.fr-highlighted,.greeting-message table th.fr-highlighted{border:1px double red}.greeting-message table td.fr-thick,.greeting-message table th.fr-thick{border-width:2px}.greeting-message table.fr-alternate-rows tbody tr:nth-child(2n){background:#dedede}.greeting-message table img{display:inline-block;float:none;margin-left:5px;margin-right:5px;max-width:calc(90%);vertical-align:bottom}",me="desktop",we="mobile",be="ipad",ve="systemEndChat",_e="systemPromoteOfflineMesage",xe="visitorNotRespond",ye="visitorNotRespondAndEndChat",Se="systemStartChatbot",Ce="visitorAddTextMessage",ke="visitorRequestChat",Ie="visitorSendFile",Me="visitorSendImage",Oe="visitorSendPassword",Ae="visitorSubmitSecureForm",Be="visitorCancelSecureForm",Te="visitorCreditCardMasked",je="visitorGetSecureFormFailure",Pe="visitorTyping",Fe="agentSendText",We="agentAddInvitationText",Ne="agentAcceptChat",Ve="agentRefuseChat",De="agentEndChat",Re="agentJoinChat",Ee="agentTransferChat",ze="agentSendUrl",Le="agentTyping",He="agentTransferChatToDepartment",qe="agentAcceptTransfer",Ue="agentSendFile",Ge="agentSendImage",Ke="agentSendImageStart",Ye="agentRequestSecureForm",Je="agentPushPage",Qe="agentVideoChatRequest",Ze="agentVideoChatCancelRequest",Xe="agentVideoChatAccept",$e="agentVideoChatRefuse",tn="agentVideoChatStop",en="visitorVideoChatRequest",nn="visitorVideoChatCancelRequest",on="visitorVideoChatAccept",an="visitorVideoChatRefuse",rn="visitorVideoChatStop",sn="systemVideoChatNoAnswer",cn="systemVideoChatEnd",dn="cobrowseRequest",ln="cobrowseAccept",un="cobrowseStart",pn="cobrowseRefuse",hn="cobrowseNoAnswer",fn="cobrowseEnd",gn="cobrowseNotSupport",mn="cobrowseBrowserNotSupport",wn="cobrowseCancel",bn="cobrowseHttpNotSupport",vn="agentAudioChatRequest",_n="agentAudioChatCancelRequest",xn="agentAudioChatAccept",yn="agentAudioChatRefuse",Sn="agentAudioChatStop",Cn="visitorAudioChatRequest",kn="visitorAudioChatCancelRequest",In="visitorAudioChatAccept",Mn="visitorAudioChatRefuse",On="visitorAudioChatStop",An="systemAudioChatNoAnswer",Bn="systemAudioChatEnd",Tn="systemIfSupportWebrtc",jn="agentPushSSO",Pn="visitorSingleLogout",Fn="agentRequestRatingFromVisitor",Wn="agentAutoSendTextVisitorNotReply",Nn="agentAutoSendTextAgentNotReply",Vn="ratingForm",Dn="chatbotRequestQuestionGuid",Rn="chatbotIntentTaskComplete",En="chatbotHighConfidenceAnswer",zn="chatbotPossibleAnswer",Ln="chatbotBadAnswer",Hn="chatbotJoinChat",qn="chatbotSendGreetingMessage",Un="botSignIn",Gn="botForm",Kn="visitorCancelBotForm",Yn="visitorSubmitBotForm",Jn="botPrompt",Qn="botRequestLocation",Zn="chatbotSetAnswerIfHelpful",Xn="visitorRequestChatExceedChatQueueLimit",$n="visitorText",ti="visitorImage",ei="visitorFile",ni="systemPrompt",ii="startChatAgain",oi="downloadTranscript",ai="emailTranscript",ri="creditCardMasked",si="autoInvMsg",ci="pendingVisitorIsTyping",di="pendingVideoRequesting",li="pendingAudioRequesting",ui="pendingAccept",pi="pendingHangup",hi="pendingSubmitSecureForm",fi="pendingCancelSecureForm",gi="pendingGetSecureFormFailure",mi="pendingCobrowseAccept",wi="pendingCobrowseStart",bi="pendingCobrowseRefuse",vi="pendingCobrowseNotSupport",_i="pendingCobrowseBrowserNotSupport",xi="pendingCobrowseEnd",yi="pendingCobrowseHttpNotSupport",Si="agentScreenSharingRequest",Ci="agentScreenSharingCancelRequest",ki="agentScreenSharingAccept",Ii="agentScreenSharingRefuse",Mi="agentScreenSharingStop",Oi="visitorScreenSharingRequest",Ai="visitorScreenSharingCancelRequest",Bi="visitorScreenSharingAccept",Ti="visitorScreenSharingRefuse",ji="visitorScreenSharingStop",Pi="agentRequestVisitorScreenSharing",Fi="agentCancelRequestVisitorScreenSharing",Wi="visitorRefuseAgentRequestVisitorScreenSharing",Ni="visitorAcceptAgentRequestVisitorScreenSharing",Vi="systemScreenSharingNoAnswer",Di="pendingScreenSharingRequesting",Ri="pendingAcceptScreenSharing",Ei="pendingHangupScreenSharing",zi="pendingVisitorAcceptAgentRequestVisitorScreenSharing",Li="systemScreenSharingEnd",Hi="systemStartTaskbot",qi="taskbotJoinChat",Ui="taskbotActions",Gi="taskbotRequestQuestionGuid",Ki="taskbotComplete",Yi="chatbotActions",Ji="agentTransferChatToAnotherSite",Qi="agentRecallMessage",Zi="recalledChatMessage",Xi="00000001-0000-0000-0000-000000000001",$i="",to=1e4,eo="00000000-0000-0000-0000-000000000000",no="00000001-0000-0000-0000-000000000001",io="#0033e2",oo={batchAction:"batchAction",uploadFileAction:"uploadFileAction",getConfig:"getConfig",setCustomVariables:"setCustomVariables",newVisitor:"newVisitor",pageVisit:"pageVisit",getChatButton:"getChatButton",getIfOnline:"getIfOnline",checkIfOnline:"checkIfOnline",checkAutoInvitation:"checkAutoInvitation",confirmAutoInvitation:"confirmAutoInvitation",acceptAutoInvitation:"acceptAutoInvitation",refuseAutoInvitation:"refuseAutoInvitation",checkManualInvitation:"checkManualInvitation",refuseManualInvitation:"refuseManualInvitation",manualInvitationShowed:"manualInvitationShowed",submitSSOInfo:"submitSSOInfo",submitPrechat:"submitPrechat",socialLogin:"socialLogin",requestChat:"requestChat",requestChatFromChatbot:"requestChatFromChatbot",sendChatMessages:"sendChatMessages",getChatMessages:"getChatMessages",getChatQueue:"getChatQueue",setVisitorStatus:"setVisitorStatus",submitRating:"submitRating",emailTranscript:"emailTranscript",sendFile:"sendFile",uploadFile:"uploadFile",endChat:"endChat",submitPostChat:"submitPostChat",submitOfflineMessage:"submitOfflineMessage",chatBotAnswerHelpful:"chatBotAnswerHelpful",chatBotSelectQuestion:"chatBotSelectQuestion",prechatHeartbeat:"prechatHeartbeat",offlineMessageHeartbeat:"offlineMessageHeartbeat",enterOfflineMessage:"enterOfflineMessage",checkManuallyInvited:"checkManuallyInvited",closeWindow:"closeWindow",getDepartments:"getDepartments",getAgents:"getAgents",checkBan:"checkBan",systemProcessingHeartbeat:"systemProcessingHeartbeat",restoreChat:"restoreChat",checkBBSCode:"checkBBSCode",checkDynamicCampaign:"checkDynamicCampaign",getDynamicCampaign:"getDynamicCampaign",pageHeartbeat:"pageHeartbeat",getChatWindowConfig:"getChatWindowConfig",getCustomVariables:"getCustomVariables",visitorHandleBotForm:"visitorHandleBotForm",setBotVariable:"setBotVariable",agentMsgSeenByVisitor:"agentMsgSeenByVisitor",visitorGetLatestMsgSeen:"visitorGetLatestMsgSeen",setLocation:"setLocation",getVisitorInfo:"getVisitorInfo",recoverVisitor:"recoverVisitor",getFileUploadToken:"getFileUploadToken",getSSORecoverInfo:"getSSORecoverInfo",requestChatFromAnotherSite:"requestChatFromAnotherSite",showInvitation:"showAutoInvitation"},ao=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return Object.assign({type:oo.uploadFileAction,action:t,file:e},i)},ro=function(t,e,n,i,o,a,r,s,c){return void 0===n&&(n=""),{type:oo.newVisitor,campaignId:t,visitorId:e,visitorGuid:n||"",referrer:i,landingPage:o,timezone:a,screenResolution:r,ifSupportWebrtc:s,firstVisitTime:c.firstVisitTime||(new Date).getTime(),visitTimes:c.visitTimes||0,chatTimes:c.chatTimes||0,name:c.name||(c.form?c.form.name:""),email:c.email||(c.form?c.form.email:""),persistentVisitor:c.persistentVisitor||!1}},so=function(t,e,n,i,o,a,r,s,c,d,l,u,p,h,f){return Object.assign({},ro(t,void 0,e,n,s,i,o,a,r),{status:c,ifSearchingKB:d,type:oo.recoverVisitor,navigation:l},u,{ssoInfo:p,isChattingWithTaskbot:h,taskbotId:f})},co=function(t,e){return{type:oo.pageVisit,campaignId:t,page:e}},lo=function(t,e){return{type:oo.setCustomVariables,customVariables:t,campaignId:e}},uo=function(t){return{type:oo.checkIfOnline,campaignId:t}},po=function(t){return{type:oo.checkAutoInvitation,campaignId:t}},ho=function(t,e){return{type:oo.confirmAutoInvitation,campaignId:t,invitationId:e}},fo=function(t){return{type:oo.checkManualInvitation,campaignId:t}},go=function(t,e,n){return{type:e?oo.refuseManualInvitation:oo.refuseAutoInvitation,campaignId:t,invitationId:e?void 0:n}},mo=function(t,e){return void 0===e&&(e=!1),{type:oo.getChatButton,campaignId:t,alreadyCampaignId:e}},wo=function(t,e){return{type:oo.submitSSOInfo,token:t,campaignId:e}},bo=function(t,e){return{type:oo.submitPrechat,form:t,campaignId:e}},vo=function(t){return{type:oo.checkManuallyInvited,chatGuid:t}},_o=function(t,e){return{type:oo.getFileUploadToken,chatGuid:e,fileUploadSource:t?0:1}},xo=function(t,e){return{type:oo.submitRating,chatGuid:t,rating:e}},yo=function(t){return{type:oo.socialLogin,socialType:t.source,name:t.name,email:t.email,avatar:t.avatar,profileUrl:t.profile}},So=function(t,e,n,i,o){return void 0===n&&(n=!1),{type:oo.requestChat,campaignId:t,source:e,isPrechatDone:n,isSupportWebrtc:v,ticketId:i,departmentId:o}},Co=function(t){return{type:oo.endChat,chatGuid:t}},ko=function(t,e){return{type:oo.getChatMessages,chatGuid:t,fromId:e}},Io=function(t){return{type:oo.getChatQueue,chatGuid:t}},Mo=function(t,e){return{type:oo.agentMsgSeenByVisitor,chatGuid:t,msgGuid:e}},Oo=function(t){return{type:oo.visitorGetLatestMsgSeen,chatGuid:t}},Ao=function(t,e){return{type:oo.sendChatMessages,chatGuid:t,messages:e}},Bo=function(){return{type:oo.getDepartments}},To=function(){return{type:oo.getAgents}},jo=function(t){var e=t.filter((function(t){return!!t}));return 0===e.length?null:1===e.length?e[0]:{type:oo.batchAction,actions:e}},Po=function t(e,n){null!=n&&(n.type===oo.batchAction?n.actions?n.actions.forEach((function(n){return t(e,n)})):n.payload&&n.payload.forEach((function(n){return t(e,n)})):e(n))},Fo=function(t,e){var n=null;return Po((function(t){t.type===e&&(n=t)}),t),n},Wo=function t(e,n){if(null==n)return null;var i=e(n);if(i.type===oo.batchAction){if(i.actions)return{type:i.type,actions:i.actions.map((function(n){return t(e,n)}))};if(i.payload)return{type:i.type,payload:i.payload.map((function(n){return t(e,n)}))}}return i},No=function(t){var e=t.visitorGuid,n=t.visitorId;return{type:oo.checkBan,visitorGuid:n?void 0:e,visitorId:n}},Vo=function(){return{type:oo.restoreChat}},Do=function(){return{type:oo.checkDynamicCampaign}},Ro=function(){return{type:oo.getDynamicCampaign}},Eo=function(){return{type:oo.pageHeartbeat}},zo=function(t){return{type:oo.getChatWindowConfig,siteId:t}},Lo=function(){return{type:oo.getSSORecoverInfo}},Ho="name",qo="email",Uo="phone",Go="company",Ko="product",Yo="department",Jo="ticket",Qo="rating",Zo="comment",Xo="subject",$o="content",ta="attachment",ea="text",na="textArea",ia="checkbox",oa="checkBox",aa="checkboxList",ra="nps",sa="captcha",ca="singleSelect",da="multipleSelect",la="date",ua="time",pa="password",ha="decimal",fa="integer",ga="videoIncoming",ma="notStart",wa="videoRequesting",ba="videoChatting",va="audioIncoming",_a="audioChatting",xa="audioRequesting",ya="notStart",Sa="screenSharingRequesting",Ca="screenSharingIncoming",ka="screenSharingProcessingAcceptedByVisitor",Ia="screenSharingProcessingAcceptedByAgent",Ma="agentRequestVisitorScreenSharing";function Oa(t,e,n,i){this.message=t,this.expected=e,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Oa)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(Oa,Error),Oa.buildMessage=function(t,e){var n={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?a(t.parts[e][0])+"-"+a(t.parts[e][1]):a(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function i(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}return"Expected "+function(t){var e,i,o,a=new Array(t.length);for(e=0;e<t.length;e++)a[e]=(o=t[e],n[o.type](o));if(a.sort(),a.length>0){for(e=1,i=1;e<a.length;e++)a[e-1]!==a[e]&&(a[i]=a[e],i++);a.length=i}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."};var Aa={SyntaxError:Oa,parse:function(t,e){e=void 0!==e?e:{};var n,i={},o={All:j},a=j,r="[",s=M("[",!1),c=/^[^[]/,d=O(["["],!0,!1),l=function(t,e){return{label:t,url:e}},u="]",p=M("]",!1),h=function(t){return t.join("")},f="(",g=M("(",!1),m=")",w=M(")",!1),b=function(t){return t.join("")},v=/^[^[\]]/,_=O(["[","]"],!0,!1),x=/^[^)]/,y=O([")"],!0,!1),S=0,C=[{line:1,column:1}],k=0,I=[];if("startRule"in e){if(!(e.startRule in o))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=o[e.startRule]}function M(t,e){return{type:"literal",text:t,ignoreCase:e}}function O(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function A(e){var n,i=C[e];if(i)return i;for(n=e-1;!C[n];)n--;for(i={line:(i=C[n]).line,column:i.column};n<e;)10===t.charCodeAt(n)?(i.line++,i.column=1):i.column++,n++;return C[e]=i,i}function B(t,e){var n=A(t),i=A(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:i.line,column:i.column}}}function T(t){S<k||(S>k&&(k=S,I=[]),I.push(t))}function j(){var e,n,o;for(e=[],(n=F())===i&&(91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s)),n===i&&(n=S,n=(o=P())!==i?t.substring(n,S):o));n!==i;)e.push(n),(n=F())===i&&(91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s)),n===i&&(n=S,n=(o=P())!==i?t.substring(n,S):o));return e}function P(){var e,n;if(e=[],c.test(t.charAt(S))?(n=t.charAt(S),S++):(n=i,T(d)),n!==i)for(;n!==i;)e.push(n),c.test(t.charAt(S))?(n=t.charAt(S),S++):(n=i,T(d));else e=i;return e}function F(){var e,n,o;return e=S,n=function(){var e,n,o,a,c;e=S,91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s));if(n!==i){if(o=[],(a=N())===i&&(a=S,a=(c=W())!==i?t.substring(a,S):c),a!==i)for(;a!==i;)o.push(a),(a=N())===i&&(a=S,a=(c=W())!==i?t.substring(a,S):c);else o=i;o!==i?(93===t.charCodeAt(S)?(a=u,S++):(a=i,T(p)),a!==i?e=n=h(o):(S=e,e=i)):(S=e,e=i)}else S=e,e=i;return e}(),n!==i?(o=function(){var e,n,o,a;e=S,40===t.charCodeAt(S)?(n=f,S++):(n=i,T(g));if(n!==i){if(o=[],(a=V())!==i)for(;a!==i;)o.push(a),a=V();else o=i;o!==i?(41===t.charCodeAt(S)?(a=m,S++):(a=i,T(w)),a!==i?e=n=b(o):(S=e,e=i)):(S=e,e=i)}else S=e,e=i;return e}(),o!==i?e=n=l(n,o):(S=e,e=i)):(S=e,e=i),e}function W(){var e,n,o,a;if(e=S,91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s)),n!==i){for(o=[],(a=N())===i&&(a=W());a!==i;)o.push(a),(a=N())===i&&(a=W());o!==i?(93===t.charCodeAt(S)?(a=u,S++):(a=i,T(p)),a!==i?e=n=[n,o,a]:(S=e,e=i)):(S=e,e=i)}else S=e,e=i;return e}function N(){var e;return v.test(t.charAt(S))?(e=t.charAt(S),S++):(e=i,T(_)),e}function V(){var e;return x.test(t.charAt(S))?(e=t.charAt(S),S++):(e=i,T(y)),e}if((n=a())!==i&&S===t.length)return n;throw n!==i&&S<t.length&&T({type:"end"}),function(t,e,n){return new Oa(Oa.buildMessage(t,e),t,e,n)}(I,k<t.length?t.charAt(k):null,k<t.length?B(k,k+1):B(k,k))}},Ba=["type","content","translated","originalMessage"],Ta=function(t,n){return t.map((function(t){var i=t.type;t.content;var o=t.translated,a=t.originalMessage,r=F(t,Ba);return!n||i!==Fe&&i!==Ce&&i!==Le&&i!==Pe&&i!==Wn&&i!==Nn?Object.assign({},r,{type:i,translated:o,originalMessage:a}):Object.assign({type:i},r,{translated:e.Base64.encode(o),originalMessage:e.Base64.encode(a),encoding:n})}))},ja=function(t,e){var n="/chatwindow.aspx?siteId="+t+"&planId="+e;return T.version&&(n+="&version="+T.version),n},Pa=function(t){return t?Object.keys(t).reduce((function(e,n){try{var i=T.call(t[n]);if(void 0===i)return e;var o=e;return o[n]=null===i?i:i.toString(),o}catch(t){return e}}),{}):null},Fa=function(){return(new Date).getTimezoneOffset()},Wa=function(){return screen.width+"x"+screen.height},Na=/(?:www\.|(?:https?|ftp|news|rtsp|mms):\/\/)[\w$%][\w_!~*'();?:@&=+$,%#-./]*[\w_!~*'();?:@&=+$%#-]\/?/gi,Va=/(?:\+ ?)?\(?\d(?:[()]?[-]?[()]?\d){4,19}/;function Da(t){for(var e=t,n=Va.exec(e),i=[],o=[];n&&e;){var a=n.index,r=n[0],s=e.substr(0,a);e=e.substr(a+r.length);var c=r.match(/\(/g),d=c?c.length:0,l=r.match(/\)/g),u=d===(l?l.length:0);if(u)if(s.length>0){var p=s[s.length-1];u=/[^a-zA-Z0-9!@#$%^&*~]/.test(p)}else if(i.length>o.length){var h=i[i.length-1],f=h[h-1];u=/[^a-zA-Z0-9!@#$%^&*~]/.test(f)}else i.length>0&&(u=!1,s=o.pop()+s);if(u&&(u=!/^\d/.test(e||"")),u)i.length>o.length?i[i.length-1]+=s:i.push(s),o.push(r);else{var g=s+r;i.length>o.length?i[i.length-1]+=g:i.push(g)}n=Va.exec(e)}return e?i.length===o.length?i.push(e):i[i.length-1]+=e:i.length===o.length&&i.push(""),[i,o]}function Ra(t,e,n,i){var o,a;if(e instanceof RegExp)o=t.split(e),a=t.match(e);else{var r=e(t);o=r[0],a=r[1]}for(var s=new Array(2*o.length-1),c=0;c<o.length;c+=1)s[2*c]=i(o[c]),c!==o.length-1&&(s[2*c+1]=n(a[c],c,a));return s}var Ea=function(t){for(var e=Aa.parse(t),n=[],i=0;i<e.length;i++){var o=e[i];"string"!=typeof o||"string"!=typeof n[n.length-1]?"string"==typeof o?n.push(o):n.push({label:o.label,url:o.url.trim()}):n[n.length-1]+=o}return n};var za,La=/^[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$/,Ha=function(t){return La.test(t)},qa=/^\d+$/,Ua=function(t){return qa.test(t)},Ga=function(){return/ipad/i.test(j)?be:/mobile|android/i.test(j)?we:me},Ka=function(){var t=Ga();return t===we||t===be},Ya=function(t){return t.replace(/[\s|\d]{10,}/g,(function(t){return function(t){var e="^(?:"+["3[4|7]\\d{2}\\s{0,1}\\d{6}\\s{0,1}\\d{1}","3[0|6|8|9]\\d{3}\\s{0,1}\\d{4}\\s{0,1}\\d{1}","(?:6011\\s{0,1}\\d{4}\\s{0,1}|65\\d{2}\\s{0,1}\\d{4}\\s{0,1}|622(?:(?:1\\s{0,1}2[6-9]|1\\s{0,1}[3-9]\\d|[2-8]\\d{2})\\d{2}\\s{0,1}|9\\s{0,1}2[0-5]\\d{2}\\s{0,1}|9\\s{0,1}[0-1]\\d{3}))\\d{4}\\s{0,1}","(?:2014|2149)\\s{0,1}\\d{7}\\s{0,1}","(?:(?:3088|3096|3112|3158|3337)\\s{0,1}\\d{4}\\s{0,1}|35(?:2[89]\\s{0,1}\\d{4}\\s{0,1}|[3-8]\\d\\s{0,1}\\d{4}\\s{0,1}))\\d{4}\\s{0,1}","5[1-5]\\d{2}\\s{0,1}\\d{4}\\s{0,1}\\d{4}\\s{0,1}","2(22[1-9]|2[3-9][0-9]|[3-6]\\d{2}|7[0|1][0-9]|720)\\d{8}","4\\d{8,14}","5019\\d{8}","(5[0|6-9]|6[0-9])\\d{6,13}","31\\d{13}","62|81\\d{10,13}","220[0-4]\\d{8}","9792[0-8][0-9]\\d{6}"].join("|")+")(\\d{4})(?!\\d)",n=new RegExp(e,"g");if(t.replace(/\s/g,"").match(n)){for(var i=t.length-4,o="",a=0;a<t.length;a+=1)o+="*";return o+t.substring(i)}return t}(t)}))},Ja=function(t){var e=t;e.left="50%",e.top="50%",e.transform="translate(-50%, -50%)"},Qa=function(t){var e=t;e.left="50%",e.transform="translateX(-50%)"},Za=function(t){var e=t;e.top="50%",e.transform="translateY(-50%)"},Xa=function(t){return void 0!==t.px?t.px:t.percent+"%"},$a=function(t,e){var n=t.xoffset,i=t.yoffset,o={position:"fixed",zIndex:e};return t.type===le&&(o.bottom=Xa(i),Qa(o)),"topMiddle"===t.type&&(o.top=Xa(i),Qa(o)),"leftMiddle"===t.type&&(o.left=Xa(n),Za(o)),"rightMiddle"===t.type&&(o.right=Xa(n),Za(o)),"topLeft"===t.type&&(o.left=Xa(n),o.top=Xa(i)),"topRight"===t.type&&(o.right=Xa(n),o.top=Xa(i)),"bottomLeft"===t.type&&(o.left=Xa(n),o.bottom=Xa(i)),t.type===ue&&(o.right=Xa(n),o.bottom=Xa(i)),t.type!==de&&t.type!==pe||Ja(o),"leftBottom"===t.type&&(o.bottom="5%",o.left=0,o.transform="translateY(5%)"),"rightBottom"===t.type&&(o.bottom="5%",o.right=0,o.transform="translateY(5%)"),o},tr=function(t,e){if(!e)return t;var n=function(t,e,n){return t.replace(new RegExp(e,"g"),n)},i=t;i=n(i,"#000001",e);var o=k(e,.2),a=I(e,.9),r=S(e)?"#000000":"#ffffff",s=S(e)?"#323dbf":"#ffffff",c=S(e)?"rgba(60,60,60,0.6)":"rgba(255,255,255,0.6)",d=S(o)?"#3c3c3c":"#ffffff",l=S(o)?"rgba(60,60,60,0.6)":"rgba(255,255,255,0.6)",u=M(e),p=u.buttonColor,h=u.buttonTextColor,f=u.buttonIconColor,g=u.buttonHoverColor,m=O(e),w=function(t){var e=_(t),n=e[0],i=e[1],o=e[2],a=x(n,i,o),r=a[0],s=a[1],c=a[2],d=s,l=c,u=s,p=c;s>=0&&s<=.04?l=c<=.4?c:.4:s<=.6?(d=.6,l=c<=.45?c:.45):l=c<=.45?c:.45,p=l<=.2?l+.1:l-.1;var h=y(r,d,l),f=h[0],g=h[1],m=h[2],w=y(r,u,p);return{iconColor:"rgb("+f+","+g+","+m+")",iconHoverColor:"rgb("+w[0]+","+w[1]+","+w[2]+")",iconBgColor:"rgba("+f+","+g+","+m+", 0.06)"}}(e),b=w.iconColor,v=w.iconHoverColor,C=w.iconBgColor,B=A(e);return i=n(i,"#000002",o),i=n(i,"#000006",a),i=n(i,"#000003",g),i=n(i,"#000004",r),i=n(i,"#000005",d),i=n(i,"#000007",c),i=n(i,"#000008",l),i=n(i,"#000009",s),i=n(i,"#00000a",p),i=n(i,"#00000b",m),i=n(i,"#00000c",b),i=n(i,"#00000d",B),i=n(i,"#00000e",h),i=n(i,"#00000f",f),i=n(i,"#000010",v),i=n(i,"#000012",C)},er=function(t){if(za)return za;var e=".mediaChatWindow.mediaChatWindow--videoIncoming,.mediaChatWindow.mediaChatWindow--videoRequesting,.mediaChatWindow.mediaChatWindow--audioChatting,.mediaChatWindow.mediaChatWindow--audioIncoming,.mediaChatWindow.mediaChatWindow--audioRequesting {background-image:url('"+t("/visitorside/images/multimedia-backgroud.png")+"');background-repeat:no-repeat;background-size:cover;}",n=[{family:"",filename:"regular"},{family:" Italic",filename:"it"},{family:" Bold",filename:"semibold"},{family:" Light",filename:"light"}].map((function(e){var n=e.family,i=e.filename;return'@font-face {font-family: "SourceSans Pro'+n+'";src: url('+t("/visitorside/fonts/sourcesanspro-"+i+".woff")+") format('woff'),url("+t("/visitorside/fonts/sourcesanspro-"+i+".ttf")+") format('truetype'),url("+t("/visitorside/fonts/sourcesanspro-"+i+".svg#SourceSans-Pro-"+i)+") format('svg')}"})).join("")+'@font-face{font-family:icons;src:url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.eot?#iefix) format("embedded-opentype"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.woff) format("woff"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.ttf) format("truetype"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.svg#icons) format("svg")}.icon{font-family:icons!important;font-style:normal;font-weight:400!important;display:inline-block;vertical-align:baseline;text-align:center;text-transform:none;text-rendering:auto;line-height:1;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-bot-active:before{content:"\\f101"}.icon-bot:before{content:"\\f102"}.icon-bubble-line:before{content:"\\f103"}.icon-bubble-line1:before{content:"\\f104"}.icon-bubble:before{content:"\\f105"}.icon-close:before{content:"\\f106"}.icon-coBrowsing-active:before{content:"\\f107"}.icon-coBrowsing:before{content:"\\f108"}.icon-drag:before{content:"\\f109"}.icon-embedded:before{content:"\\f10a"}.icon-facebook:before{content:"\\f10b"}.icon-googleplus:before{content:"\\f10c"}.icon-helpful:before{content:"\\f10d"}.icon-input-send:before{content:"\\f10e"}.icon-kb-active:before{content:"\\f10f"}.icon-kb-search:before{content:"\\f110"}.icon-kb:before{content:"\\f111"}.icon-kbSearch-active:before{content:"\\f112"}.icon-kbSearch:before{content:"\\f113"}.icon-media-active:before{content:"\\f114"}.icon-media:before{content:"\\f115"}.icon-minimize:before{content:"\\f116"}.icon-not-helpful:before{content:"\\f117"}.icon-plus:before{content:"\\f118"}.icon-popup:before{content:"\\f119"}.icon-rating-full:before{content:"\\f11a"}.icon-rating-half:before{content:"\\f11b"}.icon-sendfile:before{content:"\\f11c"}.icon-video:before{content:"\\f11d"}.icon-voice-active:before{content:"\\f11e"}.icon-voice:before{content:"\\f11f"}'.replace(/[{]FONT_URL_PREFIX[}]/g,t("/visitorside/fonts"))+e;return za=n,n},nr=t(1)((function(t){return S(t)?"black":"white"})),ir=function(t){var e=t;return Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].join($i))})),e},or=function(t){var e=Object.assign({},t);return ir(e),"ticketId"in e&&(e.ticketId=""===e.ticketId||Number.isNaN(+e.ticketId)?void 0:e.ticketId),"department"in e&&(e.department=""!==e.department?e.department:Xi),e.custom&&(e.custom=Object.assign({},e.custom),ir(e.custom)),e},ar=function(t){return i("a",{href:"tel:"+("+"===t[0]?"":"+")+t,target:"_blank",rel:"noopener noreferrer"},t)},rr=function(t,e){if("string"!=typeof t)return t;var o=n.parse(t,{buildUrl:function(t){return e+"/svg/"+t+".svg"}}).filter((function(t){return!!t.url}));if(0===o.length)return t;for(var a=[],r=0,s=0;s<o.length;){var c=o[s],d=c.indices,l=c.url,u=c.text;a.push(t.substring(r,d[0])),a.push(i("img",{alt:u,src:l,className:"emoji-char"})),r=d[1],s++}return a.push(t.substring(r)),a.filter((function(t){return!!t})).length===o.length?a.filter((function(t){return!!t})).map((function(t){return t.props.class="emoji-char-large",t})):a.filter((function(t){return!!t}))},sr=function(t,e,n,o,a,r,s){return Ra(t,/\r\n|\r|\n/g,(function(){return e}),(function(t){return e=function(t,e){return function(t,e,n,o,a){if(n&&o&&new RegExp("/kb/[\\d]+/(.*)/(.*)","i").test(t)&&t.match(/\/kb\/([\d]+)\/(.*)\/(.*)\/?/i)[1]===""+a){var r=t.match(/\/kb\/[\d]+\/(.*)\/(.*)\/?/i)[1];return i("a",{rel:"noopener noreferrer",href:"",onClick:function(e){e.preventDefault(),o(r,t)}},e)}var s=t;return/^https:\/\/|http:\/\/|ftp:\/\//i.test(t)||(s="http://"+t),i("a",{href:s,target:"_blank",rel:"noopener noreferrer"},e)}(t,rr(e,s+"/twemoji"),n,o,a)},c=r?ar:function(t){return t},Ea(t).map((function(t){return"string"==typeof t?Ra(t,Na,(function(t){return e(t,t)}),(function(t){return Ra(t,Da,c,(function(t){return t}))})).reduce((function(t,e){return t.concat(e)}),[]):[e(t.url,t.label)]})).reduce((function(t,e){return t.concat(e)}),[]);var e,c})).reduce((function(t,e){return e.map?t.concat(e.map((function(t){return rr(t,s+"/twemoji")})).flat()):t.concat(e)}),[])},cr=[Fe,We,Re,Hn,Ue,Ge,ze,Ne,Ve,xe,De,"agentPromoteToUser","agentPromoteToContact",He,qe,"agentRefuseTransfer",ye,Qe,Ze,Xe,$e,tn,sn,cn,vn,_n,xn,yn,Sn,Cn,kn,In,Mn,On,en,nn,on,an,rn,An,Bn,Ye,Je,En,Un,Gn,dn,ln,pn,fn,hn,wn,Ji,Nn,Wn,Fn,jn,Si,Ci,ki,Ii,Mi,Vi,Li,Oi,Ai,Bi,Ti,Wi,Ni,ji,Pi,Fi],dr=function(t){return cr.indexOf(t.type)>=0},lr=function(){return void 0===window.File},ur=[ze,Je,Ce,Fe,We,si,Le,Pe,ci,Ge,Ue,Ie,Me,Ke,ke,_e,Se,Ln,En,qn,zn,Dn,$n,ti,ei,Ye,Tn,ii,oi,ai,Un,Gn,Yn,Jn,Qn,Kn,ve,jn,Wn,Nn,Hi,qi,Ui,Gi,Ki,Yi,Vn],pr=function(t){return v&&(t===Bn||t===cn||t===An||t===sn||t===In||t===kn||t===Mn||t===On||t===xn||t===_n||t===yn||t===Sn||t===on||t===nn||t===an||t===rn||t===Xe||t===Ze||t===$e||t===tn)},hr=function(t){return v&&(t===Li||t===Vi||t===Bi||t===Ai||t===Ti||t===Wi||t===Ni||t===Fi||t===ji||t===ki||t===Ci||t===Ii||t===Mi)},fr=function(t){return ur.indexOf(t.type)<0};function gr(t){return t.type===$n||t.type===ei||t.type===ti||t.type===Ce||t.type===Ie||t.type===Me||t.type===Yn||t.type===Kn}function mr(t){return t.type===Fe||t.type===We||t.type===si||t.type===ze||t.type===Ue||t.type===Ge||t.type===Ke||t.type===Je||t.type===jn||t.type===Nn||t.type===Wn}function wr(t){return t.type===Dn||t.type===Ln||t.type===En||t.type===zn||t.type===Un||t.type===Gn||t.type===qn||t.type===Jn||t.type===Qn}var br=[Yi];function vr(t){return br.includes(t.type)}var _r=function(t){var e=t.type;return e===Ui||e===Gi};var xr=function(t,e){return[er(e),tr('.emoji{position:absolute;left:0;bottom:0;box-shadow:var(--shadow2-color);border-radius:4px;overflow:hidden;background-color:var(--whitePopup-color);--scrollbar-width:8px;--emoji-width:32px;--emoji-height:32px;--emoji-list-padding:12px;--emoji-category-title-height:22px;--emoji-font-size:22px;--emoji-column-count:8;--emoji-row-count:8;--emoji-list-width:var(--emoji-width) * var(--emoji-column-count) + var(--emoji-list-padding) * 2;--emoji-list-height:var(--emoji-height) * var(--emoji-row-count) + var(--emoji-category-title-height);--black-color:#000000;--white-color:#FFFFFF;--whiteFixed-color:#FFFFFF;--whiteFixed8-color:rgba(255, 255, 255, 0.08);--whiteFixed12-color:rgba(255, 255, 255, 0.12);--whitePopup-color:#FFFFFF;--blackLight-color:rgba(33, 33, 33, 0.2);--blackMid-color:#999999;--blackDark-color:#595959;--blackFixed-color:#212121;--blackToast-color:rgba(33, 33, 33, 0.8);--grey8-color:rgba(114, 114, 114, 0.08);--greyN2bg-color:#FCFCFC;--greyBackground-color:#F0F0F0;--greyMenu-color:#F0F0F0;--shadow1-color:0px 1px 6px 0px rgba(0, 0, 0, 0.2);--shadow2-color:0px 2px 6px 0px rgba(0, 0, 0, 0.08);--shadow3-color:1px 2px 12px 0px rgba(0, 0, 0, 0.16);--greyScrollbar-color:#BCBBBA;--greyScrollbarHover-color:#A1A1A1;--greyToast-color:#D3D3D3;--tableTitle-color:#EDEDED;--bubbleBackground-color:#FFFFFF;--replyBackground-color:#F0F0F0;display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column}.emoji__scroll-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:var(--emoji-list-padding);width:calc(var(--emoji-list-width));height:calc(var(--emoji-list-height))}.emoji__cell{font-family:var(--emoji-font);font-size:var(--emoji-font-size);width:var(--emoji-width);height:var(--emoji-height);line-height:1;-ms-flex-preferred-size:var(--emoji-width);flex-basis:var(--emoji-width);display:-ms-flexbox;display:flex;-ms-flex:none;flex:none;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;outline:0;border-radius:4px;padding:4px}.emoji__cell img{width:100%;height:100%}.emoji__cell.emoji__cell--selected,.emoji__cell:focus,.emoji__cell:hover{outline:0;background-color:rgba(114,114,114,.08);text-decoration:none}.window__chat{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;overflow:overlay;overflow-x:hidden!important;-webkit-overflow-scrolling:touch;width:100%;padding:18px 27px 0;margin-bottom:0}.chat__greetingContainer .window__chatSystemMessage,.chat__greetingContainer .window__formGreeting{margin-bottom:0;color:#666}.chat__greetingContainer .window__chatSystemMessage a[href],.chat__greetingContainer .window__formGreeting a[href]{color:#00000a;border-bottom:1px solid #00000a!important}.window--mobile .window--bubble .chat__greetingContainer{margin-bottom:16px}.window__chat--animation{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window__chat--animation{animation:none}.window__chatSystemMessage{color:#626262;font-size:14px;text-align:center;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);word-wrap:break-word}.window--bubble .window__chat .window__chatSystemMessageContent{display:inline-block;background:#f8f8f8;line-height:1.57;padding:8px 14px;border-radius:5px;max-width:240px}.window__chatSystemMessage a,.window__chatSystemMessage a[href]{color:#00000c;border-bottom:1px solid #00000c}.window__chatSystemMessage a:hover,.window__chatSystemMessage a[href]:hover{color:#000010;border-bottom:1px solid #000010}.window__chatSystemMessage svg{fill:#00000c;position:relative;top:6px;right:3px}.window__chatSystemMessage svg:hover{fill:#000010}.window__chatAgent,.window__chatVisitor{display:-ms-flexbox;display:flex;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);position:relative}.window__chat>div>div+div>.chat-message-time,.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window__chat>div{padding-bottom:16px}.window__chat>div>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div+div{margin-top:16px}.window__chat>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--ie .window__chatAgent,.window--ie .window__chatSystemMessage,.window--ie .window__chatVisitor{animation:none}.window__chatVisitor{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.agentMessage__avatar{margin-right:15px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-negative:0;flex-shrink:0}.agentMessage__avatarImg{display:block;width:30px;height:30px;border-radius:100%;margin-bottom:15px}.agentMessage__pci{background:#f0f0f0;border:1px solid #ddd;border-radius:4px;padding:23px 20px 12px}.agentMessage__pciField{margin-bottom:7px;color:#888}.agentMessage__pciControl{margin-bottom:12px}.agentMessage__pciControl .form__input{height:30px;line-height:30px;width:calc(100% - 20px)}.window__chatAgentMessage p{margin:0}.window--circular .window__chatAgentMessage,.window--circular .window__chatVisitorMessage{border-radius:20px}.window__chatAgentMessage,.window__chatVisitorMessage{position:relative;font-size:.93333333rem;line-height:1.57;padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5}.window__chatAgentMessage_container{max-width:640px}.window__chatAgentMessage_container .chat-message-extra-info{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:4px}.window__chatAgentMessage_container .chat-message-extra-info>.chat-message-time{margin-left:8px}.window__chatAgentMessage_container .window__chatAgentMessage{max-width:100%;display:inline-block;border-top-left-radius:0;border-bottom-left-radius:5px}.window--mobile .window__chatAgentMessage{border:1px solid #f5f5f5}.window__formMessageContainer{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.window__formMessage{padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5;width:100%;max-width:600px}.window__formMessage .window__formGreeting{text-align:left;color:#000}.window--ie .window__chatVisitorMessage{margin-left:auto}.window__chatAgentMessage{border-top-left-radius:0}.window__chatVisitorMessage{background-color:#000001;color:#000;border-top-right-radius:0;margin-left:67px;max-width:640px}@keyframes bounceOut{20%{width:5px;height:5px;border-radius:5px;opacity:1}50%,55%{width:8px;height:8px;border-radius:8px;opacity:1}to{width:2px;height:2px;border-radius:2px;opacity:0}}.dot_container{width:20px;height:20px;position:absolute;left:-20px;bottom:19px}.message--notSeen,.message--seen{display:inline-block;background:#00000c;width:6px;height:6px;border-radius:6px;position:relative;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);fill:#00000c}.message--seen{animation:bounceOut .5s linear forwards}.window--rtl .dot_container{left:-35px}.window--ie9 .message--seen{display:none}.file__icon--cancel{float:right}.file__icon--cancel svg{width:12px;height:12px;fill:#00000c}.file__icon--cancel svg:hover{fill:#000010}.window__chatMessageOrignal{display:block;opacity:.85}.window__chatMessageTranslatedTag{display:inline}.window__chatAgentMessage img:not(.emoji-char){display:inline-block}img.emoji-char{height:1.2em;width:1.2em;margin:0 .05em 0 .1em;vertical-align:-.2em}img.emoji-char-large{height:2em;width:2em;margin:0 .05em 0 .1em;vertical-align:-.2em}.invitation__message img.emoji-char-large,.window__chatMessageOrignal img.emoji-char-large{height:1.2em;width:1.2em;margin:0 .1em;vertical-align:-.2em}.window__chatAgentMessage .chatMessage__questionList li{color:#323dbf;line-height:1;margin-bottom:10px}.window__chatAgentMessage .chatMessage__questionList li span{margin-right:5px;display:inline-block;-ms-flex-negative:0;flex-shrink:0}.window__chatAgentMessage .chatMessage__questionList li:last-child{margin-bottom:0}.window__chatAgentMessage .chatMessage__questionList li a[href]{border-bottom-color:transparent}.window__chatAgentMessage .chatMessage__questionList li a[href]:active,.window__chatAgentMessage .chatMessage__questionList li a[href]:focus,.window__chatAgentMessage .chatMessage__questionList li a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.window__chatAgentMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatAgentMessage a[href]:active,.window__chatAgentMessage a[href]:focus,.window__chatAgentMessage a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.chat-message--img a,.chat-message--video video{min-width:60px!important;min-height:60px!important;border-bottom:none!important;overflow:hidden}.chat-message--img a{max-width:200px!important;max-height:200px!important;display:block}.chat-message--video video{max-width:250px!important;max-height:250px!important}.chat-message--img .image-container{margin:0 auto;height:100%}.chat-message--img img,.chat-message--video video{display:block;margin:0 auto;border:none}.window__chatVisitorMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatVisitorMessage a[href]:hover{border-bottom-color:#323dbf}.window__chatAgentMessage a,.window__chatVisitorMessage a{max-width:100%}.window__chatVisitorMessage button{border:none;background:0 0;margin:5px 0 0 9px;cursor:pointer}@keyframes message--show{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}.chat-time{opacity:0;color:#fff;font-size:.8rem;background:rgba(0,0,0,.6);padding:0 5px;line-height:17px;height:17px;border-radius:8px;transition:opacity 50ms linear;position:absolute;z-index:1}.chat-message-time{font-size:12px;font-family:"SourceSans Pro",Arial;color:#626262}.window__chatAgentName,.window__chatVisitorName{font-size:12px;font-family:"SourceSans Pro",Arial;color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--classic .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.chat-message--img,.window__chatAgentMessage.chat-message--video,.window__chatVisitorMessage.chat-message--video{padding:0}.window__chatAgentMessage{background:#fff;color:#000}.window__chatAgentMessage--file .icon-sendfile,.window__chatVisitorMessage--file .icon-sendfile{position:relative;top:3px;margin-right:5px;font-size:15px;color:#00000c}.window__chatAgentMessage--file a[href],.window__chatVisitorMessage--file a[href]{border:none}.kbsearch__container .window_chatError,.window--mobile .kbsearch__container .window_chatError,.window--mobile .window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 88px)}.window_chatError{position:absolute;z-index:99;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%);padding:10px 47px 10px 18px;box-shadow:0 0 5px rgba(0,0,0,.1);font-size:.8rem;line-height:1.17;text-align:left;bottom:0;width:calc(100% - 54px);border-radius:5px}.form-bottom .window_chatError{width:100%}.window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 38px)}.window--circular .window_chatError{border-radius:20px}.chatError__container{position:absolute;top:-20px;width:100%}.window_chatErrorClose{position:absolute;right:15px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);line-height:12px;cursor:pointer;background:0 0;border:none}.window_chatErrorClose svg{width:12px;height:12px}.window_chatError--urgency .window_chatErrorClose svg{fill:#BF0007}.window_chatError--mitigate .window_chatErrorClose svg{fill:#A05700}.window_chatError i{vertical-align:bottom}.window_chatError--mitigate{background:#fff6eb;border:1px solid #fff6eb;color:#A05700}.window_chatError--urgency{background:#fff2f2;border:1px solid #ffd6d8;color:#BF0007}.window--bubble .window__chatAgentMessage--file,.window--circle .window__chatAgentMessage--file::before{color:#000004}.window--circle .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window__chat>div{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--bubble .window__chatAgent{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.window--bubble .window__chatVisitor{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.window--bubble .chat-time{font-size:.8rem;padding:0 5px;top:0}.window--bubble .icon-bubble-line{position:absolute;width:10px;bottom:-1px}.window--bubble .icon-bubble-line .svgPath{width:auto;height:auto}.window--bubble .window__chatVisitorMessage{max-width:calc(100% - 50px)}.window__chatVisitorMessage .chat-message--loading{position:absolute;left:-30px;top:50%;margin-top:-11px}.window--bubble .window__chat{padding:30px 15px 0 27px;margin-bottom:0;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.window--bubble .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window--bubble__messageNoAvatar{margin-left:0;padding-left:15px;display:block}.chatMessage__questionList{margin-top:19px}.chatMessage__questionList li>a{display:inline}.chatMessage__questionList--disc{list-style-type:disc;padding-left:20px}.window__chatAgentMessage .chatMessage__questionList.chatMessage__questionList--disc li{display:list-item}.window__chatAgentMessage .btn{margin-top:16px}.chatMessage__chatBotRate__wrapper{position:absolute;right:-50px;bottom:0;width:40px}.chatMessage__chatBotRate{margin-left:10px;-ms-flex-item-align:end;align-self:flex-end}.chatMessage__chatBotRate>button{width:20px;height:20px;border-radius:20px;background-color:#fff;cursor:pointer;font-size:10px;border-width:0;display:block}.chatMessage__chatBotRate .icon{width:20px;line-height:20px;color:#626262}.chatMessage__chatBotRate>button:hover{background-color:#00000c}.chatMessage__chatBotRate>button:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover{background-color:#00000c;color:#fff;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover{background-color:#e8e8e8;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover .icon{color:#626262}.chatMessage__chatBotRate>button.chatMessage__chatBotRateLast{margin-top:5px}.window__chatWithAgent{z-index:9;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px;height:23px;text-align:center;padding-right:15px;padding-left:15px;background:0 0;border:none;cursor:pointer}.window__chatWithAgent--above:focus,.window__chatWithAgent--above:hover{border:1px solid #000003;color:#000003}.window__chatWithAgent--above{padding:4.5px;font-size:.8rem;line-height:1.25;height:27px;width:175px;border-radius:5px;border:1px solid #00000a;color:#00000a;background-color:#fff;position:absolute;top:-37px;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%)}.window--circular .window__chatWithAgent--above{border-radius:20px}.window__chatWithAgent--bottom:focus,.window__chatWithAgent--bottom:hover{color:#000003}.window__chatWithAgent--bottom{color:#00000a;font-size:.8rem;line-height:1.12;height:1rem;padding-left:12px;float:left}.window__chat .dot{position:relative;top:-3px}.window__chat .dot__element{display:inline-block;width:4px;height:4px;border-radius:100%;margin-right:5px;background:#000005;fill:#000005}@media screen and (-ms-high-contrast:active){.window__chat .dot__element{background:#fff;fill:#fff}}.window__chat .dot__element:last-child{margin-right:0}.animated-delayFrames7{animation-delay:292ms}.animated-delayFrames10{animation-delay:417ms}.animated-delayFrames13{animation-delay:542ms}.amimated-infinite{-webkit-animation-iteration-count:infinite}@keyframes dot__element--loadingAnimation{0%,100%,50%{transform:translateY(0)}25%{transform:translateY(-8px)}}.window__chat .dot__element--loadingAnimation{animation-name:dot__element--loadingAnimation;animation-duration:1s;animation-iteration-count:infinite}.window--ie .webView_background .webView_scroll_container,.window--ie .window__chat .dot__element--loadingAnimation{animation:none}.window--bubble .chat-message--imgLoading,.window--circle .chat-message--imgLoading,.window--classic .chat-message--imgLoading{width:62px;height:62px;text-align:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.chat-message__secure-form span{display:block;position:absolute;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%;left:50%}.postchatFormContainer{position:absolute;top:80px;bottom:30px;overflow:auto;overflow-x:hidden;padding:30px 50px;width:100%;-ms-transform:translateY(450px);transform:translateY(450px);opacity:0}.postchatFormContainer__greeting{margin-bottom:20px}.postchatFormContainer__submitContainer{text-align:center}@keyframes fadeInUp--windowFormContainer{0%{opacity:0;transform:translateY(375px)}100%{opacity:1;transform:translateY(0)}}.window__ssoLogin{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;-webkit-overflow-scrolling:touch;overflow-y:scroll}.window__ssoLogin iframe{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;background-color:#fff}.window--bubble .window__ssoLogin{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:1;flex-grow:1}.window--bubble .window__ssoLogin iframe{display:block;width:100%;height:100%;min-height:456px;background-color:#fff}.window_buttons_container .window_buttons_item{margin-top:12px;text-align:center;cursor:pointer}.window_buttons_container .window_buttons_item li{min-width:150px;margin-top:4px}.window_buttons_container .window_buttons_item button{border:none;border-radius:4px;background:#00000a;color:#00000e;cursor:pointer;padding:7px 10px;width:100%}.window_buttons_container .window_buttons_item--active button:hover{background:#000003!important;color:#00000e}.window_buttons_container .window_buttons_item--disable button{background-color:#e8e8e8!important;color:#626262!important;cursor:default}.webView_background{position:absolute;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);border-radius:5px 5px 0 0;z-index:1000}.webView_background .webView_scroll_container{width:100%;position:absolute;height:100%;bottom:0;max-height:100%;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.webView_background .webView_scroll_container--compact{max-height:300px}.webView_background .webView_scroll_container--full{max-height:530px}.webView_background .webView_scroll_container--tall{max-height:415px}.webView_background .webView--scroll{width:100%;position:relative;height:calc(100% - 40px);overflow:-moz-scrollbars-none;-ms-overflow-style:none}.webView_background .webView__title{width:100%;text-align:center;background-color:#fff;height:40px;border-bottom:1px solid #ddd;line-height:40px;border-radius:5px 5px 0 0}.webView_background .webView__title h1{font-weight:400;margin:0;width:200px;font-size:inherit;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.webView_background .webView__close{position:absolute;right:10px;cursor:pointer;z-index:9999;fill:#5d5d5d;background:0 0;border:none;padding:6px 16px 0;width:44px;height:40px;top:0}.webView_background .webView__close svg{width:13px;height:13px}.webView_background .webView{background:#fff}.webView_background .webView .box-field{margin-top:15px;padding:0 30px}.webView_background .webView__content{height:100%}.window--bubble .webView_scroll_container--compact{max-height:330px}.window--bubble .webView_scroll_container--full{max-height:560px}.window--bubble .webView_scroll_container--tall{max-height:445px}.window--bubble .webView_scroll_container{padding-top:30px}.window--bubble .webView__close{top:30px}.window_quick_reply_container_box{width:100%;display:-ms-flexbox;display:flex;padding:0 16px;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around}.window_quick_reply_container_box i{cursor:pointer}.window_quick_reply_container_box .window_quick_reply_buttons_item{width:auto;min-width:75px;background-color:#fff;color:#00000c;border:1px solid #00000c;cursor:pointer;height:25px;display:inline-block;padding:0;overflow:hidden;max-width:260px;line-height:25px;white-space:nowrap;margin-right:12px;border-radius:4px;margin-bottom:12px;text-overflow:ellipsis}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner{background-color:#000012;width:100%;height:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner>span{display:inline-block;padding:0 12px;font-weight:600;height:100%;width:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item:hover{background-color:#00000c;color:#fff}.window_quick_reply_container_box .window_quick_reply_buttons{width:100%;margin:0;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-align:center;align-items:center;padding-left:0;-ms-flex-line-pack:center;align-content:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:flex-start;display:-ms-flexbox;display:flex}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item>.window_quick_reply_buttons_item{margin:0}.window_quick_reply_container_box .window_quick_reply button:last-child{margin-right:0}.window_quick_reply_container_box .window_quick_reply_control+.window_quick_reply{width:calc(100% - 40px)}.botconfirm_list{padding:20px;min-width:190px}.botconfirm_list li{margin-bottom:10px}.botconfirm_list li p{margin:0}.botconfirm_list li p:first-child{color:#666;margin:0}.window__chatAgentMessage .window_botAnswer_richText a[href]{border-bottom:none}.window__chatAgentMessage .window_botAnswer_richText a[href]:hover{border-bottom:1px solid #323dbf}.window__chatAgentMessage .window_botAnswer_richText--disable a[href^="intent:"]{color:#888}.visually-hidden{position:absolute;left:-10000px;width:1px;height:1px}.visually-hidden:focus,.visually-hidden:hover{outline:0;border:none}.window__chatAgentMessage.bot_item_content.chat-message--img{padding:1px}.window__chatAgentMessage.bot_item_content.chat-message--img a{max-width:244px!important;min-height:10px!important}',t)].join("")},yr=function(t){var e=/[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}/gi.exec(t);return e?e[0]:t},Sr=function(t){return t.filter((function(t){return"string"==typeof t.id})).reduce((function(t,e){var n,i=t;return e.type===Ho?i.name=e.value:e.type===qo?i.email=e.value:e.type===Uo?i.phone=e.value:e.type===Go?i.company=e.value:e.type===Ko?i.product=e.value:e.type===Yo?i.department=e.value:e.type===Qo?i.rating=e.value:e.type===Zo?i.comment=e.value:e.type===Xo?i.subject=e.value:e.type===$o?i.content=e.value:e.type===ta?i.attachment=e.value:e.type===Jo?i.ticketId=e.value:e.type===sa?i.captcha=e.value:i.custom?i.custom[yr(e.id)]=e.value:i.custom=((n={})[yr(e.id)]=e.value,n),i}),{})},Cr=t(1)((function(t){var e,n,i;if(null==t)return[];for(var o=[],a=((e={})[va]=Mn,e[_a]=On,e[xa]=kn,e[ga]=an,e[ba]=rn,e[wa]=nn,e),r=((n={})[Ca]=Ti,n[Ia]=ji,n[Sa]=Ai,n[ka]=ji,n[Ma]=Wi,n),s=((i={})[$n]=Ce,i[ri]=Te,i[li]=Cn,i[di]=en,i[hi]=Ae,i[fi]=Be,i[gi]=je,i[mi]=ln,i[wi]=un,i[bi]=pn,i[vi]=gn,i[_i]=mn,i[xi]=fn,i[yi]=bn,i[Di]=Oi,i),c=t.length-1;c>=0;c-=1){var d=t[c],l=void 0;if(d.type===ui||d.type===pi){var u=d.content;d.type===ui&&(l=u===va?In:on),d.type===pi&&(l=a[u])}else if(d.type===Ri||d.type===Ei||d.type===zi){var p=d.content;d.type===Ri&&(l=Bi),d.type===Ei&&(l=r[p]),d.type===zi&&(l=Ni)}else l=s[d.type];l&&o.push({type:l,guid:d.guid,sender:d.sender,content:void 0===d.content?"":d.content,isPassword:d.isPassword,isCollect:d.isCollect,quickReplyNextActionId:d.quickReplyNextActionId||eo})}return o.reverse()})),kr=t(1)((function(t,e){if(null==e)return[];for(var n=[],i=e.length-1;i>=0;i-=1){var o=e[i];o.type===ei&&o.content.fileKey&&n.push({type:oo.sendFile,chatGuid:t,fileName:o.content.fileName,fileKey:o.content.fileKey,isUseStandbyFileService:o.content.isUseStandbyFileService})}return n.reverse()})),Ir=function(t){return!/^\s*$/.test(t)},Mr=function(t,e){return t/e>3.34?{height:"100%"}:t/e<.3?{width:"100%"}:t===e?{width:"100%",height:"100%"}:t>60&&e>60?t>e?{width:"100%"}:{height:"100%"}:t>e?{height:60}:t<e?{width:"100%"}:{width:"100%",height:"100%"}},Or=function(t,e){return t/e>3.34?{width:200,height:60}:t/e<.3?{width:60,height:200}:t>=200&&t>e?{width:200}:e>=200&&e>t?{height:200}:null},Ar=function(t,e,n,i){return e?t+"?maxWidth=200&maxHeight=200":n/i>3.34?t+"?maxHeight=60":n/i<.3?t+"?maxWidth=60":t+"?maxWidth=200&maxHeight=200"},Br=t(1)((function(t,e,n){return C(n,"guid",t)>C(n,"guid",e)})),Tr=t(1)((function(t,e){var n=t.filter((function(t){return t.guid===e}));if(n.length>0){var i=n[0];return i.type===Fe||i.type===We||i.type===Ue||i.type===Ge||i.type===Ke||i.type===jn||i.type===Wn||i.type===Nn}return!1})),jr=t(1)((function(t,e){for(var n=t.length-1;n>=0;n-=1){var i=t[n];if(i.guid===e)return e;if(i.type===Fe||i.type===We||i.type===Ue||i.type===Ge||i.type===Ke||i.type===jn||i.type===Nn||i.type===Wn)return i.guid}return e})),Pr=[$n,ti,ei,ni,ii,oi,"postChatSuccess",ai,ri,si,ci,di,li,ui,pi,hi,fi,gi,mi,wi,bi,vi,_i,xi,yi,Pn,Di,Ri,Ei,zi],Fr=function(t){return 0===t.type.indexOf("image")},Wr=function(t){return Fr(t)&&/.*[.](jpg|png|jpeg|bmp)$/i.test(t.name.toLowerCase())},Nr=function(t){return new Promise((function(e,n){var i=new FileReader;i.onload=function(){e(i.result,t)},i.onerror=n,i.readAsDataURL(t)}))},Vr=function(t,e){return new Promise((function(n,i){var o=new Image;o.onload=function(){var t=document.createElement("canvas"),i=t.getContext("2d");t.width=o.width,t.height=o.height,i.drawImage(o,0,0,o.width,o.height);var a=t.toDataURL(e,.5);n(a),t.width=0,t.height=0},o.onerror=i,o.src=t}))};function Dr(t,e){return Rr.apply(this,arguments)}function Rr(){return(Rr=B(P().mark((function t(e,n){var i,o;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return i=t.sent,t.next=5,i.blob();case 5:return o=t.sent,t.abrupt("return",new File([o],n||(new Date).toISOString().replace(/[.:]/g,"-")+".png",{type:o.type}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Er=function(){var t=document.createElement("canvas");return!!(t.getContext&&t.getContext("2d")&&t.toDataURL)};function zr(t){return Lr.apply(this,arguments)}function Lr(){return Lr=B(P().mark((function t(e){var n,i,o,a;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Er()){t.next=13;break}return n=URL.createObjectURL(e),i=e.name.toLowerCase().endsWith(".png")?"image/png":"image/jpeg",t.next=6,Vr(n,i);case 6:return o=t.sent,URL.revokeObjectURL(n),t.next=10,Dr(o,e.name);case 10:return(a=t.sent).size,e.size,t.abrupt("return",a.size>=e.size?e:a);case 13:return t.abrupt("return",e);case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",e);case 19:case"end":return t.stop()}}),t,null,[[0,16]])}))),Lr.apply(this,arguments)}var Hr=function(t,e,n){if(!e)return t;if(qr(t)===qr(n))return t;var i=null;try{i=t.split(/fileservice\/v1\/files\//i)[1]}catch(t){}return i?e+"/files/"+i:t},qr=function(t){var e=t.match(/^https?:\/\/([^\/]+)/);if(e&&e[1])return e[1]},Ur=function(t,e){return e?t.replace(/^https:\/\/[\w.-]+/,e):t};var Gr=T.site_id,Kr=function(t){return/^\d+$/.test(t)?+t:void 0}(T.chatGroup),Yr=function(){return Array.prototype.map.call(T.chat_buttons,(function(t){return t.code_plan||t.id})).filter((function(t){return t}))},Jr=function(t,e){var n=Array.prototype.find.call(T.chat_buttons,(function(n){return!n.code_plan||e>0&&n.code_plan.toString()===e.toString()||("number"==typeof n.code_plan?n.code_plan===t:n.code_plan.toLowerCase()===t)}));if(n)return n.div_id;if(T.dynamic){var i=Array.prototype.find.call(T.chat_buttons,(function(t){return null==t.code_plan}));return i&&i.div_id}},Qr=T.openType,Zr=T.onReady;var Xr,$r,ts,es,ns,is=T.main_code_plan,os=0,as=function(t){function e(){Xr===$r&&(Xr=Xr.slice())}function n(t){if("function"!=typeof t)throw new Error("Invalid listeners, expected a function.");var n=!0;return e(),Xr.push(t),function(){n&&(e(),Xr.splice(Xr.indexOf(t),1),n=!1)}}function i(){os>0||($r=Xr,Xr.forEach((function(t){return t()})))}return $r=Xr=[],function(e,o,a){var r,s=t(e,o,a),c=(r=s.dispatch,function(t){if(!t||!t.type||"@@redux/batch"!==t.type)return r(t);var e=[].concat(t.payload);return os+=e.length,e.reduce((function(t,e){os-=1;try{return r(e)}catch(t){throw t}}),null)});return s.subscribe(i),Object.assign({},s,{dispatch:c,subscribe:n})}},rs="config/updateConfig",ss="config/setMaxMessageLength",cs="config/updateServerInstanceTag",ds="page/setButtonIsOnline",ls="page/updateVisitor",us="page/resetVisitor",ps="page/showInvitation",hs="papge/showInvitationProcessing",fs="addVisitorNavigation",gs="emptyVisitorNavigation",ms="page/setIsSubmitSSO",ws="page/setSSOArtifact",bs="page/setSSOJwt",vs="chatWindow/open",_s="chatWindow/popOut",xs="chatWindow/popIn",ys="chatWindow/showTab",Ss="chatWindow/chatInputWarning",Cs="chatWindow/restrictedWordsError",ks="chatWindow/update-position",Is="chatWindow/toggle-toolbox",Ms="chatWindow/reset",Os="chatWindow/restoreCrossSiteChat",As="entities/updateCampaign",Bs="entities/updateButton",Ts="entities/button/visible",js="entities/updateAgent",Ps="entities/updateFields",Fs="entities/updateDepartment",Ws="footer/chatToolRating",Ns="footer/chatToolAudio",Vs="footer/chatToolVideo",Ds="footer/chatToolScreenSharing",Rs="invitaton/accept",Es="invitaton/refuse",zs="web/showInvitation",Ls="page/buttonClick",Hs="page/setSkipPreChat",qs="page/updateSize",Us="page/updateOrientation",Gs="page/updatePageVisitorStatus",Ks="window/update-upload",Ys="window/sucess-file",Js="window/fail-file",Qs="sso/updateSSO",Zs="window/update-messages",Xs="window/remove-agent-is-typing",$s="window/sendText",tc="window/sendFile",ec="window/sendImage",nc="window/startWaiting",ic="window/startChatBot",oc="window/updateChatBot",ac="window/updateChatBotContext",rc="window/addSystemMessage",sc="window/updateChatIdentity",cc="window/updateMaxReadId",dc="window/updateWindowId",lc="window/closeMinimizeBubble",uc="window/togglePopupBubble",pc="window/addPendingMessage",hc="window/updateMaxAgentReadId",fc="window/updateMaxVisitorReadId",gc="window/updateVisitorStatus",mc="window/updateChatVersion",wc="window/updateEmailToSendTranscript",bc="window/ssoLoginInPopUp",vc="window/ssoLoginInSelf",_c="window/updateTransferCampaignId",xc="window/updateRequestFromAnotherDone",yc="window/updateCrossSiteTransfer",Sc="window/updateConfigTransferSite",Cc="window/updateTransferVisitorGuid",kc="window/updateRatingFieldsAfterCrossSiteTransfer",Ic="window/updateAutoEjectTranscript",Mc="window/hideRatingFormInWindow",Oc="page/update-window-status",Ac="page/set-focus-bar",Bc="window/toggle-error",Tc="window/toggle-warning",jc="window/updateWindowWidth",Pc="window/removeForm",Fc="app/ready",Wc="app/ban",Nc="app/setIsActive",Vc="app/switchServer",Dc="app/recoverSuccess",Rc="app/increaseRecoverTimes",Ec="app/setIsRecovering",zc="app/setLastSuccessTime",Lc="app/setSoundOff",Hc="window/endchat",qc="window/toggleFocus",Uc="window/contentScrollStatusUpdate",Gc="window/toggle-disable",Kc="window/updateTransferredServerInstanceTag",Yc="web/sendAction",Jc="web/pageHeartbeat",Qc="web/chatHeartbeat",Zc="web/prechatHeartbeat",Xc="web/offlineHeartbeat",$c="web/submitRating",td="web/emailTranscript",ed="web/endChat",nd="web/submitOfflineMessage",id="web/submitPostChat",od="web/submitPrechat",ad="web/submitSSOInfo",rd="web/submitSSOInfo4ChatBot",sd="web/skipLogin",cd="web/sendPageVisit",dd="web/updateUrl",ld="web/updateCustomVariables",ud="web/getChatButton",pd="web/getConfig",hd="web/getChatWindowConfig",fd="web/agentMsgSeenByVisitor",gd="web/getSSORecoverInfo",md="web/fromChatbotToAgent",wd="web/chatBotSelectQuestion",bd="web/chatBotAnswerHelpful",vd="web/startChatAgain",_d="window/updateQueue",xd="chatinput/setVisitorIsTyping",yd="window/sendChatMessages",Sd="window/updateVideoStatus",Cd="window/prepareP2pChat",kd="window/hangupAudioVideoChat",Id="window/hangupScreenSharing",Md="window/acceptAudioVideoChat",Od="window/unmuteRemote",Ad="window/setIsRecording",Bd="window/updateMessageIsProcessed",Td="window/updateMessageIfDisable",jd="sideWindow/hideAudioVideoChat",Pd="sideWindow/sideWidowTabSelect",Fd="sideWindow/toggleSideWindow",Wd="sideWindow/setWindowTabs",Nd="sideWindow/closeKnowledgeBase",Vd="sideWindow/showKnowledgeBaseInfo",Dd="sideWindow/closePushPage",Rd="sideWindow/replaceSideWindowTab",Ed="app/setIsOpenerExists",zd="window/closeSliently",Ld="window/setFrequencyLimitState",Hd="web/chatBotVisitorCancelBotForm",qd="web/chatBotVisitorSubmitBotForm",Ud="web/setBotVariable",Gd="window/cleanPendingMessages",Kd="form/update-value",Yd="form/update-error",Jd="form/focus",Qd="form/blur",Zd="form/submit-start",Xd="form/submit-success",$d="form/submit-fail",tl="form/submit-social",el="form/validate-all",nl="form/update",il="form/fill-default",ol="form/reset",al="page/setCampaignId",rl="page/setCampaignIntId",sl="window/setId",cl="window/mounted",dl="window/chatbotTimeout",ll="window/resetMaxId",ul="web/getArticles",pl="web/getArticleByID",hl="window/success-articles",fl="window/success-articleByID",gl="web/fromKBToAgent",ml="window/articleClickTitile",wl="window/error-articles",bl="window/error-articleByID",vl="window/updateKBConfig",_l="sideWindow/openBotSideWindow",xl="sideWindow/closeBotSideWindow",yl="window/cleanUpCobrowseRequest",Sl="window/endCobrowse",Cl="window/pushPage",kl="webView/open",Il="webView/close",Ml="webView/loading",Ol="webView/visitorInfo",Al="web/setLocation",Bl="web/getVisitorInfo",Tl="window/updateBotFormMessage",jl="window/hideQuickReply",Pl="state/restore",Fl="state/get-restore",Wl="window/updateChatbotSendFormMessage",Nl="window/updateVisibleInputAreaWhenBotChatting",Vl="window/updateIsMessageScrollBottom",Dl="window/updateMessageStatusToRead",Rl="window/updatePostChatVisible",El="sideWindow/hideScreenSharing",zl="Window/prepareScreenSharing",Ll="window/acceptScreenSharing",Hl="window/startScreenSharingDirectly",ql="window/popScreenSharing",Ul="window/previewImage",Gl="api/sendText",Kl="window/cancelVisitorSendText",Yl=((ts={})[Fc]=function(t){return Object.assign({},t,{isReady:!0})},ts[Wc]=function(t){return Object.assign({},t,{banned:!0})},ts[Vc]=function(t,e){return Object.assign({},t,{server:e})},ts[Nc]=function(t,e){return Object.assign({},t,{isActive:e})},ts[Ed]=function(t,e){return Object.assign({},t,{isOpenerExists:e})},ts[Dc]=function(t){return Object.assign({},t,{recoverFailTimes:0,isRecovering:!1})},ts[Rc]=function(t){var e=t.recoverFailTimes;return Object.assign({},t,{recoverFailTimes:e+1})},ts[Ec]=function(t,e){return Object.assign({},t,{isRecovering:e})},ts[zc]=function(t,e){return Object.assign({},t,{lastSuccessTime:e})},ts[Lc]=function(t,e){return e?Object.assign({},t,{isSoundOff:!0}):Object.assign({},t,{isSoundOff:!1})},ts),Jl=D({banned:!1},Yl),Ql="open",Zl="restored",Xl="minimized",$l="close",tu="waitingForChat",eu="chatting",nu="preChat",iu="manuallyInvited",ou="autoInvited",au="offlineMessage",ru="refusedByVisitor",su="chatEnded",cu="inSite",du="manuallyInvitedByWindow",lu="systemProcessing",uu="searchKB",pu="popupImage",hu="embeddedWindow",fu="bubble",gu="mobile",mu={agentAvatar:"agentAvatar",image:"image"},wu="button",bu="autoInvitation",vu="manualInvitation",_u="landscape",xu="portrait",yu="monitor",Su="text",Cu="image",ku="float",Iu="adaptive",Mu={platform:me,buttons:{},windowStatus:$l,dynamicCampaign:!1,campaignId:0,chatGroup:0,invitation:null,visitor:{},skipPreChat:!1,width:0,height:0,orientation:xu,visitorStatus:cu,artifact:void 0},Ou=function(t,e){return So(t,{type:e.isManual?vu:bu,invitationId:e.id,invitationType:e.type})},Au=((es={})[ds]=function(t,e){var n,i,o=e.campaignId,a=e.ifOnline;if(t.buttons[o]===a)return t;var r=t.isDynamicCampaign?((n={})[o]=a,n):Object.assign({},t.buttons,((i={})[o]=a,i));return Object.assign({},t,{buttons:r})},es[ps]=function(t,e,n){var i=n.buttonType;if(e.type===hu){var o=e.windowStatus||Ql;return Object.assign({},t,{requestChatAction:Ou(t.campaignId,e),windowStatus:o,visitorStatus:e.isManual?du:ou})}return e.isManual&&i===Iu&&e.type===fu?e.bubbleInvitationHeader===mu.image?Object.assign({},t,{requestChatAction:Ou(t.campaignId,e),visitorStatus:du,invitation:e}):Object.assign({},t,{requestChatAction:Ou(t.campaignId,e),windowStatus:Xl,visitorStatus:du,manualInvitation:e}):e.isManual&&i!==Iu&&e.type===fu?Object.assign({},t,{requestChatAction:Ou(t.campaignId,e),visitorStatus:du,invitation:e}):null==t.invitation?Object.assign({},t,{invitation:e,visitorStatus:e.isManual?iu:ou}):t},es[hs]=function(t,e){return Object.assign({},t,{ifShowInvitationProcessing:e})},es[ls]=function(t,e){var n=Object.assign({},t.visitor,e);return Object.assign({},t,{visitor:n})},es[us]=function(t,e){return Object.assign({},t,{visitor:e})},es[Es]=function(t){return Object.assign({},t,{invitation:null,visitorStatus:ru})},es[Os]=function(t,e){var n=e.chatInfo,i=e.campaignId;return Object.assign({},t,{windowStatus:n.windowStatus||Ql,requestChatAction:So(i)})},es[vs]=function(t,e){var n=e.campaignId;return Object.assign({},t,{windowStatus:Ql,invitation:null,requestChatAction:t.requestChatAction||So(n,{type:wu})})},es[Oc]=function(t,e){return Object.assign({},t,{windowStatus:e,invitation:e===Ql?null:t.invitation})},es[Ac]=function(t,e){return Object.assign({},t,{shouldFocusBar:e})},es[_s]=function(t){return Object.assign({},t,{windowStatus:$l})},es[Rs]=function(t,e){var n=t.invitation;return n?Object.assign({},t,{invitation:null,requestChatAction:Ou(e,n)}):t},es[Ls]=function(t,e){return Object.assign({},t,{invitation:null,requestChatAction:So(e,{type:wu})})},es[vd]=function(t){return Object.assign({},t,{requestChatAction:So(t.requestChatAction.campaignId,{type:wu})})},es[Hs]=function(t,e){return t.skipPreChat===e?t:Object.assign({},t,{skipPreChat:e})},es[qs]=function(t,e){var n=e.size;return t.width===n.width&&t.height===n.height?t:Object.assign({},t,n)},es[lc]=function(t,e,n){return n?Object.assign({},t,{windowStatus:$l,visitorStatus:ru}):t},es[Us]=function(t,e){return t.orientation===e?t:Object.assign({},t,{orientation:e})},es[al]=function(t,e){if(t.campaignId===e)return t;var n="number"==typeof e?e:e.toLowerCase();return Object.assign({},t,{campaignId:n})},es[rl]=function(t,e){var n=e.guid,i=e.intId;return t.campaignIntId===i?t:Object.assign({},t,{campaignId:n,campaignIntId:i})},es[Gs]=function(t,e){return t.visitorStatus===e?t:Object.assign({},t,{visitorStatus:e})},es[ws]=function(t,e){return t.artifact===e?t:Object.assign({},t,{artifact:e})},es[bs]=function(t,e){return t.jwt===e?t:Object.assign({},t,{jwt:e})},es[ms]=function(t,e){return t.isSubmitSSO===e?t:Object.assign({},t,{isSubmitSSO:e})},es[od]=function(t,e){var n=e.form.ticketId;return Object.assign({},t,{requestChatAction:Object.assign({},t.requestChatAction,{ticketId:n})})},es),Bu=D(Mu,Au),Tu="fetching",ju="done",Pu="error",Fu=["entity"],Wu=["name","avatar"],Nu=["name","avatar","id"],Vu={entities:{},errors:{},fetchStatus:{}},Du={agents:Vu,messages:Vu,buttons:Vu,campaigns:Vu,fields:Vu,departments:Vu,kbArticles:Vu},Ru=function(t,e){var n,i,o,a=t.entities,r=t.errors,s=t.fetchStatus,c=e.id,d=e.entity,l=e.error,u=e.fetchStatus;return{entities:Object.assign({},a,(n={},n[c]=Object.assign({},a[c],d),n)),errors:Object.assign({},r,(i={},i[c]=l||r[c],i)),fetchStatus:Object.assign({},s,(o={},o[c]=u||s[c],o))}};function Eu(t){var e=t.fields.entities,n=Object.keys(e).reduce((function(t,n){var i=t,o=e[n];return i[n]=Object.assign({},o,{value:null,isFocused:!1,isErrorShowed:!1}),delete i[n].error,i}),{});return Object.assign({},t,{fields:Object.assign({},t.fields,{entities:n})})}function zu(t,e){if(t.buttons.entities[e]){var n=t.buttons,i=n.entities,o=n.errors,a=n.fetchStatus;return delete i[e],delete o[e],delete a[e],Object.assign({},t,{entities:i,errors:o,fetchStatus:a})}return t}var Lu,Hu,qu,Uu=(ns={},ns[Ts]=function(t,e){var n=e.isHidden,i=e.campaignId,o=t.buttons.entities[i];return o?o.isHidden===n?t:Object.assign({},t,{buttons:Ru(t.buttons,{id:i,entity:{isHidden:n}})}):t},ns[Ps]=function(t,e){var n=e.fields,i=e.type,o=e.campaignId,a=n.reduce((function(t,e){var n=t;return n.entities[i+"-"+e.id]=Object.assign({},e,{id:i+"-"+e.id}),n.errors[i+"-"+e.id]=null,n.fetchStatus[i+"-"+e.id]="done",n}),{entities:Object.assign({},t.fields.entities),errors:Object.assign({},t.fields.errors),fetchStatus:Object.assign({},t.fields.fetchStatus)}),r=Object.assign({},t.campaigns.entities[o]);return r[i]=n.map((function(t){return t.id})),Object.assign({},t,{campaigns:Ru(t.campaigns,{id:o,entity:r}),fields:a})},ns[Bs]=function(t,e){return e.entity&&e.entity.color&&!R(e.entity.color)&&(e.entity.color=io),Object.assign({},t,{buttons:Ru(t.buttons,e)})},ns[As]=function(t,e){var n=e.entity;if(null==n)return Object.assign({},t,{campaigns:Ru(t.campaigns,e)});n.prechat&&n.prechatCaptcha&&n.prechat.push({id:-1,type:sa,label:n.prechatCaptchaLabel,value:null,isRequired:!0});var i=["prechat","postchat","offline"],o=[];i.forEach((function(t){var n=e.entity[t];n&&n.length>0&&(o=o.concat(n.map((function(e){return Object.assign({isErrorShowed:!1,isFocused:!1},e,{id:t+"-"+e.id})}))))}));var a=e.entity?i.reduce((function(t,e){var n;return t[e]?Object.assign({},t,((n={})[e]=t[e].map((function(t){return t.id})),n)):t}),e.entity):null;return Object.assign({},t,{campaigns:Ru(t.campaigns,Object.assign({},e,{entity:a})),fields:o.reduce((function(t,e){return Ru(t,{id:e.id,entity:e,error:null,fetchStatus:ju})}),t.fields)})},ns[js]=function(t,e,n){var i=n.ifHideAgentName,o=n.agentDefaultName,a=n.apiHost,r=e.entity,s=F(e,Fu);return r.name=i?o:r.name,r.avatar=Ur(r.avatar,a),Object.assign({},t,{agents:Ru(t.agents,Object.assign({entity:r},s))})},ns[Fs]=function(t,e){return Object.assign({},t,{departments:Ru(t.departments,e)})},ns[ps]=function(t,e,n){var i=e.agent,o=n.ifHideAgentName,a=n.agentDefaultName,r=n.apiHost;if(i){var s=i.name,c=i.avatar,d=F(i,Wu);return Object.assign({},t,{agents:Ru(t.agents,{id:i.id,entity:Object.assign({name:o?a:s,avatar:Ur(c,r)},d),fetchStatus:ju})})}return t},ns[Yd]=function(t,e){var n,i=t.fields.entities[e.id];if(i.customError===e.error&&i.isErrorShowed)return t;var o=Object.assign({},i,{customError:e.error,isErrorShowed:!0,isFocused:!0}),a=Object.assign({},t.fields,{entities:Object.assign({},t.fields.entities,(n={},n[e.id]=o,n))});return Object.assign({},t,{fields:a})},ns[Kd]=function(t,e){var n,i=t.fields.entities[e.id];if(i.value===e.value&&i.isErrorShowed)return t;var o=Object.assign({},i,{value:e.value,isErrorShowed:!0,customError:""}),a=Object.assign({},t.fields,{entities:Object.assign({},t.fields.entities,(n={},n[e.id]=o,n))});return Object.assign({},t,{fields:a})},ns[Jd]=function(t,e){var n,i=t.fields.entities[e.id];if(!i)return t;var o=Object.assign({},i,{isFocused:!0}),a=Object.assign({},t.fields.entities,((n={})[e.id]=o,n)),r=Object.assign({},t.fields,{entities:a});return Object.assign({},t,{fields:r})},ns[Qd]=function(t,e){var n,i=t.fields.entities[e.id],o=Object.assign({},i,{isErrorShowed:!0,isFocused:!1}),a=Object.assign({},t.fields.entities,((n={})[e.id]=o,n)),r=Object.assign({},t.fields,{entities:a});return Object.assign({},t,{fields:r})},ns[el]=function(t,e){var n=!1,i=e.ids.reduce((function(t,e){var i=t[e],o=t;return o[e]=Object.assign({},i,{isErrorShowed:!0,isFocused:!n}),n=!0,o}),Object.assign({},t.fields.entities)),o=Object.assign({},t.fields,{entities:i});return Object.assign({},t,{fields:o})},ns[Zs]=function(t,e,n){return e.reduce((function(t,e){if(e.type!==Re&&e.type!==Ne&&e.type!==qe)return t;var i=e.content.agent,o=i.name,a=i.avatar,r=i.id,s=F(i,Nu);return r?Object.assign({},t,{agents:Ru(t.agents,{id:e.content.agent.id,entity:Object.assign({name:n&&n.ifHideAgentName?n.agentDefaultName:o,avatar:Ur(a,n.apiHost)},s),error:null,fetchStatus:ju,index:Object.keys(t.agents).length})}):t}),t)},ns[ol]=Eu,ns[Oc]=function(t,e,n){if(e!==$l)return t;var i=t;return n&&n.transferCampaignId&&(i=zu(t,n.transferCampaignId)),Eu(i)},ns[_s]=function(t,e,n){var i=t;return n&&n.transferCampaignId&&(i=zu(t,n.transferCampaignId)),Eu(i)},ns[lc]=function(t,e,n){return n?Eu(t):t},ns[hl]=function(t,e){var n=e.reduce((function(t,e){var n=t;return n[e.id]=e,n}),{});return Object.assign({},t,{kbArticles:{entities:n}})},ns),Gu=D(Du,Uu),Ku="none",Yu="requesting",Ju="running",Qu="loading",Zu="prelogin",Xu="ssoLogin",$u="prechat",tp="chat",ep="postchat",np="offline",ip="kb",op="none",ap="pending",rp="success",sp="visitor",cp="agent",dp="system",lp="chatbot",up="taskbot",pp="waiting",hp="invited",fp="chatting",gp="chatted",mp="prechat",wp="postchat",bp="offline",vp="sso",_p="rating",xp=Object.freeze({__proto__:null,offline:bp,postchat:wp,prechat:mp,rating:_p,sso:vp}),yp="maxFileSize",Sp="emptyFile",Cp="maxLengh",kp="limited",Ip="maxFileCount",Mp="notSupported",Op="kb",Ap="bot",Bp="media",Tp="voice",jp="bubble",Pp="kbSearch",Fp="coBrowsing",Wp="pushPage",Np="screenSharing",Vp="taskbotCollectName",Dp="taskbotCollectEmail",Rp="taskbotCollectPhoneNumber",Ep="taskbotCollectCompanyName",zp="taskbotCollectComment",Lp="taskbotCollectLocation",Hp="taskbotCollectVariableData",qp="taskbotSendMessage",Up="taskbotSendImage",Gp="taskbotSendVideo",Kp="taskbotSSOLoginButton",Yp="taskbotQuickReply",Jp="taskbotMessage",Qp="taskbotBookMeeting",Zp="taskbotActionBookingViaMicrosoftBooking",Xp="loading",$p="taskbotActionSendAMenu",th="taskbotActionCollectFeedback",eh="horizontal",nh="agent",ih="banner",oh="logo",ah=function(t,e){return E(t,"entities.campaigns.entities."+e)},rh=function(t,e){return E(t,"entities.campaigns.entities."+e)},sh="main",ch=function(t){return t.app.isReady},dh=function(t){return t.app.server===sh},lh=function(t){return t.app.isPoppedOut},uh=function(t){return t.app.banned},ph=function(t){return t.app.isActive},hh=function(t){return!t.app.isActive},fh=function(t){return t.app.isRecovering},gh=function(t){return t.app.isSoundOff},mh=function(t,e){return/^https?:/.test(e)||null==t.configuration?e:null==e?null:[dh(t)?t.configuration.url:t.configuration.standbyUrl,e].join(/^\//.test(e)?"":"/")},wh=function(t){return null==t.configuration?"":dh(t)?t.configuration.url:t.configuration.standbyUrl},bh=function(t,e){return/^https?:/.test(e)||null==t.configuration?e:null==e?null:[t.configuration.vue,e].join(/^\//.test(e)?"":"/")},vh=function(t){return t.configuration&&t.configuration.vue},_h=function(t){return bh(t,"/visitorside/location/position.html")},xh=function(t,e){var n=function(t,e){return bh(t,"/visitorside/sso/ssoredirect.html")}(t),i="returnUrl="+encodeURIComponent(n),o=/\breturnurl=[^&]+/i;return o.test(e)?e.replace(o,i):e+"&"+i},yh=function(t){return/^(https?:\/\/)?([^/]*)/gi.exec(t)[2]},Sh=function(t,e){if(/^https?:/.test(e))return e;if(null==t.configuration)return e;var n=t.configuration.webrtcSignalingServiceUrl;return[yh(n),e].join(/^\//.test(e)?"":"/")},Ch=function(t){return t.configuration.heartbeat.online},kh=function(t){return t.configuration.heartbeat.offline},Ih=function(t){return t.configuration.heartbeat.stopAfter},Mh=function(t){return t.configuration.attachmentMaxSize},Oh=function(t){return t.configuration.frequencyLimit},Ah=function(t){return t.configuration.messageLengthLimit},Bh=function(t){return t.configuration.kbClientUrl},Th=function(t){return!!t.configuration.features.hideAgentName&&t.configuration.features.hideAgentName},jh=function(t){return t.configuration.encoding},Ph=function(t){return t.configuration.ifPartner},Fh=function(t){return t.configuration.features.audioVideoChatRecording},Wh=function(t){return t.configuration.brandConfig},Nh=function(t){return t.window?t.window.crossSiteChatTransfer:null},Vh=function(t){return function(e){var n=e.configuration.features||{};return function(t){return t.window&&!!t.window.crossSiteChatTransfer}(e)&&(n=Nh(e).configuration&&Nh(e).configuration.features||{}),n[t]}},Dh=function(t){return"OnlySendTheTranslation"===t.configuration.messageContentInLiveChat},Rh="goToIntent",Eh="contactAgent",zh="text",Lh=function(t){return E(t,"window")},Hh=function(t,e){return function(n){var i=Lh(n);return i?t(i,n):e}},qh=Hh((function(t){return t.chatStatus}),"none"),Uh=function(t){var e=t.window;return e?e.tab!==tp&&e.tab!==ep||e.chatStatus!==fp&&e.chatStatus!==hp&&e.chatStatus!==gp||e.isChatBot||0===e.involvedAgents.length?null:t.entities.agents.entities[e.involvedAgents[0]]:null},Gh=function(t){var e=t.window;return e&&(e.tab===tp||e.isChatBot&&e.tab===ep)?e.chatStatus!==fp&&e.chatStatus!==pp&&e.chatStatus!==gp?null:e.isChatBot?t.window.chatBot||{}:null:null},Kh=function(t){var e=t.window;return e?e.chatbotContext||{}:null},Yh=function(t){var e=Kh(t);return e?e.variables:null},Jh=function(t){var e=Kh(t);return e?e.visitorInfo:null},Qh=Hh((function(t,e){if(!e.entities)return!1;if(!e.entities.campaigns)return!1;var n=e.entities.campaigns;return n.fetchStatus[t.id]===ju&&!!n.entities[t.id]}),!1),Zh=function(t){return E(t,"window.tab")},Xh=Hh((function(t){return t.sideWindowItems}),[]),$h=function(t){return E(t,"window.id")},tf=function(t){return E(t,"window.crossSiteChatTransfer.campaignId")},ef=Hh((function(t,e){var n=tf(e)||$h(e);return e.entities.campaigns.entities[n]}),null),nf=Hh((function(t,e){return e.entities.campaigns.entities[e.window.id]}),null),of=Hh((function(t,e){return e.entities.campaigns.entities[e.window.id].mainColor}),""),af=function(t){var e=t.entities.campaigns.entities[t.window.id].chat.texture;return e?"url("+e+")":null},rf=Hh((function(t){return t.ssoUrl}),""),sf=Hh((function(t){return t.showPrelogin}),!1),cf=Hh((function(t){return t.isChatBot}),!1),df=Hh((function(t){return t.pendingMessage}),void 0),lf=t(1)((function(t,e,n,i,o){return function(a){var r=e.entities[n];if(a.sender.type===cp){var s=t.entities[a.sender.id];return Object.assign({},a,{sender:s||{name:r.languages.operatorDefaultName}})}if(a.type===Dn)return Object.assign({},a,{sender:Object.assign({},a.sender,{name:o?o.name:"",avatar:o?o.avatar:""})});if(a.sender.type===lp){var c=o?o.name:"",d=a.sender?a.sender.name:"",l=o?o.avatar:"",u=a.sender?a.sender.avatar:"";return Object.assign({},a,{sender:Object.assign({},a.sender,{name:d||c,avatar:u||l})})}if(ke===a.type)return Object.assign({},a,{queuePosition:i.position,estimatedWaitTime:i.waitTime});if(a.type===Re||a.type===De||a.type===Ee){var p=t.entities[a.sender.id];return Object.assign({},a,{sender:p||{name:r.languages.operatorDefaultName}})}return a}})),uf=t(1)((function(t,e,n,i,o,a,r){return o.map(lf(t,e,n,i,r)).filter(function(t){return function(e){return e.type!==ri&&e.type!==ui&&e.type!==Ri&&e.type!==zi&&e.type!==li&&e.type!==Di&&e.type!==pi&&e.type!==Ei&&e.type!==di&&e.type!==hi&&e.type!==fi&&e.type!==gi&&e.type!==Pe&&e.type!==ci&&e.type!==Zi&&(e.type!==_e||t===pp)&&(e.type===Vn||!!e.content&&("string"==typeof e.content||("string"==typeof e.content.fileName?e.content.fileName:"string"==typeof e.content.name?e.content.name:"string"==typeof e.content.text?e.content.text:null!==e.content.text&&"object"==typeof e.content&&Object.keys(e.content).length>0)))}}(a))})),pf=Hh((function(t,e){var n=t.messages,i=e.entities,o=i.agents,a=i.campaigns,r=t.id,s=t.queue,c=t.chatStatus,d=t.chatBot;return uf(o,a,r,s,n,c,d)}),[]),hf=Hh((function(t){return t.messages}),[]),ff=Hh((function(t){return t.sourceMessages}),[]),gf=Hh((function(t){return t.queue}),{}),mf=Hh((function(t){return t.involvedAgents}),[]),wf=Hh((function(t){return t.audioVideoAgentId}),0),bf=Hh((function(t){return t.chatGuid})),vf=Hh((function(t){return t.visitorTyping}),!1),_f=Hh((function(t){return t.draft}),""),xf=Hh((function(t){return t.maxId}),-1),yf=Hh((function(t){return t.error})),Sf=Hh((function(t){return t.warning})),Cf=Hh((function(t){return t.maxReadId}),-1),kf=Hh((function(t,e){for(var n=pf(e),i=t.maxReadId,o=0,a=n.length-1;a>=0;a-=1){var r=n[a];if(r.id<=i)break;if(void 0!==r.id&&dr(r)&&(o+=1)>=99)return 99}return o}),0),If=Hh((function(t,e){var n=pf(e);if(!(kf(e)<=0))for(var i=n.length-1;i>=0;i-=1){var o=n[i];if(dr(o))return o}})),Mf=Hh((function(t,e){var n=pf(e);if(kf(e)<=0)return 0;for(var i=n.length-1;i>=0;i-=1){var o=n[i];if(dr(o))return o.id}return 0})),Of=function(){var t=z.href;return"https://www.${brandingNameLowerCase}.com/powered-by/".replace("${brandingNameLowerCase}",V.brandingNameLowerCase)+"?customer="+(encodeURIComponent(L(t))||"")+"&utm_source=PoweredBy&utm_medium=ChatWindow&utm_campaign=BottomLink"},Af=function(t){return t.window&&t.window.messages&&t.window.messages.find((function(t){return t.type===Ve}))},Bf=Hh((function(t){if(t.tab!==tp)return!1;var e=function(){switch(t.chatStatus){case fp:return!t.isChatBot||!1!==t.isVisibleInputAreaWhenBotChatting;case pp:return!!t.allowWaitingSendMessage&&!t.isChatBot;case gp:return!1;case hp:return!0;default:return!1}};return t.isTaskBot?!1!==t.enableChatInputWhenTaskbot&&(t.isVisibleInputAreaWhenTaskbot&&e()):e()}),!1),Tf=Hh((function(t){return!!t.webView}),!1),jf=Hh((function(t){if(t.tab!==tp)return!1;return function(){switch(t.chatStatus){case fp:return!0;case pp:return!!t.allowWaitingSendMessage;case gp:return!1;default:return!0}}()}),!1),Pf=function(t){return t.window&&t.window.messages&&t.window.messages.find((function(t){return t.type===ei}))},Ff=Hh((function(t){return t.chatStatus===fp}),!1),Wf=Hh((function(t){return t.chatStatus===hp}),!1),Nf=function(t){var e=mf(t);if(0!==e.length){var n=e[0];return t.entities.agents.entities[n]}},Vf=function(t){var e=mf(t);if(0!==e.length){var n=wf(t);if(n>0)return t.entities.agents.entities[n];if(e.length>1)return{avatar:bh(t,"/visitorside/images/avatar.png"),name:""};var i=e[0];return t.entities.agents.entities[i]}},Df=function(t){var e=Wf(t);if(Ff(t)||e){if(e){if(!(t.page.requestChatAction.source.type===vu))return;return Nf(t)}var n=Gh(t);if(n)return n;var i=Yg(t);return i||Nf(t)}},Rf=function(t){var e=Df(t);return e?e.avatar:e},Ef=function(t){var e=Vf(t);return e?e.avatar:""},zf=function(t){var e=Vf(t);return e?e.name:""},Lf=Hh((function(t){return t.chatStatus===pp||t.chatStatus===fp}),!1),Hf=Hh((function(t){return t.chatStatus===pp}),!1),qf=Hh((function(t){return t.chatStatus===fp&&t.isChatBot}),!1),Uf=Hh((function(t){return t.chatStatus===gp}),!1),Gf=Hh((function(t){return t.ifHideBio}),!1),Kf=Hh((function(t){return t.fileUploadCount}),0),Yf=function(t,e){return E(t,"window.fields."+e)},Jf=Hh((function(t){return t.disabled}),!1),Qf=function(t){var e=t.window,n=E(t,"page.windowStatus");return e&&(e.tab===tp||e.tab===ip||e.tab===Qu||e.tab===Xu||e.tab===Zu||e.tab===$u||e.tab===np)&&(n===Ql||n===Zl)&&!!e.sideWindowSelectedTab},Zf=function(t){var e=Uh(t);return!!e&&e.isSupportWebrtc},Xf=function(t){return E(t,"window.sideWindowItems")},$f=Hh((function(t){return t.audio_video_disabled}),!1),tg=function(t){return E(t,"window.showChatWindowInSidewindow")},eg=function(t){return E(t,"window.sideWindowSelectedTab")},ng=function(t){var e=E(t,"window.pushPage.url").trim();return H(e)},ig=function(t){return nf(t).customCSS},og=function(t,e){var n=ah(t,e);return n?n.customCSS:""},ag=Hh((function(t){return t.vChatStatus}),ma),rg=Hh((function(t){return t.audioVideoChatStartTime}),0),sg=function(t){var e=ag(t);return e===ba||e===_a},cg=Hh((function(t){return t.isRecording}),!1),dg=Hh((function(t){return t.isFocused}),!1),lg=Hh((function(t){return t.frequencyLimitState}),!1),ug=Hh((function(t){return t.autoEjectTranscript}),!1),pg=function(t){var e=nf(t);return e&&e.isRTL},hg=function(t,e){var n=ah(t,e);return n&&n.isRTL},fg=function(t){var e=Uh(t);return!(!e||!e.bio)&&(!Hh((function(t){return t.ifHideBio}),!1)(t)&&nf(t).header.showBio)},gg=Hh((function(t){return t.kbChatWithAgentClicked}),!1),mg=function(t){return E(t,"window.kb.activeArticle")},wg=function(t){return E(t,"window.kbConfig.greetingMessage")},bg=function(t){return E(t,"window.kbConfig.maxCount")},vg=function(t){var e=E(t,"window.kb");if(!e)return!1;if(!1!==e.isLoading)return!1;var n=e.articles;return!(n&&n.length>0)},_g=function(t){return E(t,"window.kb.isLoading")},xg=function(t){return E(t,"window.kbConfig.notShowContent")},yg=Hh((function(t){return t.botSideWindow}),null),Sg=function(t){return t.window?t.window.cobrowsing:Ku},Cg=function(t){return Sg(t)===Ju},kg=function(t){return Sg(t)===Yu},Ig=Hh((function(t){return t.bottom}),0),Mg=Hh((function(t){return t.right}),0),Og=function(t,e){var n=e?t.entities.campaigns.entities[e]:nf(t);return n&&n.ifEnableVisitorSeeMsgSentSeen},Ag=Hh((function(t){return t.maxAgentReadId}),""),Bg=Hh((function(t){return t.maxVisitorReadId}),""),Tg=function(t){return qf(t)?t.window.quickReply:Ff(t)&&t.window.quickReply?Object.assign({},t.window.quickReply,{items:t.window.quickReply.items.filter((function(t){return t.type!==Eh}))}):null},jg=Hh((function(t){return t.webView}),null),Pg=function(t){var e=jg(t);return!e||e.ifLoading},Fg=function(t){var e=jg(t);return!!e&&e.success},Wg=function(t){var e=jg(t);return e?e.visitorInfo:null},Ng=Hh((function(t){return t.showToolbox}),!1),Vg=Hh((function(t){return t.chatVersion}),""),Dg=Hh((function(t,e){return{chatGuid:bf(e),chatVersion:Vg(e)}}),{chatGuid:null,chatVersion:""}),Rg=Hh((function(t){return t.visitorStatus}),cu),Eg=function(t){var e=ff(t).find((function(t){return t.type===Ne||t.type===Se||t.type===Hi}));return e?e.time:""},zg=function(t){var e=ff(t).find((function(t){return t.type===ve}));return e?e.time:""},Lg=function(t){var e=ff(t);return e.length>0?e[e.length-1].guid:""},Hg=Hh((function(t){return t.emailToSendTranscript}),""),qg=function(t){var e=hf(t),n=!1;return e.forEach((function(t){t.type===Ye?n=!0:t.type===Be&&(n=!1)})),n&&qh(t)===fp},Ug=Hh((function(t,e){return e.entities.campaigns.entities[t.id]}),"none"),Gg=function(t){return void 0===t.window.ifOpenSignInPageEmbeddedWindow||t.window.ifOpenSignInPageEmbeddedWindow},Kg=Hh((function(t){return t.popupBubble}),!1),Yg=function(t){var e=t.window;return e&&e.isTaskBot&&(e.tab===tp||e.isThatBot)?e.chatStatus!==fp&&e.chatStatus!==pp&&e.chatStatus!==gp?null:e.taskBot||{}:null},Jg=Hh((function(t){return t.isMessageScrollBottom}),!0),Qg=function(t){return hf(t).filter((function(t){return!1===t.isSeenByVisitor})).length},Zg=Hh((function(t){return t.width})),Xg=Hh((function(t){return t.isPostChatVisible})),$g=Hh((function(t){return t.screenSharingStatus}),ya),tm=function(t){var e=$g(t);return e===Ma||e===Ca},em=Hh((function(t){return t.screenSharingAgentId}),0),nm=function(t){var e=mf(t);if(0!==e.length){var n=em(t);if(n&&t.entities.agents.entities[n])return t.entities.agents.entities[n];if(e.length>1)return{avatar:bh(t,"/visitorside/images/avatar.png"),name:""};var i=e[0];return t.entities.agents.entities[i]}},im=function(t){var e=nm(t);return e?e.name:""},om=function(t){var e=nm(t);return e?e.avatar:""},am=Hh((function(t){return t.screenSharing_disabled}),!1),rm=Hh((function(t){return t.previewImage}),{}),sm=Math.pow(2,0),cm=Math.pow(2,1),dm=Math.pow(2,2),lm=Math.pow(2,3),um=Math.pow(2,4),pm=Math.pow(2,5),hm=Math.pow(2,6),fm=Math.pow(2,7),gm=Math.pow(2,8),mm=function(t){return t.page.campaignId},wm=function(t){return t.window&&t.window.id?t.window.id:t.page.campaignId},bm=function(t){return t.page.chatGroup},vm=function(t){return t.page.buttons},_m=function(t){return t.page.siteId},xm=function(t){return t.window&&t.window.crossSiteChatTransfer?t.window.crossSiteChatTransfer.siteId:t.page.siteId},ym=function(t){return t.page.windowStatus},Sm=function(t){return t.page.visitor.guid},Cm=function(t){return t.window&&t.window.crossSiteChatTransfer?t.window.crossSiteChatTransfer.visitorGuid:t.page.visitor.guid},km=function(t){var e=function(t){return t.page}(t).popout;return e?{url:e.url,title:e.title}:{url:z.href,title:N.title}},Im=function(t,e){void 0===e&&(e=0);var n=km(t);return t.page.requestChatAction?Object.assign({},t.page.requestChatAction,{campaignId:e,source:Object.assign({},t.page.requestChatAction.source,{page:n})}):So(e,{type:wu,page:n})},Mm=function(t){var e=Im(t);return e&&e.source},Om=function(t){var e=function(t,e){void 0===e&&(e=0);var n=km(t);if(t.page.requestChatAction){var i={};return cf(t)&&(i={type:"bot"}),qh(t)===pp&&(i={type:"queue"}),Object.assign({},t.page.requestChatAction,{campaignId:e,source:Object.assign({},Object.assign({},t.page.requestChatAction.source,i),{page:n})})}return So(e,{type:wu,page:n})}(t);return e&&e.source},Am=function(t){return(Mm(t)||{}).type},Bm=function(t){return(Mm(t)||{}).invitationId},Tm=function(t){return t.page.manualInvitation},jm=function(t,e){return t.page.buttons[e]},Pm=function(t){return t.page.platform===we||t.page.platform===be},Fm=function(t){return t.page.platform===be},Wm=function(t){return Object.keys(t.page.buttons).map((function(e){var n=t.entities.buttons.entities[e];if(!n)return null;var i=_m(t);return Object.assign({},n,{chatWindowLink:bh(t,ja(i,e))})})).filter((function(t){return t}))},Nm=function(t,e){var n=t.type;return(n===ku||n===Iu)&&function(t){return t!==$l}(e)},Vm=t(1)((function(t,e,n){return t.map((function(t){var i=!function(t,e){return t.isHideOffline&&!e[t.id]}(t,e)&&!Nm(t,n)&&!t.isHidden;return Object.assign({},t,{isHidden:!i})}))})),Dm=function(t){var e=Wm(t),n=vm(t),i=ym(t);return Vm(e,n,i)},Rm=function(t){return t.page.skipPreChat},Em=function(t){return t.page.artifact},zm=function(t){return t.page.height},Lm=function(t){return t.page.width},Hm=function(t){return t.page.isDynamicCampaign},qm=function(t){return t.page.visitorStatus},Um=function(t){return t.page.shouldFocusBar},Gm=function(t){return t.page.jwt},Km=function(t,e){var n=E(t,"entities.campaigns.entities."+e+".chat.tools");return void 0===n?0:n},Ym=function(t,e){return!(!(dm&Km(t,e))||t.window.chatStatus!==gp&&t.window.chatStatus!==fp)},Jm=function(t,e){return!!(sm&Km(t,e))&&t.window.chatStatus!==gp},Qm=function(t,e){return!!(lm&Km(t,e))&&t.window.chatStatus!==gp&&Vh("audioVideoChat")(t)&&v},Zm=function(t,e){return!!(um&Km(t,e))&&t.window.chatStatus!==gp&&Vh("audioVideoChat")(t)&&v},Xm=function(t,e){return!!(fm&Km(t,e))&&t.window.chatStatus!==gp&&Vh("screenSharing")(t)&&v&&!Pm(t)},$m=function(t,e){return!!(hm&Km(t,e))},tw=function(t,e){return!!(gm&Km(t,e))&&t.window.chatStatus!==gp&&!Pm(t)},ew=function(t,e){var n=ef(t);return n&&n.postchat?n.postchat.map((function(e){return t.entities.fields.entities["postchat-"+e]})).find((function(t){return t.type===e})):null},nw=function(t){return ew(t,Qo)},iw=function(t){return ew(t,Zo)},ow="classic",aw="circle",rw="bubble",sw=function(t){return"window--"+t},cw=Object.freeze({__proto__:null,bubble:rw,circle:aw,classic:ow,styleClassName:sw}),dw=function(t,e){return t.entities.agents.entities[e]},lw=function(t){return(e=t.entities.agents.entities)&&Object.keys(e)||[];var e},uw=function(t){return t.entities.agents.entities},pw=function(t){var e=_m(t),n=function(t){return lw(t).reduce((function(e,n){return e.concat([dw(t,n)])}),[])}(t).sort((function(t,e){return t.index-e.index})).filter((function(t){return t.siteId===e})).map((function(t){return t.avatar})).filter((function(t){return t})),i=null;switch(n.length){case 0:return null;case 1:i=[n[0],bh(t,"/visitorside/images/avatar-male.png"),bh(t,"/visitorside/images/avatar-female.png")];break;case 2:i=[].concat(n,[bh(t,"/visitorside/images/avatar-male.png")]).filter((function(t){return t}));break;default:i=n.slice(0,3)}return i},hw=function(t,e){var n=e,i=t.entities.buttons.entities,o=Number(e);if(!isNaN(o)){var a=Object.keys(i).filter((function(t){return i[t].intId===o}));if(a.length>0)return i[a[0]]}return"number"!=typeof e&&(n=e.toLowerCase()),i[n]},fw=function(t,e){var n=t.entities.buttons.entities;if(!n)return null;var i=Object.keys(n).filter((function(t){return n[t].intId===e}));return i.length>0?n[i[0]].id:null},gw=function(t,e){var n=hw(t,e);return n&&n.customOffline},mw=function(t,e){return!!t.entities.buttons&&hw(t,e).isEmbeddedWindow},ww=function(t){return t.entities.departments.entities},bw=/(#chat-window(?!-)\b[^{}]*?{([^}]*?)})(?!(.*|\r\n|\r|\n)\*\/)/,vw=/(?:;|\s|{)width\s*:\s*(?:-?)(\d+)/,_w=/(?:;|\s|{)height\s*:\s*(?:-?)(\d+)/,xw=function(t){return t===ow?580:605},yw=function(t,e){var n=rh(t,e),i=hw(t,e);if(i){var o=i.iframeStyle;if(!o)return o;if(!n)return o;var a=n.style;if(a===rw)return o;if(n.customCSS&&bw.test(n.customCSS)){var r=bw.exec(n.customCSS)[0],s=vw.exec(r),c=_w.exec(r);return o.width=s?parseInt(s[1]):385,o.height=c?parseInt(c[1]):xw(a),o}return o.width=385,o.height=xw(a),o}},Sw=function(t,e){var n=hw(t,e),i=Pm(t);return n&&n.type===Iu?{right:i?n.adaptiveButtonRightOffsetOnMobile:n.adaptiveButtonRightOffset,bottom:i?n.adaptiveButtonBottomOffsetOnMobile:n.adaptiveButtonBottomOffset}:{right:0,bottom:0}},Cw=function(t){var e=E(t,"window.kb.articles");return e&&e.map((function(e){var n=t.entities.kbArticles.entities[e];return{id:n.id,title:n.title,summary:n.body.replace(/<\/?[^>]+(>|>$)/g," ").substr(0,200)}}))},kw=function(t,e){var n=t.entities.campaigns.entities[e];return n?n.mainColor:""},Iw=function(t){return t.entities.campaigns.entities[wm(t)].ifRemovePoweredBy},Mw="promptPressEnterToSend",Ow="titleChatWindow",Aw="titleOfflineMessageWindow",Bw="titlePreChatWindow",Tw="eventSendTranscript",jw="errorVisitorNotExist",Pw="buttonKBChatWithAgent",Fw="buttonKBLeaveMessage",Ww="buttonSendFile",Nw=function(t,e,n){return n+"_"+t+(e?"_"+e:"")},Vw=(Lu={},{get:function(t){return Lu[t]||null},set:function(t,e){null!=e&&(Lu[t]=e)},setSession:function(t,e){Lu[t]=e},remove:function(t){delete Lu[t]}}),Dw={get:function(t){for(var e=N.cookie.split("; "),n=0;n<e.length;n+=1){var i=e[n].split("=");if(null!=i&&2===i.length&&t===i[0])return i[1]}return null},set:function(t,e,n){void 0===n&&(n=!1),null!==e&&(N.cookie=t+"="+e+";path=/;"+(n?"secure=true;":"")+"expires=Sat, 01 Jan 10000 00:00:00 GMT")},setSession:function(t,e,n){void 0===n&&(n=!1),null!==e&&(N.cookie=t+"="+e+";path=/;"+(n?"secure=true;":""))},remove:function(t){N.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;"}},Rw=function(){Dw=Vw},Ew=function(t){return Dw.get(t)},zw=function(t){return Dw.remove(t)},Lw=function(t,e){return Dw.get(t)&&Dw.remove(t),Dw.set(t,e,q)},Hw=function(t,e){return Dw.setSession(t,e,q)},qw=function(t){return Dw.remove(t)},Uw=V.brandingNameLowerCase+"_session",Gw=V.brandingNameLowerCase+"standby_session",Kw=V.brandingNameLowerCase+"_visitor",Yw=V.brandingNameLowerCase+"_visitorguid",Jw=V.brandingNameLowerCase+"_visitor",Qw=V.brandingNameLowerCase+"_chat",Zw=V.brandingNameLowerCase+"_session",Xw=V.brandingNameLowerCase+"_page",$w=V.brandingNameLowerCase+"_crossSiteChatTransfer",tb=V.brandingNameLowerCase+"_frequencyLimit",eb=V.brandingNameLowerCase+"_soundOff",nb=(Hu=function(){var t="livechattestkey",e=V.sessionStorage;try{return e.setItem(t,"test"),e.removeItem(t),!1}catch(t){return t.code===DOMException.QUOTA_EXCEEDED_ERR&&0===e.length}},function(){return void 0===qu&&(qu=Hu()),qu}),ib=function(t){var e=window[t]||{};return window[t]=e,{getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n.toString()},removeItem:function(t){delete e[t]}}},ob=function(){try{return!window.sessionStorage||nb()?ib("sessionStorage"):V.sessionStorage}catch(t){return ib("session-storage")}},ab=function(){try{return!window.localStorage||nb()?ib("localStorage"):V.localStorage}catch(t){return ib("local-storage")}},rb=ab(),sb=ob(),cb=!1,db=function(t){cb=t},lb=function(){return Nw(Gr,Kr,Kw)},ub=function(){return t=Ew(lb()),isNaN(+t)||0==+t?void 0:Math.floor(+t);var t},pb=function(t){return Nw(t||Gr,Kr,Yw)},hb=function(t){return Ew(pb(t))},fb=function(t,e){t&&(cb?Hw:Lw)(pb(e),t)},gb=function(t){return Nw(t||Gr,Kr,Jw)},mb=function(t){try{return JSON.parse(rb.getItem(t))||{}}catch(t){return{}}},wb=function(t,e){try{return rb.setItem(t,JSON.stringify(e))}catch(t){}},bb=function(t){return mb(gb(t))},vb=function(t,e){return rb.setItem(gb(e),JSON.stringify(Object.assign({},bb(e),t)))},_b=function(t){return mb(gb(t)).sessionId},xb=function(t){return Nw(t||Gr,Kr,""+Qw)},yb=function(t,e){var n=mb(xb(e));return n.chatGuid===t?n:{}},Sb=function(){return tb+"_"+Gr},Cb=function(t){wb(Sb(),t)},kb=function(t,e,n){if(rb){var i=yb(t,n);rb.setItem(xb(n),JSON.stringify(i.chatGuid===t?Object.assign({},i,e):Object.assign({chatGuid:t},e)))}},Ib=function(t){return Nw(t||Gr,Kr,""+Zw)},Mb=function(t){void 0===t&&(t=hb());var e=mb(Ib());return e.visitorGuid===t?e:{}},Ob=function(t,e){void 0===e&&(e=hb());var n=Mb(e);rb.setItem(Ib(),JSON.stringify(n.visitorGuid===e?Object.assign({},n,t):Object.assign({visitorGuid:e},t)))},Ab=function(){return Nw(Gr,Kr,""+Xw)},Bb=function(){return function(t){try{return JSON.parse(sb.getItem(t))||{}}catch(t){return{}}}(Ab())},Tb=function(t){return sb&&sb.setItem(Ab(),JSON.stringify(Object.assign({},Bb(),t)))},jb=function(){zw(Nw(Gr,Kr,Uw)),zw(Nw(Gr,Kr,Gw))},Pb=function(){return Bb().mediaChatHash},Fb=function(t){return yb(t).mediaChatHash},Wb=function(t){kb(t,{mediaChatHash:Pb()})},Nb=function(t){var e=Fb(t);e&&e===Pb()&&kb(t,{mediaChatHash:null})},Vb=function(t){kb(t,{mediaChatHash:null}),Tb({mediaChatHash:null})},Db=function(){return(bb()||{}).lastChattedAgents||[]},Rb=Nw(Gr,Kr,"SSOSessionToken"),Eb=function(t){Hw(Rb,t)},zb=Nw(Gr,Kr,"SSOSessionInfo"),Lb=function(t){Hw(zb,t.replace(/=/g,"#").replace(/;/,"@"))},Hb=function(){var t=Ew(zb);return t?t.replace(/#/g,"=").replace(/@/,";"):null},qb=Nw(Gr,Kr,"SSOSessionLoggedIn"),Ub=function(){Hw(qb,!0)},Gb=function(){qw(qb)},Kb=function(){qw(Rb),qw(zb),Gb()},Yb=function(t,e){return $w+"_"+t+(e?"_"+e:"")},Jb=function(t,e){try{rb.removeItem(Yb(t,e))}catch(t){}},Qb=function(t,e,n){wb(Yb(t,e),n)},Zb=function(t,e){var n=mb(Yb(t,e));return n.siteId&&n},Xb=function(){return"true"===rb.getItem(eb)},$b=function(){return rb.removeItem(eb)},tv=Math.pow(2,0),ev=Math.pow(2,1),nv=Math.pow(2,2),iv=t(1)((function(t){var e=Object.assign({},t);return e.id=t.id,e.isManual=t.isManual,e.type=fu,e.campaignId=t.campaignId,e.message=t.text,e.textTypeHere=t.textTypeHere,e.messageCount=t.messageCount,t.agent&&(e.agentName=t.agent.name,e.avatar=t.agent.avatar),e.agent=t.agent,e})),ov=t(1)((function(t){var e=Object.assign({},t);return e.id=t.id,e.type=gu,e.campaignId=t.campaignId,e.message=t.text,e.acceptText=t.acceptText,e.refuseText=t.refuseText,e.themeColor=t.themeColor,e.title=t.title,e.agent=t.agent,e})),av=t(1)((function(t){var e={};if(e.id=t.id,e.type=pu,e.image=t.image,e.message=t.text,e.fontSize=t.fontSize,e.color=t.color,e.themeColor=t.themeColor,e.fontFamily=t.fontFamily,e.ifModal=t.ifModal,t.fontStyle){var n=t.fontStyle;e.fontWeight=n&tv?"bold":"",e.fontStyle=n&ev?"italic":"",e.textDecoration=n&nv?"underline":""}return e.messageArea={left:t.textArea[0],top:t.textArea[1],width:t.textArea[2],height:t.textArea[3]},e.closeArea={left:t.closeArea[0],top:t.closeArea[1],width:t.closeArea[2],height:t.closeArea[3]},e.textAlign=t.textAlign,t.position&&(e.position=t.position),e.isManual=t.isManual,e.campaignId=t.campaignId,e.agent=t.agent,e}));function rv(t){var e=E(t,"page.invitation");if(!e)return null;var n=e.type;return fu===n?iv(e):pu===n?av(Object.assign({},e,{image:mh(t,e.image)})):gu===n?ov(e):null}var sv,cv,dv,lv=function(t){return t.page&&t.page.invitation},uv=function(t){return t.page&&t.page.ifShowInvitationProcessing},pv=Hh((function(t){return t.isTaskBot}),!1),hv=function(t){var e=t.window;return e?e.chatStatus!==fp&&e.chatStatus!==pp&&e.chatStatus!==gp?null:e.taskBot||{}:null},fv=function(t){pv(t);var e=hv(t);return e&&e.id?e.id:"00000000-0000-0000-0000-000000000000"},gv=t(1)((function(t){return Object.keys(t).map((function(e){var n=t[e];return{value:n.id,label:n.name,isOnline:n.isOnline}})).sort((function(t,e){return t.label.toLowerCase()<e.label.toLowerCase()?-1:1}))})),mv={custom:{}},wv=function(t,e,n,i,o){return e.configuration.features[n]?t:t.filter((function(t){return e.entities.fields.entities[o+"-"+t].type!==i}))},bv=function(t){var e=tf(t)||$h(t);return vv(t,wp,e)},vv=function(t,e,n){var i;e===mp?i="prechat":e===wp?i="postchat":e===bp&&(i="offline");var o=t.entities.campaigns.entities[n],a=t.configuration.customVariableResult;if(o&&o[i]){var r=o[i];return r=wv(r,t,"department",Yo,i),(r=wv(r,t,"ticket",Jo,i)).map((function(e){var n=t.entities.fields.entities[i+"-"+e],r="";if(n.type===Yo){var s=t.entities.departments.entities;n=Object.assign({},n,{options:gv(s)})}var c,d,l=t.window?t.window.fields:mv;if(c=n.type===Ho?l.name:n.type===qo?l.email:n.type===Uo?l.phone:n.type===Go?l.company:n.type===Ko?l.product:n.type===Yo?l.department:n.type===Qo?l.rating:n.type===Zo?l.comment:n.type===Xo?l.subject:n.type===$o?l.content:n.type===ta?l.attachment:n.type===Jo?l.ticketId:n.type===sa?void 0:n.type===ia||n.type===oa?void 0===l.custom[n.label]||null===l.custom[n.label]?"false":l.custom[n.label]:n.type===ra&&void 0===l.custom[n.label]?"":l.custom[n.label],!(c=null!=n.value?n.value:c)&&a&&a[n.label]&&(c=a[n.label]),n.isRequired){((n.type===ra?""===c||void 0===c:n.type===ia||n.type===oa?c&&"true"!==c:!c||c.trim&&""===c.trim())||Array.isArray(c)&&0===c.length||n.type===Yo&&c===Xi)&&(r=o.languages.promptRequired)}if(n.type===qo&&c&&!Ha(c)&&(r=o.languages.promptInvalidEmail),n.type!==Jo||!c||(d=c).length<=10&&/^\d{0,10}$/.test(d)&&parseInt(d,10)<Math.pow(2,31)||(r="Invalid number"),n.type===ta&&"undefined"!=typeof File&&c&&"undefined"!==c.size){var u=Mh(t);c.size>Math.pow(1024,2)*u&&(r=o.languages.promptFileSizeExceed.replace("{fileSize}",u))}return Object.assign({},n,{value:c,error:n.customError||r})}))}return[]},_v=function(t,e){return t.window.forms[e]},xv=function(t){var e=t.entities.campaigns.entities[t.window.id];return e&&e.prechat?e.prechat.map((function(e){return t.entities.fields.entities["prechat-"+e]})):[]},yv=function(t){var e=t.entities.campaigns.entities[t.window.id],n=[];e&&(n=(n=(n=n.concat(e.prechat?e.prechat.map((function(e){return t.entities.fields.entities["prechat-"+e]})):[])).concat(e.postchat?e.postchat.map((function(e){return t.entities.fields.entities["postchat-"+e]})):[])).concat(e.offline?e.offline.map((function(e){return t.entities.fields.entities["offline-"+e]})):[]));var i={text:!0,textarea:!0,radio:!0,checkbox:!0,select:!0,"checkbox-list":!0,attachment:!0,rating:!0};return n.filter((function(t){return i[t.type]}))},Sv=function(t){var e=mf(t),n=[];e&&e.length>0&&e.map((function(e){return dw(t,e)&&n.push(dw(t,e))}));var i=t.window.chatBot;return i&&(n=n.concat(i)),n},Cv=function(t){return t.window&&!!t.window.crossSiteChatTransfer},kv=function(t){return t.window?t.window.crossSiteChatTransfer:null},Iv=function(t){return kv(t)?kv(t).siteId:0},Mv=function(t){return!kv(t)||kv(t).isTransferDone},Ov=function(t){return kv(t)?kv(t).campaignId:wm(t)},Av=function(t){var e=kv(t);return e&&e.configuration?e.configuration.serverInstanceTag:function(t){return t.configuration.serverInstanceTag}(t)},Bv=function(t){var e,n=kv(t),i=jh(t),o=Ta(ff(t),i),a=function(t){for(var e=t.length-1;e>=0;e-=1)if(t[e].type===Ji&&t[e].sender&&t[e].extras&&"null"!==t[e].extras)return t[e].id;return null}(o),r=n.siteId,s=n.toCompanyName,c=n.fromCompanyName,d=n.fromSiteId,l={toSiteId:r,toCompanyName:s,fromSiteId:d,fromCompanyName:c,withChatTranscript:n.withChatTranscript,departmentId:n.departmentId,agentId:n.agentId,campaignId:n.campaignId,chatbotId:n.chatbotId,chatbot:n.chatbot,messages:o.filter((function(t){return t.id!==a})),name:bb(d).name,email:bb(d).email,visitorSendTranscript:!!Hg(t),agents:Sv(t)};return e=l,Object.assign({},e,{type:oo.requestChatFromAnotherSite,isSupportWebrtc:v})},Tv=Vh("sendFile"),jv=Vh("heartbeat"),Pv=Vh("autoInvitation"),Fv=Vh("isFreemium"),Wv=function(t,e){if(e=e||wm(t),Km(t,e)<1)return!1;var n=t.window,i=Zh(t);return!(!n||i===wp)&&(n.chatStatus===fp||n.chatStatus===gp)},Nv=function(t){return t.configuration.features.ga},Vv=function(t,e){return E(t,"entities.campaigns.entities."+e+".style")},Dv=function(t,e){return E(t,"entities.campaigns.entities."+e+".cornerStyle")},Rv=function(t){var e=$h(t);return Vv(t,e)},Ev=function(t){var e=$h(t);return Dv(t,e)},zv=function(t){return t.configuration.customVariables},Lv=function(t){return t.configuration.customVariableResult},Hv=function(t){return t.configuration.features.hideCreditCard},qv=function(t){return t.configuration.features.showTypingContent},Uv=function(t){return t.entities.campaigns.entities[t.window.id].languages},Gv=function(t){var e=t.entities;if(!e)return!1;var n=e.campaigns.entities;if(!t.window||!n)return!1;var i=n[t.window.id];return!!i&&!!i.languages},Kv=function(t){return function(e,n){var i=function(t){var e=tf(t)||$h(t);if(!t.entities.campaigns.entities[e])return{};var n=t.entities.campaigns.entities[e].greetingMessages;return n||{}}(e),o=t[n];if(o)return i[o]}}((sv={},sv[mp]="preChatGreetingMessage",sv[wp]="postChatGreetingMessage",sv[bp]="offlineMessageGreetingMessage",sv)),Yv=function(t,e){var n=tf(t)||$h(t);if(e===mp)return t.entities.campaigns.entities[t.window.id].formStyles.preChatFormStyle===eh;if(e===wp){var i=t.entities.campaigns.entities[n];if(!i)return!1;if(i.formStyles)return i.formStyles.postChatFormStyle===eh}return t.entities.campaigns.entities[t.window.id].formStyles.offlineMessageFormStyle===eh},Jv=function(t){return function(e,n){var i=Uv(e),o=t[n];if(o)return i[o]}}((cv={},cv[mp]="buttonStartChat",cv[wp]="buttonSubmit",cv[bp]="buttonSubmit",cv)),Qv=function(t,e){if(!(e<=0))return Uv(t).embeddedWindowNewMessages.replace("{count}",e)},Zv=function(t){return Uv(t).writeReply},Xv=function(t){var e=$h(t),n=rh(t,e).mainColor;return nr(n)},$v=function(t){return E(t,"entities.campaigns.entities."+(t.window&&t.window.id)+".chat.showAvatar")},t_=function(t){var e=wm(t),n=t.entities.campaigns.entities[e].header,i=n.chatWindowShowAvatar,o=n.type;return!!i||!(!cf(t)||o!==ih)},e_=function(t,e){if(t.window){var n=function(t){return t.entities.campaigns.entities[t.window.id].sounds}(t);return n&&n[e]}},n_=function(t){var e=t.siteId,n=t.visitorGuid;return t.urls.chatServer.concat(["/visitor.ashx?",e?"siteId="+e:"",n?"&visitorGuid="+n:""].join(""))},i_=function(t){var e=bm(t),n=_m(t),i=Sm(t);if(Cv(t)){var o=kv(t);return n_(o,dh(t))}return mh(t,["/visitor.ashx?",n?"siteId="+n:"",e?"&chatGroup="+e:"",i?"&visitorGuid="+i:""].join(""))},o_=function(t){return Am(t)===vu&&qh(t)===hp},a_=function(t){return function(t,e){var n=hw(t,e);if(n)return n.customJs}(t,mm(t))},r_=function(t){return lh(t)&&null==Am(t)},s_=function(t){return function(t){return t.app.isOpenerExists}(t)&&lh(t)&&mw(t,wm(t))&&!r_(t)&&!qg(t)},c_=function(t,e){return(t.entities.campaigns.entities[e||wm(t)]||{}).languages},d_=function(t,e){return(t.entities.campaigns.entities[e||wm(t)]||{}).languageCode||"en"},l_=function(t,e,n){if(n=n||wm(t),e===Ow)return function(t,e){return E(t,"entities.campaigns.entities."+e+".popupChatWindowTitle")}(t,n);if(e===Bw)return function(t,e){return E(t,"entities.campaigns.entities."+e+".popupPreChatTitle")}(t,n);if(e===Aw)return function(t,e){return E(t,"entities.campaigns.entities."+e+".popupOfflineMessageTitle")}(t,n);var i=c_(t,n);return i&&i[e]},u_=function(t){var e=kv(t),n=e?e.configuration:t.configuration;return n?n.fileServiceUrl:""},p_=function(t){var e=kv(t);return e?e.configuration.fileServiceAddress:t.configuration.fileService||t.configuration.fileServiceAddress},h_=Vh("ifEnableCompression"),f_=function(t){return t.configuration.fileService},g_=function(t){var e=kv(t);return e&&e.configuration?e.configuration.fileServiceStandbyAddress:t.configuration.fileServiceStandbyAddress},m_=function(t){return t.configuration.apiHost},w_=function(t){return function(e){return Uv(e)[t]}},b_=w_("cobrowseAllowControl"),v_=w_("cobrowseStop"),__=function(t){var e=Uv(t).cobrowseAgentWait,n=function(t){var e=function(t){return t.window.cobrowseAgent}(t);if(!e)return"";var n=dw(t,e);return n?n.name:""}(t);return e.replace(/{name}/g,n)},x_=w_("cobrowseNotes"),y_=function(t){var e=wm(t);return hw(t,"string"==typeof e?e.toLowerCase():e).type===Iu},S_=function(t){var e=y_(t),n=Pm(t)&&!Fm(t),i=ym(t);if(i===$l)return!1;var o=!lh(t)&&e;return o&&n&&(o=i===Xl),o},C_=(dv={},dv[ip]="kbWin",dv[Qu]="loadingWin",dv[Zu]="loginWin",dv[np]="offlineWin",dv[ep]="postWin",dv[$u]="preWin",dv[Xu]="loginWin",dv),k_=function(t){var e=Zh(t),n=U[d_(t)];if(e!==tp)return n[C_[e]];var i=qh(t),o=c_(t);if(i===pp)return o.embeddedWindowWaitingForChat;if(i===hp)return n.invited;if(i===gp)return o.embeddedWindowChatEnded;var a=function(t){var e=Df(t);return e?e.name:e}(t);return o.embeddedWindowChattingWithOperator.replace(/{agent}/g,a)},I_=function(t){if(!function(t){return!!nf(t).prechat}(t))return"";var e=Yf(t,Yo);if(e>0){var n=ww(t)[e];return n?n.name:""}return""},M_=function(t){var e=function(t){return t.window?t.window.messages.map((function(t){if(t.senderType===cp||t.type===Ne||t.type===Re||t.type===qe)return t.senderId||t.sender&&t.sender.id})).reduce((function(t,e){return e&&-1===t.indexOf(e)&&t.push(e),t}),[]).map((function(e){return dw(t,e)})).filter((function(t){return!!t})):[]}(t).map((function(t){return t.name}));return t.window.chatBot?e.concat(t.window.chatBot.name):e},O_=function(t){var e=Lh(t),n=Rg(t);return e||(n=qm(t)),n},A_=function(t){var e=kv(t);if(!e)return!1;var n=mf(t);if(0===n.length)return!1;var i=dw(t,n[0]);return!i||e.siteId!==i.siteId},B_=function(){return{type:Wc}},T_=function(){return{type:Fc}},j_=function(){return{type:Ed}},P_=function(t){return{type:Nc,payload:t}},F_=function(){return{type:Dc}},W_=function(){return{type:Rc}},N_=function(t){return{type:Ec,payload:t}},V_=function(){return{type:zc,payload:Date.now()}},D_=function(t){return{type:Pl,payload:t}},R_=function(){return{type:Fl}},E_=function(t){return{type:Lc,payload:t}},z_=function(t,e){return{type:ds,payload:{campaignId:t,ifOnline:e}}},L_=function(t){return{type:ps,payload:t}},H_=function(t){return{type:hs,payload:t}},q_=function(t){return{type:ls,payload:t}},U_=function(t){return{type:fs,payload:t}},G_=function(){return{type:gs}},K_=function(t){return{type:Rs,payload:t}},Y_=function(t){return{type:Ls,payload:t}},J_=function(){return{type:Es}},Q_=function(){return{type:Nd}},Z_=function(){return{type:Dd}},X_=function(t,e){return{type:Rd,payload:{targetTab:t,newTab:e}}},$_=function(t,e){return void 0===e&&(e=!1),{type:vs,payload:{campaignId:t,isRestoreChat:e}}},tx=function(t,e,n){return{type:Os,payload:{campaignId:t,crossSiteChatTransfer:e,chatInfo:n}}},ex=function(t){return{type:Oc,payload:t}},nx=K(ex,Ql),ix=function(){var t=K(ex,Xl).apply(void 0,arguments);return setTimeout((function(){if(top.frames.chat_button_adaptive_container){var t=top.frames.chat_button_adaptive_container.contentWindow;if(t){var e=t.document.querySelector(".chatButton");e&&e.focus()}}else if(top.frames.chat_button_bar_container){var n=top.frames.chat_button_bar_container.contentWindow;if(n){var i=n.document.querySelector(".minimize-bar");i&&i.focus()}}}),500),t},ox=K(ex,$l),ax=K(ex,Zl),rx=function(t){return{type:Ac,payload:t}},sx=function(t){return{type:Hs,payload:t}},cx=function(t,e){return{type:qs,payload:{size:t,buttonOffset:e}}},dx=function(t){return{type:Us,payload:t}},lx=K(dx,_u),ux=K(dx,xu),px=function(t){return{type:al,payload:t}},hx=function(t,e){return{type:rl,payload:{guid:t,intId:e}}},fx=function(t){return{type:Gs,payload:t}},gx=function(t){return{type:ws,payload:t}},mx=function(t){return{type:ms,payload:t}},wx=function(t){return{type:bs,payload:t}},bx=function(t){return{type:rs,payload:t}},vx=function(t){return{type:ss,payload:t}},_x=function(t){return{type:cs,payload:t}},xx=function(t){return{type:As,payload:t}},yx=function(t){return{type:Bs,payload:t}},Sx=function(t,e){return{type:Ts,payload:{isHidden:!t,campaignId:e}}},Cx=function(t){return{type:js,payload:t}},kx=function(t){return{type:Fs,payload:t}},Ix=function(t,e,n){return{type:Ps,payload:{type:t,fields:e,campaignId:n}}},Mx=function(t,e){return{type:t,payload:e}},Ox=function(t,e,n){return{type:Ks,payload:{name:t,percent:e,onCancel:n}}},Ax=function(t){return{type:Ys,payload:t}},Bx=function(t){return{type:Js,payload:t}},Tx=function(t){return{type:ys,payload:t}},jx=function(t,e,n){return{type:Qs,payload:{ssoUrl:t,showPrelogin:e,ifOpenSignInPageEmbeddedWindow:n}}},Px=function(t,e){return{type:oc,payload:e}},Fx=function(t){return{type:ac,payload:t}},Wx=function(t){return{type:vl,payload:t}},Nx=function(t){return{type:Zs,payload:t}},Vx=function(t){return{type:rc,payload:t}},Dx=function(t,e,n){return void 0===n&&(n={}),{type:$s,payload:{message:t,guid:Y(),ifCardMasking:e,options:n}}},Rx=function(t,e){return{type:tc,payload:t,meta:e}},Ex=function(){return{type:nc}},zx=function(){return{type:ic}},Lx=function(t){return{type:Pc,payload:t}},Hx=Lx,qx=Lx,Ux=function(t){return{type:Tc,payload:t}},Gx=function(t){return{type:qc,payload:t}},Kx=Ux,Yx=K(Ux,""),Jx=function(t){return{type:Bc,payload:t}},Qx=function(){return{type:Hc}},Zx=Jx,Xx=K(Jx,""),$x=function(){return{type:md}},ty=function(t){return{type:wd,payload:t}},ey=function(t,e,n,i,o,a){return{type:bd,payload:{ifHelpful:t,actionGuid:e,intentId:n,question:i,botId:o,chatbotMessageId:a}}},ny=function(t,e,n,i){return{type:Hd,payload:{formActionType:2,guid:t,intentId:e,agentId:n,botId:i,formName:""}}},iy=function(t,e,n,i,o,a,r){return{type:qd,payload:{formActionType:0,guid:t,intentId:e,agentId:n,values:a,botId:i,question:o,message:r,formName:""}}},oy=function(t){return{type:Ud,payload:t}},ay=function(t,e){return{type:sc,payload:{chatGuid:t,serverTime:e}}},ry=function(t,e){return{type:Ss,payload:{type:t,params:e}}},sy=function(t){return{type:Ld,payload:t}},cy=function(){return{type:vd}},dy=function(){return{type:Ms}},ly=function(t){return{type:Uc,payload:t}},uy=function(t){return{type:Gc,payload:t}},py=K(uy,!0),hy=K(uy,!1),fy=function(){return{type:_s}},gy=function(){return{type:xs}},my=function(t){return{type:_d,payload:t}},wy=function(t){return{type:xd,payload:{message:t}}},by=function(t,e,n){return{type:Cd,payload:{localVideoContainer:t,remoteVideoContainer:e,unmuteRemoteContainer:n}}},vy=function(){return{type:jd}},_y=function(t,e){return{type:Md,payload:{localVideoContainer:t,remoteVideoContainer:e}}},xy=function(){return{type:Od}},yy=function(t){return{type:Pd,payload:t}},Sy=function(t){return{type:Fd,payload:t}},Cy=function(t){return{type:Wd,payload:t}},ky=function(t){return{type:cc,payload:t}},Iy=function(t){return{type:hc,payload:t}},My=function(t){return{type:fc,payload:t}},Oy=function(){return{type:lc}},Ay=function(t){return{type:uc,payload:t}},By=function(){return{type:zd}},Ty=function(t){return{type:sl,payload:t}},jy=function(){return{type:Xs}},Py=function(){return{type:cl}},Fy=function(t){return{type:dl,payload:t}},Wy=function(){return{type:gl}},Ny=function(t){return{type:ml,payload:t}},Vy=function(t){return{type:Cl,payload:t}},Dy=function(){return{type:wl}},Ry=function(t){return{type:kl,payload:t}},Ey=function(){return{type:Il}},zy=function(){return{type:Ml}},Ly=function(t){return{type:Ol,payload:t}},Hy=function(t,e,n,i,o,a){return{type:_l,payload:{url:t,type:e,title:n,iframe:i,noFocus:o,botId:a}}},qy=function(){return{type:xl}},Uy=function(){return{type:yl}},Gy=function(){return{type:Sl}},Ky=function(){return{type:Gd}},Yy=function(t,e){return{type:ks,payload:{right:t,bottom:e}}},Jy=function(t){return{type:pc,payload:t}},Qy=function(t,e){return Jy({text:t,ifDirectlySendOut:e})},Zy=function(){return Jy(void 0)},Xy=function(){return{type:Ns,payload:!0}},$y=function(){return{type:Vs,payload:!0}},tS=function(t,e){return{type:Tl,payload:{guid:t,fieldsValue:e}}},eS=function(t){return{type:Is,payload:t}},nS=function(t){return{type:gc,payload:t}},iS=function(t){return{type:mc,payload:t}},oS=function(t){return{type:wc,payload:t}},aS=function(){return{type:jl}},rS=function(){return{type:bc}},sS=function(){return{type:gd}},cS=function(){return{type:vc}},dS=function(t){return{type:Bd,payload:{guid:t}}},lS=function(t){return{payload:t,type:Td}},uS=function(t){return{payload:t,type:_c}},pS=function(t,e){return{payload:{isTransferDone:t,chatGuid:e},type:xc}},hS=function(t){return{payload:t,type:yc}},fS=function(t){return{payload:t,type:Sc}},gS=function(t){return{payload:t,type:Cc}},mS=function(){return{type:kc}},wS=function(t){return{type:Kc,payload:t}},bS=function(t){return{type:Nl,payload:t}},vS=function(t){return{type:Vl,payload:t}},_S=function(){return{type:Dl}},xS=function(t){return{type:Ic,payload:t}},yS=function(){return{type:Mc}},SS=function(t){return{type:jc,payload:t}},CS=function(t){return{type:Rl,payload:t}},kS=function(t){return{type:Ll,payload:{remoteVideoContainer:t}}},IS=function(t,e){return{type:zl,payload:{localVideoContainer:t,remoteVideoContainer:e}}},MS=function(){return{type:Ds,payload:!0}},OS=function(){return{type:Ds,payload:!1}},AS=function(){return{type:El}},BS=function(t){return{type:Hl,payload:t}},TS=function(t){return{type:ql,payload:t}},jS=function(){return{type:Cs}},PS=function(t){return{type:Gl,payload:t}},FS=function(t){var e=t.url,n=t.name;return{type:Ul,payload:{url:e,name:n}}},WS=function(t){return{type:Kl,payload:t}},NS=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{type:Yc,payload:1===e.length?e[0]:jo(e)}},VS=function(){return{type:Jc}},DS=function(){return{type:Qc}},RS=function(t){return{type:$c,payload:t}},ES=function(t){return{type:td,payload:t}},zS=function(){return{type:ed}},LS=function(t,e){return{type:od,payload:{form:t,onSuccess:e}}},HS=function(t,e){return{type:id,payload:{form:t,onSuccess:e}}},qS=function(t,e){return{type:nd,payload:{form:t,onSuccess:e}}},US=function(t){return{type:ad,payload:t}},GS=function(t){return{type:rd,payload:t}},KS=function(){return{type:sd}},YS=function(){return{type:cd}},JS=function(){return{type:dd}},QS=function(){return{type:Zc}},ZS=function(){return{type:Xc}},XS=function(t){return{type:ld,payload:t}},$S=function(t){return{type:yd,payload:t}},tC=function(){return{type:kd}},eC=function(){return{type:Id}},nC=function(t,e){return void 0===e&&(e=!1),{type:ud,payload:{campaignId:t,alreadyCampaignId:e}}},iC=function(){return{type:pd}},oC=function(t){return{type:hd,payload:t}},aC=function(t){return{type:ul,payload:t}},rC=function(t,e){return{type:pl,payload:{articleId:t,link:e}}},sC=function(t,e){return{type:yd,payload:[{type:t,time:new Date,content:e,sender:{type:sp},guid:Y()}]}},cC=function(){return sC(mi,Y())},dC=function(t){return sC(wi,t)},lC=function(){return sC(bi)},uC=function(){return sC(vi)},pC=function(){return sC(_i)},hC=function(){return sC(xi)},fC=function(){return sC(yi)},gC=function(t){return{type:fd,payload:t}},mC=function(t){return{type:Al,payload:t}},wC=function(){return{type:Bl}},bC=function(t){return{type:zs,payload:t}},vC=Object.freeze({__proto__:null,acceptAudioVideoChat:_y,acceptCobrowse:cC,acceptScreenSharing:kS,addPendingMessage:Qy,addSystemMessage:Vx,addVisitorNavigation:U_,agentMsgSeenByVisitor:My,apiSendText:PS,articleOnClick:Ny,ban:B_,browserNotSupportCobrowse:pC,buttonClick:Y_,cancelForm:qx,cancelRequestScreenSharing:OS,cancelVisitorSendText:WS,chatBotAnswerHelpful:ey,chatBotSelectQuestion:ty,chatBotSetBotVariable:oy,chatBotVisitorCancelBotForm:ny,chatBotVisitorSubmitBotForm:iy,chatInputWarning:ry,chatWindowOpen:$_,chatWindowPopIn:gy,chatWindowPopOut:fy,chatWindowRestoreCrossSiteChat:tx,chatWindowUpdateChatBotInfo:Px,chatWindowUpdateChatbotContext:Fx,chatWindowUpdateKBConfig:Wx,chatWindowUpdateSSOInfo:jx,chatbotTimeout:Fy,cleanPendingMessages:Ky,cleanUpCobrowseRequest:Uy,closeBotSideWindow:qy,closeKnowledgeBase:Q_,closeMinimizedWindowBubble:Oy,closePushPage:Z_,closeWebView:Ey,closeWindow:ox,closeWindowSliently:By,contentScrollStatusUpdate:ly,disableWindow:py,emptyVisitorNavigation:G_,enableWindow:hy,endChat:Qx,endCobrowse:hC,endCobrowseFromCrossDomain:Gy,fromChatbotToAgent:$x,fromKBToAgent:Wy,getArticleByIDError:function(t){return{type:bl,payload:t}},getArticlesError:Dy,getRestoreState:R_,getVisitorInfo:wC,hangupAudioVideoChat:tC,hangupScreenSharing:eC,hideAudioVideoChat:vy,hideError:Xx,hideQuickReply:aS,hideRatingFormInWindow:yS,hideScreenSharing:AS,hideWarning:Yx,httpNotSupportCobrowse:fC,increaseRecoverTimes:W_,invitationRefuse:J_,invitatonAccept:K_,notSupportCobrowse:uC,openBotSideWindow:Hy,openWebView:Ry,popScreenSharing:TS,prepareP2pChat:by,prepareScreenSharing:IS,previewImage:FS,pushPage:Vy,ready:T_,recoverSuccess:F_,refuseCobrowse:lC,removeAgentIsTyping:jy,removePendingMessage:Zy,replaceSideWindowTab:X_,requestAudio:Xy,requestScreenSharing:MS,requestVideo:$y,resetChatWindow:dy,resetMaxId:function(){return{type:ll}},resetVisitor:function(t){return{type:us,payload:t}},restoreState:D_,restrictedWordsError:jS,sendAgentMsgSeenByVisitor:gC,sendChatHeartbeat:DS,sendChatMessages:$S,sendEmailTranscript:ES,sendEndChat:zS,sendEnterOfflineMessage:function(){return{type:"web/enterOfflineMessage"}},sendGetArticleByID:rC,sendGetArticles:aC,sendGetChatButton:nC,sendGetChatWindowConfig:oC,sendGetConfig:iC,sendGetSSORecoverInfo:sS,sendOfflineHeartbeat:ZS,sendPageHeartbeat:VS,sendPageVisit:YS,sendPrechatHeartbeat:QS,sendRequestChat:function(t,e,n){return{type:"web/requestChat",payload:{campaignId:t,chatSource:e,isPrechatDone:n}}},sendRequestChatFromAnotherSite:function(){return{type:"web/requestChatFromAnotherSite"}},sendShowInvitation:bC,sendSkipLogin:KS,sendSubmitOfflineMessage:qS,sendSubmitPostChat:HS,sendSubmitPrechat:LS,sendSubmitRating:RS,sendSubmitSSOInfo:US,sendSubmitSSOInfo4ChatBot:GS,sendUpdateCurrentUrl:JS,sendUpdateCustomVariables:XS,sendWebAction:NS,setButtonIsOnline:z_,setFrequencyLimitState:sy,setIsActive:P_,setIsOpenerExists:j_,setIsRecording:function(t){return{type:Ad,payload:t}},setIsRecovering:N_,setIsSubmitSSO:mx,setLandscape:lx,setLastSuccessTime:V_,setLocation:mC,setMaxMessageLength:vx,setPageCampaignId:px,setPageCampaignIntId:hx,setPortrait:ux,setSSOArtifact:gx,setSSOJwt:wx,setShouldFocusBar:rx,setSkipPreChat:sx,setSoundOff:E_,setVisitorIsTyping:wy,setWebViewLoading:zy,setWindowId:Ty,setWindowMinimized:ix,setWindowOpened:nx,setWindowRestored:ax,setWindowTabs:Cy,showError:Zx,showInvitation:L_,showInvitationProcessing:H_,showKnowledgeBaseInfo:function(){return{type:Vd}},showTab:Tx,showWarning:Kx,sideWidowTabSelect:yy,ssoLoginInPopUp:rS,ssoLoginInSelf:cS,startChatAgain:cy,startChatBot4Invite:zx,startCobrowse:dC,startScreenSharingDirectly:BS,startWaiting:Ex,submitForm:Hx,switchServer:function(t){return{type:Vc,payload:t}},toggleButtonVisibility:Sx,toggleFocused:Gx,togglePopupBubble:Ay,toggleSideWindow:Sy,toggleToolbox:eS,unmuteRemote:xy,updateAgent:Cx,updateAutoEjectTranscript:xS,updateBotFormMessage:tS,updateButton:yx,updateCampaign:xx,updateChatIdentity:ay,updateChatVersion:iS,updateChatbotSendFormMessage:function(t,e){return{type:Wl,payload:{guid:t,fieldsValue:e}}},updateConfig:bx,updateConfigTransferSite:fS,updateCrossSiteTransfer:hS,updateDepartment:kx,updateEmailToSendTranscript:oS,updateFieldsEntities:Ix,updateIsMessageScrollBottom:vS,updateKBEntities:Mx,updateMaxAgentReadId:Iy,updateMaxReadId:ky,updateMessageIfDisable:lS,updateMessageIsProcessed:dS,updateMessageStatusToRead:_S,updateMessages:Nx,updatePageVisitorStatus:fx,updatePostChatVisible:CS,updateQueue:my,updateRatingFieldsAfterCrossSiteTransfer:mS,updateRequestFromAnotherDone:pS,updateServerInstanceTag:_x,updateSize:cx,updateTransferCampaignId:uS,updateTransferVisitorGuid:gS,updateTransferredServerInstanceTag:wS,updateUploadProgress:Ox,updateVideoStatus:function(t,e){return{type:Sd,payload:{status:t,startTime:e}}},updateVisibleInputAreaWhenBotChatting:bS,updateVisitor:q_,updateVisitorStatus:nS,updateWebViewVisitorInfo:Ly,updateWindowId:function(t){return{type:dc,payload:t}},updateWindowPosition:Yy,updateWindowWidth:SS,uploadFail:Bx,uploadSuccess:Ax,visitorAcceptAgentRequestVisitorScreenSharing:function(){return{type:"window/visitorAcceptAgentRequestVisitorScreenSharing"}},visitorSendFile:Rx,visitorSendImage:function(t,e){return{type:ec,payload:{name:t,encode:e,percent:0}}},visitorSendText:Dx,windowMounted:Py}),_C=function(t,e,n){return{type:Kd,payload:{id:e,value:n},meta:{formType:t}}},xC=function(t,e,n){return{type:Yd,payload:{id:e,error:n},meta:{formType:t}}},yC=function(t,e){return{type:Jd,payload:{id:e},meta:{formType:t}}},SC=function(t,e){return{type:Qd,payload:{id:e},meta:{formType:t}}},CC=function(t){return{type:Zd,payload:t,meta:{formType:t}}},kC=function(t){return{type:Xd,payload:t,meta:{formType:t}}},IC=function(t){return{type:$d,payload:t,meta:{formType:t}}},MC=function(t,e){return{type:nl,payload:t,meta:e}},OC=function(t){return{type:il,payload:t}},AC=function(t,e){return{type:el,payload:{ids:e},meta:{formType:t}}},BC=function(t,e,n){return function(i,o,a){return function(r){return new Promise((function(s,c){var d=a.filter((function(t){return""!==t.error}));if(d.length>0){var l=d.map((function(t){return t.id}));return r(AC(e,l)),void c(l)}var u=Sr(a),p=Bb().popout;p&&p.ticketId&&!Number.isNaN(+p.ticketId)&&(u.ticketId=+p.ticketId),p&&p.departmentId&&!Number.isNaN(+p.departmentId)&&(u.department=+p.departmentId),r(CC(e)),ck(i+".submit",u),r(t(or(u),(function(t){return new Promise((function(c){ck(i+".submit.success"),r(kC(e));var d=u;if(u.custom){var l=Object.keys(u.custom).reduce((function(t,i){var o=t;return o[a.find((function(t){return t.id===(n||e)+"-"+i})).label]=u.custom[i],o}),{});d=Object.assign({},u,{custom:l})}delete d.captcha,r(MC(d,e)),setTimeout((function(){r(e===bp?py():function(t){return{type:ol,meta:t}}(e)),c(t),s()}),o)}))}),(function(t){ck(i+".submit.fail",t),c(null,t)})))}))}}},TC=BC(LS,mp),jC=BC(HS,wp,wp),PC=BC(qS,bp),FC=function(t,e,n){return t===mp?TC("livechat.prechat",e,n):t===wp?jC("livechat.postChat",e,n):PC("livechat.offlineMessage",e,n)},WC=3e4,NC=18e4,VC=function(t,e){return t===e||typeof t==typeof e&&(null==t||null==e?t==e:Object.keys(t).reduce((function(n,i){return n&&t[i]===e[i]}),!0)&&Object.keys(e).reduce((function(n,i){return n&&e[i]===t[i]}),!0))},DC=function(t,e){return Object.keys(t).reduce((function(n,i){if(t[i]===e[i])return n;var o=n;return o[i]=t[i],o}),{})};function RC(t,e,n){void 0===n&&(n=!0);var i=t.getState(),o=Lv(i),a=Object.assign({},o,e);if(!VC(a,o)){n&&t.dispatch(bx({customVariableResult:a}));var r=DC(a,o);Object.keys(r).length>0&&t.dispatch(XS(r))}}var EC,zC,LC,HC=function(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n.forEach((function(e){t.dispatch(e.apply(void 0,i))}))}}},qC=function(t,e){T[t]=function(){return console.warn("$brandingNameAPI".replace("$brandingName",V.brandingName)+"."+t+" is deprecated. Please use new version of JavaScript API instead."),e.apply(void 0,arguments)}},UC=function(t){return function(){return _m(t.getState())}},GC=function(t){return function(){return Hm(t.getState())}},KC=function(t){return function(){return"mobile"===t.getState().page.platform}},YC=function(t){return function(e){var n;return void 0===e&&(e=wm(t.getState())),!!(n=t.getState(),Wm(n).filter((function(t){return!t.isHidden}))).find((function(t){return t.id===e}))}},JC=function(t){return function(e){return void 0===e&&(e=wm(t.getState())),vm(t.getState())[e]?"online":"offline"}},QC=function(t){return function(){return!!Rm(t.getState())}},ZC=function(t){return function(){return Qf(t.getState())}},XC=function(t,e){return function(n){var i=n;return void 0===i&&(i=Yr()[0]),vv(e.getState(),t,i).map((function(e){return Object.assign({},e,{id:e.id.slice(t.toString().length+1)})}))}},$C=function(t){return function(){return Em(t.getState())}},tk=function(t){return function(){return Xh(t.getState())}},ek=function(t){return function(){return Sm(t.getState())}},nk=function(t){return function(){return Ah(t.getState())}},ik=function(t,e){return function(n,i){var o=i||Yr()[0];t.dispatch(Ix(e,n,o))}},ok=function(t,e){return function(){return e.dispatch(FC(t,0,vv(e.getState(),t,$h(e.getState()))))}},ak={},rk=function(){return ak},sk={},ck=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];sk[t]&&setTimeout((function(){sk[t].forEach((function(t){try{t.apply(void 0,n)}catch(t){}}))}),0)},dk=function(t,e){return sk[t]||(sk[t]=[]),sk[t].push(e),function(){sk[t]=sk[t].filter((function(t){return t!==e}))}},lk=function(t){return function(e){var n=t[e];if(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return n.apply(void 0,o)}}},uk="text",pk="htmlText",hk="image",fk="video",gk="button",mk="quickReply",wk="file",bk="complex",vk="loading",_k=((EC={})[qi]=function(t,e,n){var i=e.content.taskbot,o=i.isEnableChatInput;return i&&i.avatar&&-1!==i.avatar.indexOf("|")&&(i=Object.assign({},i,{avatar:Ur(i.avatar.split("|")[1],n)})),Object.assign({},t,{isTaskBot:!0,taskBot:Object.assign({},t.taskBot,i,{avatar:Ur(i.avatar,n)}),isVisibleInputAreaWhenTaskbot:o,enableChatInputWhenTaskbot:!0,chatStatus:fp,visitorStatus:eu,webView:null,quickReply:null})},EC),xk="taskBot/startTaskBot",yk="taskBot/locationCancelled",Sk="taskBot/visitorSSOCancelled",Ck="taskBot/meetingCancelled",kk="taskBot/meetingSubmitted",Ik="taskBot/updateMessageIfDisable",Mk="taskBot/updateMessageIsProcessed",Ok="taskBot/microsoftBooking",Ak="bot/botFeedback",Bk=((zC={})[xk]=function(t){return Object.assign({},t,{isTaskBot:!0,messages:t.messages.filter((function(t){return"system"===t.sender.type})),maxId:-1,chatStatus:fp,visitorStatus:eu})},zC["taskBot/updateTaskBot"]=function(t,e){var n=e;return n&&n.avatar&&-1!==n.avatar.indexOf("|")&&(n=Object.assign({},n,{avatar:n.avatar.split("|")[1]})),Object.assign({},t,{taskBot:n})},zC[Ik]=function(t,e){var n=e.guid,i=e.ifDisable,o=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{ifDisable:i}):t}));return Object.assign({},t,{messages:o})},zC[Mk]=function(t,e){var n=e.guid,i=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{isProcessed:!0}):t}));return Object.assign({},t,{messages:i})},zC),Tk=["avatar"],jk=["avatar","apiHost"],Pk=[De,Re,xe,ye,"visitorSetEmail"],Fk=function(t){var e=t.length,n=e-1,i=t[n];if(i&&Pk.includes(i.type))for(var o=e-1;o>=0;o--)if(!Pk.includes(t[o].type)){n=o;break}return n},Wk=function(t,e){return t.concat(e)},Nk=function(t,e,n){for(var i=function(){var i=t[o];if(n(i))return{v:t.map((function(t){return t===i?Object.assign({},e,{displayedText:t.displayedText}):t}))}},o=0;o<t.length;o+=1){var a=i();if("object"==typeof a)return a.v}return Wk(t,e)},Vk=function(t){return t.type!==ri&&t.type!==ui&&t.type!==li&&t.type!==pi&&t.type!==di&&t.type!==hi&&t.type!==fi&&t.type!==gi&&t.type!==ci&&t.type!==Le&&t.type!==$n&&t.type!==ti&&t.type!==mi&&t.type!==wi&&t.type!==xi&&t.type!==vi&&t.type!==_i&&t.type!==bi&&t.type!==yi&&t.type!==ei&&t.type!==Di&&t.type!==Ri&&t.type!==Ei&&t.type!==zi},Dk=function(t){return t.type!==ui&&t.type!==li&&t.type!==pi&&t.type!==di},Rk=function(t){return t.type!==Ri&&t.type!==Di&&t.type!==Ei&&t.type!==zi},Ek=[mi,wi,xi,vi,_i,bi,yi],zk=function(t){return Ek.every((function(e){return t.type!==e}))},Lk=function(t,e){return t.map((function(t){return(!e||t.sender.type!==lp)&&e||t.type!==En&&t.type!==Qn&&t.type!==Un&&t.type!==Gn&&t.type!==zn&&t.type!==qn?t:Object.assign({},t,{ifDisable:!0,notShowLoading:!0})}))},Hk=function(t){return t.map((function(t){return t.sender.type===up&&t.type===Ui?Object.assign({},t,{ifDisable:!0,isProcessed:!0}):t}))},qk=function(t){return t.map((function(t){return t.sender.type===lp&&t.type===Yi?Object.assign({},t,{ifDisable:!0,isProcessed:!0}):t}))},Uk=function(t){return t.map((function(t){return t.type===En||t.type===qn?Object.assign({},t,{notShowLoading:!0}):t}))},Gk=function(t,e){return t.messages.filter((function(t){return t.type===e})).length>0},Kk=function(t){return function(e,n){var i=Uk(e.messages);return Object.assign({},e,{isUploading:!0,error:"",warning:"",messages:i.concat({type:t,time:new Date,content:{fileName:n.fileName,percent:0,onCancel:void 0},sender:{type:sp}}),quickReply:null})}},Yk=function(t,e){Pb()||Tb({mediaChatHash:Date.now().toString()});var n=t.involvedAgents||[];return n.filter((function(t){return t===e})).length>0?Object.assign({},t,{chatStatus:fp,visitorStatus:eu}):(n=(t.involvedAgents||[]).concat([e]),Object.assign({},t,{involvedAgents:n,chatStatus:fp,isChatBot:!1,webView:null,quickReply:null,visitorStatus:eu}))},Jk=function(t,e){var n=t.disPlayPriority+1;t.sideWindowItems.some((function(t){var i=t.id===e;return i&&(t.disPlayPriority=n),i}));var i=e===jp||e===Pp;return{sideWindowSelectedTab:e,disPlayPriority:n,showChatWindowInSidewindow:i,isFocused:i}},Qk=function(t,e){var n=t.disPlayPriority;n?n+=1:n=0;var i=t.sideWindowItems,o=e.id,a=e.noFocus||!1,r=Ka()&&e.id===Ap&&a,s=e.id;return Ka()&&(s=t.tab===ip?Pp:jp,r&&(o=s)),i&&i.some((function(t){var i=t.id===e.id;return i&&(t.disPlayPriority=n),i}))?{sideWindowSelectedTab:o,showChatWindowInSidewindow:r,isFocused:!1,disPlayPriority:n}:(e.disPlayPriority=n,i&&0!==i.length||(i=[],Ka()&&i.push({id:s,isSystem:!0,disPlayPriority:0})),i.push(e),{sideWindowItems:i,sideWindowSelectedTab:o,showChatWindowInSidewindow:r,isFocused:!1,disPlayPriority:n})},Zk=function(t,e,n,i){return void 0===i&&(i=!1),e?Qk(t,{id:n,isSystem:!0,noFocus:i}):function(t,e){var n=t.sideWindowItems;if(n){var i=-1;n.some((function(t,n){var o=t.id===e;return o&&(i=n),o}));var o={};if(i>-1)return 1===n.length||2===n.length&&Ka()?(o.sideWindowSelectedTab=void 0,o.disPlayPriority=0,n=[]):t.sideWindowSelectedTab===e?(n.splice(i,1),o.sideWindowSelectedTab=n.reduce((function(t,e){return t.disPlayPriority>e.disPlayPriority?t:e})).id,o.sideWindowSelectedTab===jp||o.sideWindowSelectedTab===Pp?(o.showChatWindowInSidewindow=!0,o.isFocused=!0,o.maxReadId=Math.max(t.maxReadId,t.maxId)):(o.showChatWindowInSidewindow=!1,o.isFocused=!1)):n.splice(i,1),o.sideWindowItems=n,o}return{}}(t,n)},Xk=function(t,e){return Object.assign({},t,Zk(t,e.status===wa||e.status===ga||e.status===ba,Bp),Zk(t,e.status===xa||e.status===va||e.status===_a,Tp),{vChatStatus:e.status,audioVideoChatStartTime:e.startTime||0,audio_video_disabled:e.status!==ma})},$k=function(t,e){return Object.assign({},t,Zk(t,e.status===Sa||e.status===Ca||e.status===ka||e.status===Ia||e.status===Ma,Np),{screenSharingStatus:e.status,screenSharing_disabled:e.status!==ya})},tI=function(t){return Object.assign({},Xk(t,{status:ma,startTime:0}),{audioVideoAgentId:0,isRecording:!1})},eI=function(t){return Object.assign({},$k(t,{status:ya}),{screenSharingAgentId:0})},nI=function(t){return Object.assign({},(e=t,n={status:ya},Object.assign({},e,Zk(e,n.status===Sa||n.status===Ca||n.status===ka||n.status===Ia||n.status===Ma,Np),{screenSharingStatus:n.status})),{screenSharingAgentId:0});var e,n},iI=function(t){var e=ab();if(e.removeItem("pushpage_list"),e.removeItem("botConfidenceAnswerLoading_list"),!t)return t;var n=Lk(t.messages.filter(Vk),!1);return n=Hk(n.filter((function(t){return t.type!==Gi}))),n=qk(n),Object.assign({},t,Zk(t,!1,Op),Zk(t,!1,Ap),{disPlayPriority:0,chatStatus:gp,error:"",warning:"",messages:n,webView:null,quickReply:null,visitorStatus:su})},oI=function(t,e){return n=t.chatGuid,((i=Fb(n))?i===Pb():(Wb(n),1))?e():t;var n,i},aI=function(t){return function(e,n){if(e.cobrowsing===t)return e;var i=t===Yu,o=t===Ju?n.content.sessionCode:void 0,a=t===Ju?n.content.groupId:void 0,r=t!==Ju?void 0:e.cobrowseCallId,s=t===Yu?n.sender.id:0;return Object.assign({},e,Zk(e,i,Fp),{cobrowsing:t,cobrowseSessionCode:o,cobrowseGroupId:a,cobrowseAgent:s,cobrowseCallId:r})}},rI=function(t,e){return!!t.crossSiteChatTransfer&&(!!e.siteId&&t.crossSiteChatTransfer.siteId!==e.siteId)},sI=function(){return function(t,e){return t.webView?Object.assign({},t,{webView:null}):t}},cI=function(){return function(t,e){if(e.type===Jn){var n=sI()(t,e);if(e.content.options&&e.content.options.length>0)return Object.assign({},n,{quickReply:{items:e.content.options.map((function(t){return{type:zh,name:t.label}})),botId:e.content.botId,agentId:e.content.agentId}})}if(e.type===Ln&&e.content.textChatWithAgent)return Object.assign({},t,{quickReply:{items:[{type:Eh,name:e.content.textChatWithAgent}],contactAgentText:e.content.textChatWithAgent}});if(e.type===Gn||e.type===Un||e.type===Qn){var i=sI()(t,e);return Object.assign({},i,{quickReply:null})}if(e.type===En||e.type===qn){var o=t;if(e.type===En&&(o=sI()(t,e)),e.content.intentAnswers&&e.content.intentAnswers.length>0){var a=null,r=e.content.intentAnswers.filter((function(t){return t.type===mk}));r.length>0&&(a=r[r.length-1]);var s=0;return e.content.intentAnswers.forEach((function(t,e){s+=t.delayTime})),a&&a.content&&a.content.quickReplyItems&&a.content.quickReplyItems.length>0?Object.assign({},o,{quickReply:{delayTime:s-a.delayTime,items:a.content.quickReplyItems,contactAgentText:e.content.ifAgentOnline?a.content.agentOnlineText:a.content.agentOfflineText,botId:e.content.botId,agentId:e.content.agentId}}):Object.assign({},o,{quickReply:null})}}return Object.assign({},t,{quickReply:null,webView:null})}},dI=function(t,e,n,i,o,a){var r,s=Object.assign({},_k,((r={})[Ki]=function(n){var i=Hk(n.messages.filter((function(t){return t.id<e.id&&t.type!==Gi})));return Object.assign({},t,{messages:i.concat(n.messages.filter((function(t){return t.id>=e.id}))),isTaskBot:!1,isVisibleInputAreaWhenTaskbot:!0,enableChatInputWhenTaskbot:!0})},r[Ne]=function(t){if(rI(t,e))return t;var n=e.content.agent.id||e.senderId;return Object.assign({},Yk(t,n),{involvedAgents:[n],isTaskBot:!1,webView:null})},r[Re]=function(t){return rI(t,e)?t:Yk(t,e.content.agent.id)},r[qe]=function(t){return rI(t,e)?t:t.involvedAgents?t.involvedAgents.indexOf(e.senderId)>=0?t:Object.assign({},t,{involvedAgents:t.involvedAgents.concat(e.senderId)}):t},r[De]=function(t){var n=t.involvedAgents||[];return n.length<=1?t:Object.assign({},t,{involvedAgents:n.filter((function(t){return t.toString()!==e.sender.id.toString()}))})},r[Ve]=function(t){return Object.assign({},t,Zk(t,!1,Op),{chatStatus:gp,visitorStatus:"refusedByOperator"})},r[Ce]=function(t){return Object.assign({},t,{quickReply:null,isVisibleInputAreaWhenBotChatting:!0})},r[ve]=function(t){if(!(a||n).postchat)return iI(t);var e=Hk(t.messages.filter((function(t){return t.type!==Gi}))).filter((function(t){return t.type!==Vn})).concat({type:Vn,sender:{type:cp}});return Object.assign({},t,{error:""},Zk(t,!1,Op),{chatStatus:gp,quickReply:null,webView:null,visitorStatus:su,messages:e})},r[ke]=function(t){return Object.assign({},t,{chatStatus:pp,quickReply:null,webView:null,visitorStatus:tu})},r[Xn]=function(t){return Object.assign({},t,{chatStatus:pp,quickReply:null,webView:null,visitorStatus:tu})},r[Hn]=function(t,e){return function(t,e,n){return Object.assign({},t,{isChatBot:!0,isTaskBot:!1,chatBot:Object.assign({},t.chatBot,function(){var t=e.content.bot;if(t&&t.avatar&&-1!==t.avatar.indexOf("|"))return t.avatar=Ur(t.avatar.split("|")[1],n),t;var i=t.avatar,o=F(t,Tk);return i=Ur(i,n),Object.assign({avatar:i},o)}()),chatStatus:fp,visitorStatus:eu})}(t,e,o)},r[en]=function(t){return oI(t,(function(){return Xk(t,{status:wa})}))},r[on]=function(t,e){return oI(t,(function(){return Xk(t,{status:ba,startTime:e.time-t.timeDelay})}))},r[Cn]=function(t){return oI(t,(function(){return Xk(t,{status:xa})}))},r[In]=function(t,e){return oI(t,(function(){return Xk(t,{status:_a,startTime:e.time-t.timeDelay})}))},r[Qe]=function(t,e){return t.vChatStatus!==ma?t:oI(t,(function(){return Object.assign({},Xk(t,{status:ga}),{audioVideoAgentId:e.sender.id})}))},r[Xe]=function(t,e){return oI(t,(function(){return Object.assign({},Xk(t,{status:ba,startTime:e.time-t.timeDelay}),{audioVideoAgentId:e.sender.id})}))},r[vn]=function(t,e){return t.vChatStatus!==ma?t:oI(t,(function(){return Object.assign({},Xk(t,{status:va}),{audioVideoAgentId:e.sender.id})}))},r[xn]=function(t,e){return oI(t,(function(){return Object.assign({},Xk(t,{status:_a,startTime:e.time-t.timeDelay}),{audioVideoAgentId:e.sender.id})}))},r[Ze]=tI,r[$e]=tI,r[tn]=tI,r[Sn]=tI,r[yn]=tI,r[_n]=tI,r[An]=tI,r[Bn]=tI,r[sn]=tI,r[cn]=tI,r[kn]=tI,r[Mn]=tI,r[On]=tI,r[nn]=tI,r[an]=tI,r[rn]=tI,r[Oi]=function(t){return oI(t,(function(){return $k(t,{status:Sa})}))},r[Bi]=function(t){return oI(t,(function(){return $k(t,{status:ka})}))},r[Si]=function(t,e){return t.screenSharingStatus!==ya?t:oI(t,(function(){return Object.assign({},$k(t,{status:Ca}),{screenSharingAgentId:e.sender.id})}))},r[ki]=function(t,e){return oI(t,(function(){return Object.assign({},$k(t,{status:Ia}),{screenSharingAgentId:e.sender.id})}))},r[Ni]=function(t,e){return oI(t,(function(){return Object.assign({},$k(t,{status:Ia}),{screenSharingAgentId:e.sender.id})}))},r[Pi]=function(t,e){return t.screenSharingStatus!==ya?t:oI(t,(function(){return Object.assign({},$k(t,{status:Ma}),{screenSharingAgentId:e.sender.id})}))},r[Ci]=eI,r[Ii]=eI,r[Mi]=eI,r[Vi]=eI,r[Li]=eI,r[Ai]=eI,r[Ti]=eI,r[Wi]=eI,r[ji]=eI,r[Fi]=eI,r[Le]=function(t){return t.limitClockerCount>0?Object.assign({},t,{warning:"",limitClockerCount:0,stopLimitClocker:!0}):t},r.systemAudioIsBeingRecorded=function(t){return Object.assign({},t,{isRecording:!0})},r.systemVideoIsBeingRecorded=function(t){return Object.assign({},t,{isRecording:!0})},r[dn]=aI(Yu),r[fn]=aI(Ku),r[gn]=aI(Ku),r[mn]=aI(Ku),r[bn]=aI(Ku),r[wn]=aI(Ku),r[hn]=aI(Ku),r[pn]=aI(Ku),r[ln]=aI(Ju),r[un]=function(){var n=e.content;return Object.assign({},t,{cobrowseCallId:n})},r[Yi]=cI(),r[En]=cI(),r[Jn]=cI(),r[Ln]=cI(),r[qn]=cI(),r[Yn]=function(t,e){return t.webView&&t.webView.content&&t.webView.content.GUID&&e.content.GUID===t.webView.content.GUID?Object.assign({},t,{webView:Object.assign({},t.webView,{success:!0})}):t},r[Qn]=cI(),r[Gn]=cI(),r[Un]=cI(),r[Kn]=cI(),r.cancelBotForm=cI(),r[We]=function(t){return Object.assign({},t,{visitorStatus:du})},r)),c=s[e.type],d=t;return c&&(d=c(t,e,o)),d.isFocused&&(d=Object.assign({},d,{maxReadId:Math.max(t.maxReadId,t.maxId)})),d},lI=function(t){return Object.assign({fields:{name:"",email:"",phone:"",company:"",product:"",department:void 0,ticketId:void 0,custom:{}},forms:{prechat:"none",postchat:"none",offline:"none",rating:"none"},chatStatus:"none",messages:[],sourceMessages:[],maxId:-1,involvedAgents:[],draft:"",maxReadId:-1,isFocused:!1,isFrequencyLimited:!1,showPrelogin:!1,ssoUrl:"",queue:{},error:"",warning:"",fileUploadCount:0,disabled:!1,vChatStatus:ma,screenSharingStatus:ya,audioVideoChatStartTime:0,stopLimitClocker:!1,limitClockerCount:0,popupBubble:"none",cobrowsing:Ku,cobrowseAgent:0,bottom:0,right:0,pendingMessage:void 0,maxAgentReadId:"",maxVisitorReadId:"",showToolbox:!1,visitorStatus:cu,chatVersion:"",isMessageScrollBottom:!0},t)},uI=t(1)((function(t,e){return t.find((function(t){return t.guid===e.guid}))}));function pI(t){return lI({id:t.id,tab:Qu,right:t.right,bottom:t.bottom})}var hI,fI,gI=function(t,e){var n=t;return 0===e.sourceMessages.length||t.find((function(t){return t.type===Ji}))&&t.forEach((function(t){if(t.type===Ji)if(t.sender.type===cp)n=n.filter((function(t){return t.type!==ve}));else{var i=function(t){for(var e=t.length-1;e>=0;e-=1)if(t[e].type===Ji&&t[e].extras&&"null"!==t[e].extras)return!0;return!1}(e.sourceMessages);i&&(n=n.filter((function(t){return t.type!==Ji})))}})),n},mI=Object.assign({},Bk,((LC={})[pc]=function(t,e){return Object.assign({},t,{pendingMessage:e})},LC[Os]=function(t,e,n){var i=e.campaignId,o=e.crossSiteChatTransfer,a=e.chatInfo,r=n.right,s=n.bottom;return lI({id:i,tab:tp,involvedAgents:[],chatStatus:fp,visitorStatus:eu,chatGuid:o.chatGuid,crossSiteChatTransfer:o,right:r,bottom:s,maxReadId:a.maxReadId,isFocused:a.windowStatus!==Xl})},LC[vs]=function(t,e,n){var i=e.campaignId,o=n.right,a=n.bottom;return lI({id:i,tab:Qu,right:o,bottom:a})},LC[vd]=pI,LC[Ms]=pI,LC[ps]=function(t,e,n){var i=n.campaignId,o=n.right,a=n.bottom,r=e.chat;return t?Object.assign({},t,{chatGuid:r&&r.guid}):e.type===hu||e.type===fu&&e.isManual?function(t,e,n,i){var o=e.isManual,a=o&&(e.type===fu||e.type===hu),r=e.chat,s=ou;return o&&(s=a?du:iu),lI({id:t,tab:tp,chatStatus:hp,chatGuid:r&&r.guid,right:n,bottom:i,messages:a?[]:[{id:-1,time:new Date,type:si,sender:{id:e.agent?e.agent.id:0,type:cp},content:e.text,guid:Y()}],sourceMessages:[],involvedAgents:e.agent?[e.agent.id]:[],visitorStatus:s})}(i,e,o,a):t},LC[ks]=function(t,e){return Object.assign({},t,{right:e.right,bottom:e.bottom})},LC[qs]=function(t,e){var n=e.buttonOffset;return t?Object.assign({},t,{right:n.right,bottom:n.bottom}):t},LC[Qs]=function(t,e){return Object.assign({},t,e)},LC[oc]=function(t,e){return Object.assign({},t,{chatBot:function(){var t=e;if(t&&t.avatar&&-1!==t.avatar.indexOf("|"))return t.avatar=Ur(t.avatar.split("|")[1],e.apiHost),t;var n=t.avatar,i=t.apiHost,o=F(t,jk);return n=Ur(n,i),Object.assign({avatar:n},o)}()})},LC[ac]=function(t,e){return Object.assign({},t,{chatbotContext:e})},LC[vl]=function(t,e){return Object.assign({},t,{kbConfig:e})},LC[Zs]=function(t,e,n){var i=n.campaign,o=(n.fields,n.downloadUrl),a=n.apiHost,r=n.crossSiteTransferCampaign,s=e;t.isMessageScrollBottom||(s=e.map((function(t){return fr(t)||mr(t)||wr(t)||_r(t)||vr(t)?Object.assign({},t,{isSeenByVisitor:!1}):t})));var c=s.filter((function(e){return!uI(t.sourceMessages,e)})),d=t.isVisibleInputAreaWhenBotChatting,l=c[c.length-1];l&&([Rn].includes(l.type)||[up,cp].includes(l.sender.type))&&(d=!0);var u=s.find((function(t){return t.type===Pe})),p=t.visitorTyping;u&&(p=!1);var h=s[s.length-1].guid,f=s.find((function(t){return t.type===ke}))&&t.messages.find((function(t){return t.type===ke})),g=s.find((function(t){return t.type===_e}))&&t.messages.find((function(t){return t.type===_e})),m=s.filter((function(e){var n=(void 0===e.id||uI(c,e))&&e.type!==Pe;return(!n||!f||e.type!==ke)&&((!n||!g||e.type!==_e)&&("botConfirmForm"!==e.type&&"visitorConfirmBotForm"!==e.type&&"agentAttachTicketFail"!==e.type&&((e.type!==ve||!s.find((function(t){return t.type===Ji&&t.extras})))&&(n&&e.type===Ji?function(t,e){if(e.sender.type===cp&&e.extras&&"null"!==e.extras)return!0;for(var n=!0,i=t.messages.length-1;i>=0;i-=1)if(t.messages[i].type===Ji&&t.messages[i].extras&&null!==t.messages[i].extras){n=!1;break}return n}(t,e):n))))})),w=function(t){var e=t.find((function(t){return t.type===qi})),n=t.find((function(t){return t.type===Ui}));if(e&&n){var i=t.reduce((function(t,e,n){return e.type.toLowerCase().startsWith("visitor")?t.concat(n):t}),[]);if(i.length>0){var o=i[i.length-1];return t.map((function(t,e){return e<o&&t.type===Ui?Object.assign({},t,{isProcessed:!0}):Object.assign({},t,{isProcessed:!1})}))}}return t}(m),b=w.reduce(function(t,e,n){return function(i,o){var a=o.type;if(a===Tn||"systemGotoOfflineMessage"===a)return i;var r=i;a!==Dn&&(r=r.filter((function(t){return t.type!==Dn}))),o.sender.type!==lp&&o.sender.type!==cp||(r=Uk(i));var s=Object.assign({},o,{time:new Date(o.time-e),originalTime:o.time});if(a===ke){var c=Lk(r,!0);return Wk(c,s)}if(s.sender.type===lp&&a===Rn){var d=r.filter((function(t){return t.type!==Dn}));return d.forEach((function(t,e){t.type===Yi&&(d[e]=Object.assign({},t,{content:Object.assign({},t.content,{isIntentEnd:!0})}))})),d}if(s.sender.type===lp&&s.type!==Dn&&s.type!==qn){var l=!1,u=r.map((function(t){return t.type!==Dn||t.timeout||t.content!==s.content.messageGuid?t.type===Dn&&t.content.messageGuid===s.content.messageGuid?(l=!0,t):t:(l=!0,s)}));return l?u:Wk(r,s)}if(s.type===Ne){var p=[].concat(r);return p=p.map((function(t){return t.sender&&t.sender.type===cp&&0===t.sender.id?Object.assign({},t,{sender:Object.assign({},t.sender,{id:s.content.agent.id})}):t})),p=Lk(p,!0),p=Hk(p),p=qk(p),Wk(p,s)}if(s.type===Ge){var h=function(t){return t.type===Ke&&t.content===s.content.guid},f=r.find((function(t){return h(t)}));return f&&(f=Object.assign({},s,{guid:f.guid})),Nk(r,f,h)}if(s.type===Ce){var g=r.map((function(t){return t.type===Gn?Object.assign({},t,{ifDisable:!0}):t}));return Nk(g,s,(function(t){return t.type===$n&&t.guid===s.guid}))}if(s.type===Me)return Nk(r,s,(function(t){return t.type===ti}));if(s.type===Ie)return Nk(r,s,(function(t){return t.type===ei}));if(s.type===Te)return Nk(r,s,(function(t){return t.type===ri}));if(s.type===Pe)return r;if(s.type===ve)return[].concat(r).map((function(t){return t.type!==Ye||t.isHidden?t:Object.assign({},t,{isHidden:!0})})).concat([s,{id:s.id,type:ii,content:t.startChatAgain,sender:{type:dp},guid:Y()},t.downloadTranscript&&{id:s.id,type:oi,content:{text:t.downloadTranscript,url:n},sender:{type:dp},guid:Y()},{id:s.id,type:ai,content:t.buttonTranscript,sender:{type:dp},guid:Y()}].filter((function(t){return t})));if(s.type===Cn)return Nk(r,s,(function(t){return t.type===li}));if(s.type===Oi)return Nk(r,s,(function(t){return t.type===Di}));if(s.type===Hn)return Nk(r,s,(function(t){return t.type===li}));if(s.type===en)return Nk(r,s,(function(t){return t.type===di}));if(s.type===on||s.type===In)return Nk(r,s,(function(t){return t.type===ui}));if(s.type===Bi)return Nk(r,s,(function(t){return t.type===Ri}));if(s.type===Ni)return Nk(r,s,(function(t){return t.type===zi}));if(s.type===Ae)return Nk(r,s,(function(t){return t.type===hi}));if(s.type===Be)return Nk(r,s,(function(t){return t.type===fi}));if(s.type===je)return Nk(r,s,(function(t){return t.type===gi}));if(s.type===Mn||s.type===On||s.type===kn||s.type===an||s.type===rn||s.type===nn)return Wk(r.filter(Dk),s);if(s.type===Ti||s.type===Wi||s.type===ji||s.type===Ai)return Wk(r.filter(Rk),s);if(s.type===ln||s.type===wn||s.type===fn||s.type===hn||s.type===gn||s.type===pn||s.type===dn||s.type===un)return Wk(r.filter(zk),s);if(s.type===Le){var m=r.filter((function(t){return t.type!==Le}));return Wk(m,s)}if(s.type===Fe&&r.length>0){if(r[0].type===si&&!r.find((function(t){return t.type===Hn})))return r.map((function(t,e){return 0===e?Object.assign({},t,{type:Fe,id:s.id},s):t}));var w=r.filter((function(t){return t.type!==Le}));return Wk(w,s)}if(s.type===Zn){var b=r.map((function(t){return t.type===Yi&&t.content.GUID===s.content.guid?Object.assign({},t,{disableRate:!0,visitorRate:s.content.visitorRate}):t}));return Wk(b,s)}if(s.type===Yn){var v=r.map((function(t){var e=t.content.GUID||t.content.messageGuid;return t.type!==Gn&&t.type!==Yi||e!==s.content.GUID?t:Object.assign({},t,{ifDisable:!0})}));return Wk(v,s)}if(s.type===Fn)return[].concat(r).filter((function(t){return t.type!==Vn})).concat(s).concat({type:Vn,sender:{type:cp}});if(s.type===Ji)return[].concat(r).map((function(t){return t.type===jn?Object.assign({},t,{content:Object.assign({},t.content,{isDisable:!0})}):t.type!==Ye||t.isHidden?t:Object.assign({},t,{isHidden:!0})})).filter((function(t){return t.type!==Dn&&t.type!==Vn})).concat(s);if(s.type===Qi)return[].concat(r).map((function(e){return e.guid===s.recallTargetMessageGuid?Object.assign({},e,{content:(t&&t.eventAgentRecallsMessage||"Agent {agent} has recalled a message.").replace("{agent}",s.senderName),type:Qi,sender:{id:eo,type:dp}}):e}));if(s.type===Zi){var _=[].concat(r);return s.recalledMessage&&s.recalledMessage.type===Ge?Nk(_,s,(function(t){return t.type===Ke&&t.content===s.recalledMessage.content.guid})):Wk(r,s)}return Wk(r,s)}}(r.languages,t.timeDelay||0,o),t.messages);if((b=function(t){return t.map((function(e,n){return Object.assign({},e,{isProcessed:n<Fk(t)})}))}(b))!==t.messages){var v=!1;b.forEach((function(t,e){t.type===Ui&&(v=!!t.content.messages.some((function(t){return t.type===Vp||t.type===Dp||t.type===Rp||t.type===Ep||t.type===zp||t.type===Hp||t.type===Lp||t.type===Kp||t.type===Qp||t.type===Zp||t.type===th})))}));var _=b.filter((function(t){return t.type===ti||t.type===ei}));if(_.length>0){var x=b.filter((function(t){return t.type!==ti&&t.type!==ei})).concat(_);b=x}var y=m.reduce((function(t,e){return dI(t,e,i,0,a,r)}),Object.assign({},t,{messages:b,sourceMessages:t.sourceMessages.concat(gI(c,t)),visitorTyping:p,maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h}));return y=function(t){var e=t.messages.map((function(e){return e.type!==En||t.chatStatus===fp&&t.isChatBot?e:Object.assign({},e,{disableRate:!0})}));return Object.assign({},t,{messages:e})}(y),y=function(t){var e=t.messages.reverse(),n=e.findIndex((function(t){return"visitorSubmitRatingForm"===t.type})),i=e.findIndex((function(t){return t.type===Vn}));return-1!==n&&n<i&&(e=e.filter((function(t){return t.type!==Vn}))),Object.assign({},t,{messages:e.reverse()})}(y),Object.assign({},y,{enableChatInputWhenTaskbot:!v,isVisibleInputAreaWhenBotChatting:d})}return p!==t.visitorTyping?Object.assign({},t,{visitorTyping:p,sourceMessages:t.sourceMessages.concat(c),maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h}):Object.assign({},t,{sourceMessages:t.sourceMessages.concat(c),maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h})},LC[$s]=function(t,e){var n=function(t){return function(e,n){var i=n.options,o=void 0===i?{}:i,a=e.messages.concat({type:t,time:new Date,guid:n.guid,content:n.message||"",sender:{type:sp},textType:o.textType,isPassword:o.textType===Oe,isCollect:o.isCollect,displayedText:o.displayedText,quickReplyNextActionId:o.quickReplyNextActionId});return n.ifCardMasking&&(a=a.concat({type:ri,time:new Date,guid:n.guid,content:"",sender:{type:sp}})),Object.assign({},e,{messages:a})}}($n)(t,e),i=Uk(n.messages);return i=function(t){var e=t.length,n=t[e-2];if(n&&(n.type===Ui&&n.content.messages.some((function(t){return t.type===Yp}))||n.type===Yi)){var i=[].concat(t);return i.splice(e-2,1,Object.assign({},n,{isProcessed:!0})),i}return t}(i),Object.assign({},n,{messages:i,error:"",visitorTyping:!1,draft:"",quickReply:null})},LC[Kl]=function(t,e){var n=function(t,e){return t.filter((function(t){return e.findIndex((function(e){return e.guid===t.guid}))<0}))}(t.messages,e);return Object.assign({},t,{messages:n})},LC[ec]=Kk(ti),LC[tc]=Kk(ei),LC[xd]=function(t,e){var n=Object.assign({},t);return t.chatStatus!==fp||(n.visitorTyping=!0,n.draft=e.message),n},LC[Ks]=function(t,e){var n=!1,i=t.messages.map((function(t){return t.type===ei||t.type===ti?(n=!0,Object.assign({},t,{content:Object.assign({},t.content,{fileName:e.name,percent:e.percent,onCancel:e.onCancel})})):t}));return n?Object.assign({},t,{messages:i}):t},LC[Js]=function(t,e){if(!t||!t.messages)return t;var n=t.messages.filter((function(t){return t.type!==ei&&t.type!==ti})),i="";return"string"==typeof e?i=e:"object"==typeof e&&null!==e&&(i=e.message||""),t.chatStatus===gp&&(i=""),Object.assign({},t,{messages:n,error:i,isUploading:!1})},LC[Ys]=function(t,e){if(!t||!t.messages)return t;var n=t.messages.map((function(t){return t.type===ei||t.type===ti?Object.assign({},t,{content:Object.assign({},t.content,{fileName:e.name,fileKey:e.key,isUseStandbyFileService:e.isUseStandbyFileService,percent:e.percent,onCancel:e.onCancel})}):t}));return Object.assign({},t,{error:"",isUploading:!1,fileUploadCount:t.fileUploadCount+1,messages:n})},LC[Zd]=function(t,e){var n;return Object.assign({},t,{forms:Object.assign({},t.forms,(n={},n[e]=ap,n)),error:"",warning:""})},LC[Xd]=function(t,e,n){var i;return Object.assign({},t,{forms:Object.assign({},t.forms,(i={},i[e]=rp,i))})},LC[rc]=function(t,e){return Object.assign({},t,{messages:t.messages.concat([{type:ni,sender:{type:dp},content:e,guid:Y()}])})},LC[$d]=function(t,e){var n;return Object.assign({},t,{forms:Object.assign({},t.forms,(n={},n[e]="fail",n))})},LC[nl]=function(t,e){var n;if(e.custom){var i=Object.assign({},t.fields.custom,e.custom);n=Object.assign({},t.fields,e,{custom:i})}else n=Object.assign({},t.fields,e);return Object.assign({},t,{fields:n})},LC[il]=function(t,e){var n=t.fields.custom;e.custom&&(n=Object.assign({},t.fields.custom,e.custom),Object.keys(t.fields.custom).forEach((function(e){t.fields.custom[e]&&(n[e]=t.fields.custom[e])})));var i=Object.assign({},t.fields,e,{custom:n});return Object.keys(t.fields).forEach((function(e){"custom"!==e&&t.fields[e]&&(i[e]=t.fields[e])})),Object.assign({},t,{fields:i})},LC[ys]=function(t,e,n){var i=t.visitorStatus;e===np&&(i=au);var o=Object.assign({},t,{tab:e,visitorStatus:i});if(e===np&&n){var a=o.messages.filter((function(t){return t.type===Ce})).map((function(t){return t.content})).join(",");o=Object.assign({},o,{fields:Object.assign({},o.fields,{content:a})})}return o},LC[nc]=function(t){return Object.assign({},t,{chatStatus:pp,allowWaitingSendMessage:t.isChatBot||t.chatStatus===hp})},LC[Pc]=function(t,e){return Object.assign({},t,{messages:t.messages.map((function(t){return t.type!==Ye?t:t.content.url.indexOf("otk="+e)>0?Object.assign({},t,{isHidden:!0}):t}))})},LC[ic]=function(t){return function(t){return Object.assign({},t,{isChatBot:!0,isTaskBot:!1,chatStatus:fp,messages:t.messages.filter((function(t){return"system"===t.sender.type})),maxId:-1,visitorStatus:eu})}(t)},LC[Bc]=function(t,e){return t&&t.error!==e?Object.assign({},t,{error:e}):t},LC[Tc]=function(t,e){return t&&t.warning!==e?Object.assign({},t,{warning:e,stopLimitClocker:""===e||t.stopLimitClocker,limitClockerCount:""===e?0:t.limitClockerCount}):t},LC[Hc]=iI,LC[sc]=function(t,e){var n=0;return e.serverTime>0&&(n=J(e.serverTime)),Object.assign({},t,{chatGuid:e.chatGuid,requestTime:e.serverTime,timeDelay:n})},LC[qc]=function(t,e){return null==t||t.isFocused===e?t:Object.assign({},t,{isFocused:e,maxReadId:e?Math.max(t.maxId,t.maxReadId):t.maxReadId})},LC[Oc]=function(t,e){return e===$l?null:e===Xl?Object.assign({},t,{isFocused:!1,maxReadId:Math.max(t.maxId,t.maxReadId)}):(e===Zl&&Q&&ck("livechat.chatwindow.restore"),e===Ql||e===Zl?Object.assign({},t,{isFocused:!0,maxReadId:Math.max(t.maxId,t.maxReadId)}):t)},LC[Uc]=function(t,e){return Object.assign({},t,{ifHideBio:e})},LC[bd]=function(t,e){if(t.chatStatus===fp&&t.isChatBot){var n=t.messages.map((function(t){return t.type===En&&t.content.GUID===e.actionGuid?Object.assign({},t,{disableRate:!0}):t}));return Object.assign({},t,{messages:n})}return t},LC[Cs]=function(t,e,n){var i=n.languages;return Object.assign({},t,{error:i.promptRemoveRestrictedWords})},LC[Ss]=function(t,e,n){var i,o=n.maxLength,a=n.languages,r=((i={})[Cp]=function(){return a.promptInputLimit.replace(to,o)},i[Sp]=function(){return"File must not be empty."},i[yp]=function(){return a.promptFileSizeExceed.replace("{fileSize}",e.params.fileSize)},i[kp]=function(){return"You're sending messages too frequently. Please wait for "+e.params.seconds+" second(s) and try again."},i[Ip]=function(){return a.promptSendFileCountLimit.replace("{fileCount}",e.params.fileCount)},i[Mp]=function(){return"This file type is not supported."},i);return e.type===kp&&e.params.fromClocker&&t.stopLimitClocker?t:e.type===kp&&t.limitClockerCount>=10?Object.assign({},t,{warning:"",limitClockerCount:0,stopLimitClocker:!0}):r[e.type]?Object.assign({},t,{warning:r[e.type](),stopLimitClocker:e.type!==kp&&t.stopLimitClocker,limitClockerCount:e.type===kp?t.limitClockerCount+1:t.limitClockerCount}):t},LC[md]=function(t){var e=t.messages;return e[0].type===si&&(e=e.map((function(t,e){return 0===e?Object.assign({},t,{type:Fe}):t}))),Object.assign({},t,{isVisibleInputAreaWhenBotChatting:!0,chatWithAgentClicked:!0,messages:e,webView:null,quickReply:null})},LC[Gc]=function(t,e){return e===t.disabled?t:Object.assign({},t,{disabled:e})},LC[_s]=function(){return null},LC[_d]=function(t,e){return 0===e.position&&0===e.waitTime?t:Object.assign({},t,{queue:{position:e.position,waitTime:Math.ceil(e.waitTime/60)}})},LC[Sd]=Xk,LC[Vs]=function(t,e){return Object.assign({},t,{showChatWindowInSidewindow:t.showChatWindowInSidewindow&&!e,maxReadId:t.showChatWindowInSidewindow&&!e?Math.max(t.maxReadId,t.maxId):t.maxReadId,audio_video_disabled:!0,isFocused:t.showChatWindowInSidewindow&&!e})},LC[Ns]=function(t,e){return Object.assign({},t,{showChatWindowInSidewindow:t.showChatWindowInSidewindow&&!e,maxReadId:t.showChatWindowInSidewindow&&!e?Math.max(t.maxReadId,t.maxId):t.maxReadId,audio_video_disabled:!0,isFocused:t.showChatWindowInSidewindow&&!e})},LC[Ds]=function(t,e){return Object.assign({},t,{showChatWindowInSidewindow:t.showChatWindowInSidewindow&&!e,maxReadId:t.showChatWindowInSidewindow&&!e?Math.max(t.maxReadId,t.maxId):t.maxReadId,screenSharing_disabled:e,isFocused:t.showChatWindowInSidewindow&&!e})},LC[Ws]=function(t,e){var n=Object.assign({},t.fields,{rating:e.score,comment:e.comment});return Object.assign({},t,{fields:n})},LC[yd]=function(t,e){var n=[];return e.forEach((function(e){(e.type!==ui||Gk(t,ui))&&(e.type!==Ri||Gk(t,Ri))&&(e.type!==zi||Gk(t,zi))&&(e.type!==pi||Gk(t,pi))&&(e.type!==Ei||Gk(t,Ei))&&(e.type!==gi||Gk(t,gi))&&(e.type!==wi||Gk(t,xi)||t.cobrowsing===Ku)?e.type!==pi&&e.type!==Ei&&e.type!==ui&&e.type!==Ri&&e.type!==zi&&e.type!==gi&&n.push(e):n.push(e)})),Object.assign({},t,{messages:t.messages.concat(n)})},LC[Pd]=function(t,e){var n={};return n.showChatWindowInSidewindow=e===jp,n.isFocused=n.showChatWindowInSidewindow,n.maxReadId=n.showChatWindowInSidewindow?Math.max(t.maxReadId,t.maxId):t.maxReadId,Object.assign({},t,n,Jk(t,e))},LC[Fd]=function(t,e){return e?t.sideWindowSelectedTab?t:t.sideWindowItems&&0!==t.sideWindowItems.length?Object.assign({},t,Jk(t,t.sideWindowItems[0].id)):t:t.sideWindowSelectedTab?Object.assign({},t,{sideWindowSelectedTab:void 0}):t},LC[kd]=function(t){return tI(t)},LC[Id]=function(t){return nI(t)},LC[Nd]=function(t){return Object.assign({},t,Zk(t,!1,Op))},LC[Vd]=function(t){return Object.assign({},t,Zk(t,!0,Op))},LC[Dd]=function(t){return Object.assign({},t,Zk(t,!1,Wp))},LC[Rd]=function(t,e){return Object.assign({},t,function(t,e,n){var i=t.sideWindowItems;i&&i.some((function(t){var i=t.id===e;return i&&(t.id=n),i}));var o=t.sideWindowSelectedTab;return{sideWindowItems:i,sideWindowSelectedTab:o===e?n:o}}(t,e.targetTab,e.newTab))},LC[cc]=function(t,e){return Object.assign({},t,{maxReadId:e})},LC[dc]=function(t,e){return Object.assign({},t,{id:e})},LC[lc]=function(t,e,n){return n?null:t},LC[uc]=function(t,e){return t?t.popupBubble===e?t:Object.assign({},t,{popupBubble:e,autoEjectTranscript:!1}):t},LC[Wd]=function(t,e){var n=t;e&&e.length>0&&[].concat(e).forEach((function(t){n=Qk(n,t)}));return Object.assign({},t,n)},LC[Ld]=function(t,e){return t?t.frequencyLimitState===e?t:Object.assign({},t,{frequencyLimitState:e}):t},LC[td]=function(t,e){return Object.assign({},t,function(t,e,n){var i=t.fields||{};return i[e]=n,{fields:i}}(t,qo,e))},LC[sl]=function(t,e){return null==t||t.id===e?t:Object.assign({},t,{id:e})},LC[Xs]=function(t){return t?Object.assign({},t,{messages:t.messages.filter((function(t){return t.type!==Le}))}):t},LC[dl]=function(t){return t},LC[ll]=function(t){var e=t.messages.length,n=t.messages.map((function(t,n){return Object.assign({},t,{id:n-e})}));return Object.assign({},t,{maxId:-1,maxReadId:-1,messages:n})},LC[gl]=function(t){return Object.assign({},t,{kbChatWithAgentClicked:!0})},LC[ul]=function(t){return Object.assign({},t,{kb:Object.assign({},t.kb,{isLoading:!0})})},LC[hl]=function(t,e){var n=e.map((function(t){return t.id}));return Object.assign({},t,{kb:Object.assign({},t.kb,{articles:n,isLoading:!1}),error:""})},LC[fl]=function(t,e){return Object.assign({},t,Zk(t,!0,Op),{kb:Object.assign({},t.kd,{activeArticle:e}),error:""})},LC[ml]=function(t,e){return Object.assign({},t,Zk(t,!0,Op),{kb:Object.assign({},t.kb,{activeArticle:e})})},LC[Cl]=function(t,e){return Object.assign({},t,Zk(t,!0,Wp),{pushPage:Object.assign({},t.pushPage,{url:e})})},LC[wl]=function(t){return Object.assign({},t,{error:"Network error",kb:{isLoading:!1}})},LC[bl]=function(t,e){return Object.assign({},t,{error:404===e?"Page not found":"Network error"})},LC[kl]=function(t,e){return Object.assign({},t,{webView:e})},LC[Il]=function(t){return Object.assign({},t,{webView:null})},LC[Ml]=function(t){return Object.assign({},t,{webView:Object.assign({},t.webView,{ifLoading:!0})})},LC[Ol]=function(t,e){return Object.assign({},t,{webView:Object.assign({},t.webView,{ifLoading:!1,visitorInfo:e})})},LC[_l]=function(t,e){return Object.assign({},t,Zk(t,!0,Ap,e.noFocus),{botSideWindow:e})},LC[xl]=function(t){return Object.assign({},t,Zk(t,!1,Ap),{botSideWindow:null})},LC[yl]=function(t){for(var e=t.messages,n=e.length-1;n>=0&&e[n].type!==dn;n-=1);return Object.assign({},aI(Ku)(t),{messages:e.slice(0,n).concat(e.slice(n+1,e.length))})},LC[Gd]=function(t){return Object.assign({},t,{messages:t&&t.messages?t.messages.filter(Dk).filter(Rk).filter(zk):[]})},LC[hc]=function(t,e){return e!==t.maxAgentReadId?Object.assign({},t,{maxAgentReadId:e}):t},LC[fc]=function(t,e){return Object.assign({},t,{maxVisitorReadId:e})},LC[Tl]=function(t,e){return Object.assign({},t,{messages:t.messages.map((function(t){if(t.type===Gn&&t.content.GUID===e.guid){var n=t.content.fields.map((function(t){var n=e.fieldsValue[t.id];return n?t.type===aa&&n.value.indexOf($i)>-1?Object.assign({},t,{value:n.value.split($i)}):Object.assign({},t,{value:n.value}):t}));return Object.assign({},t,{content:Object.assign({},t.content,{fields:n})})}return t}))})},LC[Wl]=function(t,e){return Object.assign({},t)},LC[Is]=function(t,e){return t.showToolbox===e?t:Object.assign({},t,{showToolbox:e})},LC[gc]=function(t,e){return t.visitorStatus===e?t:Object.assign({},t,{visitorStatus:e})},LC[mc]=function(t,e){return t?t.chatVersion===e?t:Object.assign({},t,{chatVersion:e}):t},LC[wc]=function(t,e){return t.emailToSendTranscript===e?t:Object.assign({},t,{emailToSendTranscript:e})},LC[jl]=function(t){return Object.assign({},t,{quickReply:null})},LC[Ad]=function(t,e){return t.isRecording===e?t:Object.assign({},t,{isRecording:e})},LC[Bd]=function(t,e){var n=e.guid,i=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{isProcessed:!0}):t}));return Object.assign({},t,{messages:i})},LC[Td]=function(t,e){var n=e.guid,i=e.ifDisable,o=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{ifDisable:i}):t}));return Object.assign({},t,{messages:o})},LC[_c]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{campaignId:e});return Object.assign({},t,{crossSiteChatTransfer:n})},LC[Cc]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{visitorGuid:e});return Object.assign({},t,{crossSiteChatTransfer:n})},LC[xc]=function(t,e,n){var i=e.isTransferDone,o=e.chatGuid,a=Object.assign({},t.crossSiteChatTransfer,{isTransferDone:i,chatGuid:o});return Object.assign({},t,{crossSiteChatTransfer:a,sourceMessages:i?t.sourceMessages:t.sourceMessages.map((function(t){return Object.assign({},t,{siteId:n})}))})},LC[yc]=function(t,e){return Object.assign({},t,{crossSiteChatTransfer:e})},LC[Sc]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{configuration:e});return Object.assign({},t,{crossSiteChatTransfer:n})},LC[kc]=function(t,e){return Object.assign({},t,{fields:Object.assign({},t.fields,{rating:void 0,comment:void 0})})},LC[Kc]=function(t,e){var n=t.crossSiteChatTransfer;return Object.assign({},t,{crossSiteChatTransfer:Object.assign({},n,{configuration:Object.assign({},n.configuration,{serverInstanceTag:e})})})},LC[Kc]=function(t,e){var n=t.crossSiteChatTransfer;return Object.assign({},t,{crossSiteChatTransfer:Object.assign({},n,{configuration:Object.assign({},n.configuration,{serverInstanceTag:e})})})},LC[Nl]=function(t,e){return Object.assign({},t,{isVisibleInputAreaWhenBotChatting:e})},LC[Ud]=function(t,e){var n=t.chatbotContext,i=n.variables||{},o=e.variableName,a=e.variableValue;return o&&a&&(i[o]=a),Object.assign({},t,{chatbotContext:Object.assign({},n,{variables:Object.assign({},i)})})},LC[Vl]=function(t,e){return null===t?t:Object.assign({},t,{isMessageScrollBottom:e})},LC[Dl]=function(t){return Object.assign({},t,{messages:t.messages.map((function(t){return!1===t.isSeenByVisitor?Object.assign({},t,{isSeenByVisitor:!0}):t}))})},LC[Ic]=function(t,e){return Object.assign({},t,{autoEjectTranscript:e})},LC[Mc]=function(t){return Object.assign({},t,{messages:t.messages.filter((function(t){return t.type!==Vn})),forms:Object.assign({},t.forms,{rating:op})})},LC[jc]=function(t,e){return Object.assign({},t,{width:e})},LC[Rl]=function(t,e){return null===t?t:Object.assign({},t,{isPostChatVisible:e})},LC[ql]=function(t,e){return null===t?t:Object.assign({},t,Zk(t,!e,Np))},LC[Ul]=function(t,e){return null===t?t:Object.assign({},t,{previewImage:e})},LC)),wI=D(null,mI),bI=D({},((hI={})[rs]=function(t,e){return Object.assign({},t,e)},hI[ss]=function(t,e){return Object.assign({},t,{messageLengthLimit:e})},hI[dd]=function(t){var e=[].concat(t.heartbeat.online);return e=0===e[0].duration&&0===e[0].timespan?e.filter((function(t,e){return 0!==e})):[{duration:0,timespan:0}].concat(e),Object.assign({},t,{heartbeat:Object.assign({},t.heartbeat,{online:e})})},hI[cs]=function(t,e){return Object.assign({},t,{serverInstanceTag:e})},hI)),vI=function(t,e){return t.entities.campaigns.entities[e||t.window.id].languages},_I=function(t,e,n){return Object.assign({},e,{config:vI(t,n)})};function xI(t,e){var n=yw(t,e),i=Sw(t,e);if(!n)return i;var o={right:n.right||i.right,bottom:n.bottom||i.bottom},a=void 0!==n.top,r=void 0!==n.left;if((a||r)&&(o.right=n.right||0,o.bottom=n.bottom||0),a){var s=zm(t);o.bottom=s-n.top-n.height}if(r){var c=Lm(t);o.right=c-n.left-n.width}return o}var yI=((fI={})[vs]=function(t,e){var n=xI(t,e.payload.campaignId);return Object.assign({},e,{config:n})},fI[Os]=function(t,e){var n=xI(t,e.payload.campaignId);return Object.assign({},e,{config:n})},fI[ps]=function(t,e){var n=c_(t),i=e.payload.campaignId,o=xI(t,i),a=o.right,r=o.bottom,s=function(t,e){return hw(t,e).type}(t,i);return Object.assign({},e,{config:{right:a,bottom:r,campaignId:i,ifHideAgentName:Th(t),agentDefaultName:n&&n.operatorDefaultName||"Agent",buttonType:s,apiHost:m_(t)}})},fI[Cs]=function(t,e){return Object.assign({},e,{config:{languages:vI(t)}})},fI[Ss]=function(t,e){return Object.assign({},e,{config:{languages:vI(t),maxLength:Ah(t)}})},fI[dl]=function(t,e){return _I(t,e)},fI[Zs]=function(t,e){var n=nf(t),i=ef(t),o=t.entities.fields.entities,a=function(t){return xm(t),bf(t),Cm(t),u_(t)+"/download.ashx?siteId="+_m(t)+"&chatGuid="+bf(t)+"&visitorGuid="+Sm(t)+"&TranscriptPDF=1"}(t),r=Th(t),s=n&&n.languages,c=s?s.operatorDefaultName:"Agent",d=m_(t);return Object.assign({},e,{config:{campaign:n,fields:o,downloadUrl:a,ifHideAgentName:r,agentDefaultName:c,apiHost:d,crossSiteTransferCampaign:i}})},fI[Xd]=function(t,e){return _I(t,e,Ov(t))},fI[lc]=function(t,e){return Object.assign({},e,{config:o_(t)})},fI[zd]=function(){return ox()},fI[ys]=function(t,e){var n=Am(t)===bu;return Object.assign({},e,{config:n})},fI[ml]=function(t,e){var n=function(t,e){return E(t,"entities.kbArticles.entities."+e)}(t,e.payload);return Object.assign({},e,{payload:n})},fI[js]=function(t,e){var n=Th(t),i=function(t){return rh(t,mm(t))}(t),o=i&&i.languages,a=o?o.operatorDefaultName:"Agent",r=m_(t);return Object.assign({},e,{config:{ifHideAgentName:n,agentDefaultName:a,apiHost:r}})},fI[Oc]=function(t,e){if(e.payload!==$l)return e;if(t.window&&t.window.crossSiteChatTransfer){var n=t.window.crossSiteChatTransfer.campaignId;return n===t.page.campaignId?e:Object.assign({},e,{config:{transferCampaignId:n}})}return e},fI[_s]=function(t,e){if(t.window&&t.window.crossSiteChatTransfer){var n=t.window.crossSiteChatTransfer.campaignId;return n===t.page.campaignId?e:Object.assign({},e,{config:{transferCampaignId:n}})}return e},fI[xc]=function(t,e){return Object.assign({},e,{config:_m(t)})},fI),SI=o({app:Jl,page:Bu,entities:Gu,window:wI,configuration:bI}),CI=function(t,e){return e.payload&&e.payload.window&&e.type===Pl?function(t,e){var n=Object.assign({},e.payload.window,{messages:e.payload.window.messages.map((function(t){return Object.assign({},t,{time:new Date(t.time)})}))}),i=G(),o=Object.assign({},e.payload.page,{height:i.height,width:i.width});return Object.assign({},t,{configuration:e.payload.configuration,entities:e.payload.entities,page:o,window:n})}(t,e):SI(t,function(t,e){return yI[e.type]?yI[e.type](t,e):e}(t,e))},kI="",II=function(){var t=Bb().popout;if(t){var e={};return t.ticketId&&(e.ticketId=t.ticketId),t.departmentId&&(e.department=t.departmentId),e}return{}},MI="granted",OI="denied",AI="notsupported",BI=function(){var t=[MI,"default",OI,AI],e=["auto","ltr","rtl"],n=-1,i=["click","scroll","focus"],o=function(t){var e=t.lastIndexOf(".");return(-1!==e?t.substr(0,e):t)+".ico"};function a(){var t=N.createElement("div");this.addEventListener=function(e,n){t.addEventListener(e,n.bind(this))},this.removeEventListener=function(e,n){t.removeEventListener(e,n.bind(this))},this.dispatchEvent=function(e){if("string"==typeof e)try{t.dispatchEvent(new Event(e))}catch(i){var n=N.createEvent("Event");n.initEvent(e,!1,!0),t.dispatchEvent(n)}}}function r(){}function s(){var t=this;a.call(this);var e=n;Object.defineProperties(this,{close:{value:function(){var t=this;e===n&&(window.external.msSiteModeClearIconOverlay(),i.forEach((function(e){V.removeEventListener(e,t.close)})),this.dispatchEvent("click"),this.dispatchEvent("close"),e=null)}.bind(this)}}),this.close(),this.icon&&window.external.msSiteModeSetIconOverlay(o(this.icon),this.description||this.title),window.external.msSiteModeActivate(),this.dispatchEvent("show"),i.forEach((function(e){V.addEventListener(e,t.close)})),e=n+=1}var c=window.Notification||window.webkitNotifications&&r||"external"in window&&"msIsSiteMode"in window.external&&void 0!==window.external.msIsSiteMode()&&s||a;function d(t,n){var i=t;if(!arguments.length)throw TypeError('Failed to construct "Notification": 1 argument required, but only 0 present.');if(""===i&&(i="\b"),arguments.length>1&&"object"!=typeof n)throw TypeError('Failed to construct "Notification": parameter 2 ("options") is not an object.');var o=Object(n),a=o.dir;if(void 0!==a&&-1===e.indexOf(a))throw TypeError('Failed to construct "Notification": The provided value "'+a+'" is not a valid enum value of type NotificationDirection.');var r=new c(i,o);return r.body||Object.defineProperty(r,"body",{value:String(o.body||"")}),r.data||Object.defineProperty(r,"data",{value:o.data||null}),r.dir||Object.defineProperty(r,"dir",{value:a||e[0]}),r.icon||Object.defineProperty(r,"icon",{value:String(o.icon||"")}),r.lang||Object.defineProperty(r,"lang",{value:String(o.lang||"")}),r.requireInteraction||Object.defineProperty(r,"requireInteraction",{value:Boolean(o.requireInteraction)}),r.silent||Object.defineProperty(r,"silent",{value:Boolean(o.silent)}),r.tag||Object.defineProperty(r,"tag",{value:String(o.tag||"")}),r.title||Object.defineProperty(r,"title",{value:String(i)}),r.timestamp||Object.defineProperty(r,"timestamp",{value:(new Date).getTime()}),r}return Object.defineProperty(a,"permission",{enumerable:!0,get:function(){return AI}}),Object.defineProperty(a,"requestPermission",{enumerable:!0,writable:!0,value:function(t){t(this.permission)}}),Object.defineProperty(s,"permission",{enumerable:!0,get:function(){return window.external.msIsSiteMode()?MI:OI}}),Object.defineProperty(s,"requestPermission",{enumerable:!0,writable:!0,value:function(){var t=this;return new Promise((function(e){e(t.permission)}))}}),Object.defineProperty(s,"PERMISSION_REQUEST_MESSAGE",{writable:!0,value:"IE supports notifications in pinned mode only. Pin this page on your taskbar to receive notifications."}),Object.defineProperty(r,"permission",{enumerable:!0,get:function(){return t[window.webkitNotifications.checkPermission()]}}),Object.defineProperty(r,"requestPermission",{enumerable:!0,writable:!0,value:function(){return new Promise((function(t){window.webkitNotifications.requestPermission((function(e){t(e)}))}))}}),c.permission||Object.defineProperty(c,"permission",{enumerable:!0,get:function(){return c.permissionLevel&&c.permissionLevel()}}),Object.defineProperty(d,"permission",{enumerable:!0,get:function(){return c.permission}}),Object.defineProperty(d,"requestPermission",{enumerable:!0,value:function(){return new Promise((function(t,e){var n=c.requestPermission((function(e){t(e)}));n&&("function"==typeof n.then&&"function"==typeof n.catch?t(n):e(n))}))}}),d}(),TI=BI.requestPermission,jI="video-request",PI="video-end",FI="screensharing-request",WI=function(){var t={},e=function(e){if(null==e)return Promise.reject("sound url is null");if(t[e])return Promise.resolve(t[e]);var n=new Promise((function(t,n){var i=new Audio(e);i.oncanplay=function(){i.oncanplay=null,t(i)},i.onerror=n}));return t[e]=n,n};return{play:function(t,n){return e(t).then((function(t){return t.loop=n?"loop":"",t.play()}))},stop:function(t){return e(t).then((function(t){t.loop=""}))}}}(),NI=X(WI.play,500),VI=$((function(t,e){if(BI.permission===MI){var n=new BI(z.host,{body:t,icon:e,tag:"livechat_notify"}),i=null;n.onclick=function(){V.focus(),n.close()},n.onshow=function(){i=setTimeout((function(){n.close(),i=null}),5e3)},n.onclose=function(){i&&clearTimeout(i)}}}),50);function DI(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent}var RI,EI=function(){return{type:yk,payload:{type:"locationCancelled"}}},zI=function(){return{type:Sk,payload:{type:"visitorSSOCancelled"}}},LI=function(){return{type:Ck,payload:{type:"meetingCancelled"}}},HI=function(){return{type:Ok,payload:{type:"microsoftBooking"}}},qI=function(t){var e=t.eventUri,n=t.inviteeUri;return{type:kk,payload:{bookMeetingEventUri:e,bookMeetingEventInviteeUri:n,type:"meetingSubmitted"}}},UI=function(t){return{payload:t,type:Ik}},GI=function(t){return{type:Mk,payload:{guid:t}}},KI="chat",YI="chatbot",JI="taskbot",QI="offline",ZI="systemProcessing",XI=((RI={}).prechat=function(t){t(Tx($u)),t(nS(nu)),t(fx(nu))},RI[KI]=function(t,e){Lf(e)||(t(Ex()),t(Tx(tp)),t(nS(tu)),t(fx(tu)))},RI[YI]=function(t,e,n){var i=m_(e);t(Px(n.url,Object.assign({apiHost:i},n.bot))),t(zx()),t(Tx(tp)),t(nS(eu)),t(fx(eu))},RI[JI]=function(t,e,n){t({type:xk}),t(Tx(tp)),t(nS(eu)),t(fx(eu))},RI[QI]=function(t){t(Tx(np)),t(nS(au)),t(fx(au))},RI.sso=function(t,e,n){t(jx(xh(e,n.url),n.showPrelogin,n.ifOpenSignInPageEmbeddedWindow));var i=tt(V.location.href,"ssoInfo");if(i){t(US(i));var o=V.location.href.substring(0,V.location.href.indexOf("&ssoInfo="));V.history.replaceState(V.history.state,document.title,o)}else n.showPrelogin?t(Tx(Zu)):t(Tx(Xu)),n.showPrelogin||n.ifOpenSignInPageEmbeddedWindow||(lh(e)?t(cS()):t(rS()));t(nS(cu)),t(fx(cu))},RI.kb=function(t){t(Tx(ip)),t(nS(uu)),t(fx(uu))},RI),$I=function(t,e,n){if(n.next===KI||n.next===YI||n.next===JI){var i=n.chatGuid,o=n.serverTime;t(ay(i,o)),setTimeout((function(){return t(gC(),0)}))}if("kb"===n.next){var a=n.ifOnline,r=n.id,s=n.greetingMessage,c=n.maxCount;t(z_($h(e),a)),t(Wx({id:r,greetingMessage:s,maxCount:c}))}else t(z_($h(e),n.next!==QI));(XI[n.next]||function(){})(t,e,n)},tM=1004,eM=1036,nM=314,iM=1050,oM=4342338,aM="GET";function rM(t){return/\bjson\b/gi.test(function(t){return t.contentType?t.contentType:t.getResponseHeader?t.getResponseHeader("content-type"):null}(t))?JSON.parse(t.responseText):t.responseText}function sM(t,e,n,i,o){return new Promise((function(a,r){var s=function(){if("withCredentials"in new XMLHttpRequest)return new XMLHttpRequest;if(window.XDomainRequest)return new window.XDomainRequest;throw new Error("No CORS support.")}(),c=K((function(t,i){return r({url:e,input:n,error:{code:t,message:i,statusCode:s.status}})}),oM);!function(t,e,n){if(window.XDomainRequest&&t instanceof window.XDomainRequest&&/^https?:/.test(n)){var i=z.href.toString().match(/^(https?):/)[1];t.open(e,i+n.substr(n.indexOf(":")),!0)}else t.open(e,n,!0)}(s,t,e),s.withCredentials=!(n instanceof window.FormData)&&t!==aM,o&&o.forEach((function(t){return s.setRequestHeader(t.prop,t.value)})),function(t,e){if(e){var n=function(){t.abort()};t.upload&&t.upload.addEventListener("progress",(function(t){var i=t.lengthComputable?Math.round(100*t.loaded/t.total):void 0;e(i,n)}),!1),e(void 0,n)}}(s,i),s.onload=function(){if(null==s.status||s.status>=200&&s.status<300)a({url:e,input:n,output:rM(s)});else{var t="http error "+s.status;if(s.responseText)try{t=JSON.parse(s.responseText).message}catch(t){}c(t)}},s.onabort=function(){return c("")},s.ontimeout=function(){return c("request timeout")},s.onerror=function(){return c("network error")},s.onprogress=function(){},null!=window.FormData&&n instanceof window.FormData?(s.timeout=NC,s.send(n)):(s.timeout=WC,s.send(JSON.stringify(n)))}))}var cM,dM,lM=K(sM,aM),uM=K(sM,"POST"),pM=lM,hM=uM,fM=function(t,e,n,i,o){var a=new FormData;return a.append("file",e,o),hM(t,a,i,[{prop:"Authorization",value:"Bearer "+n.token}])},gM=function(t,e,n,i){var o=n.replace(/\/campaign\.ashx.*$/i,""),a=function(t){return t&&o+(/^\//.test(t)?t:"/"+t)};return t(xx({id:e,entity:null,fetchStatus:Tu})),pM(n).then((function(n){var o=function(t){return R(t.mainColor)?t:Object.assign({},t,{mainColor:io})}(function(t){return Object.assign({},t,{sounds:t.sounds&&Object.keys(t.sounds).reduce((function(e,n){var i;return Object.assign({},e,((i={})[n]=a(t.sounds[n]),i))}),{}),chatBot:t.chatBot&&Object.assign({},t.chatBot,{avatar:a(t.chatBot.avatar)}),chat:t.chat&&Object.assign({},t.chat,{texture:t.chat.texture?bh(i,"/visitorside/"+t.chat.texture):t.chat.texture}),header:t.header&&Object.assign({},t.header,{banner:t.header.banner&&a(t.header.banner),logo:t.header.logo&&a(t.header.logo)})})}(n.output));return t(xx({id:e,entity:o,error:null,fetchStatus:ju})),o})).catch((function(n){throw t(xx({id:e,entity:null,error:n.error.message,fetchStatus:Pu})),n}))},mM=((cM={})[Ui]=function(t,e){try{var n=JSON.parse(t.content);return Object.assign({},t,{content:n})}catch(e){var i=[{type:"complex",content:{text:t.content}}];return Object.assign({},t,{content:i})}},cM[Yi]=function(t,e,n){try{var i=JSON.parse(t.context),o=i&&i.ChatbotContext||{},a=o.Variables||{},r=o.CustomData||{};n(Fx({variables:a,visitorInfo:r}))}catch(t){n(Fx({}))}try{var s=JSON.parse(t.content);return Object.assign({},t,{content:s})}catch(e){var c=[{content:{text:t.content}}];return Object.assign({},t,{content:c})}},cM[qn]=function(t,e){try{var n=JSON.parse(t.content);return Object.assign({},t,{content:n})}catch(n){var i=[{type:bk,content:{text:t.content}}],o=Gh(e),a={ifAgentOnline:!0,ifRate:!1,intentAnswers:i,botId:o&&o.id||0};return Object.assign({},t,{content:a})}},cM[Xn]=function(t,e,n){return n(P_(!1)),t},cM[jn]=function(t,e,n){var i=t.content.info.split($i);if(4===i.length){var o=xh(e,i[2]),a="true"===i[3].split("=")[1].toLowerCase();n(jx(o,!1,a))}return t},cM[ve]=function(t,e,n){return n(sS()),t},cM),wM=function(t,e,n){return t.map((function(t){var i=mM[t.type];return i?i(t,e,n):t}))},bM=function(t,e,n){return t.forEach((function(t){if(t.type===Ji&&t.extras){var i=JSON.parse(t.extras);if(i){if(kv(e)){var o=kv(e);if(o.siteId===i.siteId&&o.fromSiteId===i.fromSiteId)return}n(hS(Object.assign({},i,{visitorGuid:hb(i.siteId)}))),n(pS(!1)),n(iC()).then((function(t){var o=t.output.payload.crossSiteTransferDefaultCampaignId;ah(e,o)||gM(n,o,n_(i).replace(/\/visitor.ashx.*$/i,"/campaign.ashx?siteId="+i.siteId+"&campaignId="+o))})),n(oC(i.siteId)),n(mS())}}}))},vM="{email}",_M=oo,xM=function(t,e,n){var i=K(mh,e),o=xm(e),a=hw(e,n).lastUpdateTime,r=ah(e,n);if(r)return Promise.resolve(r);var s=i("/campaign.ashx?siteId="+o+"&campaignId="+n+"&lastUpdateTime="+a);return gM(t,n,s,e)},yM=function(t,e,n){var i=K(mh,e);return pM(i(n.customizedAdaptiveButtonIcon)).then((function(e){t(yx({id:n.id,entity:Object.assign({},n,{customizeIcon:e.output,fetchStatus:ju})}))})).catch((function(e){throw t(yx({id:n.id,entity:Object.assign({},n,{fetchStatus:Pu})})),e}))};function SM(t,e,n){var i,o=t.dispatch,a=t.getState,r=e.input,s=e.output,c=a(),d=((i={})[_M.getConfig]=function(t){t.features&&(db(!!t.features.useSessionCookie),t.features.disableCookie&&Rw()),Cv(a())?(o(uS(t.crossSiteTransferDefaultCampaignId)),o(fS(t))):o(bx(t.customVaraibles?t:Object.assign({},t,{kbAPIUrl:Ur(t.kbAPIUrl,m_(c)),customVariableResult:lh(c)?Lv(c):Pa(t.customVariables)}))),o(YS())},i[_M.getChatWindowConfig]=function(t){var e=t.messageLengthLimit||to;r.siteId&&r.siteId===Iv(a())?o(fS(Object.assign({},t,{messageLengthLimit:e,features:Object.assign({},kv(a()).configuration.features,t.features)}))):o(bx(Object.assign({},t,{messageLengthLimit:e,features:Object.assign({},c.configuration.features,t.features)})))},i[_M.getCustomVariables]=function(t){var e="product service",n=et(t,["name","email","phone","company",e]),i=n[0],a=n[1];i[e]&&(i.product=i[e],delete i[e]);var r=yv(c).map((function(t){return t.label})),s=et(a,r)[0];o(MC(Object.assign({},i,{custom:s})))},i[_M.getChatButton]=function(t){var e=Hm(c);if(e)o(px(t.id));else{var n=wm(c);n===t.id||isNaN(parseInt(n,10))||o(hx(t.id,n))}var i=0;r.campaignId===t.id||isNaN(parseInt(r.campaignId,10))||(i=parseInt(r.campaignId,10)),o(yx({id:t.id,entity:Object.assign({},t,{intId:i,divId:Jr(t.id,i)}),fetchStatus:t.isCustomizedAdaptiveButtonUsed?Tu:ju})),e&&ck("livechat.dynamicCampaign.change",t.id),t.isCustomizedAdaptiveButtonUsed&&yM(o,a(),t),xM(o,a(),t.id).then((function(t){return Cv(a())||o(T_()),new Promise((function(e){setTimeout(e,0,t)}))})).then((function(t){var n=a(),i=lh(n),s=N.getElementsByTagName("iframe"),d="$brandingName-iframe".replace("$brandingName",V.brandingNameLowerCase);if(s.length>0&&s[d]&&s[d].setAttribute("lang",t.languageCode),i){var l=N.getElementsByTagName("html");l.length>0&&l[0].setAttribute("lang",t.languageCode)}if($m(n,t.id)){var u=Xb();o(E_(u))}else $b(),o(E_(!1));i&&ym(n)!==Ql&&(Qr===_s?o(R_()):Zb(_m(c),bm(c))||(o($_(wm(a()))),o(nx()))),(e||r.alreadyCampaignId)&&o(Ty(t.id));var p=N.getElementById("windowLoading");p&&p.parentNode.removeChild(p)}))},i[_M.checkManualInvitation]=function(t){var e=r.campaignId===eo,n=/^-?\d+$/.test(r.campaignId)?fw(c,parseInt(r.campaignId,10)):r.campaignId,i=e?wm(c):n;if(t&&t.agent&&!lv(c)&&ym(c)===$l){var a=function(){var e=t.type!==fu&&t.type!==pu||!R(t.textBackgroundColor)?io:t.textBackgroundColor,n=Object.assign({},t,{isManual:!0,campaignId:i,textBackgroundColor:e});o(L_(n)),ck("livechat.invitation.display",n)};t.type===hu||t.type===fu?o(oC()).then(a):a()}},i[_M.confirmAutoInvitation]=function(t){var e=r.campaignId===eo?wm(c):r.campaignId,n=Number(e);if(isNaN(n)||(e=fw(c,n)),t&&!lv(c)&&!uv(c)&&ym(c)===$l){var i=function(){var n=t.type!==fu&&t.type!==pu||!R(t.textBackgroundColor)?io:t.textBackgroundColor,i=Object.assign({},t,{isManual:!1,campaignId:e,textBackgroundColor:n});o(L_(i)),o(H_(!1)),ck("livechat.invitation.display",i)};o(H_(!0)),t.type===hu?o(oC()).then(i):i()}},i[_M.checkAutoInvitation]=function(t){if(null!=t){var e={};t.forEach((function(t){var n=t.id,i=t.delay;Object.keys(e).indexOf(i.toString())>-1?e[i]=e[i].concat(n):e[i]=[n]})),Object.keys(e).forEach((function(t){setTimeout((function(){ym(a())===$l&&o(NS.apply(vC,[To()].concat(e[t].map((function(t){return ho(r.campaignId,t)})))))}),1e3*t)}))}},i[_M.showInvitation]=function(t){var e=wm(c);if(t&&!lv(c)&&ym(c)===$l){var n=function(){var n=Object.assign({},t,{isManual:!1,campaignId:e});o(L_(n)),ck("livechat.invitation.display",n)};t.type===hu?o(oC()).then(n):n()}},i[_M.getIfOnline]=function(t){var e=t.campaignId,n=t.ifOnline;o(z_(e,n))},i[_M.checkIfOnline]=function(t){var e=t.campaignId,n=t.ifOnline;o(z_(e,n))},i[_M.batchAction]=function(t){for(var e=0;e<t.length;e+=1)SM({dispatch:o,getState:a},{input:r.actions[e],output:t[e]})},i[_M.newVisitor]=function(t){var e=t.visitorGuid,n=t.ifNewVisitor,i=t.sessionId,r=t.ifMigrated,s=t.migrationInfo,d={guid:e,sessionId:i};d.ifNewVisitor=n,r&&(d.migrationInfo=s),Cv(a())&&o(gS(e)),Cv(c)?xm(c):_m(c),o(q_(d)),o(G_())},i[_M.getDynamicCampaign]=function(t){t!==wm(c)&&o(nC(t))},i[_M.pageVisit]=function(t){var e=t.page,n=t.time,i=wm(a());Object.keys(a().page.buttons).forEach((function(t){var e="number"==typeof t?+t:t;0!==e&&e!==eo&&e!==i&&o(nC(e))})),o(U_({page:e,time:n}))},i[_M.requestChat]=function(t){$I(o,a(),t),o(q_({persistentVisitor:!0})),t.campaignId&&t.campaignId!==eo&&o(nC(t.campaignId,!0))},i[_M.requestChatFromChatbot]=function(t){$I(o,a(),t),t.campaignId&&o(nC(t.campaignId,!0))},i[_M.getChatMessages]=function(t){Lh(a())&&0!==t.length&&(o(Nx(wM(t,a(),o))),bM(t,c,o))},i[_M.submitRating]=function(){o(kC(_p)),setTimeout((function(){o(yS())}),1500)},i[_M.emailTranscript]=function(t){if(t){var e=l_(c,Tw,Ov(c)).replace(vM,r.email);o(Vx(e))}o(oS(r.email))},i[_M.getAgents]=function(t){return t&&t.forEach((function(t,e){return o(Cx({id:t.id,entity:Object.assign({},t,{index:e}),fetchStatus:ju}))}))},i[_M.getDepartments]=function(t){return t&&t.forEach((function(t){return o(kx({id:t.id,entity:t,fetchStatus:ju}))}))},i[_M.submitPostChat]=function(){return o(Tx(tp))},i[_M.endChat]=function(){o(Qx());var t=O_(c);t===tu&&o(fx(cu)),t===eu&&o(fx(su)),Jb(_m(c),bm(c))},i[_M.checkManuallyInvited]=function(t){t||(o(ox()),o(fx(cu)))},i[_M.getChatQueue]=function(t){t&&o(my({position:t.position,waitTime:t.est}))},i[_M.getVisitorInfo]=function(t){o(Ly(t))},i[_M.restoreChat]=function(t){if(t&&mw(a(),wm(a()))){o($_(wm(a()),!0)),o(ay(t.guid));var e=yb(t.guid);e&&((e.windowStatus===Xl||Pm(c))&&o(ix()),e.maxReadId&&o(ky(+e.maxReadId)))}},i[_M.visitorGetLatestMsgSeen]=function(t){Br(t,Ag(a()),hf(a()))&&o(Iy(t))},i[_M.agentMsgSeenByVisitor]=function(t){o(My(t))},i[_M.submitSSOInfo]=function(t){if(o(mx(!1)),t&&"object"==typeof t){var e=ww(c),n=xv(c),i={};Object.keys(t).forEach((function(o){if("fields"===o)i.custom={},t[o].forEach((function(t){n.filter((function(e){return e.label===t.name&&e.type===aa})).length>0?i.custom[t.name]=t.value.split($i):i.custom[t.name]=t.value}));else if("department"===o){var a=Object.keys(e).filter((function(n){return e[n].name===t.department}));a.length>0?i[o]=Number(a[0]):i[o]=""}else"ssoId"===o&&"userId"===o&&"variables"===o&&"ssoSessionToken"===o||(i[o]=t[o])}));var a=t.ssoSessionToken,r=t.ssoInfo;Eb(a),r?(Lb(r),Ub()):Kb(),o(MC(i,vp))}},i[_M.refuseAutoInvitation]=function(){o(fx(ru))},i[_M.refuseManualInvitation]=function(){o(fx(ru))},i[_M.recoverVisitor]=function(t){o(iS(t.baseVersion)),o(F_()),Cv(c)?o(wS(t.serverInstanceTag)):o(_x(t.serverInstanceTag))},i[_M.closeWindow]=function(){var t=O_(c);t!==tu&&t!==nu&&t!==uu||o(fx(cu)),t===eu&&o(fx(su))},i[_M.getSSORecoverInfo]=function(t){t&&t!==Hb()&&(Lb(t),Gb())},i[_M.requestChatFromAnotherSite]=function(t){if("offline"===t.next){var e=wm(c),n=d_(c,e),i=U[n].transferToOffline;o(Vx(i)),o(Qx())}else{$I(o,a(),t),o(pS(!0,t.chatGuid)),o(iS(""));var r=kv(c);Qb(_m(c),bm(c),Object.assign({},r,{isTransferDone:!0,chatGuid:t.chatGuid,agents:Object.assign({},r.agents||{},uw(c))}))}},i);null!=r&&null!=d[r.type]&&d[r.type](s.payload)}var CM,kM,IM,MM=function(t){return{chatGuid:bf(t),siteId:_m(t),sessionId:_b(),visitorGuid:Sm(t)}},OM=function(t){return ko(bf(t),xf(t))},AM=function(t,e){return jo([Object.assign({},MM(e),t),OM(e)])},BM=((dM={})[Ck]=AM,dM[kk]=AM,dM[yk]=AM,dM[Sk]=AM,dM[Ok]=AM,dM[Ak]=function(t,e){var n=fv(e);return jo([Object.assign({taskbotId:n},MM(e),t),OM(e)])},dM),TM="chatbot/locationCancelled",jM="chatbot/visitorSSOCancelled",PM="chatbot/meetingCancelled",FM="chatbot/meetingSubmitted",WM="chatbot/chatbotFormCancelled",NM="chatbot/microsoftBooking",VM="chatbot/canvasAuthorization",DM=function(t){return{chatGuid:bf(t),siteId:_m(t),sessionId:_b(),visitorGuid:Sm(t)}},RM=function(t){return ko(bf(t),xf(t))},EM=function(t,e){return jo([Object.assign({},DM(e),t),RM(e)])},zM=((CM={})[PM]=EM,CM[FM]=EM,CM[TM]=EM,CM[jM]=EM,CM[WM]=EM,CM[NM]=EM,CM[VM]=EM,CM),LM=oo,HM=0,qM=[],UM={},GM={},KM=null,YM=function(t,e,n,i,o){try{var a=JSON.parse(i.output);if(i.code)return void e({input:Object.assign({},t.action,{isUseStandbyFileService:o}),error:a})}catch(e){t.action.fileServiceUrl?n({input:t.action,output:{name:t.action.fileName,key:i.output,isUseStandbyFileService:o}}):n({input:t.action,output:i.output[0]})}},JM=[LM.getChatMessages,LM.agentMsgSeenByVisitor,LM.visitorGetLatestMsgSeen],QM=function(t,e,n,i){var o=e;if(null==o.type)throw new Error("action.type is required");return o.ssoSessionToken=Ew(Rb),o.type===LM.uploadFileAction?new Promise((function(t,e){var i=o.action.fileServiceUrl+"/files",a=o.action.standbyFileServiceUrl+"/files",r=fM;r(i,o.file,o.action,n,o.action.fileName).then((function(n){return YM(o,e,t,n,!1)})).catch((function(i){if(i instanceof Error)throw i;var s=i.error;s&&(!s.statusCode||s.statusCode>=500||404===s.statusCode)?r(a,o.file,o.action,n).then((function(n){return YM(o,e,t,n,!0)})).catch((function(t){if(t instanceof Error)throw t;e({input:o.action,error:i.error})})):e({input:o.action,error:i.error})}))})):(o.type===LM.newVisitor&&Kb(),new Promise((function(e,n){null==KM&&(KM=function(){var t=0;return function(){return t+=1}}());var a=KM();(function(t,e){var n=!0,i=!1;return t.forEach((function(t){Fo(t,LM.submitSSOInfo)&&(i=!0)})),i&&Po((function(t){JM.indexOf(t.type)>-1&&(n=!1)}),e),n})(qM,o)&&qM.push(Object.assign({},o,{id:a})),UM[a]=e,GM[a]=n,clearTimeout(HM),HM=setTimeout((function(){hM(t,qM.splice(0,qM.length)).then((function(t){var e=t.input,n=t.output;e.forEach((function(t,e){n[e].error?GM[t.id]({input:t,error:n[e].error,serverInstanceTag:i}):UM[t.id]({input:t,output:n[e],serverInstanceTag:i}),delete UM[t.id],delete GM[t.id]}))})).catch((function(t){if(t instanceof Error)throw t;var e=t.input,n=t.error;e.forEach((function(t){GM[t.id]({input:t,error:n}),delete UM[t.id],delete GM[t.id]}))}))}),0)})))},ZM=function(t,e,n,i){return QM(t,e,n,i).then((function(t){return t}))},XM=oo,$M=null,tO=function(t){var e=t.getState,n=t.resolve;return ZM(i_(e()),{type:oo.systemProcessingHeartbeat}).then((function(t){if(!t.output.payload){clearInterval($M),$M=null;var i=e(),o=null;if(Mv(i)){var a=Im(i,Hm(i)?eo:wm(i)),r=qh(i),s=Db();o=r===hp?jo([Object.assign({},a,{isPrechatDone:!0,isProcessingDone:!0,lastChattedAgents:s})].concat(function(t){var e=xf(t),n=hf(t),i=Cr(n),o=[].concat(i);if(vf(t)){var a=_f(t);o.push({type:Pe,content:a,sender:{type:sp},id:n.length+e+1})}return[0===o.length?null:Ao(null,o),ko(null,-1)]}(i))):Object.assign({},a,{isProcessingDone:!0,lastChattedAgents:s})}else o=Object.assign({},Bv(i),{isProcessingDone:!0});ZM(i_(i),o).then((function(t){t.output.payload&&(clearInterval($M),$M=null,n(t))}))}}))},eO=function(t){var e=t.getState,n=t.dispatch,i=function(t){return new Promise((function(t,n){null===$M?(tO({getState:e,resolve:t}),$M=setInterval(tO,2e3,{getState:e,resolve:t})):n("Already checking system processing")})).then((function(e){var n=e.output;return function(t,e){return Object.assign({},t,{output:Wo((function(t){if(t.type===XM.requestChat){if(e.type===XM.batchAction){var n=e.payload.filter((function(t){return t.type===XM.requestChat}));if(n.length>0)return Object.assign({},t,n[0])}return Object.assign({},t,e)}if(t.type===XM.requestChatFromAnotherSite){if(e.type===XM.batchAction){var i=e.payload.filter((function(t){return t.type===XM.requestChatFromAnotherSite}));if(i.length>0)return Object.assign({},t,i[0])}return Object.assign({},t,e)}if(t.type===XM.getChatMessages&&e.type===XM.batchAction){var o=e.payload.filter((function(t){return t.type===XM.getChatMessages}));if(o.length>0)return Object.assign({},t,o[0])}return t}),t.output)})}(t,n)}))};return function(t){var e=Fo(t.output,XM.requestChatFromAnotherSite);if(e&&e.payload.next===ZI)return i(t);var o=Fo(t.output,XM.requestChat);return o&&o.payload.next===ZI?(n(Tx(Qu)),n(nS(lu)),n(fx(lu)),i(t)):t}},nO=[oo.checkBan,oo.checkBBSCode,oo.closeWindow,oo.emailTranscript,oo.getAgents,oo.getChatButton,oo.getConfig,oo.getDepartments,oo.submitPostChat,oo.recoverVisitor],iO=function(t){return[No({visitorGuid:Sm(t),visitorId:ub()}),ro(Ov(t),ub(),Sm(t),N.referrer,km(t),Fa(),Wa(),v,bb(xm(t)||_m(t)))]},oO=function(t,e){var n=O_(t),i=n===uu;n=i?nu:n;var o=function(t){var e=mb(gb(t));return e.navigation?e.navigation.filter((function(t){return t})):[]}(),a=Hb(),r=pv(t),s=fv(t);return[No({visitorGuid:Sm(t)}),so(wm(t),Sm(t),N.referrer,Fa(),Wa(),v,bb(),km(t),n,i,o,e,a,r,s)]},aO=function(t,e,n,i){var o,a=Im(t,Hm(t)?eo:e),r=a.source;return o=r.type===vu||r.type!==wu&&a.invitationtype===hu,Object.assign({},a,{lastChattedAgents:n,isPrechatDone:o,artifact:i})},rO=function(t){var e=[];return function(t){return lw(t).length}(t)<3&&e.push(To()),function(t){return t.configuration.features.department}(t)&&e.push(Bo()),e},sO=function(t){var e=O_(t),n=jh(t),i=e===au?[]:Ta(ff(t),n),o=km(t),a=wm(t),r=vv(t,mp,a),s=cf(t),c=Gh(t),d=pv(t),l=hv(t),u=Bb().popout,p=bb(),h=p.name,f=p.email,g=p.form,m=or(Sr(r));g&&g.custom&&Object.keys(g.custom).forEach((function(t){var e=r.filter((function(e){return e.label===t}));if(e.length>0){var n=yr(e[0].id);m.custom[n]=m.custom[n]||g.custom[t].join&&g.custom[t].join($i)}}));var w=Object.assign({},m,{name:h,email:f,phone:m.phone||g?g.phone:"",company:m.company||g?g.company:""});return u&&u.ticketId&&!Number.isNaN(+u.ticketId)&&(w.ticketId=+u.ticketId),u&&u.departmentId&&!Number.isNaN(+u.departmentId)&&(w.department=+u.departmentId),Object.assign({chatGuid:bf(t),messages:i,source:Mm(t),requestingPageUrl:o.url,requestingPageTitle:o.title,botId:s&&c?c.id:eo,isChattingWithTaskbot:d,taskbotId:d&&l&&l.id?l.id:eo},w,{maxAgentReadGuid:Ag(t),maxVisitorReadGuid:Bg(t),emailToSendTranscript:Hg(t)})},cO=oo,dO=function(t){return Fo(t,cO.pageVisit)||Fo(t,cO.requestChat)||Fo(t,cO.requestChatFromChatbot)||Fo(t,cO.submitOfflineMessage)||Fo(t,cO.requestChatFromAnotherSite)||Fo(t,cO.showInvitation)},lO=function(t,e){var n=t.split("-"),i=n[0],o=n[1],a=e.split("-"),r=a[0],s=a[1];return i===r&&o!==s},uO=function(t,e){var n=Av(t),i=e.serverInstanceTag,o=e.error.serverInstanceTag;return fh(t)||n&&o&&lO(i,o)&&n===o},pO=function(t,e){var n=function(t){return t.app.lastSuccessTime}(t),i=Date.now()-n<12e4,o=Av(t),a=e.error.serverInstanceTag;return i&&(!o||o&&a&&lO(o,a))},hO=function(t){var e=wm(t),n=Lv(t),i=km(t);return[n&&lo(n,e),co(e,i)]},fO=function(t,e){if(Cv(t))return gO(t,e);if(Fo(e,oo.recoverVisitor))return e;var n=e.type===cO.batchAction?e.actions:e,i=sO(t),o=oO(t,i);if(Fo(e,cO.requestChat)){var a=hO(t);return jo(o.concat(a).concat(n))}return jo(o.concat(n))},gO=function(t,e){if(Fo(e,oo.recoverVisitor))return e;e.type===cO.batchAction&&e.actions;var n=function(t,e){var n=pv(t),i=fv(t);return[No({visitorGuid:Cm(t)}),so(Ov(t),Cm(t),N.referrer,Fa(),Wa(),v,bb(xm(t)||_m(t)),km(t),A_(t)?"transferring":eu,!1,[],e,null,n,i)]}(t,sO(t));return jo(n)},mO=function(t,e,n,i){var o=t.getState;return t.dispatch,function(t){var a=t.input,r=t.error.code,s=o(),c=Fo(a,cO.newVisitor);if(r===tM){if(uO(s,t)&&!dO(a))return t;if(c)throw t;if(pO(s,t)){var d=fO(s,a);return e(d,n,i)}if(dO(a)){var l=function(t,e){var n=e.type===cO.batchAction?e.actions:e,i=iO(t);if(Fo(e,cO.requestChat)){var o=hO(t);return jo(i.concat(o).concat(n))}return jo(i.concat(n))}(s,a);return e(l,n,i)}}else if(r===iM){if(uO(s,t)&&!dO(a))return t;if(pO(s,t)||dO(a)){var u=fO(s,a);return e(u,n,i)}}throw t}},wO=function(t,e,n){var i=_m(n),o=function(t){return E(t,"window.kbConfig.id")}(n),a=[Bh(n),"/"+i+"/"+o+"/articles?keyword="+encodeURIComponent(e)].join("");pM(a).then((function(e){t(Mx(hl,e.output))})).catch((function(){t(Dy())}))},bO=["content"],vO=function(t){return ko(bf(t),xf(t))},_O=function(t){var e=xf(t),n=bf(t),i=hf(t),o=Cr(i);tm(t)&&(o=o.filter((function(t){return t.type!==Oi})));var a=kr(n,i),r=[].concat(o),s=vf(t),c=Og(t,Ov(t)),d=Ff(t),l=Lf(t),u=Wf(t),p=Ag(t),h=Lg(t);if(s){var f=_f(t);r.push({type:Pe,content:f,sender:{type:sp},id:i.length+e+1,guid:Y()})}return a.concat([0===r.length?null:Ao(n,r),(l||u)&&ko(n,e),Uf(t)&&Eo(),c&&d&&!Br(p,h,hf(t))&&Oo(n)])},xO=Object.assign({},BM,zM,((kM={})[vs]=function(t,e){var n,i=t.campaignId,o=Rm(e),a=Em(e);if(o){var r=vv(e,mp,i),s=r.some((function(t){return""!==t.error}));if(!s){var c=Bb().popout;n=or(Sr(r)),c&&c.ticketId&&!Number.isNaN(+c.ticketId)&&(n.ticketId=+c.ticketId),c&&c.departmentId&&!Number.isNaN(+c.departmentId)&&(n.department=+c.departmentId)}}var d=Db();return jo([r_(e)?{type:oo.checkBBSCode}:null,zo(),n&&aO(e,i,d,a),n&&bo(n,i),Object.assign({},aO(e,i,d,a),n?{isPrechatDone:!0}:{}),Hm(e)?Ro():null,zv(e)?{type:oo.getCustomVariables}:null].concat(rO(e),[Io(null),ko(null,-1)]))},kM[Es]=function(t,e){var n=wm(e),i=lv(e);return go(n,i.isManual,i.id)},kM[Zc]=function(t,e){return hh(e)?null:{type:oo.prechatHeartbeat}},kM[Xc]=function(t,e){return hh(e)?null:{type:oo.offlineMessageHeartbeat}},kM[Qc]=function(t,e){if(hh(e))return null;if(!Lh(e))return null;if(fh(e))return null;if(Ff(e)&&Cv(e)&&!Mv(e))return null;var n=qh(e);if(n===hp){var i=Am(e);if(i===bu)return Eo();if(i===vu)return jo([vo(bf(e)),vO(e)])}var o=[];return n===pp&&o.push(Io(bf(e))),jo(o.concat(_O(e)))},kM[Oc]=function(t,e){if(t!==$l)return null;if(hh(e))return null;var n=Zh(e),i=qh(e),o=$h(e);if(n===$u||n===np||n===ip)return{type:oo.closeWindow};if(n===tp){if(i===hp){var a=Im(e,o).source,r=a.type,s=a.invitationId;return ck("livechat.invitation.refuse",s),go(o,r===vu,s)}if(i===pp)return jo([Co(bf(e)),vO(e)])}return null},kM[tl]=function(t,e){return jo([yo(t),Object.assign({},Im(e,$h(e)),{lastChattedAgents:Db(),isPrechatDone:!0,skipSSO:!0})])},kM[ad]=function(t,e){var n=Im(e,$h(e)),i=Db(),o=Ff(e);return jo([wo(t,$h(e)),!o&&Object.assign({},n,{isFromKB:!0,lastChattedAgents:i})])},kM[rd]=function(t,e){return wo(t,$h(e))},kM[Al]=function(t,e){return function(t,e){return{type:oo.setLocation,chatGuid:e,location:t}}(t,bf(e))},kM[Bl]=function(){return{type:oo.getVisitorInfo}},kM[ps]=function(t,e){return jo([t.isManual?(n=t.id,{type:oo.manualInvitationShowed,invitationId:n}):null].concat(rO(e)));var n},kM[sd]=function(t,e){var n=Im(e,$h(e)),i=Db();return Object.assign({},n,{skipSSO:!0,lastChattedAgents:i})},kM[vd]=function(t,e){var n=So(Hm(e)?eo:$h(e),{type:wu,page:km(e)}),i=Db();return jo([zo(_m(e)),Object.assign({},n,{lastChattedAgents:i})])},kM[md]=function(t,e){if(qf(e)){var n=function(t){var e=Mm(t),n=(t.page.requestChatAction||{}).departmentId;return{type:oo.requestChatFromChatbot,departmentId:n,source:e}}(e,$h(e)),i=bf(e);return jo([n,Io(i),Mo(i)])}return null},kM[$c]=function(t,e){var n=bf(e);return jo([xo(n,t),vO(e)])},kM[td]=function(t,e){return function(t,e){return{type:oo.emailTranscript,chatGuid:t,email:e}}(bf(e),t)},kM[Yc]=function(t){return t},kM[ed]=function(t,e){return jo([Co(bf(e)),vO(e)])},kM[bd]=function(t,e){return qf(e)?function(t,e){return Object.assign({type:oo.chatBotAnswerHelpful,chatGuid:t},e)}(bf(e),t):null},kM[wd]=function(t,e){return Ff(e)?t.agentId<=0&&!qf(e)||t.agentId>0&&!function(t,e){var n=mf(t);return 0!==n.length&&!!n.find((function(t){return t===e}))}(e,t.agentId)?null:function(t,e){return{type:oo.chatBotSelectQuestion,chatGuid:t,question:{questionId:e.id,questionName:e.name},clickType:e.clickType,agentId:e.agentId,botId:e.botId||eo,senderType:e.agentId>0?1:3,senderId:e.agentId}}(bf(e),t):null},kM[Hd]=function(t,e){return function(t,e){return Object.assign({type:oo.visitorHandleBotForm,chatGuid:t},e,{senderType:e.agentId>0?1:3,senderId:e.agentId})}(bf(e),t)},kM[qd]=function(t,e){return function(t,e){return Object.assign({type:oo.visitorHandleBotForm,chatGuid:t},e,{senderType:e.agentId>0?1:3,senderId:e.agentId})}(bf(e),t)},kM[Ud]=function(t,e){return function(t,e){return Object.assign({type:oo.setBotVariable},e)}(bf(e),t)},kM[ys]=function(t){return t===np?{type:oo.enterOfflineMessage}:null},kM[ld]=function(t,e){var n=Hm(e)?eo:wm(e);return jo([lo(t,n),Hm(e)?Ro():null,uo(n),po(n)])},kM[lc]=function(t,e){return o_(e)?(ck("livechat.invitation.refuse"),go($h(e),!0)):null},kM[ud]=function(t){var e=t.campaignId,n=t.alreadyCampaignId;return jo([mo(e,n),uo(e)])},kM[cd]=function(t,e){return e.window&&e.window.crossSiteChatTransfer?function(t){return jo([Bv(t)])}(e):function(t){var e=wm(t),n=Sm(t),i=!!Zb(_m(t),bm(t)),o=!lh(t)&&!Mb(Sm(t)).isEmbeddedPoppedOut&&!i,a=Lv(t),r=jv(t),s=Pv(t);return jo([].concat(n?[]:iO(t),[a&&lo(a,e),e!==eo||a?null:Do(),co(e,km(t)),mo(e),uo(e),o?Vo():null,r&&!i&&fo(e),s&&!i&&po(e),Lo()]))}(e)},kM[dd]=function(t,e){return function(t){var e=Hm(t),n=wm(t),i=Lh(t),o=co(n,km(t));if(!i){var a=Pv(t);return jo([o,e?Do():null,e?Ro():null,uo(n),a&&po(n)])}return o}(e)},kM[pd]=function(){return{type:oo.getConfig}},kM[hd]=function(t){return zo(t)},kM[gl]=function(t,e){var n=Db(),i=Im(e,$h(e)),o=Em(e);return Object.assign({},i,{lastChattedAgents:n,isFromKB:!0,artifact:o})},kM[fd]=function(t,e){var n=qh(e)===fp||qh(e)===hp||qh(e)===pp,i=Bg(e),o=ff(e),a=Lg(e),r=t||a,s=bf(e);if(s){if(!Tr(o,a)){var c=jr(o,i);return c&&c!==r&&c!==i&&n?Mo(s,c):null}if(r&&n&&r!==i&&!Br(i,a,o))return Mo(s,r)}return null},kM[gd]=function(){return Lo()},kM[zs]=function(t){return{type:oo.showInvitation,invitationId:t}},kM)),yO=((IM={})[$s]=function(t,e){if(qh(e)===hp){o_(e)?ck("livechat.invitation.accept"):ck("livechat.invitation.accept",Bm(e));var n=Im(e,$h(e)),i=Db();return jo([Object.assign({},n,{isPrechatDone:!0,lastChattedAgents:i})].concat(_O(e)))}return jo(_O(e))},IM),SO=function(t){return function(e){if(e instanceof Error)throw e;return t(e)}},CO=function(t,e){if(!t)return t;var n=Dg(e).chatVersion;return t.actions?(t.actions.forEach((function(t){return Object.assign(t,{chatVersion:n})})),t):Object.assign(t,{chatVersion:n})},kO=function(t){var e=t.isNewWindow,n=function(t){return/^(https?:)?\/\//.test(t)?t:t&&"http://"+t}(t.url);e?V.open(n):z.href=n},IO=function(t){if(/^file:\/\//i.test(t))return"*";var e=t.match(/^[^:]+:\/\/[^/]+/);return e?e[0]:"*"};function MO(t,e,n){var i=IO(e);return{dispatch:function(e){t.postMessage(JSON.stringify(e),i)},subscribe:function(t){var e=function(e){e.origin===i&&t(e)};return(n?V:window).addEventListener("message",e),function(){return(n?V:window).removeEventListener("message",e)}}}}var OO,AO,BO,TO,jO,PO="removeOpener",FO="popin",WO="cobrowese-end",NO="restoreState",VO="getRestoreState",DO=((OO={})[Qu]=Ow,OO[Zu]=Bw,OO[$u]=Bw,OO[np]=Aw,OO[tp]=Ow,OO[ep]=Ow,OO[Xu]=Bw,OO),RO=function(t){null!=t&&(N.title=t)},EO=function(t){return t.window.messages&&t.window.messages.filter((function(t){return t.type!==ei}))},zO=function(t,e){var n=yw(t,e);return n?function(){try{var t=N.getElementById("chat_window_container");if(!t)return null;var e=t.contentWindow.document.querySelector(".whole-window").getBoundingClientRect();return{width:e.width,height:e.height}}catch(t){return null}}()||n:{width:360,height:600}},LO=function(t,e,n){var i=_m(t),o=bm(t),a=km(t),r=a.title,s=a.url,c=Sm(t),d=Bm(t),l=Am(t)||wu,u=["chatwindow.aspx","?siteId="+i,o?"&chatGroup="+o:null,T.version?"&version="+T.version:null,"&planId="+e,"#","&chatSource="+l,d?"&invitationId="+d:null,c?"&visitorGuid="+c:null,dh(t)?null:"&isStandbyServer=1",r?"&title="+encodeURIComponent(r):null,s?"&url="+encodeURIComponent(s):null,"&openType="+n].join(""),p=bh(t,u),h=zO(t,e),f=h.width,g=h.height,m=Math.max(f,380);return{win:V.open(p,""+"$brandingNameChatWindow".replace("$brandingName",V.brandingName)+i,"width="+m+",height="+g+",left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=no,titlebar=no"),url:p}},HO=!1,qO=function(){V.opener&&(V.opener=null),HO=!0,V.close()},UO=function(t,e){return{type:t,time:new Date,content:e,guid:Y(),sender:{type:sp}}};function GO(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function KO(t,e){GO(t,e)||(t.className=t.className+" "+e)}function YO(t,e){if(GO(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}var JO=function(t){var e=Sh(t,"/webrtcSignalingService/signaling.ashx");TO&&e&&TO.start(e)},QO=function(t){var e=Sh(t,"/webrtcSignalingService/signaling.ashx");jO&&e&&jO.start(e)},ZO=function(){TO&&(TO.stop(),TO=null)},XO=function(){jO&&(jO.stopScreenSharing(),jO=null)},$O=((AO={})[Xe]=JO,AO[xn]=JO,AO[Ze]=ZO,AO[$e]=ZO,AO[tn]=ZO,AO[Sn]=ZO,AO[yn]=ZO,AO[_n]=ZO,AO[An]=ZO,AO[Bn]=ZO,AO[sn]=ZO,AO[cn]=ZO,AO[kn]=ZO,AO[Mn]=ZO,AO[On]=ZO,AO[nn]=ZO,AO[an]=ZO,AO[rn]=ZO,AO[In]=JO,AO[on]=JO,AO[ki]=QO,AO[Ii]=XO,AO[Ci]=XO,AO[Mi]=XO,AO[Vi]=XO,AO[Li]=XO,AO[Bi]=QO,AO[Ti]=XO,AO[Ai]=XO,AO[ji]=XO,AO),tA=((BO={})[Xe]="livechat.chat.video.start",BO[xn]="livechat.chat.audio.start",BO[tn]="livechat.chat.video.stop",BO[Sn]="livechat.chat.audio.stop",BO[cn]="livechat.chat.video.stop",BO[Bn]="livechat.chat.audio.stop",BO[On]="livechat.chat.audio.stop",BO[rn]="livechat.chat.video.stop",BO[In]="livechat.chat.audio.start",BO[on]="livechat.chat.video.start",BO[vn]="livechat.chat.audio.request",BO[Qe]="livechat.chat.video.request",BO[Cn]="livechat.chat.audio.request",BO[en]="livechat.chat.video.request",BO[$e]="livechat.chat.video.refuse",BO[yn]="livechat.chat.audio.refuse",BO[an]="livechat.chat.video.refuse",BO[Mn]="livechat.chat.audio.refuse",BO[Ze]="livechat.chat.video.cancel",BO[nn]="livechat.chat.video.cancel",BO[_n]="livechat.chat.audio.cancel",BO[kn]="livechat.chat.audio.cancel",BO[An]="livechat.chat.audio.noanswer",BO[sn]="livechat.chat.video.noanswer",BO),eA=function(t,e){return pf(t).filter((function(t){return t.type===e})).length>0},nA=null,iA=Math.pow(2,31),oA=iA-6,aA=iA-5,rA=iA-4,sA=iA-7,cA=iA-5,dA=sA+1,lA=iA-1,uA=!ot,pA=0===V.location.href.indexOf("https://")||!1,hA="glance_ssn_info";var fA=function(t,e){var n=M(t),i=S(t);return"#glance_cobrowse_btn>:not(#glance_scrim):not(#glance_confirm):not(#glance_msg_box){display:none !important}#glance_cobrowse_btn{z-index:"+lA+' !important}#glance_confirm{width:240px;padding:30px;color:#000 !important;border-radius:4px;background:#fff;font-size:14px;box-shadow:0px 0px 10px rgba(0,0,0,0.2);}#glance_confirm_msg{padding-bottom:20px;}#glance_confirm_msg::before{content:"'+e+'";}#glance_yes,#glance_no{padding:5px 10px;border-radius:3px;text-decoration:none !important;display:inline-block;margin:0 10px !important;font-weight:normal !important;}#glance_yes{background-color:'+n+";color:#"+(i?"#3c3c3c":"#fff")+" !important;border:none !important;}#glance_no,#glance_no:hover{border:1px solid #ccc !important;color:#000 !important;}"},gA="#f1d00f",mA=N.createElement("div");function wA(t){if(!function(t){var e="livechat-test-cookie-key",n="value";N.cookie=e+"="+n+";domain="+t;var i=N.cookie.indexOf(e+"="+n)>=0;return N.cookie=e+"=;domain="+t+";expires=Thu, 01 Jan 1970 00:00:00 GMT;",i}(t))return null;var e=t.split(".");if(e.length<=1)return t;e.shift();var n=wA(e.join("."));return n||t}mA.id="branding-cobrowse-border",Object.assign(mA.style,{position:"fixed",pointerEvents:"none",top:0,bottom:0,right:0,left:0,margin:"auto",borderStyle:"solid",borderWidth:"3px",borderColor:gA}),mA.style.position="fixed";var bA,vA=V.location.search.indexOf("cobrowseDebug")>=0,_A=function(t,e){return bA?(bA.textContent=fA(t,e),Promise.resolve()):at("style",{textContent:fA(t,e)},N.head,(function(){return!0})).then((function(t){bA=t}))},xA=rt((function(t,e){var n={src:t,id:"cobrowsescript","data-groupid":e,"data-site":"production",charset:"UTF-8"},i=wA(V.location.host);return i?n["data-cookiedomain"]=i:n["data-cookietype"]="ls",at("script",n,N.head,(function(){return V.GLANCE}))}));var yA=[],SA=!1,CA=function(t,e){return t.output.payload.find((function(t){return t.type===e})).payload},kA=function(t,e,n,i,o,a){return ZM(t,jo([Vo(),To(),Bo()])).then((function(r){if((CA(r,oo.restoreChat)||{}).guid!==o.chatGuid)throw new Error("try to restore cross site chat but chat guid not match.");return gM(e,o.campaignId,t.replace(/\/visitor.ashx.*$/i,"/campaign.ashx?siteId="+o.siteId+"&campaignId="+o.campaignId),a).then((function(){var t=function(t,e){var n=Object.assign({},e.agents||{});return(CA(t,oo.getAgents)||[]).forEach((function(t){n[t.id]||(n[t.id]=t)})),Object.values(n)}(r,o);t.forEach((function(t,n){return e(Cx({id:t.id,entity:Object.assign({},t,{index:n}),fetchStatus:ju}))}));var a=CA(r,oo.getDepartments);a&&a.forEach((function(t){return e(kx({id:t.id,entity:t,fetchStatus:ju}))})),e(tx(n,o,i))}))}))},IA=function(t,e){var n=yw(t,e);return n?function(){try{var t=document.getElementById("chat_window_container");if(!t)return null;var e=t.contentWindow.document.querySelector(".whole-window").getBoundingClientRect();return{width:e.width,height:e.height}}catch(t){return null}}()||n:{width:360,height:600}};var MA="sso-login",OA="setLocation",AA="closeLocation",BA="customVariableLogin",TA="webViewLinkDone",jA="popoutScreenSharingClose";function PA(t,e){if(!e||0===e.length)return!1;var n=function(t){var e=t.map(a).join("|");return new RegExp("\\b"+e+"\\b","i")}(e);return n.test(t)}var FA;FA=r(s,(function(t){t.dispatch;var e=t.getState;return function(t){var n,i=((n={})[$s]=function(e,n){var i=function(t){return function(t){var e=!1;return{data:t,cancel:function(){e=!0},isCancelled:function(){return e}}}({text:t})}(e.payload.message);!function(t,e){sk[t]&&sk[t].forEach((function(t){try{t(e)}catch(t){}}))}("livechat.chat.visitor.sendText",i),i.isCancelled()||t(e)},n[Gl]=function(e,n){t(Dx(e.payload))},n);return function(n){var o=i[n.type];if(!o)return t(n);o(n,e())}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){var i,o=((i={})[$s]=function(n,i){if(PA(n.payload.message,function(t){return t.configuration.restrictedWords}(i)))throw setTimeout((function(){return e(jS())}),0),new Error(l_(i,"promptRemoveRestrictedWords"));t(n)},i);return function(e){var i=o[e.type];if(!i)return t(e);i(e,n())}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){var o=n();if(i.type===vs&&!i.payload.isRestoreChat&&!jm(o,i.payload.campaignId)){var a=gw(o,i.payload.campaignId);if(a)return kO(a),null}if(i.type===ys&&i.payload===np){var r=$h(o),s=gw(o,r);if(s)return kO(s),s.isNewWindow&&e(By()),e(VS()),null}return t(i)}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){var i=null,o=function(t){return function(e){return t(JSON.parse(e.data))}},a=function(e){var a=e.win,r=e.url;if(!i)var s=(i=MO(a,r,!0)).subscribe(o((function(e){if(e.type===FO)s(),i=null,V.focus(),t(D_(e.payload)),Ob({isEmbeddedPoppedOut:!1},Sm(n()));else if(e.type===WO)try{V.GLANCE.Cobrowse.Visitor.stopSession()}catch(t){}else if(e.type===VO){var o=V.restoreState;i&&i.dispatch({type:NO,payload:o})}})))},r=function(t){i&&i.dispatch({type:FO,payload:t})};return V.addEventListener("beforeunload",(function(t){var e=n();if(lh(e)&&mw(e,wm(e))&&!HO&&!qg(e)){if(sg(e)){var i=l_(e,"audioVideoChangeWindowType"),o=t||V.event;return o.stopPropagation(),o.preventDefault(),o.returnValue=i,i}r(e)}})),V.addEventListener("unload",(function(){sg(n())&&(e(tC()),r(n()))})),function(s){var c=n();if(!c)return t(s);if(s.type===Fc&&null==i&&s_(c))var d=km(c).url||N.referrer,l=(i=MO(V.opener,d,!0)).subscribe(o((function(e){e.type===PO?(l(),V.opener=null,t(j_())):e.type===NO&&t(D_(e.payload))})));if(s.type===ys&&lh(c)&&(RO(l_(c,DO[s.payload])),tt(V.location.href,"ssoInfo"))){var u,p=tt(V.location.href,"ssoInfo");if(s.payload===Zu||s.payload===Xu||s.payload===tp){u=US(p),e(u);var h=V.location.href.substring(0,V.location.href.indexOf("&ssoInfo="));V.history.replaceState(V.history.state,N.title,h)}}if(s.type===cl&&lh(c)){var f=Zh(c);RO(l_(c,DO[f]))}if(s.type===vs){var g=s.payload.campaignId,m=(Mb(Sm(c))||{}).isEmbeddedPoppedOut,w=mw(c,g);if(!lh(c)&&(m||!w)){var b=LO(c,g,vs);return m&&a(b),null}}if(s.type===_s){var v=$h(c);if(!lh(c)){a(LO(c,v,_s)),Ob({isEmbeddedPoppedOut:!0},Sm(c));var _=bf(c);_&&(Vb(_),Pf(c)&&(c.window.messages=EO(c))),i&&V.addEventListener("beforeunload",(function(){i.dispatch({type:PO})})),V.restoreState=c}}if(s.type===xs&&lh(c)){var x=bf(c);return x&&(Vb(x),Pf(c)&&(c.window.messages=EO(c))),r(c),qO(),null}if(s.type===Sl)return i&&i.dispatch({type:WO}),null;if((s.type===zd||s.type===Oc&&s.payload===$l)&&lh(c)){var y=t(s);return y&&y.catch?(Promise.race([y.catch((function(){})),nt(3e3)]).then(qO),null):(qO(),null)}return s.type===Fl&&i&&i.dispatch({type:VO}),t(s)}}}),(function(t){var e=t.getState,n=t.dispatch;return function(t){return function(){var i=B(P().mark((function i(o){var a,r,s,c,d,l,u,p,h,f,g,m;return P().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=function(){var t=B(P().mark((function t(i){var o,a,r;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(nA){t.next=7;break}return t.next=3,it((function(){return import("./p2pChat.f273b3fc.js")}),(function(){n(Zx("Error loading modules. Please refresh the page and try again."))}));case 3:if(o=t.sent,nA=o&&o.default){t.next=7;break}return t.abrupt("return",null);case 7:return a=W(Sh(e(),"/webrtcSignalingService/Statistics")),(r=new nA(Object.assign({},i,{visitorId:Sm(e()),siteId:_m(e()),url:a}))).onevent((function(t,e){if("error"===t)n(tC()),n(eC());else if("start"===t){if(!TO&&!jO)return;if(TO){var i=TO.getRemoteVideo();i&&KO(i,"mediaChatWindow__remoteVideo--loading")}if(jO){var o=jO.getRemoteScreenSharingVideo(),a=jO.getLocalScreenSharingVideoItem();o&&!a&&KO(o,"mediaChatWindow__remoteVideo--loading")}}else if("remoteStreamReceived"===t){if(!TO&&!jO)return;if(TO){var r=TO.getRemoteVideo();r&&YO(r,"mediaChatWindow__remoteVideo--loading")}if(jO){var s=jO.getRemoteScreenSharingVideo();s&&YO(s,"mediaChatWindow__remoteVideo--loading")}}})),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=e(),s=function(){n(eC())},o.type!==Ns){i.next=13;break}if(TO){i.next=8;break}return i.next=7,a({chat:bf(r),actionType:"audioVideo"});case 7:TO=i.sent;case 8:return Wb(bf(r)),TO.requirePermission(!1).then((function(){var e=UO(li,"");n($S([e])),t(o)})),i.abrupt("return",null);case 13:if(o.type!==Vs){i.next=23;break}if(TO){i.next=18;break}return i.next=17,a({chat:bf(r),actionType:"audioVideo"});case 17:TO=i.sent;case 18:return Wb(bf(r)),TO.requirePermission(!0).then((function(){var e=UO(di,"");n($S([e])),t(o)})),i.abrupt("return",null);case 23:if(o.type!==Ds){i.next=34;break}if(t(o),jO){i.next=29;break}return i.next=28,a({chat:bf(r),actionType:"screenSharing"});case 28:jO=i.sent;case 29:return Wb(bf(r)),jO.requireScreenSharingPermission(s).then((function(){if(tm(e()))XO();else{var t=UO(Di,"");n($S([t]))}})).catch((function(){t(OS())})),i.abrupt("return",null);case 34:if(o.type!==Hl){i.next=41;break}return i.next=37,a({chat:bf(r),actionType:"screenSharing"});case 37:(jO=i.sent)&&(jO.setScreenSharingVideoContainers(o.payload),jO.requireScreenSharingPermission(s).then((function(){QO(r);var e=UO(zi,"");n($S([e])),t(o)}))),i.next=42;break;case 41:o.type===_s?(ZO(),XO(),Nb(bf(r))):o.type===xs&&(ZO(),XO());case 42:if(c=t(o),d=e(),l=ag(d),u=ag(r),p=$g(r),h=$g(d),o.type!==jd){i.next=52;break}TO&&TO.hideVideos(),i.next=98;break;case 52:if(o.type!==El){i.next=56;break}jO&&jO.hideScreenSharingVideos(),i.next=98;break;case 56:if(o.type!==Cd){i.next=61;break}Wb(bf(d)),TO&&TO.setVideoContainers(o.payload.localVideoContainer,o.payload.remoteVideoContainer,o.payload.unmuteRemoteContainer),i.next=98;break;case 61:if(o.type!==zl){i.next=65;break}jO&&jO.setScreenSharingVideoContainers(o.payload.localVideoContainer,o.payload.remoteVideoContainer),i.next=98;break;case 65:if(o.type!==Zs){i.next=81;break}if(o.payload.forEach((function(t){f=tA[t.type]})),f&&ck(f),(TO||jO)&&o.payload.forEach((function(t){var e=$O[t.type];e&&e(d)})),TO||l!==ba&&l!==_a){i.next=74;break}return i.next=72,a({chat:bf(d),actionType:"audioVideo"});case 72:(TO=i.sent)&&TO.requirePermission(l===ba).then((function(){return JO(d)}));case 74:if(jO||h!==ka&&h!==Ia){i.next=79;break}return i.next=77,a({chat:bf(d),actionType:"screenSharing"});case 77:(jO=i.sent)&&(h===ka?Promise.resolve().then((function(){return QO(d)})):jO.requireScreenSharingPermission(s).then((function(){return QO(d)})));case 79:i.next=98;break;case 81:if(o.type!==Md){i.next=89;break}if(TO){i.next=86;break}return i.next=85,a({chat:bf(d),localVideoContainer:o.payload.localVideoContainer,remoteVideoContainer:o.payload.remoteVideoContainer,unmuteRemoteContainer:o.payload.unmuteRemoteContainer,actionType:"audioVideo"});case 85:TO=i.sent;case 86:TO&&TO.requirePermission(l===ga).then((function(){var t=UO(ui,l);n($S([t]))})),i.next=98;break;case 89:if(o.type!==Ll){i.next=97;break}if(jO){i.next=94;break}return i.next=93,a({chat:bf(d),remoteScreenSharingVideoContainer:o.payload.remoteVideoContainer,actionType:"screenSharing"});case 93:jO=i.sent;case 94:jO&&Promise.resolve().then((function(){var t=UO(Ri,h);n($S([t]))})),i.next=98;break;case 97:o.type===kd?(ZO(),eA(d,pi)||(g=UO(pi,u),n($S([g])))):o.type===Id?(XO(),eA(d,Ei)||(m=UO(Ei,p),n($S([m])))):o.type===Od?(TO&&TO.unmuteRemote(),jO&&jO.unmuteRemote()):o.type===ql&&(o.payload?jO&&jO.stopScreenSharing():QO(d));case 98:return i.abrupt("return",c);case 99:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()}}),(function(t){var n=t.getState;return function(i){var o=function i(o,a,r){void 0===r&&(r=function(t){return Promise.resolve(t)});var s=jh(n()),c=Fo(o,oo.sendChatMessages);s&&c&&(c.messages=function(t,n){return t.map((function(t){var i=t.content,o=F(t,bO);return Object.assign({content:o.encoding?i:e.Base64.encode(i),encoding:n},o)}))}(c.messages,s)),function(t,e){Fo(e,oo.recoverVisitor)&&(t.dispatch(P_(!0)),t.dispatch(N_(!0)))}(t,o);var d=Av(n());return n().page.isSubmitSSO?null:(function(t,e){Fo(e,oo.submitSSOInfo)&&t.dispatch(mx(!0))}(t,o),ZM(i_(n()),function(t){if(!t)return t;var e=_b();return t.actions?(t.actions.forEach((function(t){return Object.assign(t,{sessionId:e})})),t):Object.assign({},t,{sessionId:e})}(o),a,d).then((function(t){return t})).then(eO(t)).then(r).then((function(e){return SM(t,e),function(t,e){Po((function(e){nO.indexOf(e.type)<0&&t.dispatch(V_()),e.type===oo.recoverVisitor&&t.dispatch(N_(!1))}),e.input)}(t,e),e})).catch(SO((function(t){var e=t.error.code;throw-1!==[tM,iM].indexOf(e)&&t.error.serverInstanceTag,t}))).catch(SO(mO(t,i,a,r))).catch(SO(function(t){var e=t.getState,n=t.dispatch;return function(t){if(t.input.type===oo.getVisitorInfo)n(Ly(null));else if(Fo(t.input,oo.submitSSOInfo))n(Zx(t.error.message));else{var i=t.error.code;if(-1!==[nM,tM,eM,iM].indexOf(i)){var o=e();Lh(o)&&(Lf(o)||qh(o)===hp)&&n(Zx(l_(e(),jw))),n(P_(!1))}else if(1024===i||1032===i)n(B_());else if(7601===i)t.error.message&&n(Zx(t.error.message));else if(4342339===i)n(Zx("Oops.We're getting problems to the chatbot. Please refresh this page to chat with a live agent.")),n(P_(!1));else if(1037===i)n(Zx(t.error.message)),n(P_(!1));else if(9002===i){n(Zx(t.error.message));var a=Fo(t.input,oo.sendChatMessages);a&&n(WS(a.messages))}else{if(Fo(t.input,oo.recoverVisitor))throw t;if(i!==oM){var r=l_(e(),"promptServerException");r&&n(Zx(r.replace("{errorCode}",i)))}else{var s=t.input;s.type===oo.requestChat&&s.isFromKB&&n(Zx(t.error.message))}}}throw t}}(t))).catch(SO(function(t){var e=t.getState,n=t.dispatch;return function(t){var i=t.input;if(!Fo(i,oo.recoverVisitor)||!t.error)throw t;20===e().app.recoverFailTimes&&(n(P_(!1)),n(Zx(l_(e(),jw)))),n(W_()),n(N_(!1))}}(t))).catch(SO(function(t){var e=t.dispatch,n=t.getState;return function(t){throw t.error.code===tM&&ZM(i_(n()),No({visitorGuid:Sm(n()),visitorId:ub()})).catch((function(t){var n=t.error.code;throw 1024!==n&&1032!==n||e(B_()),t})),t}}(t))).catch(SO(function(t){var e=t.dispatch,n=t.getState;return function(t){if(2003===t.error.code){var i=t.error,o=i.ssoServiceUrl,a=i.artifactServiceUrl,r=i.issuer,s=n(),c=_m(s),d=Em(s)||"",l=xh(s,(d?a:o)+"?siteId="+c+"&issuer="+r+"&artifact="+d+"&cookieId="+Sm(s)),u=Ug(s);e(dy()),e(jx(l,"showPrelogin"===u)),e(Tx(Xu))}throw t}}(t))).catch(SO((function(e){throw 1===e.error.code&&t.dispatch(Ky()),e}))))},a=function(t,e,n,a,r){return o(e,null,n).catch((function(e){var n=e.message;if(e.error&&318===e.error.code){var o=d_(r,wm(r));n=U[o].recaptchaFailure}throw i(IC(t)),i(Zx(n)),a&&a(n),e}))};return function(t){t.type===ul?wO(i,t.payload,n()):t.type===pl?function(t,e,n){var i=e.link;t(Mx(fl,{url:i}))}(i,t.payload,n()):t.type===vd&&i(t);var e=xO[t.type];if(e){var r=e(t.payload,n());if(r){CO(r,n());var s=o(r);if(t.type===pd||t.type===cd||t.type===Zc||t.type===ud||t.type===hd)return s;if(t.type===Oc&&t.payload===$l&&lh(n()))return s;if(t.type===vd)return s}return i(t)}if(t.type===Jc)return hh(n())||(o(fo(wm(n()))),function(t){return Object.keys(t.page.buttons)}(n()).forEach((function(t){return o(function(t){return{type:oo.getIfOnline,campaignId:t}}(t))}))),null;if(t.type===tc){var c=t.payload.file;if(!c)return null;if(Pf(n()))return null;var d=Mh(n()),l=Kf(n()),u=function(t){return t.configuration.attachmentMaxCount}(n()),p=p_(n()),h=g_(n());return l>=u?(i(ry(Ip,{fileCount:u})),Promise.resolve()):c.size>d*Math.pow(2,20)?(setTimeout((function(){i(ry(yp,{fileSize:d}))}),1e3),Promise.resolve()):0===c.size?(i(ry(Sp)),Promise.resolve()):(i(t),o(_o(!0,bf(n()))).then((function(e){var a=e.output.payload,r=h_(n()),s=function(e){return o(function(t,e,n,i,o,a,r,s){return ao({type:oo.sendFile,chatGuid:e,visitorGuid:i,siteId:n,fileServiceUrl:o,standbyFileServiceUrl:a,token:r,fileName:s},t)}(e,t.meta,_m(n()),Sm(n()),p,h,a,t.payload.fileName),(function(e,n){return i(Ox(t.payload.fileName,e,n))})).then((function(t){var e=t.output;return i(Ax(e))})).catch(SO((function(t){var e=t.error;return i(Bx(e))}))).catch((function(t){return i(Bx({message:t.message}))}))};return r&&Wr(c)?zr(c).then((function(t){return s(t)})):s(c)})).catch(SO((function(t){var e=t.error;return i(Bx(e))}))).catch((function(t){return i(Bx({message:t.message}))})))}if(t.type===od){var f=t.payload,g=f.form,m=f.onSuccess,w=f.onError,b=Im(n(),$h(n())),v=Object.assign({},b,{lastChattedAgents:Db(),ticketId:g.ticketId||b.ticketId,departmentId:null==g.department?b.departmentId:void 0,isPrechatDone:!0,skipSSO:!0});a(mp,jo([bo(g,$h(n())),v]),m,w,n())}else if(t.type===nd){var _=n(),x=kv(_),y=x&&x.campaignId?x.campaignId:$h(_),S=t.payload,C=S.form,k=S.onSuccess,I=S.onError,M=bf(_),O=Object.assign({},Om(_));M&&(O.chatGuid=M);var A=function(t){var e=t&&{name:t.name,fileKey:t.key};a(bp,function(t,e,n){return{type:oo.submitOfflineMessage,campaignId:t,form:e,source:n}}(y,Object.assign({},C,{attachment:e}),O),k,I)};if(C.attachment){var B=function(t,e,n,i){var o=vv(t,bp,n);if(o&&o.length>0){var a=o.filter((function(t){return t.type===i}));if(a.length>0)return a[0]}return""}(n(),0,y,ta),T=C.attachment,j=function(t){return o(_o(!1)).then((function(e){var a=e.output.payload;o(function(t,e,n,i,o,a){return ao({siteId:e,fileServiceUrl:n,standbyFileServiceUrl:i,token:a,fileName:o.name},o)}(0,_m(n()),p_(n()),g_(n()),t,a)).then((function(t){var e=t.output;return A(Object.assign({},e))})).catch((function(t){t.input;var e=t.error;i(IC(bp)),i(xC(bp,B.id,e.message))}))})).catch((function(t){t.input;var e=t.error;i(IC(bp)),i(xC(bp,B.id,e.message))}))};h_(n())&&Wr(T)?zr(T).then((function(t){return j(t)})):j(T)}else A()}else if(t.type===id){var P=bf(n()),F=t.payload,W=F.form,N=F.onSuccess,V=F.onError;a(wp,function(t,e,n){return{type:oo.submitPostChat,chatGuid:t,form:e,campaignId:n}}(P,W,tf(n())),N,V).then((function(){return i(Tx(tp))}))}var D=i(t),R=yO[t.type];if(R){var E=R(t.payload,n());CO(E,n()),E&&o(E)}return D}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){if(!n())return t(i);var o,a=xm(n());if(i.type===ls){var r=i.payload,s=r.guid,c=r.ifNewVisitor,d=r.sessionId,l=r.migrationInfo,u=r.persistentVisitor;if(s&&(fb(s,a),zw(lb())),d&&vb({sessionId:d},a),c){var p=bb(a),h=p.firstVisitTime,f=p.visitTimes;vb({firstVisitTime:h||(new Date).getTime(),visitTimes:(f||0)+1},a)}u&&vb({persistentVisitor:u},a),l&&vb(Object.assign({},l),a)}if(i.type===fs&&i.payload&&function(t,e){var n=mb(gb(e)).navigation||[];rb.setItem(gb(e),JSON.stringify(Object.assign({},bb(e),{navigation:n.concat(t)})))}(i.payload,a),i.type===gs&&(o=a,rb.setItem(gb(o),JSON.stringify(Object.assign({},bb(o),{navigation:[]})))),i.type===td){var g=bb(a),m=g&&g.form&&void 0!==g.form.email?Object.assign({},g.form,{email:i.payload}):{};void 0!==m.email?vb({email:i.payload,form:m},a):vb({email:i.payload},a)}if(i.type===ys&&i.payload===$u){var w,b=hw(n(),$h(n())).routeDepartment;b&&(w={department:b});var v=bb(a),_=nf(n());w=Object.assign({},!_.isForgetPrechat&&v?v.form:{},w,lh(n())?II():{}),Object.keys(w).length>0&&t(OC(w))}if(i.type===ys&&i.payload===np){var x,y=hw(n(),$h(n())).routeDepartment;y&&(x={department:y});var S=bb(a);(x=Object.assign({name:S.name?S.name:"",email:S.email?S.email:""},S?S.form:{},x,lh(n())?II():{}))&&t(OC(x))}if(i.type===ps){var C=i.payload;if(C.isManual&&C.chat){var k=C.chat.guid,I=yb(k,a),M=I.windowStatus,O=I.maxReadId;if(M){var A=t(Object.assign({},i,{payload:Object.assign({},i.payload,{windowStatus:M})}));return null!=O&&e(ky(O)),A}}}var B=n(),T=Lf(B),j=t(i),P=n();if(a=_m(P),i.type===tl||i.type===nl){var F=bb(),W=F||{},N=W.name,V=W.email,D=Object.assign({},i.payload);F&&F.form?vb({name:D.name&&D.name!==N?D.name:N||"",email:D.email&&D.email!==V?D.email:V||"",form:Object.assign({},F.form,{name:F.form.name&&D.name?D.name:N||"",email:F.form.email&&D.email?D.email:V||""})},a):vb({name:D.name&&D.name!==N?D.name:N||"",email:D.email&&D.email!==V?D.email:V||""},a)}if(i.type===nl&&mp===i.meta&&!nf(P).isForgetPrechat){var R=Object.assign({},i.payload);delete R.department,delete R.ticketId,delete R.captcha,vb({form:R},a)}var E=Lf(P),z=bf(P);if(!T&&E){var L=ym(P);L!==Ql&&L!==Xl&&L!==Zl||kb(z,{windowStatus:L},xm(P))}if(i.type===Oc){var H=i.payload===Xl||i.payload===Ql||i.payload===Zl,q=o_(P);(E||q)&&H&&kb(z,{windowStatus:i.payload},xm(P))}if(i.type===qc||i.type===Oc||i.type===Zs||i.type===ll){var U=Cf(B),G=Cf(P);U!==G&&kb(z,{maxReadId:G},xm(P))}return i.type===Zs&&i.payload.forEach((function(t){var e=t.content,n=t.type;if(n!==Ne&&n!==Hn||function(t,e){var n=bb(e)||{},i=n.chatTimes;n.lastChatGuid!==t&&vb({chatTimes:(i||0)+1,lastChatGuid:t},e)}(bf(P),a),n===Re||n===Ne||n===qe){if(e.agent){var i=bf(P);kI!==i&&(kI=i,vb({lastChattedAgents:[]},void 0)),function(t,e){var n=(bb(e)||{}).lastChattedAgents||[];if(-1===n.indexOf(t)&&Number.isNaN(Number(t))){var i=n.concat([t]);vb({lastChattedAgents:i},e)}}(e.agent.id)}}else n===De&&e.agent&&function(t,e){var n=(bb(e)||{}).lastChattedAgents||[];if(-1!==n.indexOf(t)){var i=n.filter((function(e){return e!==t}));vb({lastChattedAgents:i},e)}}(e.agent.id);n===ve||n===Ve?Kb():n===Pn&&Hb()!==e.ssoInfo&&(Lb(e.ssoInfo),Gb())})),i.type===Hc&&Kb(),i.type===Lc&&(i.payload?rb.setItem(eb,!0):rb.removeItem(eb)),j}}}),(function(t){t.dispatch;var e=t.getState;return function(t){return function(n){var i=e();if(n.type===Fc){var o=_m(i),a=bm(i),r=Zb(o,a);if(r){var s=yb(r.chatGuid,r.siteId),c=wm(i);n_(r),function(t,e,n,i,o){var a=n_(i);return kA(a,t,e,n,i,o).catch((function(a){var r=a&&a.error&&a.error.code;if(r===oM||r===nM){var s=n_(i);return kA(s,t,e,n,i,o)}throw a}))}(t,c,s,r,i).then((function(){t(n)})).catch((function(e){Jb(o,a),t(n)}))}else t(n)}else n.type===Pl?(n.payload.window.crossSiteChatTransfer&&Qb(_m(n.payload),bm(n.payload),kv(n.payload)),t(n)):t(n)}}}),(function(t){var e=t.getState;return function(t){var n=function(t,e){var n=$((function(){return e(jy())}),1e4,!1);return function(e){var i=e.type,o=e.sender,a=e.content,r=t();if(i===Le)n();else if(i===Re||i===Ne||i===qe){var s=a.agent;ck("livechat.chat.agent.join",s)}else if(i===Ee||i===He){var c=dw(r,o.id);ck("livechat.chat.agent.transfer",c)}else if(i===De){var d=dw(r,o.id);ck("livechat.chat.agent.leave",d)}}}(e,t);return function(e){var i=t(e);return e.type===Zs&&e.payload.forEach(n),i}}}),(function(t){return function(e){return function(n){var i=t.getState(),o=gh(t.getState());n.type===Lc&&n.payload&&WI.stop(e_(i,jI)),n.type!==_s&&n.type!==xs||WI.stop(e_(i,jI));var a=e(n),r=t.getState();if(!ch(r))return null;var s=function(t){var e=nf(t);return e&&e.notification}(r),c=Cf(i);if(n.type===Hc&&ck("livechat.chat.end"),n.type===Zs){var d=qh(i),l=qh(r);d!==l&&(l===fp?ck("livechat.chat.start",bf(r)):l===gp&&ck("livechat.chat.end"));var u=0,p=0,h=0,f=0;n.payload.forEach((function(t){if(dr(t)&&t.id&&!(t.id<=c)&&(pr(t.type)&&(p+=1),hr(t.type)&&(f+=1),!v||t.type!==Cn&&t.type!==vn&&t.type!==en&&t.type!==Qe||(u+=1),!v||t.type!==Oi&&t.type!==Si&&t.type!==Pi?pr(t.type)&&t.type!==In&&t.type!==on&&t.type!==xn&&t.type!==Xe?o||NI(e_(r,PI)):hr(t.type)&&t.type!==Bi&&t.type!==ki?o||NI(e_(r,"screensharing-end")):t.type!==ln&&t.type!==pn&&t.type!==fn&&t.type!==hn&&t.type!==dn&&t.type!==wn&&(o||NI(e_(r,"new-response"))):h+=1,t.type!==Ne)){if(t.sender.type===cp){var e=null;switch(t.type){case En:e=Z(function(t){var e=t.content.intentAnswers[0];return e.type===uk?DI(e.content):e.type===hk||e.type===wk?e.content.name:e.type===fk?"[Video]":e.type===bk?DI(e.content.text):e.content.text}(t),0,48);break;case Un:e=t.content.message+" "+t.content.signInText;break;case Gn:case Qn:case Jn:e=t.content.message}if(null!=e){var n=bh(r,"/visitorside/images/logo60.png");return Ph(r)&&(n=""),void VI(e,n)}}if(s){var i="string"==typeof t.content?t.content:t.content.text,a=bh(r,"/visitorside/images/logo60.png");Ph(r)&&(a=""),VI(i,a)}}})),(u>0||p>0)&&(u>p?o||WI.play(e_(r,jI),!0):WI.stop(e_(r,jI))),(h>0||f>0)&&(h>f?o||WI.play(e_(r,FI),!0):WI.stop(e_(r,FI)))}var g=kg(i),m=kg(r),w=Cg(i),b=Cg(r)||m;if(g||!m||o?g&&!m&&WI.stop(e_(r,jI)):WI.play(e_(r,jI),!0),(w||g)&&!b&&r.window&&(o||NI(e_(r,PI))),s&&Ff(r)&&!Ff(i)&&TI(),n.type===ds){var _=n.payload.campaignId;if(jm(i,_)!==jm(r,_)){var x=hw(r,n.payload.campaignId),y=jm(r,_);ck(y?"livechat.button.online":"livechat.button.offline",x)}}if(n.type===_d){var S=gf(i),C=gf(r);C.position===S.position&&C.waitTime===S.waitTime||ck("livechat.chat.waitingQueue.update",C)}return a}}}),(function(t){var e=t.getState,n=t.dispatch,i=function(){var t=Ew(hA),e="";try{e=JSON.parse(decodeURIComponent(t)).ssnid.split(".")[2]}catch(t){}n(dC(e))},o=function(){n(hC())},a=function(t){var e=t&&t.enabled;mA.style.borderColor=e?"#cd0808":gA},r=function t(r){var s=V.GLANCE.Cobrowse.Visitor;try{s.removeEventListener("sessionend",t),s.removeEventListener("sessionstart",i),s.removeEventListener("rc",a),s.removeEventListener("error",o),N.body.removeChild(mA)}catch(t){}e().window&&n(hC())},s=function(t,e,n,s,c){var d=function(){var t=Ew(hA);if(!t)return null;try{return JSON.parse(decodeURIComponent(t))}catch(t){return null}}(),l=!c;if(l&&!d){var u={ssnid:e+"."+n+"."+s,R:1,yb:!0,Od:!1,Fa:[wA(V.location.host)],boxstate:3,expanded:!1};Lw(hA,encodeURIComponent(JSON.stringify(u)))}return xA(t,e).then((function(){var t=V.GLANCE.Cobrowse,e=t.VisitorUI,s=t.Visitor;try{e.showButton(!0),l||s.startSession(n),s.addEventListener("sessionend",r),s.addEventListener("sessionstart",i),s.addEventListener("rc",a),s.addEventListener("error",o),yA.forEach((function(e){try{var n,i=e[0],o=e[1],a=e.slice(2);(n=t[i])[o].apply(n,a)}catch(t){}})),N.body.appendChild(mA)}catch(t){}yA=[]}))};return function(t){return function(i){var o=e(),a=Cg(o),r=kg(o),c=t(i),d=e(),l=Cg(d),u=kg(d),p=function(t){return!lh(t)}(d),h=p&&uA&&pA;if(SA&&Gv(d)){var f=of(d),g=b_(d);_A(f,g),SA=!1}if(!r&&u&&(h||(t(Uy()),uA?p?pA||n(fC()):n(uC()):n(pC()))),!a&&l){var m=function(t){return t.window.cobrowseSessionCode}(d),w=function(t){return t.window.cobrowseGroupId}(d),b=function(t){return t.window.cobrowseCallId||""}(d),v=vA?mh(e(),"cobrowse/GlanceCobrowseLoader_3.3.0M.js"):"https://www.glancecdn.net/cobrowse/CobrowseJS.ashx?group="+w+"&site=production";if(h){if(Gv(d)){var _=of(d),x=b_(d);_A(_,x)}else SA=!0;s(v,w,m,b,r)}}if(a&&!l&&d.window)if(V.GLANCE){var y=V.GLANCE.Cobrowse.Visitor;try{y.stopSession()}catch(t){}}else lh(d)&&s_(o)?n(Gy()):yA.push(["Visitor","stopSession"]);return c}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){var o,a=n();if(i.type!==bc||Gg(a)){if(i.type===vc){var r=rf(a),s=tt(r,"returnUrl"),c=V.location.href.replace("#",""),d=decodeURIComponent(s)+(s.indexOf("?")>0?"&":"?")+"return="+encodeURIComponent(c),l=Gm(a),u=l?"&jwt="+l:"";z.href=r.substring(0,r.indexOf("returnUrl="))+"returnUrl="+encodeURIComponent(d)+u}}else{var p=_m(a),h=rf(a),f=window.location.href.match(/^[^:]+:\/\/[^/]+/)[0],g=h+encodeURIComponent("?target="+f),m=Gm(a),w=g+"&color=ffffff"+(m?"&jwt="+m:""),b="",v=tt(h,"returnUrl");v&&(b=v.match(/^[^:]+:\/\/[^/]+/)[0]);var _=wm(a),x=IA(a,_),y=x.width,S=x.height,C=Math.max(y,380);V.open(w,""+l_(a,Bw)+p,"width="+C+",height="+S+",left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=no,titlebar=no");var k=(o=b,{subscribe:function(t){var e=function(e){var n=o.match(/^[^:]+:\/\/[^/]+/)[0];e.origin===n&&t(e)};return V.addEventListener("message",e),function(){return V.removeEventListener("message",e)}}}),I=k.subscribe((function(t){if(t.data){var n=JSON.parse(t.data);"sso-login"===n.type&&(e(US(n.payload)),I(),k=null)}}))}return t(i)}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){var i=null;return function(o){var a=n(),r=bf(a),s=Sm(a);if(o.type===ql){if(o.payload){var c=function(t){var e=_m(t),n=bf(t),i="html/screensharing.18e80663e3d726905cdab542ad34bc072d43e5e3.html?siteId="+e+"&visitorId="+Sm(t)+"&chatId="+n+"&target="+encodeURIComponent(window.location.href),o=bh(t,"/visitorside/"+i);return{win:V.open(o,""+l_(t,"screensharing")+e,"left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=0,titlebar=no"),url:o}}(a),d=c.win,l=c.url,u=(i=MO(d,l,!0)).subscribe((function(t){if(t.data){var n=JSON.parse(t.data);if("popoutScreenSharingLoaded"===n.type){var o=ah(a),c=c_(a,o);i&&i.dispatch({type:"popoutScreenSharingInit",payload:{title:c.viewAgentSharedScreen.replace("{agent}",im(a)),popInLabel:c.embeddedWindowPopin,refuseLabel:c.visitorLeavesScreenSharing,webrtcUrl:Sh(a,"/webrtcSignalingService/signaling.ashx")},meta:{chatId:r,visitorId:s}})}"popoutScreenSharingEnd"===n.type?(e(eC()),u(),i=null):"popinScreenSharing"===n.type&&(e(TS(!1)),u(),i=null)}}));V.addEventListener("beforeunload",(function(){i&&i.dispatch({type:jA,meta:{chatId:r,visitorId:s}})}))}}else o.type===Zs?o.payload.forEach((function(t){t.type!==Mi&&t.type!==Li&&t.type!==ve||i&&i.dispatch({type:jA,meta:{chatId:r,visitorId:s}})})):o.type===Wc&&am(a)&&(e(eC()),i&&i.dispatch({type:jA,meta:{chatId:r,visitorId:s}}));return t(o)}}}));var WA="$brandingName Live Chat".replace("$brandingName",V.brandingName);function NA(t){var e=V.GoogleAnalyticsObject;if(e){var n=V[e];try{for(var i=n.getAll(),o=0;o<i.length;o+=1)n(i[o].model.data.ea[":name"]+".send","event",WA,t,t,0)}catch(t){}}else V._gaq&&V._gaq.push(["_trackEvent",WA,t,t]);V.gtag&&V.gtag("event",t,{event_category:WA,event_label:t})}var VA=K(NA,"Chat"),DA=K(NA,"Pre-chat"),RA=K(NA,"Offline-Message"),EA=K(NA,"Invitation"),zA=K(NA,"Post-Chat"),LA=K(NA,"Online Button Click"),HA=K(NA,"Offline Button Click"),qA=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.getChildContext=function(){return this.props.context},n.render=function(){return u(this.props.children)[0]},e}(p),UA=function(t,e){return{unmount:function(){for(var t=0;t<e.children.length;t+=1)e.removeChild(e.children[t])},render:function(n,o){var a;a=Array.isArray(n)?1===n.length?n[0]:i("div",null,n):n;var r=i(qA,{context:t.context},a);l(r,e),"function"==typeof o&&o()}}},GA=function(t,e){return"string"==typeof e?t[e]:e.reduce((function(t,e){return void 0===t?t:t[e]}),t)},KA=function(t,e,n,i){return void 0===i&&(i={}),n.some((function(n){var o=!1,a=GA(t[e],n),r=GA(i,n);return r instanceof Date&&a instanceof Date?o=JSON.stringify(r)!==JSON.stringify(a):r!==a&&(o=!0),o}))},YA=function(t){var e=t.split(".");return 1===e.length?t:e},JA=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);var i=e.map(YA),o=n.map(YA);return function(e,n){return KA(t,"props",i,e)||KA(t,"state",o,n)}},QA=function t(e){return e.parentNode?t(e.parentNode):e};function ZA(t){return t}var XA=function(t){function e(e){var n;return n=t.call(this,e)||this,e.enableGa?n.update=n.update.bind(ct(n)):n.update=function(){},n.componentDidMount=n.update,n.componentDidUpdate=n.update,n.shouldComponentUpdate=JA(ct(n),["invitation","windowTab","chatStatus"]),n}st(e,t);var n=e.prototype;return n.update=function(){var t=this.props;if(t.invitation||t.chatStatus===hp)EA();else{var e=this.props.windowTab;if(e===tp){var n=this.props.guid;(yb(n)||{}).gaChat||(kb(n,{gaChat:!0}),VA())}e===$u&&DA(),e===np&&RA(),e===ep&&zA()}},n.render=function(){return i("div",null)},e}(p),$A=["name","children"],tB=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.name;t.children;var n=F(t,$A),i=N.createElement(e);Object.keys(n).forEach((function(t){i[t]=n[t]})),N.head.appendChild(i)},n.shouldComponentUpdate=function(){return!1},n.render=function(){return i("div",null)},e}(p),eB="render",nB=function(t,e){return function(n){return function(o){function a(e,n){var i;i=o.call(this,e,n)||this;var a=n&&n[eB]?n[eB]():{};return i.replacer=a[t],i}st(a,o);var r=a.prototype;return r.componentDidMount=function(){if(this.useOrigin=!this.replacer,!this.useOrigin){var t=this.replacer(e?this.props[e]:void 0);t?(this.element.innerHTML="",this.element.appendChild(t)):this.useOrigin=!0}},r.shouldComponentUpdate=function(){return this.useOrigin},r.render=function(){var t=this;return this.replacer?i("div",{ref:function(e){t.element=e}},i(n,this.props)):i(n,this.props)},a}(p)}},iB=function(t,e){return function(n){var o;function a(){if(this.useOrigin=!this.replacer,!this.useOrigin){var t=this.replacer();t?(this.element.innerHTML="",this.element.appendChild(t)):this.useOrigin=!0}}var r=((o={})[$u]="livechat.prechat."+t,o[tp]="livechat.chat."+t,o[ep]="livechat.postChat."+t,o[np]="livechat.offlineMessage."+t,o),s=["livechat.postChat.greeting","livechat.postChat.form","livechat.postChat.submit"];function c(t,e,n){var i=r[e];if(!n||!s.includes(i))return i?t[i]:void 0}return function(t){function o(e,n){var i;(i=t.call(this,e,n)||this).apis=n&&n[eB]?n[eB]():{},i.replacer=c(i.apis,e.tab,e.ifCrossSiteTransfer),i.useOrigin=!0;var o=a.bind(ct(i));return i.componentDidMount=o,i.componentDidUpdate=function(t){t.tab!==i.props.tab&&o()},i}st(o,t);var r=o.prototype;return r.componentWillReceiveProps=function(t){t.tab!==this.props.tab&&(this.useOrigin||(this.element.innerHTML="",this.useOrigin=!0),this.replacer=c(this.apis,t.tab,t.ifCrossSiteTransfer))},r.shouldComponentUpdate=function(){return this.useOrigin},r.render=function(){var t=this;return i("div",{ref:function(e){t.element=e},className:e},i(n,this.props))},o}(p)}},oB=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.getChildContext=function(){var t;return(t={})[eB]=this.props.getRender,t},n.render=function(){return u(this.props.children)[0]},e}(p),aB="*,.innerIcon,::after,::before{box-sizing:border-box}html{margin:0;font-size:15px}body{margin:0;font-family:\"SourceSans Pro\",'',Arial;line-height:1.42857143;overflow:hidden}.chatButtonMask{position:fixed;right:25px;bottom:0;width:60px;height:100px;z-index:9}.chatButtonContainer--mobile.chatButtonMask{right:0;bottom:0;width:100px;height:100px}.chatButton,.chatButton::after,.chatButtonContainer{width:60px;height:60px;border-radius:100%}.chatButtonContainer{position:fixed;bottom:25px;right:25px;z-index:2147483636}.chatButton{position:absolute;right:0;bottom:0;box-shadow:0 3px 25px rgba(0,0,0,.3)}.chatButtonMask.chatButtonContainer--mobile .chatButton{right:25px;bottom:25px}.chatButtonMask .chatButton{bottom:25px}.chatButton::after,.chatButton::before{display:block;top:0;bottom:0;position:absolute;right:0;left:0}.chatButton:hover{box-shadow:0 3px 10px rgba(0,0,0,.3);transition:box-shadow .4s cubic-bezier(.785,.135,.15,.86);cursor:pointer;will-change:transform}.chatButton:focus{outline:#000001 auto 5px}.chatButton::after{content:''}.chatButton::before{content:'';border-radius:50%}.chatButton--ripple::before{animation:at-ripple 16.417s linear 3.625s infinite}.chatButton__svg-chat{position:absolute;left:13px;top:14px;z-index:9}.chatButton__svg-chat-path{stroke-width:0;fill:#00000b}.chatButton__svg-container{position:absolute;left:12px;top:12px;z-index:9;width:36px;height:36px}.chatButton__svg-container svg{fill:#00000b;width:100%;height:100%}.offline .chatButton__svg-chat-path{fill:#fff}.chatButton--scaleAnimation .chatButton__svg-chat-path{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:dash,fillIn;animation-duration:417ms,167ms;animation-delay:625ms,1.042s}@keyframes dash{from{stroke-dashoffset:120}to{stroke-dashoffset:0}}@keyframes fillIn{from{fill-opacity:0}to{fill-opacity:1}}.dot__element{display:inline-block;width:3px;height:3px;margin-left:3px;border-radius:100%;position:relative}.dot__element:first-child{margin-left:0}@keyframes dot--animation{0%{opacity:0;transform:translateY(-35px)}100%{opacity:1;transform:translateY(0)}}.dot--animation{animation-name:dot--animation;animation-delay:1.209s}@keyframes xAxis{100%{transform:translateX(-170px)}}@keyframes yAxis{78%{transform:translateY(-185px) translateZ(0) scale(8.97,8.97);background-color:transparent}89%{transform:translateY(-185px) translateZ(0) scale(10.235,10.235);background-color:transparent}100%{transform:translateY(-185px) translateZ(0) scale(11.5,11.5);background-color:transparent}}.chatButton--avatar .chatButton{box-shadow:none;z-index:1}.chatButton--avatar::after{content:'';display:block;width:60px;height:60px;border-radius:100%;background-repeat:no-repeat;background-size:cover;box-shadow:0 1px 6px rgba(0,0,0,.3)}.chatButton--avatar .chatButton::after{background:0 0!important}.chatButton--avatar .chatButton .chatButton__svg-chat,.chatButton--avatar .chatButton__svg-container{display:none}.chatButton--newMessage{position:absolute;right:0;top:4px;z-index:9;width:16px;height:16px;line-height:16px;background:rgba(222,57,57,.9);border-radius:100%;color:#fff;text-align:center;font-size:.8rem;animation:newincoming .4s cubic-bezier(.785,.135,.15,.86) both}@keyframes newincoming{0%{transform:scale(0)}75%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%,8.631%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}.at-ripple{animation-name:at-ripple}.svg-container{width:60px;height:60px;position:absolute;z-index:9;left:0;top:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.chatButton--avatar .svg-container{display:none}.innerDotContainer,.outIcon{-ms-transform:scale(1);transform:scale(1);position:absolute;top:16px;left:14px;width:32px;height:32px}.innerIcon{-ms-transform:scale(1) translate(0,0);transform:scale(1) translate(0,0);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.moveIn .outIcon{-ms-transform:scale(1.15);transform:scale(1.15);-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:transform 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerDotContainer{-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:opacity 150ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveOut .outIcon{-ms-transform:scale(1);transform:scale(1);-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:transform 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerIcon,.moveOut .innerIcon{transition:all 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerIcon{opacity:0;-ms-transform:scale(0);transform:scale(0);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.moveOut .innerIcon{opacity:1;-ms-transform:scale(1);transform:scale(1);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.innerDot{-ms-transform:scale(0);transform:scale(0);animation-name:bounce;-webkit-animation-name:bounce;animation-duration:.8s;-ms-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box;animation-timing-function:cubic-bezier(0,0,1,1);animation-fill-mode:both;animation-iteration-count:1;position:absolute}.innerDot:nth-child(1){animation-delay:60ms;left:5px}.innerDot:nth-child(2){animation-delay:120ms}.innerDot:nth-child(3){animation-delay:180ms}@keyframes bounce{0%,100%,66.67%{transform:translate(0,0)}6.67%{transform:translate(0,-4px)}13.33%,20%{translate:translate(0,-6px)}26.67%{transform:translate(0,-3px)}33.33%{transform:translate(0,-1px)}40%{transform:translate(0,2px)}46.67%{transform:translate(0,1px)}53.33%{transform:translate(0,-1px)}}.chatButtonHighContrast .chatButton{border:1px solid}.chatButtonHighContrast .chatButton__svg-chat-path{fill:currentColor}@media (forced-colors:active){.chatButton{border:1px solid}.chatButton__svg-chat-path{fill:currentColor}}@media (prefers-contrast:more){.chatButton{border:1px solid}.chatButton__svg-chat-path{fill:currentColor}}",rB=function(t){function e(e){var n;(n=t.call(this,e)||this).title=N.title,n.flag=!0,n.flashTitle=n.flashTitle.bind(ct(n)),n.resetTitle=n.resetTitle.bind(ct(n));var i=n.updateTitle.bind(ct(n));return n.componentDidMount=i,n.componentDidUpdate=i,n.shouldComponentUpdate=JA(ct(n),["message"]),n}st(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this.timer&&this.resetTitle()},n.flashTitle=function(){var t=this;this.timer=setTimeout((function(){t.flag&&N.title!==t.title&&(t.title=N.title),N.title=t.flag?t.message+" - "+t.title:t.title,t.flag=!t.flag,t.flashTitle()}),1e3)},n.updateTitle=function(){var t=this.props.message;-1===N.title.indexOf(this.message)&&this.title!==N.title&&(this.title=N.title),t?(this.timer||(this.flag=!0,this.flashTitle()),this.message=t):this.resetTitle()},n.resetTitle=function(){clearTimeout(this.timer),this.timer=null,N.title=this.title},n.render=function(){return i("div",null)},e}(p),sB=function(t,e,n){var i=[].concat(e),o=n?[].concat(n):[];i.forEach((function(e,n){e!==o[n]&&function(t,e,n){var i=t.head;if(i){var o=i.querySelector("style#"+e);o||((o=t.createElement("style")).id=e,i.appendChild(o)),o.innerHTML=n}}(t,"id-"+n,i[n])}))},cB=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props.css;this.doc=QA(this.div),sB(this.doc,t)},n.componentDidUpdate=function(t){var e=this.props.css,n=t.css;e!==n&&sB(this.doc,e,n)},n.componentWillUnmount=function(){var t=this.props.css;!function(t,e){var n=[].concat(e),i=t.head;i&&n.forEach((function(t,e){var n=i.querySelector("style#id-"+e);n&&i.removeChild(n)}))}(this.doc,t)},n.render=function(){var t=this;return i("div",{ref:function(e){t.div=e}})},e}(p),dB=["children","innerCss","noIframe","languageTag","title","extraJs"],lB=function(t){var e=[];return t.forEach((function(t){return e.push('<script src="'+t+'" async type="text/javascript" charset="utf-8"><\/script>')})),e.join("")},uB=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t,e,n=this,i=this.props,o=i.noIframe,a=i.languageTag,r=i.extraJs,s=i.baseTarget,c=i.title;if(o)this.container=this.div,t=V,e=QA(this.div);else{var d=function(t,e,n){return["<!doctype html>",t?'<html lang="'+t+'" translate="no">':"<html>","<head><title>"+n+"</title></head>",'<meta charset="utf-8" />','<meta name="viewport" content="width=device-width, initial-scale=1.0" />',e?lB(e):"","</head>","<body>",'<div id="container"></div>',"</body>","</html>"].join("")}(a,r,c);this.container=function(t,e){var n=t.contentDocument;return n.open(),n.write(e),n.close(),n.getElementById("container")}(this.iframe,d),t=this.iframe.contentWindow,e=this.iframe.contentDocument,s&&function(t,e){var n=document.createElement("BASE");n.target=e,t.head.appendChild(n)}(e,s)}var l,u=UA(this,this.container),p=u.render,h=u.unmount,f=JA(this,["style","innerCss","className"]);this.shouldComponentUpdate=function(n){var i=f(n);return i||(o?n.callback&&n.callback(t,e):p(n.children,(function(){return n.callback&&n.callback(t,e)}))),i},this.componentDidUpdate=function(){o?n.props.callback&&n.props.callback(t,e):p(n.props.children,(function(){return n.props.callback&&n.props.callback(t,e)}))},this.componentWillUnmount=o?function(){}:h,o||p(this.props.children),this.props.onMounted&&this.props.onMounted(t,e),this.props.callback&&this.props.callback(t,e),l=e,ot&&l.addEventListener("selectionchange",(function(){var t=l.activeElement;if(t&&("TEXTAREA"===t.tagName||"INPUT"===t.tagName&&"text"===t.type)){var e=l.createEvent("CustomEvent");e.initCustomEvent("input",!0,!0,{}),t.dispatchEvent(e)}})),function(t,e){var n="global-showFocus",i=new RegExp("\\b"+n+"\\b"),o=function(){e.documentElement.className=e.documentElement.className.replace(i,"").trim()};t.addEventListener("keydown",(function(){i.test(e.documentElement.className)||(e.documentElement.className+=" "+n+" ")}),!0),t.addEventListener("touchstart",o,!0),t.addEventListener("mousedown",o,!0)}(t,e)},n.render=function(){var t=this,e=this.props,n=e.children;e.innerCss;var o=e.noIframe,a=e.languageTag,r=e.title;e.extraJs;var s=F(e,dB);return o?i("div",dt({},s,{ref:function(e){t.div=e}}),n):i("iframe",dt({allowFullScreen:"1",allow:"microphone;camera;midi;encrypted-media",title:r},s,{lang:a||"en",ref:function(e){t.iframe=e}}))},e}(p),pB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={isMouseDown:!1},n.doDrag=n.doDrag.bind(ct(n)),n.stopDrag=n.stopDrag.bind(ct(n)),n.startDrag=n.startDrag.bind(ct(n)),n.mouseStart={x:0,y:0},n.divStart={x:0,y:0},n.benchmarkTopAndLeft=void 0!==e.left&&void 0!==e.top,n}st(e,t);var n=e.prototype;return n.startDrag=function(t){var e=t;lt(e),this.mouseStart.x=e.clientX,this.mouseStart.y=e.clientY,this.setState({isMouseDown:!0});var n=this.props,i=n.left,o=n.top;this.benchmarkTopAndLeft?(this.divStart.x=i,this.divStart.y=o):(this.divStart.x=this.props.width-Math.min(this.props.right,this.props.width-this.props.ifrWidth)-this.props.ifrWidth,this.divStart.y=this.props.height-Math.min(this.props.bottom,this.props.height-this.props.ifrHeight)-this.props.ifrHeight),N.addEventListener("mousemove",this.doDrag),N.addEventListener("mouseup",this.stopDrag)},n.doDrag=function(t){var e=t;if(e||e.button){var n=e.clientX-this.mouseStart.x+this.divStart.x,i=e.clientY-this.mouseStart.y+this.divStart.y,o=this.props.width-this.props.ifrWidth,a=this.props.height-this.props.ifrHeight;n=(n=n<0?0:n)>o?o:n,i=(i=i<0?0:i)>a?a:i;var r=this.props.width-n-this.props.ifrWidth,s=this.props.height-i-this.props.ifrHeight,c=n,d=i;this.benchmarkTopAndLeft?this.props.ifrLeftAndTopPositionChanged(c,this.props.ifCanOnlyHorizontalDrag?this.props.top:d):this.props.ifrPositionChanged(r,s)}else this.stopDrag()},n.stopDrag=function(){this.setState({isMouseDown:!1}),N.removeEventListener("mousemove",this.doDrag),N.removeEventListener("mouseup",this.stopDrag)},n.render=function(){var t,e,n=this.props,o=n.id,a=n.left,r=n.top,s=n.width,c=n.height,d=n.barHeight,l=n.barWidth,u=n.ifrHeight,p=n.ifrWidth,h=n.ifrOffsetTop,f=n.ifrOffsetLeft;return t=this.state.isMouseDown?this.benchmarkTopAndLeft?c-r-d:Math.min(this.props.bottom,c-u):this.benchmarkTopAndLeft?c-r-d:Math.min(this.props.bottom+u,c)-(d+h),e=this.state.isMouseDown?this.benchmarkTopAndLeft?s-a-l-f:Math.min(this.props.right,s-p):this.benchmarkTopAndLeft?s-a-l-f:Math.min(this.props.right+p,s)-(l+f),i("div",{id:o,className:"movediv",onMouseDown:this.startDrag,style:{height:this.state.isMouseDown?u:d,width:this.state.isMouseDown?p:l,bottom:t,right:e,position:"fixed",cursor:"move",zIndex:lA}})},e}(p);pB.defaultProps={ifrOffsetLeft:30,ifrOffsetTop:30,barHeight:24,barWidth:315};var hB="circular",fB="square",gB=function(t){function e(e){var n;return(n=t.call(this,e)||this).maxHandledMsgId=-1,n.bodyDisableScroll=e.onMount,n.bodyEnableScroll=e.onUnmount,n.onReadNewMsg=n.onReadNewMsg.bind(ct(n)),n.escMinimize=n.escMinimize.bind(ct(n)),n.resize=null,n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.show?this.bodyDisableScroll():this.bodyEnableScroll(),ut(this.element.firstChild,this.props.onAnimated),pt(this.element.firstChild,this.onReadNewMsg,this.props.isMobile),this.element.ownerDocument.addEventListener("keydown",this.escMinimize),this.props.isPoppedOut&&this.props.windowStyle!==rw&&window.ResizeObserver&&(this.resize=new window.ResizeObserver($((function(e){t.props.updateMainWindowWidth(e[0].contentRect.width)}),200)).observe(this.element))},n.componentDidUpdate=function(t){var e=this.props.show;!t.show&&e&&this.onReadNewMsg(),t.show!==e&&(e?this.bodyDisableScroll():this.bodyEnableScroll())},n.componentWillUnmount=function(){this.bodyEnableScroll(),ut(this.element.firstChild,this.props.onAnimated),ht(this.element.firstChild,this.onReadNewMsg,this.props.isMobile),this.element.ownerDocument.removeEventListener("keydown",this.escMinimize),this.props.isPoppedOut&&this.props.windowStyle!==rw&&this.resize&&this.resize.disconnect()},n.onReadNewMsg=function(){this.props.chatStatus!==fp&&this.props.chatStatus!==hp||!this.props.isMessageScrollBottom||(!this.props.maxVisitorReadId||this.props.maxVisitorReadId&&!Br(this.props.maxVisitorReadId,this.props.maxGuid,this.props.messages))&&this.props.maxGuid!==this.maxHandledMsgId&&(this.props.onReadNewMsg(this.props.maxGuid),this.maxHandledMsgId=this.props.maxGuid)},n.escMinimize=function(t){this.props.show&&27===t.keyCode&&this.props.minimize&&this.props.minimize()},n.render=function(){var t=this,e=this.props,n=e.isMobile,o=e.isRightToLeft,a=e.isPoppedOut,r=e.windowStyle,s=e.children,c=e.windowTab,d=e.chatStatus,l=e.env,u=e.isIPad,p=e.show,f=e.showAvatar,g=e.ifShowSideWindow,m=e.cornerStyle,w=e.isCurrentAdaptiveButton,b=e.width;ft(this.context);var v,_=h(c===tp&&h(d===pp&&"animation--waiting",d===fp&&"animation--chatting",d===gp&&"animation-chatted")),x=h("embedded-window",n&&"window--mobile",g&&"withSideWin",u&&"window--ipad",n&&2===l&&"window--mobileVertical",n&&1===l&&"window--mobileHorizontal",Q&&"window--ie",gt&&"window--edge",!mt&&wt&&"window--chrome");m===hB?v="window--circular":m===fB&&(v="window--square");var y=null;return n&&!u&&(y=b),i("div",{className:h(x,!p&&"window--minimized"),ref:function(e){t.element=e}},i("div",{id:"whole-window",className:h(f&&"window--bio","whole-window","window--animated",o?"window--rtl":"",a?"":"window--embedded",v,sw(r),r===aw&&g&&!u&&!n&&"window--circle--sidewindow",r===ow&&g&&!u&&!n&&"window--classic--sidewindow",w&&"window--adaptive",_,ot?"window--ie9":"",bt&&"window--ie10"),style:{maxWidth:y},tabIndex:"0"},i("main",{id:"main",className:"main-container",style:g&&n&&(c===tp||c===$u||c===np||c===Zu||c===Xu)&&(r!==rw?{height:"calc(100% - 45px)"}:{"margin-bottom":"45px"})},s)))},e}(p),mB=function(t){return{position:t?"absolute":"fixed",width:"100%",height:"100%",overflow:"hidden",top:0,bottom:0,right:0,left:0,margin:0,touchAction:"none"}},wB={display:"none"},bB=25,vB=17.5,_B=function(t){var e=t.showAdaptiveMinimizeIcon,n=105;return t.windowStyle===rw||(n-=vB),e?n:0},xB=function(t){return t.showAdaptiveMinimizeIcon?12.5:0},yB=function(){},SB=null,CB=null,kB={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};Object.keys(kB).forEach((function(t){t in N&&(SB=kB[t],CB=t)}));var IB=function(t){function e(e){var n;(n=t.call(this,e)||this).state={showMessage:!0,cobrowsingStopShowingLeft:"undefined",cobrowsingStopShowingTop:0,windowBaseChildrenDidMount:!1,minimized:e.windowStatus===Xl,sideWindowAnimationEnd:!1,isBubbleMinimizing:!1,isBubbleRestoring:!1},n.setWinSize=function(){},n.getWinStyle=function(){},n.getSideWinStyle=function(){},n.getInnerCss=n.getInnerCss.bind(ct(n)),n.updateIframe=function(){return yB},n.shouldComponentUpdate=JA(ct(n),["windowStatus","windowTab","children","windowStyle","unread","title","seed","sideWindow","right","bottom","width","height","cornerStyle","showToolbox","isPoppedOut","showChatWindowInSidewindow"],["showMessage","windowBaseChildrenDidMount","cobrowsingStopShowingLeft","cobrowsingStopShowingTop","minimized"]);var i=e.onFocusToggle;return n.onFocus=function(){var t=n.props.windowStatus;t!==Ql&&t!==Zl||i(!0)},n.onFocusToggle=function(){var t=n.props.windowStatus;i(!N[CB]&&(t===Ql||t===Zl))},n.getChildren=n.getChildren.bind(ct(n)),n.getSideWin=n.getSideWin.bind(ct(n)),n.getDragBar=n.getDragBar.bind(ct(n)),n.onAnimated=n.onAnimated.bind(ct(n)),n.onMount=n.onMount.bind(ct(n)),n.bodyEnableScroll=n.bodyEnableScroll.bind(ct(n)),n.bodyDisableScroll=n.bodyDisableScroll.bind(ct(n)),n.sideWindowOnAnimated=n.sideWindowOnAnimated.bind(ct(n)),n.updateSideWindowNoScroll=n.updateSideWindowNoScroll.bind(ct(n)),n.bubbleIframeHeight=0,n.onWindowVisibleChange=n.onWindowVisibleChange.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isPoppedOut&&!this.props.showChatWindowInSidewindow){var t=Bb().popout;t&&t.SideWinWidth&&t.SideWinWidth>0&&V.resizeTo(V.outerWidth-t.SideWinWidth,V.outerHeight),Tb({popout:Object.assign({},t,{SideWinWidth:-1,isLarged:!1})})}var e=this.props,n=e.isMobile,i=e.isIPad,o=e.isPoppedOut;(n&&!i||o)&&vt(this.onWindowVisibleChange)},n.componentWillReceiveProps=function(t){var e=this.props;t.width!==e.width||(t.height,e.height),t.unread>e.unread&&this.setState({showMessage:!0}),t.windowStatus!==this.props.windowStatus&&this.setState({minimized:!1}),(t.windowStatus===Ql||t.windowStatus===Zl)&&t.windowStatus!==this.props.windowStatus&&this.props.onReadNewMsg(),this.setState({isBubbleMinimizing:t.windowStatus!==this.props.windowStatus&&t.windowStatus===Xl}),this.setState({isBubbleRestoring:t.windowStatus!==this.props.windowStatus&&t.windowStatus===Zl})},n.componentWillUnmount=function(){var t=this.contentWindow;t&&t.removeEventListener&&(t.removeEventListener("focus",this.onFocus),t.removeEventListener("blur",this.onBlur)),N.removeEventListener(SB,this.onFocusToggle),this.timer&&(clearTimeout(this.timer),this.timer=null),this.bodyEnableScroll();var e=this.props,n=e.isMobile,i=e.isIPad,o=e.isPoppedOut;(n&&!i||o)&&_t(this.onWindowVisibleChange)},n.onAnimated=function(){this.props.windowStatus===Xl&&!this.state.minimized&&this.setState({minimized:!0})},n.onMount=function(t){this.contentWindow=t,t.addEventListener("focus",this.onFocus),t.addEventListener("blur",this.onBlur),this.props.onMounted&&(this.props.onMounted(),N.addEventListener(SB,this.onFocusToggle))},n.onWindowVisibleChange=function(){var t=this.props,e=t.windowStatus,n=t.chatStatus;!vt()||e!==Ql&&e!==Zl||n!==fp&&n!==hp||this.props.onReadNewMsg()},n.getInnerCss=function(){var t,e=this.props,n=e.isMobile,i=e.windowStyle===rw;t=e.background?"background-image:"+e.background:"background-color:#f5f5f5";var o="#fff";n||(o=i?"#f8f8f8":"#fafafa");var a=!(n||i);a&&(o="rgba(250,250,250,.9)");var r=n||!i,s=n?"#glance_gesture{position: fixed;}":"";return[[e.fontCSS,tr(ge,e.mainColor),tr(aB,e.mainColor),".online .chatButton:after{","background-color:"+e.mainColor,"}",".offline .chatButton:after{","background-color:#bbb","}",".main-container{"+t+"}",".chatInputContainer{","background:"+o+";",r?"border-top:1px solid rgba(0,0,0,.1);":"","}",".chat-input__toolbox-more{","background:rgba(250,250,250,1);","}",".chatInputContainer+div>.footer{","background:"+o+";",a?"opacity:0.9;":"","}",".window--bubble .window__operation{background:"+A(e.mainColor)+"}",""].join(""),"",e.amyCustomCSS,e.customCss,s,""]},n.getChildren=function(t){var e=this.props,n=e.windowStatus,o=e.isMobile,a=e.title,r=e.isRightToLeft,s=e.isPoppedOut,c=e.windowStyle,d=e.children,l=e.windowTab,u=e.chatStatus,p=e.isIPad,h=e.showAvatar,f=e.ifShowSideWindow,g=e.cornerStyle,m=e.isCurrentAdaptiveButton,w=e.width,b=e.ifEnableVisitorSeeMsgSentSeen,v=e.maxVisitorReadId,_=e.maxMsgId,x=e.onReadNewMsg,y=e.maxGuid,S=e.messages,C=e.minimize,k=e.isMessageScrollBottom;return i(gB,{show:n===Ql||n===Zl,isMobile:o,title:a,isRightToLeft:r,isPoppedOut:s,windowStyle:c,windowTab:l,chatStatus:u,isIPad:p,env:t,onUnmount:this.bodyEnableScroll,onMount:this.bodyDisableScroll,onAnimated:this.onAnimated,showAvatar:h,ifShowSideWindow:f,cornerStyle:g,isCurrentAdaptiveButton:m,width:w,ifEnableVisitorSeeMsgSentSeen:b,maxVisitorReadId:v,maxMsgId:_,maxGuid:y,onReadNewMsg:x,messages:S,minimize:C,isMessageScrollBottom:k,updateMainWindowWidth:this.props.updateMainWindowWidth},d)},n.getSideWin=function(t,e,n,o){var a=this.props,r=a.sideWindow;a.fontCSS;var s,c=a.onFocusToggle,d=a.isMobile,l=a.extraJs,u=this.props,p=wB;if(r){if(n)p={display:"none"};else{p=this.getSideWinStyle(t,e,n),d&&!e?(p.bottom=0,p.right=0):(p.bottom+=_B(u)+function(t){var e=t.windowStyle,n=t.isMobile,i=t.isIPad,o=t.isPoppedOut,a=e===rw;return i?a||o?0:vB:!a||n||o?0:-17.5}(u),p.right+=xB(this.props));var h=0;p&&p.bottom&&(h=p.bottom),p.maxHeight="calc(100% - "+h+"px)"}s=i(r,{ToogleChatWinFocused:c,sideWindowOnAnimated:this.sideWindowOnAnimated,updateSideWindowNoScroll:this.updateSideWindowNoScroll})}u.isMobile||u.isPoppedOut||u.windowStyle===rw||(p.zIndex=cA,p.right+=12);var f=ft(this.context);return i(uB,{key:"sideWin",id:"side_window_container",style:p,languageTag:o,scrolling:this.state.sideWindowAnimationEnd?"auto":"no",title:f.sideWindow,extraJs:l},s)},n.getCobrowsingStopShowingButton=function(){var t=this,e=this.props,n="";e.isMobile&&(n="@media screen and (max-width: 767px) {.glance_cobrowse_btn button{width:100%;}.glance_cobrowse_btn__drag{display: none;}}");var o=ft(this.context);return i(uB,{key:"cobrowsingStopShowing",id:"cobrowsing_stopshowing_container",style:e.ifCobrowsingShowing&&!e.isPoppedOut?{border:"none",width:e.isMobile?"135px":"172px",height:"30px",position:"fixed",top:0,left:"undefined"===t.state.cobrowsingStopShowingLeft?(e.width-(e.isMobile?135:172))/2:t.state.cobrowsingStopShowingLeft,zIndex:dA}:{display:"none"},title:o.cobrowsingBtn,languageTag:this.props.languageTag},i(cB,{css:'body{margin: 0;font-family: "Lucida Grande", "Lucida Sans Unicode", Arial, sans-serif;overflow: hidden}.glance_cobrowse_btn{position: absolute;width: 100%;background-color: #1c2124;height: 30px;box-sizing: border-box;border-bottom-right-radius: 4px;border-bottom-left-radius: 4px;overflow: hidden;}.glance_cobrowse_btn button{display:block;width: 135px;height: 30px;line-height: 30px;padding-left: 20px;padding-right: 20px;box-sizing: border-box;font-size: 15px;color: #fff;text-decoration: none;border: none;appearance:none;-moz-appearance:none; -webkit-appearance:none;outline: none;background: none;cursor: pointer;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}.glance_cobrowse_btn__drag{position: absolute;right: 8px;top: 5px;width: 20px;height: 20px;border-left: 1px solid rgba(255,255,255,0.2);padding-left: 8px;}.svgPath {fill: #000;width: 16px;height: 16px;}.glance_cobrowse_btn__drag .drag{fill: #fff}'+n}),i("div",{className:"glance_cobrowse_btn"},e.ifCobrowsingShowing&&i("button",{onClick:function(){return V.GLANCE.Cobrowse.Visitor.stopSession()}},e.languageCobrowseStop),i("div",{className:"glance_cobrowse_btn__drag"},i(xt,{type:yt,className:"",viewBox:"0 0 19 28"}))))},n.getDragBar=function(){var t=this,e=this.props,n=e.windowStyle,o=e.windowStatus,a=e.isPoppedOut,r=e.width,s=e.height,c=e.showAvatar;if(!((o===Ql||o===Zl)&&!a&&!(n===rw)))return null;var d=this.winWidth,l=Math.min(this.winHeight,s-_B(this.props)),u=7.5;return n===aw&&c&&(u=32.5),i(pB,{key:"dragBar",barWidth:d-bB-112,ifrOffsetTop:u,ifrOffsetLeft:12.5,width:r,height:s,right:this.props.right,bottom:this.props.bottom+_B(this.props),ifrWidth:d,ifrHeight:l,ifrPositionChanged:function(e,n){var i=n-_B(t.props);t.props.onPositionChange(e,Math.max(0,i))}})},n.getCobrowsingStopShowingDragBar=function(){var t=this,e=this.props,n=e.ifCobrowsingShowing,o=e.width,a=e.height,r=e.isPoppedOut,s=e.isMobile;if(!n||r||s)return null;var c="cobrowsingStopShowingDrag";return i(pB,{key:c,id:c,ifCanOnlyHorizontalDrag:!0,barWidth:37,barHeight:30,ifrOffsetTop:0,ifrOffsetLeft:135,width:o,height:a,left:"undefined"===this.state.cobrowsingStopShowingLeft?(o-172)/2:this.state.cobrowsingStopShowingLeft,top:this.state.cobrowsingStopShowingTop,ifrWidth:172,ifrHeight:30,ifrLeftAndTopPositionChanged:function(e,n){t.setState({cobrowsingStopShowingLeft:e,cobrowsingStopShowingTop:n})}})},n.sideWindowOnAnimated=function(){this.setState({sideWindowAnimationEnd:!0})},n.updateSideWindowNoScroll=function(){this.setState({sideWindowAnimationEnd:!1})},n.bodyDisableScroll=function(){if(this.props.isMobile){var t=N.body.style,e=!this.props.isIPad;this.style=Object.keys(mB(e)).reduce((function(n,i){var o=n;return o[i]=t[i],t[i]=mB(e)[i],o}),{}),this.props.isPoppedOut||N.addEventListener("touchmove",lt),this.setState({windowBaseChildrenDidMount:!0})}},n.bodyEnableScroll=function(){var t=this;this.props.isMobile&&(Object.keys(this.style||{}).forEach((function(e){N.body.style[e]=t.style[e]})),this.props.isPoppedOut||N.removeEventListener("touchmove",lt),this.setState({windowBaseChildrenDidMount:!1}))},n.render=function(){var t=this,e=this.props,n=e.windowStatus,o=e.isMobile,a=e.width,r=e.height,s=e.orientation,c=e.isIPad,d=e.title,l=e.isPoppedOut,u=e.languageTag,p=e.windowStyle;e.brandConfig;var h=e.isSideWindowSelectedTabKb,f=V.brandingNameLowerCase,g=3;o&&(s===_u&&(!c||a<760)?g=1:s===xu&&(!c||r<760)&&(g=2)),this.setWinSize(g,c);var m=n===Xl,w=3!==g&&!m,b=this.getWinStyle(g,c),v=m&&(this.state.minimized||!St||Q||p===rw);if(p===rw&&this.state.isBubbleRestoring&&this.bubbleIframeHeight&&(b=Object.assign({},b,{height:this.bubbleIframeHeight})),v&&((b=Object.assign({},b,{width:0,height:0,display:"none"})).left="",b.top=""),!v&&l&&p===aw&&(b.backgroundColor="#d5d5d5"),"100%"===b.height||p===rw&&l)b.bottom=0,b.right=0;else{var _=Math.min(r-_B(this.props),b.height);b.bottom=Math.min(b.bottom+_B(this.props),r-_),b.right=Math.min(b.right,a-b.width)+xB(this.props)}var x=0,y=0;if(!o||c?(b&&b.right&&(x=b.right),b&&b.bottom&&(y=b.bottom),b.maxWidth="calc(100% - "+x+"px)",b.maxHeight="calc(100% - "+y+"px)"):(b.right=0,b.bottom=0),p===rw&&!l&&(!o||c)){this.props.showAdaptiveMinimizeIcon&&(b.bottom=105,b.maxHeight="calc(100% - 105px)")}h&&o&&!c&&(b.display="none");var S,C=this.getInnerCss();w&&(S=function(t,e){return{position:t?"absolute":"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.15)",zIndex:e?1:sA}}(o&&!c,l));var k=o&&!l&&!c&&!m&&"html{width:100%!important;position:static!important}body>*:not(#"+f+"-container):not(#branding-cobrowse-border){display:none!important}body{text-indent:-9999px!important}#"+f+"-container,#"+f+"-container>div{position:static!important}",I=ft(this.context);return i("div",{style:S,onTouchMove:!l&&lt},this.state.windowBaseChildrenDidMount&&k&&i(cB,{css:k}),this.getSideWin(g,c,m,u),this.getDragBar(g),i(uB,{key:"win"+(l?1:0),id:"chat_window_container",ref:function(e){t.container=e},onMounted:this.onMount,style:b,callback:this.updateIframe(g,c),noIframe:l,languageTag:u,tabIndex:v?-1:void 0,title:I.chatWindow,baseTarget:"_top"},i(cB,{css:C}),!l&&i(rB,{message:d}),this.getChildren(g)),this.getCobrowsingStopShowingButton(),this.getCobrowsingStopShowingDragBar())},e}(p),MB=function(t,e){if(!t)return 0;var n=t.querySelector("#main");if(!n)return 0;var i=n.getBoundingClientRect().height;if(e){i+=45}return i},OB=function(e){function n(n){var i;(i=e.call(this,n)||this).state=Object.assign({},i.state,{innerHeight:0}),i.updateIframe=t(1)((function(t,e){return function(n,o){var a=i.props,r=a.windowStatus,s=a.sideWindow;if(r===Ql||r===Zl){var c=3===t&&e&&s;i.setState({innerHeight:MB(o,c)}),i.timer&&clearTimeout(i.timer),i.timer=setTimeout((function(){i.setState({innerHeight:MB(o,c)}),i.timer=null}),460)}r===Xl&&i.setState({innerHeight:0})}}));i.setWinSize=function(t){3===t&&(i.winWidth=i.props.isPoppedOut?380:360,i.props.windowStatus!==Xl||i.state.minimized?i.winHeight=Math.max(Math.min(i.props.height,i.state.innerHeight),500):("100%"!==i.winHeight&&(i.bubbleIframeHeight=i.winHeight),i.winHeight="100%")),1===t&&(i.props.width>500?i.winWidth=500:i.winWidth="100%",i.winHeight="100%"),2===t&&(i.winWidth="100%",i.winHeight="100%")},i.getWinStyle=function(t,e){var n,o,a=0,r=0;return 3===t&&(a=i.props.bottom,r=i.props.right,n=i.state.left,o=i.state.top),{position:3===t||e||i.props.isMinimized?"fixed":"absolute",border:0,zIndex:i.props.isPoppedOut?2:oA,top:o,left:n,bottom:a,right:r,width:i.winWidth,height:i.winHeight}},i.getSideWinStyle=function(t,e){var n=i.props,o=n.isPoppedOut,a=n.width,r=n.windowStyle;if(3===t&&!e){var s=i.props.right+i.winWidth<a?a-(i.props.right+i.winWidth):0,c=i.props.right+i.winWidth+505>=a?a-i.winWidth-s-505:i.props.right+i.winWidth,d=o?i.winWidth:c,l=o?480:505,u=i.props.height-i.winHeight>87.5?i.props.height-i.winHeight-87.5:0,p=i.winHeight+i.props.bottom>=i.props.height?u:i.props.bottom;r!==rw||o||(p=0);var h=Math.max(0,Math.min(a-d,l));return{zIndex:o?1:sA,width:l,height:o?555:580,bottom:p,right:d,background:"transparent",position:"fixed",border:0,maxWidth:h}}var f=i.props.showChatWindowInSidewindow,g=o&&e,m=g?"100%":i.winWidth,w=g?"100%":i.winHeight;return{zIndex:cA,width:m,height:f?45:w,right:i.props.right>=a-i.winWidth?a-i.winWidth:i.props.right,bottom:0,background:"transparent",position:"fixed",border:0}};var o=i.shouldComponentUpdate;return i.shouldComponentUpdate=function(t,e){return!!o(t,e)||e.innerHeight!==i.state.innerHeight},i}return st(n,e),n}(IB),AB=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t){var e=n.props.iframeStyle,i=e&&e.width,o=e&&e.height,a=i;3===t&&(n.winWidth=a,n.sideWindowWidth=i,n.winHeight=o),1===t&&(n.props.width>500?n.winWidth=500:n.winWidth="100%",n.winHeight="100%"),2===t&&(n.winWidth="100%",n.winHeight="100%")},n.getWinStyle=function(t,e){var i=n.props.isMinimized;return{position:3===t||e||i?"fixed":"absolute",border:0,zIndex:oA,top:n.state.top,left:n.state.left,bottom:n.props.bottom,right:n.props.right,width:n.winWidth,height:n.winHeight}},n.getSideWinStyle=function(t,e){var i=n.props.showChatWindowInSidewindow,o=25;if(3===t){var a=n.props.showAvatar,r=n.winHeight;a&&(r-=25),e&&(i?r=45:(r-=o,a&&(r+=32.5)));var s=n.props.right+n.winWidth<n.props.width?n.props.width-(n.props.right+n.winWidth):0,c=n.winWidth+n.props.right+505>=n.props.width&&n.props.right>=505?n.props.width-n.winWidth-s-505:n.winWidth+n.props.right-o,d=n.winWidth+n.props.right>=n.props.width?n.props.width-n.winWidth-s+12.5:n.props.right+12.5,l=e?d:c,u=n.props.height-n.winHeight>87.5?n.props.height-n.winHeight-87.5:0,p=n.winHeight+n.props.bottom>n.props.height?u:n.props.bottom,h=Math.max(n.props.width-l,0);return{zIndex:e?cA:sA,width:e?n.winWidth-o:505,height:r,bottom:p,right:l,background:"transparent",position:"fixed",border:0,maxWidth:h}}return{zIndex:cA,width:n.winWidth,height:i?45:n.winHeight,right:0,bottom:n.props.bottom,background:"transparent",position:"fixed",border:0}},n}return st(e,t),e}(IB),BB=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t){var e=n.props.iframeStyle,i=e&&e.width,o=e&&e.height,a=i;3===t&&(n.winWidth=a,n.winHeight=o),1===t&&(n.props.width>500?n.winWidth=500:n.winWidth="100%",n.winHeight="100%"),2===t&&(n.winWidth="100%",n.winHeight="100%")},n.getWinStyle=function(t,e){var i=3!==t||e?oA:sA;return{position:3===t||e||n.props.isMinimized?"fixed":"absolute",border:0,zIndex:i,top:n.state.top,left:n.state.left,bottom:n.props.bottom,right:n.props.right,width:n.winWidth,height:n.winHeight}},n.getSideWinStyle=function(t,e){if(3===t){var i=n.winHeight;e&&(i=n.props.showChatWindowInSidewindow?45:n.winHeight-25);var o=n.props.right+n.winWidth<n.props.width?n.props.width-(n.props.right+n.winWidth):0,a=n.winWidth+n.props.right+505>=n.props.width&&n.props.right>=505?n.props.width-n.winWidth-o-505:n.winWidth+n.props.right-25,r=n.winWidth+n.props.right>=n.props.width?n.props.width-n.winWidth-o+12.5:n.props.right+12.5,s=e?r:a,c=n.props.height-n.winHeight>87.5?n.props.height-n.winHeight-87.5:0,d=n.winHeight+n.props.bottom>n.props.height?c:n.props.bottom,l=Math.max(0,n.props.width-s);return{zIndex:3===t&&!e?sA:cA,width:e?n.winWidth-25:505,height:i,bottom:d,right:s,background:"transparent",position:"fixed",border:0,maxWidth:l}}return{zIndex:cA,width:n.winWidth,height:n.props.showChatWindowInSidewindow?45:n.winHeight,right:0,bottom:n.props.bottom,background:"transparent",position:"fixed",border:0}},n}return st(e,t),e}(IB),TB=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t,e){n.winHeight="100%";var i=n.props,o="100%",a="100%";if(i.sideWindow&&3===t&&!e){var r=i.width;r>860?(o=r-480,a=480):(o="44.2%",a="55.8%")}n.winWidth=o,n.sideWinWidth=a,n.sideWinHeight=i.showChatWindowInSidewindow?45:n.winHeight},n.getSideWinStyle=function(t,e){var i=n.props.width-n.winWidth;return 3!==t||e||(i=Math.min(i,500)),{background:"transparent",position:"fixed",border:0,zIndex:3!==t||e?3:1,width:n.sideWinWidth,height:n.sideWinHeight,bottom:0,left:0,maxWidth:i}},n.getWinStyle=function(){return{position:"absolute",border:0,zIndex:2,width:n.winWidth,height:n.winHeight,right:0,bottom:0}},n}return st(e,t),e}(IB),jB=["hOnline","hOffline","hCallback","hStop"],PB=function(t){return function(e){function n(t){var n;return(n=e.call(this,t)||this).timer=null,n.stopTimer=null,n.hOnline=[].concat(t.hOnline),n.setTimespan=n.setTimespan.bind(ct(n)),n.heartbeat=n.heartbeat.bind(ct(n)),n.tick=n.tick.bind(ct(n)),n.registerStop=n.registerStop.bind(ct(n)),n.clean=n.clean.bind(ct(n)),n.initial=n.initial.bind(ct(n)),n}st(n,e);var o=n.prototype;return o.componentDidMount=function(){this.props.hOnline&&this.initial()},o.componentDidUpdate=function(t){t.hOnline&&!this.props.hOnline&&this.clean(),!t.hOnline&&this.props.hOnline&&(this.hOnline=[].concat(this.props.hOnline),this.initial()),!function(t,e){if(!t&&e)return!1;if(!e&&t)return!1;if(!e&&!t)return!0;var n=[].concat(t),i=[].concat(e);return n.length===i.length&&n.every((function(t,e){return t.timespan===i[e].timespan&&t.duration===i[e].duration}))}(t.hOnline,this.props.hOnline)&&t.hOnline&&this.props.hOnline&&(this.clean(),this.hOnline=[].concat(this.props.hOnline),this.initial())},o.componentWillUnmount=function(){this.clean()},o.setTimespan=function(){var t=this.hOnline.shift();t&&(this.duration=t.duration,this.timespanTimer=setTimeout(this.setTimespan,1e3*t.timespan))},o.initial=function(){this.setTimespan(),this.tick(),this.registerStop(),this.props.hDelay||this.props.hCallback(this.props),this.props.hOnInit&&this.props.hOnInit.call()},o.heartbeat=function(){this.props.hCallback(this.props),this.duration?this.tick():this.heartbeatTimer=null},o.tick=function(){var t=void 0!==this.props.hOffline?this.props.hOffline:this.duration;this.heartbeatTimer=setTimeout(this.heartbeat,1e3*t)},o.registerStop=function(){var t=this;void 0!==this.props.hStop&&(this.stopTimer=setTimeout((function(){t.clean.call(),t.props.hOnStopped&&t.props.hOnStopped.call()}),1e3*this.props.hStop))},o.clean=function(){this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.timespanTimer&&clearTimeout(this.timespanTimer),this.stopTimer&&clearTimeout(this.stopTimer),this.heartbeatTimer=null,this.timespanTimer=null,this.stopTimer=null},o.render=function(){var e=this.props;e.hOnline,e.hOffline,e.hCallback,e.hStop;var n=F(e,jB);return i(t,n)},n}(p)},FB=["en","zh-Hans"],WB=null,NB=!1,VB=function(){var t=B(P().mark((function t(){var e,n;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,import("./language.e742ac17.js");case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),e=0;case 9:if(!(e<5)){t.next=25;break}return t.next=12,new Promise((function(t){return setTimeout(t,5e3)}));case 12:return(n=new URL(t.t0.message.replace("Failed to fetch dynamically imported module: ","").trim())).searchParams.set("t",""+ +new Date),t.prev=14,t.next=17,import(n.href);case 17:return t.abrupt("return",t.sent);case 20:t.prev=20,t.t1=t.catch(14);case 22:e++,t.next=9;break;case 25:throw t.t0;case 26:case"end":return t.stop()}}),t,null,[[0,6],[14,20]])})));return function(){return t.apply(this,arguments)}}(),DB=function(t){var e=function(e){function n(t){return e.call(this,t)||this}st(n,e);var o=n.prototype;return o.getChildContext=function(){var t=this.props.languageTag;return FB.includes(t)?{language:U[t]}:(NB||WB||(NB=!0,VB().then((function(t){var e=t.default;NB=!1,WB=e}))),{language:WB?WB[t]:U.en})},o.render=function(){return i(t,this.props)},n}(p),n=t.displayName||t.name;return e.displayName="language("+n+")",e},RB=PB(DB((function(t){var e=t.windowStyle,n=t.isPoppedOut;return i(function(t,e){return t&&e!==rw?TB:e===rw?OB:e===aw?AB:BB}(n,e),t)}))),EB=Ct((function(){return import("./RatingForm.1a6c5c43.js")})),zB=Ct((function(){return import("./SendEmailForm.f93d05a3.js")}));function LB(t){if(t)return t.displayName||t.name}var HB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={focusKey:e.show?LB(e.icons[0]):void 0,showRatingForm:!1,showSendEmailForm:!1},n.onFocus=n.onFocus.bind(ct(n)),n.onKeyDown=n.onKeyDown.bind(ct(n)),n.onDialogToggle=n.onDialogToggle.bind(ct(n)),n.onRatingFormChange=n.onRatingFormChange.bind(ct(n)),n.onEmailChange=n.onEmailChange.bind(ct(n)),n.hasModal=!1,n.score=0,n.comment="",n.emailValue="",n}st(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){this.props.show||!t.show||this.hasModal?this.props.show&&!t.show&&this.setState({focusKey:void 0}):this.setState({focusKey:LB(t.icons[0])})},n.onRatingFormChange=function(t){this.score=t.score,this.comment=t.comment},n.onEmailChange=function(t){this.emailChangeFlag=!0,this.emailValue=t.emailAddress},n.onDialogToggle=function(t,e){t?this.setState({focusKey:void 0,showRatingForm:"rating"===e,showSendEmailForm:"sendEmail"===e}):(this.setState({showRatingForm:!1,showSendEmailForm:!1}),this.props.hideMenu()),this.hasModal=t},n.onFocus=function(t){this.hasModal||this.setState({focusKey:t})},n.onKeyDown=function(t){if(this.hasModal)t.stopPropagation();else{var e=this.props.icons.map(LB),n=e.indexOf(this.state.focusKey);if(!(n<0)){var i=n,o=!1;switch(t.keyCode){case 40:o=!0,i=Math.min(n+1,e.length-1);break;case 38:o=!0,i=Math.max(n-1,0);break;case 36:o=!0,i=0;break;case 35:o=!0,i=e.length-1;break;case 27:o=!0,this.props.hideMenu(),this.props.onESCHide();break;case 9:this.props.hideMenu()}o&&(t.preventDefault(),t.stopPropagation()),this.setState({focusKey:e[i]})}}},n.render=function(){var t=this,e=this.props;return i("div",{className:h("window__operation-menu",e.show&&"window__menu-show"),onMouseLeave:e.hideMenu,onKeyDown:this.onKeyDown},i("ul",{role:"menu","aria-haspopup":!0,"aria-expanded":e.show.toString(),className:h("none"!==e.popupBubbleType&&"displayNone")},e.icons.map((function(e){var n=LB(e),o=n===t.state.focusKey;return"lazy"===e.type?i(kt,{fallback:i("div",null)},i(It,null,i(e.component,{key:n,onDialogToggle:t.onDialogToggle,onFocus:t.onFocus,focusKey:n,focus:o}))):i(e,{key:n,onDialogToggle:t.onDialogToggle,onFocus:t.onFocus,focusKey:n,focus:o})}))),this.state.showRatingForm&&i(kt,{fallback:i("div",null)},i(It,{failCallback:function(){t.setState({showRatingForm:!1,showSendEmailForm:!1})}},i(EB,{isShow:!0,onDialogToggle:this.onDialogToggle,onChange:this.onRatingFormChange}))),this.state.showSendEmailForm&&i(kt,{fallback:i("div",null)},i(It,{failCallback:function(){t.setState({showRatingForm:!1,showSendEmailForm:!1})}},i(zB,{isShow:!0,emailAddress:this.emailChangeFlag?this.emailValue:e.emailAddress,onDialogToggle:this.onDialogToggle,onChange:this.onEmailChange}))))},e}(p),qB=function(t){function e(e){var n;return(n=t.call(this,e)||this).updateBodyCss=n.updateBodyCss.bind(ct(n)),n.focusOnClose=n.focusOnClose.bind(ct(n)),n.focusOnLastButton=n.focusOnLastButton.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.updateBodyCss(),this.props.ifShow&&setTimeout((function(){if(t.props.autoFocus){var e=t.btn.ownerDocument.getElementById(t.props.autoFocus);e&&e.focus()}else t.btn.focus()}),100)},n.componentDidUpdate=function(t){var e=this;t.ifShow!==this.props.ifShow&&this.updateBodyCss(),!t.ifShow&&this.props.ifShow&&setTimeout((function(){if(e.props.autoFocus){var t=e.btn.ownerDocument.getElementById(e.props.autoFocus);t&&t.focus()}else e.btn&&e.btn.focus()}),100)},n.componentWillUnmount=function(){var t=this.props.globalClass,e=this.element.ownerDocument,n=new RegExp("\\b"+t+"\\b","g");n.test(e.body.className)&&(e.body.className=e.body.className.replace(n,"").trim())},n.focusOnClose=function(){this.btn.focus()},n.focusOnLastButton=function(){var t=this.element.querySelectorAll("button");t[t.length-1].focus()},n.updateBodyCss=function(){var t=this.props.ifShow,e=this.element.ownerDocument,n=this.props.globalClass,i=new RegExp("\\b"+n+"\\b"),o=i.test(e.body.className);t&&!o?e.body.className+=" "+n:!t&&o&&(e.body.className=e.body.className.replace(i,"").trim())},n.render=function(){var t=this,e=this.props,n=e.id,o=e.className,a=e.children,r=e.ifShow,s=e.onClose,c=e.title,d=e.aria,l=e.role,u=ft(this.context);return i("div",{id:n&&"bubble_box_"+n,ref:function(e){t.element=e},className:h("bubble-box",r&&"bubble-box--show",o),onClick:s},r&&[i("div",{tabIndex:0,onFocus:this.focusOnLastButton,ariaHidden:!0}),i("div",dt({id:n,className:"bubble",onClick:function(t){t.stopPropagation()},role:l||"alertdialog",style:{width:this.props.width},"aria-modal":"true","aria-label":"Dialog"},d),i("button",{className:"bubble-close",onClick:s,"aria-label":u.closeDialog,ref:function(e){t.btn=e}},i(xt,{type:Mt,ariaHidden:!0})),c&&i("div",{className:"bubble--title"},c),a),i("div",{tabIndex:0,onFocus:this.focusOnClose,ariaHidden:!0})])},e}(p),UB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowDialog:!1},n.show=n.toggle.bind(ct(n),!0),n.hide=n.toggle.bind(ct(n),!1),n}st(e,t);var n=e.prototype;return n.toggle=function(t,e){e.stopPropagation(),this.setState({ifShowDialog:t})},n.render=function(){var t=this,e=this.props,n=e.languages,o=Ot(this.show);return i("div",{className:"header__operationContainer"},i("button",{role:"button",tabIndex:0,onClick:this.show,ref:function(e){t.btn=e},onKeyDown:o,title:n.buttonEndChat,"aria-label":n.buttonEndChat},i(xt,{type:Mt,className:"icon-endchat",ariaHidden:!0})),i(qB,{globalClass:"body__dialog",ifShow:this.state.ifShowDialog,onClose:this.hide,className:e.windowStatus===Xl&&"bubble-box--minimize",aria:{"aria-label":"","aria-describedby":"prompt-end-chat-title"},autoFocus:"embedded-end-chatConfirmLeave"},i("div",{id:"prompt-end-chat-title",className:"bubble--desc"},n.promptStopChat),i("div",{className:"embedded-end-chatConfirmAction bubble__operation"},i("button",{id:"embedded-end-chatConfirmLeave",className:"btn btn-primary",onClick:function(n){t.hide(n),e.onEndChat()}},n.buttonYes),i("button",{id:"embedded-end-chatConfirmCancel",className:"btn btn-grey",onClick:this.hide},n.buttonNo))))},e}(p);UB.displayName="EndChat";var GB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showEndChatConfirm:!1,showMenu:!1},n.onClickShowEndChatConfirm=n.onClickShowEndChatConfirm.bind(ct(n)),n.updateEndChatConfirmStatus=n.updateEndChatConfirmStatus.bind(ct(n)),n.showMenu=n.setMenuStatus.bind(ct(n),!0),n.hideMenu=n.setMenuStatus.bind(ct(n),!1),n.toggleMenuStatus=n.toggleMenuStatus.bind(ct(n)),n.onKeyDown=Ot(n.toggleMenuStatus),n.onEnterPress=n.onEnterPress.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.container&&this.container.ownerDocument.body.addEventListener("touchend",this.hideMenu,!1)},n.componentWillUnmount=function(){this.container&&this.container.ownerDocument.body.removeEventListener("touchend",this.hideMenu,!1)},n.onClickShowEndChatConfirm=function(t){this.props.ifViewConfirmBubble?this.state.showEndChatConfirm||(t.stopPropagation(),t.preventDefault(),this.updateEndChatConfirmStatus(!0)):this.props.onEndChat(this.props.passEventArgs)},n.onEnterPress=function(t){13===t.keyCode&&(this.props.onEnterMinimize(),this.props.onMinimize(this.props.tab))},n.setMenuStatus=function(t){this.setState({showMenu:t})},n.updateEndChatConfirmStatus=function(t){this.setState({showEndChatConfirm:t})},n.toggleMenuStatus=function(t){t&&"keydown"===t.type||this.setState({showMenu:!this.state.showMenu})},n.render=function(){var t=this,e=this.props,n=e.icons.length>0,o=e.languages.embeddedWindowMinimize,a=i("button",{"aria-label":e.languages.buttonClose,onClick:function(){return e.onClose(e.tab)}},i(xt,{type:Mt,className:"icon-close",title:e.languages.buttonClose,ariaHidden:!0})),r=ft(this.context);return i("div",{className:"title-buttons window__operation",ref:function(e){e&&(t.container=e)}},n&&i("div",{onMouseEnter:!e.isMobile&&this.showMenu,onMouseLeave:!e.isMobile&&this.hideMenu,className:"header__operationContainer"},i("button",{className:"window__operation-menu-icon menubar__btn",onKeyDown:this.onKeyDown,onClick:this.toggleMenuStatus,"aria-label":r.menu,tabIndex:0,ref:function(e){t.menuBtn=e}},i(xt,{type:Bt,ariaHidden:!0})),i(HB,{icons:e.icons,show:this.state.showMenu,hideMenu:this.hideMenu,onESCHide:function(){return t.menuBtn.focus()},popupBubbleType:e.popupBubbleType,emailAddress:e.emailAddress})),e.hasMinimize&&i("button",{title:o,"aria-label":o,onClick:function(){return e.onMinimize(e.tab)},onKeyDown:this.onEnterPress},i(xt,{type:At,className:"icon-minimize",ariaHidden:!0})),e.hasEndChat?i(UB,{languages:e.languages,onEndChat:e.onEndChat,windowStatus:e.windowStatus}):e.hideCloseButton?null:a)},e}(p),KB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAIAAAC2BqGFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTk1OENGMTMxRUZFMTFFNTlBMDdBNjRGRTU4NjdDNTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTk1OENGMTQxRUZFMTFFNTlBMDdBNjRGRTU4NjdDNTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OTU4Q0YxMTFFRkUxMUU1OUEwN0E2NEZFNTg2N0M1MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OTU4Q0YxMjFFRkUxMUU1OUEwN0E2NEZFNTg2N0M1MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PscdlE0AAAduSURBVHja7J3tUxJbHMeXheV5EQUBwUdEqGayrKhpanrf/9ubunlfVLc718xeiRL4rIgPmKRpINL9CjN25w6Q4J4nOt8XTdNMZ5fP/s7v9/3tnj1revHihSJFXqpEIEFL0FIStAQtQUtJ0BK0lAQtQUvQUhK0BC0lQUvQErSUBC1BS0nQErQELUVeFt4DQVW9Nbndbl3X7Xa7paZqtVqpVMrl8nFNX79+PTg4KJVKEnR7MplMgUAgEon09/cDa8MLYK0JF+DyH4vFYj6f39raOj09laB/dUIWy2hNNput3f/bU1M8Ht/Z2clkMghzCbpxFI+MjMRisQ4Q/2+cUE25XC6dTp+cnEjQP+XxeCYnJxGPBo4ZDoeDwSBYr66u/vjxQ4JWotFoIpFA2jV8ZLPZfOvWLUT33Nwc21LJ2N4B7t27d2/evEmC8qX6+vqePn1q7HQRCTTq3qNHj2AtKBwLvvDx48fwML8daFBOJpOINWpHRBp58OABK9Yqq4yB30yT8uVx79+/j/bndwGNAuXz+Zgcuh7XyCTdD3poaAh+mWFtgE8Ha6Lllz1op9OJcGZuKOFA0Bl1M+g7d+40vHdBXwBN0/BRBT04OEi/ALbo1GnOLXqgUYXQ/ik8CVcdTWO3gR4eHqZf63+pRDyO0O4e0PgxY2NjCn9y6zqdbEYJNGaow+FQuFSUSgRQAg3vrPCqQDBot9m7AbSmaX6/X+FYoYFQN4BG3qBTcDpWJBI5Pz8XHjTn4Qx5vV6VcCjQAM1Pk9KKdW+v2KCdTieH9rnBtPP5iD5XJA7a4/EoIqi3r69yVhEYtMvlEgI0AuKsciYwaG77lAbnKXTqsFqtiiAiev+WOGiz2SwKaFVVydVDVegwMfhUNU1g0AIJPYvAoKvVqiigiXbhqtBnb6zOzkS2d+VyWRTQ379/Fxg0h4vvG6pUKmHykbvLSBz0t2/fhABdfz1AYNBcvd/QQoeHh6pJFTuiK5UK/6ALhYJqJkiDOGg404ODA/5B7+TzRJtYlU6wcE4Z0+7o6Ejsex1QPp/nHPTm5ib+NIsO+uTk5MuXLzyDXl1dVVVV+NQBbWxs8Ow39nZ3NcK3cymB3t7e5rZFzGQyCvn75pRAw+GtrKzw2XZnMxkkDdK3c+ndJl1bWyN616YzpVIpdN7XfCmaL9CgnF5c5Iry8fExTgkNobWbQEPrGxtcdeQfZ2cvwtlhp7BijSpodImfPn1i/v77paWDF4Kro5A3FPqPstCApebneWgFP8zMKBcLqVxdteL/UvhVS8vLcHsMKVer1bdv3pRKJVg6zarROSiDh7PwUogmtAmsQP/9/v3+/j6ShpPiKio2T8HhWt+9fYuiz6AAfvwIR4+J5XK7aa7aZrfcwGT6c3qaMuvZ2dmFVOoiNbtclBecqOw4m0yq+urly8L+PoXDwcb99e7d4sIC/u5wOukvVGO5gAZZUrNap6ens9ksaY/xx6tX9XsArNZrM16vVa9Isx8+wIckk0kSCMAXtbdcLmMK4VisFl2aePieIVqY09qmaVNTU+OxmFE1qlgsIilv53L1K4rqx3AhIBcrEOuxhqCb+Wcmk80+f/78+mPOzc2h7tW7UEQxxmf7ZhhHSz0v2gdNM+oxR/HwEJQxGkofhmX+6/haU4ugM2oLILeuO3h6T4m7Zbu6rhsyjtfrNascrYHnDrRRW3j5/f5q9VyCbpo6jHr78yKizTKim4ehUQ4M12wgHJagG2t0dNTA0cajUU4eMvAFOhgMBgIBAwf0+f0RboKaC3vncrni8fjAwIDhI0/duxfa3k6n08yXaTMGbbPZJiYmhoeHybVtuH6YK+vr65lMhuEiHmag0a2Nj48jKVPwBqqq4kCDg4NLS0srKytM3l9iABpk8bNBmXJnDD+TSCRwaGSSzc1NynWSKmjkh6GhIaRjOk/4myWrycnJaDS6sLCwu7vbhaDD4TAQc7KrhNvtTiaThUJhcXGRzmNiGqD7+/tv3LjB4Q4pPp/vyZMnuVzu8+fPpG0JWdDog4GY1Z7cV59qoVCItC0hBVrXdVQe+CpFBFGwJcaDdjgcyMWRSITzve6a2ZKRkRFkEsNtiZGgrVZrLBbDiVLe1d1Y2e12ErbEYlQs4MzGxsYE2gaFsi25LhcEb/1LYgLtncTElnQOGikYiRjpWJR9wK5pS9bW1rLZbMe2pEPQODDqxn8/2tjdwsRFYoQtWV5e7syWWDqYTbDGTD7Ow1yapnVsS9oAjdYOiBl+14srW4IAhy3Z29szEjSy8MTEBCaOcNaYnNCRPXz4EKBTqdRVFh9bfjlZ6r5NoH0CaQrz+9mzZ2jfkUxa10lL64p3+/btrvRtBqr+qVw4k/n5+a2trabltMUQ+P+S8tXrZOsvramtuyNJ8Opy1RbEtg0azbQQO5nzI8z+Fh8KUFtUVcmu7TskLnfboGXe6MTz9Xia7cUqI9pI9Xg8zbpzGdFGytPTU20XtChfm+BKvb29501SR9OG5fXr18dHRxzuGcO/oW7bRwu09TM/Oq80hvavAAMAcWJ5ooQVnC0AAAAASUVORK5CYII=",YB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={src:KB},n.download=n.download.bind(ct(n)),n.download(e.src),n}st(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){t.src!==this.props.src&&(this.setState({src:KB}),this.download(t.src))},n.shouldComponentUpdate=function(t,e){return e.src!==this.state.src},n.download=function(t){var e=this,n=new Image,i=function(){e.setState({src:t})};n.onload=i,n.onerror=i,n.src=t},n.render=function(){var t=this.props;return i("img",dt({},t,{alt:"",src:this.state.src}))},e}(p),JB=iB("header.icons")(GB),QB=t(1)(Tt),ZB=function(t){function e(){var e;return(e=t.call(this)||this).state={showEndChatConfirm:!1,headerHeight:0},e.header=null,e.shuoldUpdateHeaderHeight=!1,e.shouldComponentUpdate=JA(ct(e),["passEventArgs","ifViewConfirmBubble","ifHideBio","ifViewHeaderBox","ifViewHeader","color","onMinimize","team","avatars","banner","avatar","name","title","bio","logo","tab","controls","languages","agent","windowDisabled","icons","hasEndChat","hasCloseButton"],["showEndChatConfirm","headerHeight"]),e.onMinimize=e.onMinimize.bind(ct(e)),e.onClose=e.onClose.bind(ct(e)),e.showAnimation=!0,e}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.headerContainer.focus()},n.componentWillReceiveProps=function(t){t.tab===tp&&this.props.tab!==tp&&(this.showAnimation=!0);var e=t.agent&&t.agent.bio,n=this.props.agent&&this.props.agent.bio;(t.ifHideBio!==this.props.ifHideBio||this.props.windowDisabled&&e!==n||this.agent&&this.props.agent.avatar!==t.agent.avatar||this.agent&&this.props.agent.title!==t.agent.title)&&(this.shuoldUpdateHeaderHeight=!0),t.tab!==this.props.tab&&this.headerContainer.focus()},n.componentDidUpdate=function(){var t=this;ot||this.header&&this.shuoldUpdateHeaderHeight&&!this.props.isMobile&&(this.shuoldUpdateHeaderHeight=!1,this.props.agent&&this.props.agent.bio?this.props.ifHideBio?this.header.style.height="":this.props.windowDisabled?setTimeout((function(){t.header.style.height=""}),400):this.header.style.height=this.header.scrollHeight+"px":(this.props.windowDisabled&&this.props.agent||!this.props.agent)&&(this.header.style.height=""))},n.onMinimize=function(){this.props.onMinimize(this.props.tab)},n.onClose=function(){return this.props.onClose(this.props.tab)},n.updateEndChatConfirmStatus=function(t){this.setState({showEndChatConfirm:t})},n.render=function(){var t=this,e=this.props,n=this.props.agent,o=this.showAnimation,a=e.chatWindowStyle===ow,r=QB(e.mainColor),s=e.avatars,c=!(e.team||s||e.banner||n||e.logo),d=ft(this.context);return i("header",{className:"window__headerContainer",onTouchMove:lt,ref:function(e){t.headerContainer=e},tabIndex:-1},e.ifViewHeader&&i("div",{id:"branding",className:h("window__header","window__header--noBio",o&&"window__header--fadeInDown",n&&n.avatar&&"window__header--hasAvatar"),style:{background:a?r:"none"},ref:function(e){e&&(t.header=e)}},e.ifViewHeaderBox&&i("div",null,i("div",{className:h("window__headerBox","clearfix",e.team&&"window__headerBox--team",s&&"window__headerBox--hasAvatars",e.banner&&"window__headerBox--banner",c&&"window__headerBox--empty")},e.team&&i("div",{className:h("header__teamName",!s&&"header__teamNameNoAvatar")},e.team),s&&i("div",{className:h("header__teamAvatar",e.isAvatarGray&&"header__teamAvatar--gray",e.ifShowSideWindow&&"header__teamAvatar--withSideWindow")},s.map((function(t,e){return i(YB,{className:"header__teamAvatarImg",src:t,width:"50",height:"50",alt:d.avatar})}))),e.banner&&i("img",{className:"header__bannerImg",src:e.banner,alt:d.banner}),n&&i("div",{className:h("header__agent",e.logo?"header__agent--withlogo":"",n.bio&&e.ifHideBio&&!e.isMobile?"header__agent--compact":"",n.title&&"with__title",o&&"header__agent--fadeInUp"),onClick:function(){e.ifHideBio&&t.props.onUpdateScrollStatus(!1)},onTouchEnd:function(){e.ifHideBio&&t.props.onUpdateScrollStatus(!1)}},n.avatar&&i("div",{id:"header-operator-avatar",className:h("header__avatar",this.props.ifShowSideWindow&&"header__avatar--withSideWindow",o&&"header__avatar--fadeInDown"),key:"avatar"},i(YB,{className:"header__avatarImage",src:n.avatar,alt:function(t){var e=t.type;return"chatbot"===e?"Chatbot avatar":"taskbot"===e?"Taskbot avatar":d.avatar}(n),width:"50",height:"50"})),i("div",{className:h("header__agentInfo",!n.avatar&&"header__agentInfoNoAvatar")},n.name&&i("div",{className:"direction-ltr header__agentName"},n.name),n.title&&i("div",{className:"direction-ltr header__agentTitle"},n.title)),n.bio&&i("div",{className:"header__agentBio",style:{height:e.ifHideBio?"0":"auto",marginTop:e.ifHideBio?0:"4px",marginBottom:e.ifHideBio?0:"1px",paddingLeft:n.avatar&&e.chatWindowStyle===ow?"62px":0,paddingBottom:e.ifHideBio?0:"2px",overflow:"hidden"},dangerouslySetInnerHTML:{__html:n.bio}})),e.logo&&i("div",{className:"header__logo "+(n&&(n.avatar||n.name)?"header__logo--up":""),key:"logo"},i("img",{id:"logo-image",className:"header__logoImg",src:e.logo,alt:d.logo,"aria-hidden":!0}))))),i("div",{className:"end-chat-top window__title"},i("span",{id:"embedded-window-title",className:"title-text embedded-only"}),i(JB,{tab:e.tab,hasMinimize:e.hasMinimize,hasEndChat:e.hasEndChat,icons:e.icons,popupBubbleType:e.popupBubbleType,languages:e.languages,passEventArgs:e.passEventArgs,ifViewConfirmBubble:e.ifViewConfirmBubble,ifViewHeader:e.ifViewHeader,onMinimize:this.onMinimize,onPopIn:e.onPopIn,onClose:e.onClose,onEndChat:e.onEndChat,isMobile:e.isMobile,windowStatus:e.windowStatus,onEnterMinimize:e.onEnterMinimize,emailAddress:e.emailAddress,hideCloseButton:e.hideCloseButton})))},e}(p),XB=iB("header","window__headerVessel")(ZB),$B=function(t,e,n,i){return t&&{name:t.name,avatar:(n||e.chatWindowShowAvatar||e.showAvatar)&&t.avatar,title:(e.chatWindowShowTitle||e.showTitle)&&t.title,bio:e.chatWindowShowBio&&("<div>&nbsp;</div>"===t.bio?null:t.bio),type:i||"agent"}},tT=function(t,e,n){var i=Uh(t)||Gh(t)||hv(t);return{agent:$B(i,e.header,n)}},eT=function(t){return{banner:t.header.banner}},nT=function(t,e,n,i){var o=cf(e);return!i||t!==nh&&t!==ih?t===nh?tT(e,n,!1):o&&t===ih?function(t,e,n){var i=Uh(t)||Gh(t)||hv(t);return{agent:$B(i,e.header,n,"chatbot")}}(e,n,!0):t===oh?function(t,e){return e.header.showAvatar||e.header.logo?{logo:e.header.logo,agent:tT(t,e).agent}:{ifViewHeaderBox:!1}}(e,n):t===ih?eT(n):{}:function(t,e){return{agent:$B(hv(t),e.header,!0,"taskbot")}}(e,n)},iT=function(t,e,n){return t===nh?Lh(e).tab===Qu?{}:function(t,e){var n=Zh(t),i=n===ip,o=vm(t)[e.id],a=Hf(t),r=n===$u||i&&o||a||qm(t)===ou||n===Zu||n===Xu?e.header.preChatShowTeam:e.header.offlineMessageShowTeam,s=n===$u||i&&o||a||qm(t)===ou||n===Zu||n===Xu?e.header.preChatTeamName:e.header.offlineMessageTeamName;return{team:r&&s,avatars:(n===$u||i&&o||a||qm(t)===ou||n===Zu||n===Xu?e.header.preChatShowAvatars:e.header.offlineMessageShowAvatars)&&pw(t)}}(e,n):t===oh?function(t,e){return{logo:e.header.logo}}(0,n):t===ih?eT(n):{}},oT=function(t,e,n){if(t===rw)return{ifViewHeader:!1};var i=Lh(e),o=function(t){var e=E(t,"window.involvedAgents");return e&&e.length>0}(e),a=n.header.type;if(i.tab===tp&&(o||i.isChatBot||i.isTaskBot||i.chatStatus===gp&&!i.isTaskBot)&&(i.chatStatus===fp||i.chatStatus===gp||i.chatStatus===hp&&Am(e)===vu||i.isChatBot||i.isTaskBot)||i.tab===ep){var r=!o&&!i.isChatBot&&(i.isTaskBot||i.chatStatus===gp&&!i.isTaskBot);return nT(a,e,n,r)}return iT(a,e,n)},aT=function(t){function e(e){var n;(n=t.call(this,e)||this).onClick=n.onClick.bind(ct(n)),n.toggle=n.toggle.bind(ct(n)),n.shouldComponentUpdate=JA(ct(n),["disabled","focus"],["active","fields"]),n.onButtonFocus=n.onButtonFocus.bind(ct(n));var i=function(){n.props.focus&&n.btn&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}st(e,t);var n=e.prototype;return n.onClick=function(){this.toggle(!0)},n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.toggle=function(t){this.props.onDialogToggle(t,"rating")},n.render=function(){var t,e=this,n=this.props,o=this.props,a=o.languages,r=o.ratingField,s=o.commentField;if(this.state.active||n.windowDisabled||(t=function(t){t.stopPropagation(),e.onClick(t)}),r||s){return i("li",{role:"none"},i("button",dt({},{role:"menuitem"},{onClick:t,tabIndex:n.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(t){e.btn=t},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}}),i(xt,{type:jt,title:a.buttonRating,id:"iconRating",ariaHidden:!0}),i("div",{className:"menu__text-container"},a.buttonRating)))}return null},e}(p);aT.displayName="Rating";var rT,sT=f((function(t){return{isPoppedOut:lh(t),isRightToLeft:pg(t),commentField:iw(t),ratingField:nw(t),ratingValue:Yf(t,"rating"),commentValue:Yf(t,"comment"),languages:c_(t),popupBubbleType:Kg(t)}}),(function(t){return{onSubmit:function(e){ck("livechat.chat.visitor.rate",e),t(RS(e)),t({type:Ws,payload:e})},onToggle:function(e){t(Ay(e?"rating":"none"))}}}))(aT),cT="error",dT="warning",lT=g({announce:function(t,e,n){},removeMessage:function(t){}}),uT=function(t){function e(e){return t.call(this,e)||this}st(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return this.props.id!==t.id},n.componentWillUnmount=function(){this.props.removeMessageWhenUnmount&&this.removeMessage&&this.removeMessage(this.props.id,this.props.message)},n.render=function(){var t=this,e=this.props,n=e.id,o=e.message,a=e.isHtml,r=void 0!==a&&a;return i(lT.Consumer,null,(function(e){var i=e.announce,a=e.removeMessage;t.removeMessage=a,i(n,o,r)}))},e}(p),pT=function(t){function e(e){return t.call(this,e)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.errorContainer.focus()},n.render=function(){var t=this,e=this.props,n=e.type===cT,o=e.type===dT,a=ft(this.context);return i("div",{className:"chatError__container",ref:function(e){t.errorContainer=e}},i("div",{className:h("window_chatError",n&&"window_chatError--urgency",o&&"window_chatError--mitigate"),role:"alert"},e.message,i("button",{className:"window_chatErrorClose",onClick:e.onClose,ref:function(e){t.btn=e},"aria-label":a.closeAlert},i(xt,{type:Mt,className:"icon-close"}))))},e}(p),hT=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldCOmponentUpdate=JA(ct(n),["input.value","isDisabled"]),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus()},n.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},n.render=function(){var t=this,e=this.props,n=!(!e.input.value&&!e.initialValue),o=e.uniqKey||e.id,a=e.isDisabled?"":"checkbox-"+o;return i("div",{className:h("container-checkbox",e.isDisabled&&"disable",e.className),onClick:e.isDisabled?void 0:function(){e.input.onChange(!n,e.text,e.id)}},i("label",{className:h(e.isDisabled&&"disable",e.className,"checkbox__text"),id:"checkbox-label-"+o,htmlFor:a},e.text||e.children),i("input",{id:a,type:"Checkbox",className:"checkbox",disabled:e.isDisabled,checked:n,onFocus:e.input.onFocus,onBlur:e.input.onBlur,ref:function(e){t.element=e},"aria-labelledby":"checkbox-label-"+o,"aria-required":(e.isRequired||!1).toString()}),i("i",{className:n?"selected":"unselected"},i(xt,{type:Pt})))},e}(p),fT=[Ho,qo,Uo,Go,Ko,Yo,Qo,Zo,Xo,$o,ta,sa],gT=function(t){var e=function(e){function n(t){var n;return(n=e.call(this,t)||this).params={onChange:n.onChange.bind(ct(n)),onBlur:n.onBlur.bind(ct(n)),onFocus:n.onFocus.bind(ct(n)),siteId:t.siteId,style:t.style,disabled:t.disabled,languages:t.languages,forceLabel:t.forceLabel,captchaSettings:t.captchaSettings,languageTag:t.languageTag,isHorizontal:t.isHorizontal,ifBotForm:t.ifBotForm},n.shouldComponentUpdate=JA(ct(n),["field","disabled"]),n}st(n,e);var o=n.prototype;return o.componentWillReceiveProps=function(t){var e=this.params;e.disabled===t.disabled&&e.languages===t.languages||(this.params.disabled=t.disabled,this.params.languages=t.languages)},o.onChange=function(t){this.props.onChange(this.props.field,t)},o.onBlur=function(){this.props.onBlur(this.props.field)},o.onFocus=function(){this.props.onFocus(this.props.field)},o.render=function(){var e=this.props.field,n=e.label,o=e.error,a=void 0===o?"":o,r=e.isErrorShowed,s=e.isHidden,c=e.isRequired,d=e.id,l="required"===a.toLowerCase(),u=!!a&&!l,p=u?Object.assign({},this.props.field,{isInvalidError:u}):this.props.field,f=function(t){return fT.indexOf(t)>=0}(p.type);if(s)return null;var g=p.type===ia||p.type===oa,m=g;return g?i("div",{className:h("box-field",f&&"system-field")},i("div",{className:"check-box clearfix"},c&&i(xt,{type:Wt,className:"field__requiredTag"}),t(p,this.params),r&&a&&d!==no&&i("span",{className:h("field__requiredMsg","field__requiredMsg--checkbox"),role:"alert"},i(xt,{title:"Error",type:Ft})," ",l?p.label+" is required.":a))):i("div",{className:h("box-field",f&&"system-field")},i("div",{className:"filed__content"},i("div",{className:h("field-name clearfix",g&&"checkbox-label")},c&&!m&&i(xt,{type:Wt,className:"field__requiredTag",title:"star"}),m?"":i("label",{className:"field__label",htmlFor:"field-"+d,id:"label-field-"+d},n)),t(p,this.params)),r&&a&&d!==no&&i("div",{className:h("field__requiredMsg"),id:"field-error-"+d,role:"alert"},i(xt,{title:"Error",type:Ft})," ",l?p.label+" is required.":a))},n}(p);return e},mT=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value;if(Array.isArray(s)){var c=s.indexOf(t.label);s=c>=0?"true":"false",n(c>=0?"true":"false")}else s||(s="false",n("false"));return i(hT,{input:{value:s&&"true"===s.toString(),onChange:function(t){n(t?"true":"false")},onFocus:a,onBlur:o,"aria-describedby":"field-error-"+t.id},text:t.label,id:t.id,focused:t.isFocused,isDisabled:r,isRequired:t.isRequired})})),wT=["className","options","align","focused","ariaLabelledby"],bT=function(){},vT=function(t){function e(e){var n;(n=t.call(this,e)||this).Change=n.Change.bind(ct(n)),n.shouldComponentUpdate=JA(ct(n),["input.value","options"]);var i=n.validate.bind(ct(n));return n.componentDidMount=i,n.componentDidUpdate=i,n.onFocus=n.onFocus.bind(ct(n)),n.onBlur=n.onBlur.bind(ct(n)),n.hasFocus=!1,n}st(e,t);var n=e.prototype;return n.onBlur=function(){var t=this.props.input.onBlur;this.hasFocus=!1,t&&t()},n.onFocus=function(){var t=this.props.input.onFocus;this.hasFocus=!0,t&&t()},n.validate=function(){var t=this,e=this.props.input.value;0!==e.length&&e.every((function(e){return t.props.options.every((function(t){return t.id.toString()!==e.toString()}))}))&&this.props.input.onChange([])},n.Change=function(t,e,n){var i=this.props.input.value,o=this.props.input.onChange||bT;-1===i.indexOf(n)?o(i.concat(n)):o(i.filter((function(t){return t!==n})))},n.render=function(){var t=this,e=this.props,n=e.className,o=e.options;e.align;var a=e.focused,r=e.ariaLabelledby,s=F(e,wT);return i("div",{className:h("container-checkboxlist",n),id:this.props.id,role:"group","aria-labelledby":r||"label-"+this.props.id},o.map((function(e,n){return i("div",{key:e.id,className:"vertical"},i(hT,dt({},s,{focused:!t.hasFocus&&0===n&&a,id:e.id.toString(),uniqKey:t.props.input.id+"-"+n,text:e.text,input:{value:-1!==t.props.input.value.indexOf(e.id.toString()),onChange:t.Change,onBlur:t.onBlur,onFocus:t.onFocus},fieldId:t.props.id})))})))},e}(p),_T=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value,c=t.options;return c||(c=[]),Array.isArray(s)||(s?n(s=c.find((function(t){return t.value===s}))?[s]:[]):s=[]),i(vT,{input:{id:t.id,value:s,onChange:n,onFocus:a,onBlur:o,"aria-describedby":"field-error-"+t.id},options:c.map((function(t){return{id:t.value,text:t.label}})),focused:t.isFocused,isDisabled:r,id:"field-"+t.id})})),xT=function(t){function e(e){var n;return(n=t.call(this,e)||this).onChange=n.onChange.bind(ct(n)),n.onError=n.onError.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.element=this.props.field.element(this.onChange,this.onError),this.element&&this.container.appendChild(this.element)},n.componentWillUnmount=function(){this.container.removeChild(this.element)},n.onChange=function(t){this.props.onChange(this.props.field,t)},n.onError=function(t){this.props.onError(this.props.field,t)},n.render=function(){var t=this;return i("div",{ref:function(e){t.container=e}})},e}(p),yT=xT,ST=["isRequired","input","isReadOnly","isDisabled","className","meta","type","placeholder","autoComplete","maxLength","animationEffect","style"],CT=function(t,e){var n=t.isRequired,o=t.input,a=t.isReadOnly,r=t.isDisabled,s=t.className,c=t.meta,d=t.type,l=t.placeholder,u=t.autoComplete,p=t.maxLength,f=t.animationEffect,g=t.style,m=F(t,ST);return i("input",dt({},o,{readOnly:a,disabled:r,className:h("input","form__input",f&&"input--effect01",s,c&&c.touched&&c.invalid&&"error"),type:d,placeholder:l,"aria-label":l,autoComplete:u||"off",maxLength:p,style:g,ref:e,"aria-required":n.toString()},m))},kT=function(t){function e(e){var n;return(n=t.call(this,e)||this).refCallback=n.refCallback.bind(ct(n)),n.shouldComponentUpdate=JA(ct(n),["input.value","meta.invalid","meta.touched","focused","isRequired","isDisabled","style","type"]),n.focus=n.focus.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.focus()},n.componentDidUpdate=function(t){this.props.focused!==t.focused&&this.props.focused&&this.focus()},n.focus=function(){var t=this.element;t&&t.focus()},n.refCallback=function(t){this.element=t},n.render=function(){var t=this.props;return t.animationEffect?i("div",{className:"form__inputContainer"},CT(t,this.refCallback)):CT(t,this.refCallback)},e}(p),IT=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled,c=t.value;return Array.isArray(c)&&(c=c.join(","),n(c)),i("div",{className:"field-control"},i(kT,{maxLength:64,type:"email",input:{value:t.value,onBlur:function(t){o()},onFocus:a,disabled:s,"aria-invalid":(t.isInvalidError||!1).toString(),onChange:function(t){var e=t.target.value;e!==c&&n(e)},"aria-describedby":"field-error-"+t.id},meta:{invalid:!!t.error,touched:t.isErrorShowed},isRequired:t.isRequired,isDisabled:s,animationEffect:ow===r,focused:t.isFocused,id:"field-"+t.id,autoComplete:"email"}))})),MT=function(t){function e(){var e;return(e=t.call(this)||this).shouldComponentUpdate=JA(ct(e),["radioOption","selectedVal"]),e}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.first&&this.first.focus()},n.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&!this.props.selectedVal&&this.first&&this.first.focus()},n.render=function(){var t=this;return i("div",{className:"clearfix container-radiolist",role:"radiogroup","aria-labelledby":this.props.ariaLabelledby||"label-field-"+this.props.id,id:"field-"+this.props.id},this.props.radioOption.map((function(e,n){var o=t.props.disabled,a=o?"":"radio-"+t.props.id+"-"+n,r=o?"":"radio-"+t.props.id+"-"+t.props.label,s=o?"":"radio-label-"+t.props.id+"-"+n,c=o?"":a;return i("div",{className:h("control","controlRadio",t.props.className),onClick:function(){o||t.props.handleChange(e.value)}},i("label",{key:e.id,className:"radioText",htmlFor:c,id:s},e.text),i("input",{type:"radio",name:r,value:e.value,checked:t.props.selectedVal===e.value||e.checked,onBlur:t.props.onBlur,onFocus:t.props.onFocus,id:a,disabled:t.props.disabled,ref:function(e){0===n&&(t.first=e)},"aria-labelledby":s}),i("div",{className:"controlIndicator","aria-hidden":"true"},i("svg",{viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false"},i("circle",{r:"8",cx:"8",cy:"8"}),i("circle",{r:"3",cx:"8",cy:"8"}))),e.component?e.component:"")})))},e}(p),OT=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value,c=t.options;return c||(c=[]),Array.isArray(s)&&(s=s.find((function(t){return c.some((function(e){return e.value===t}))}))||null,n(s)),i(MT,{label:t.label,id:t.id,radioOption:c.map((function(e,n){return{id:n,text:e.label,value:e.value,checked:e.value===t.value}})),selectedVal:t.value,handleChange:function(t){t!==s&&n(t)},onBlur:o,onFocus:a,focused:t.isFocused,disabled:r,"aria-labelledby":"field-"+t.id})})),AT=["input","rows","cols","style","isDisabled","placeholder","maxLength","className","meta"],BT=function(t){t.stopPropagation()},TT=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=JA(ct(n),["input.value","meta.touched","meta.invalid","focused","isDisabled"]),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus()},n.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},n.render=function(){var t=this,e=this.props,n=e.input,o=e.rows,a=e.cols,r=e.style,s=e.isDisabled,c=e.placeholder,d=e.maxLength,l=e.className,u=e.meta,p=F(e,AT);return i("textarea",dt({onKeyDown:BT},n,{cols:a,rows:o,style:r,disabled:!!s&&"disabled",className:h(l,"multipleText",u.touched&&u.invalid&&"error"),placeholder:c,"aria-label":c,maxLength:d,ref:function(e){t.element=e},"aria-required":(this.props.isRequired||!1).toString()},p))},e}(p),jT=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.ifBotForm,c=t.value;return Array.isArray(c)&&(c=c.join(","),n(c)),i("div",{className:"field-control"},i(TT,{input:{value:t.value,onBlur:function(t){o()},onChange:function(t){var e=t.target.value;e!==c&&n(e)},onFocus:a,id:"field-"+t.id,onTouchMove:t.ontouchmove,"aria-describedby":"field-error-"+t.id},rows:2,meta:{touched:t.isErrorShowed,invalid:!!t.error},maxLength:s?8e3:2048,focused:t.isFocused,isDisabled:r,isRequired:t.isRequired}))})),PT=function(t,e,n){void 0===e&&(e="text");return gT((function(o,a){var r=a.onChange,s=a.onBlur,c=a.onFocus,d=a.style,l=a.disabled,u=o.value;return o.field,Array.isArray(o.value)&&(u=u.join(","),r(u)),i("div",{className:"field-control"},i(kT,{maxLength:t,type:e,input:{value:o.value,onBlur:function(t){s()},onFocus:c,onChange:function(t){var e=t.target.value;e!==u&&r(e)},"aria-invalid":(o.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+o.id},meta:{invalid:!!o.error,touched:o.isErrorShowed},isRequired:o.isRequired,animationEffect:d===ow,focused:o.isFocused,isDisabled:l,id:"field-"+o.id,autoComplete:n}))}))},FT=PT(128),WT=PT(64,"text","name"),NT=PT(32,"text","tel"),VT=PT(64,"text","organization"),DT=["options","disabled","className","width","selectedValue"],RT=function(t,e){return t==e},ET=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=JA(ct(n),["options","disabled","className","width","selectedValue"]),n.handleChange=n.handleChange.bind(ct(n)),n.validate=n.validate.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus(),this.validate()},n.componentDidUpdate=function(t){this.validate(),t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},n.handleChange=function(t){t.target.value!==this.props.selectedValue&&this.props.handleChange(t.target.value)},n.validate=function(){var t=this;this.props.selectedValue&&this.props.options.every((function(e){return!RT(e.value,t.props.selectedValue)}))&&this.props.handleChange(this.props.options[0].value)},n.render=function(){var t=this,e=this.props,n=e.options,o=e.disabled,a=e.className,r=e.width,s=e.selectedValue,c=F(e,DT);return i("div",{className:"select-box",style:{width:r+"px"}},i("select",dt({disabled:o,onChange:this.handleChange,className:"select "+(void 0!==a?a:""),ref:function(e){t.element=e}},c),n.map((function(t){return i("option",{index:t.id,style:{color:t.themeColor||"black"},value:t.value,selected:RT(s,t.value),ariaSelected:RT(s,t.value)},t.text)}))),i("svg",{viewBox:"0 0 9 6",focusable:"false"},i("path",{d:"M5.2,5.7c-0.4,0.4-1,0.4-1.4,0L0.3,1.9c-0.4-0.4-0.4-1.1,0-1.6s1-0.4,1.4,0l2.8,3.1l2.8-3.1c0.4-0.4,1-0.4,1.4,0s0.4,1.1,0,1.6L5.2,5.7z"})))},e}(p),zT=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.languages,c=t.value,d=t.options;return d||(d=[]),Array.isArray(c)&&n(c=c.find((function(t){return d.some((function(e){return e.value===t}))}))||""),i(ET,{options:[{id:-1,text:s.dropdownListDefault,value:""}].concat(d.map((function(t,e){return{id:e,value:t.value,text:t.label}}))),selectedValue:c,handleChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id})})),LT=zT,HT=PT(32),qT=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.languages,c=t.value;return Array.isArray(c)?n(c=c.find((function(e){return t.options.some((function(t){return t.value==e}))}))||""):c===Xi&&(c=""),i(ET,{options:[{id:Xi,text:s.fieldNoDepartment,value:""}].concat(t.options.map((function(t,e){return{id:e,value:t.value,text:t.label+" "+(t.isOnline?s.fieldDepartmentStatusOnline:s.fieldDepartmentStatusOffline),themeColor:t.isOnline?"green":"red"}}))),selectedValue:c,handleChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id})})),UT=qT,GT=function(t){function e(e){var n;n=t.call(this,e)||this;for(var i=0,o=0;o<e.rateItems.length;o+=1)if(e.rateItems[o].value==e.rateVal){i=o+1;break}return n.state={rateVal:i,hoverRateVal:-1},n.stars=[],n.clickChange=n.clickChange.bind(ct(n)),n.onKeyDown=n.onKeyDown.bind(ct(n)),n.onClear=n.onClear.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){this.setState({rateVal:t.rateVal})},n.onKeyDown=function(t){var e;switch(t.keyCode){case 37:case 38:e=Math.max(this.state.hoverRateVal-1,0)-1;break;case 39:case 40:e=Math.min(this.state.hoverRateVal+1,this.props.rateItems.length)-1;break;case 9:this.onClear()}var n=this.stars[e];n&&n.focus(),void 0!==e&&(t.stopPropagation(),t.preventDefault())},n.onClear=function(){this.setState({hoverRateVal:-1})},n.clickChange=function(t){this.setState({rateVal:t}),this.props.rateChange(t)},n.render=function(){var t=this,e=this.props,n=this.state.rateVal,o=n>0,a=-1===this.state.hoverRateVal?n:this.state.hoverRateVal;return i("div",{ref:function(e){t.ratingDiv=e},className:"rating",id:e.id,style:Object.assign({width:e.width,height:e.height},e.style),onFocus:e.onFocus,onBlur:e.onBlur,onMouseLeave:this.onClear,onKeyDown:this.onKeyDown,"aria-labelledby":"label-"+e.id,role:"radiogroup"},e.rateItems.map((function(e,r){var s=-1,c=r===n-1;return o?r===a-1&&(s=0):0===r&&(s=0),i("button",{key:e.value,type:"button",name:"rating-"+r,className:h("star",r<n&&"starColor",t.state.hoverRateVal>-1&&t.state.hoverRateVal-1<r&&r<=n&&"opacity",r<t.state.hoverRateVal&&"focusColor"),onClick:function(){return t.clickChange(e.value)},onFocus:function(){return t.setState({hoverRateVal:r+1})},onMouseLeave:function(){return t.onClear()},onMouseEnter:function(){return t.setState({hoverRateVal:r+1})},ref:function(e){t.stars[r]=e},title:e.label,"aria-label":e.label,"aria-checked":c.toString(),role:"radio",tabIndex:s},i("svg",{viewBox:"0 0 24 24",focusable:"false"},i("path",{d:"M18.539,7.366c-.12-.241-.241-.361-.481-.361L12.646,5.921,10,.861C9.88.62,9.76.5,9.52.5s-.361.12-.481.361L6.393,5.921.981,7C.74,7,.62,7.12.5,7.361a1.086,1.086,0,0,0,.12.6l3.728,4.216-.722,5.782a.627.627,0,0,0,.241.482.538.538,0,0,0,.6,0L9.4,16.04l4.931,2.409h.241a.439.439,0,0,0,.361-.12.915.915,0,0,0,.241-.482l-.722-5.782L18.18,7.849C18.539,7.728,18.539,7.607,18.539,7.366Z"})))})),e.children)},e}(p),KT=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value;return Array.isArray(s)&&n(s=s.find((function(e){return t.options.some((function(t){return+t.value==+e}))}))||0),i(GT,{rateVal:+s,rateItems:t.options.map((function(t){return{id:t.id,value:t.value,label:t.label}})),rateChange:n,onBlur:o,onFocus:a,disabled:r,id:"field-"+t.id,isFocused:t.isFocused})})),YT=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.siteId,s=e.style,c=e.disabled,d=t.value;return Array.isArray(d)&&(d=d[0],n(d)),i("div",{className:"fieldControl__Ticket"},i("div",{className:"form__ticketPrefix"},"S"+r+"-#"),i("div",{className:"field-control"},i(kT,{maxLength:10,type:"text",input:{value:d,onBlur:function(t){o()},onChange:function(t){var e=t.target.value;e!==d&&n(e)},onFocus:a,"aria-invalid":(t.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+t.id},meta:{invalid:!!t.error,touched:t.isErrorShowed},isDisabled:c,isRequired:t.isRequired,animationEffect:ow===s,focused:t.isFocused,className:bt&&"form__input--ie10",id:"field-"+t.id})))})),JT=YT,QT=function(t){function e(){return t.apply(this,arguments)||this}return st(e,t),e.prototype.render=function(){var t=this.props,e=this.context,n=Date.now().toString(),o=ft(e);return i(uB,{id:n,src:"about:blank",style:t.style,frameborder:0,scrolling:"no",innerCss:"body{margin:0;padding:0}",title:o.uploadForm,onMounted:function(t){t.ownerDocument}},i("form",{id:"form",method:"post",encType:"multipart/form-data",encoding:"multipart/form-data"},i("input",{ref:function(e){t.onMounted&&t.onMounted(e)},type:"file",name:"file",onChange:function(e){var i,o;t.onChange&&t.onChange({formId:n,name:(i=e.target.value,o=i.split(/\/|\\/),o[o.length-1])})},onBlur:t.onBlur,onFocus:t.onFocus})))},e}(p),ZT=["focused"],XT=function(t){function e(e){var n;return(n=t.call(this,e)||this).focus=n.focus.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.focus()},n.componentDidUpdate=function(t){this.props.focused!==t.focused&&this.props.focused&&this.focus()},n.focus=function(){var t=this.element;t&&t.focus()},n.render=function(){var t=this,e=this.props;e.focused;var n=F(e,ZT);return i("input",dt({type:"file",ref:function(e){return t.element=e}},n))},e}(p),$T=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t,e;t=this.div,e=this.props,l(i(QT,e),t)},n.shouldComponentUpdate=function(){return!1},n.render=function(){var t=this;return i("div",{ref:function(e){t.div=e},"aria-labelledby":"field-"+this.props.id})},e}(p),tj=lr()?function(t,e,n,o){return i($T,{onChange:e,onBlur:n,onFocus:o})}:function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;return i("div",{className:"form__attachmentContainer"},i(XT,{onChange:function(t){n(t.target.files[0])},focused:t.isFocused,onBlur:o,onFocus:a,disabled:r,id:"field-"+t.id,name:t.label,"aria-invalid":(t.isInvalidError||!1).toString(),"aria-required":(t.isRequired||!1).toString(),"aria-describedby":"field-error-"+t.id}))},ej=gT(tj),nj=["onChange","onBlur","onFocus","style","disabled"],ij=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showPassword:!1},n.onClickShowPassword=n.onClickShowPassword.bind(ct(n)),n.onClickHidePassword=n.onClickHidePassword.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.onClickShowPassword=function(){this.setState({showPassword:!0})},n.onClickHidePassword=function(){this.setState({showPassword:!1})},n.render=function(){var t=this.state.showPassword,e=this.props,n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled,c=F(e,nj);return i("div",{className:"field-control field-control-password"},i(kT,{maxLength:128,type:t?"text":"password",input:{value:c.value,onBlur:o,onFocus:a,onChange:function(t){var e=t.target.value;e!==c.value&&n(e)},"aria-invalid":(c.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+c.id},meta:{invalid:!!c.error,touched:c.isErrorShowed},isRequired:c.isRequired,animationEffect:r===ow,focused:c.isFocused,isDisabled:s,id:"field-"+c.id}),t?i("svg",{class:"svg-icon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",onClick:this.onClickHidePassword},i("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})):i("svg",{class:"svg-icon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",onClick:this.onClickShowPassword},i("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})))},e}(p),oj=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled;return i(ij,Object.assign({},t,{onChange:n,onBlur:o,onFocus:a,style:r,disabled:s}))})),aj=PT(128,"number"),rj=function(t){var e=t.target.value;e=e.replace(/\D/g,""),t.target.value=e},sj=function(t,e){void 0===e&&(e="text");return gT((function(n,o){var a=o.onChange,r=o.onBlur,s=o.onFocus,c=o.style,d=o.disabled,l=n.value;return n.field,Array.isArray(n.value)&&(l=l.join(","),a(l)),i("div",{className:"field-control"},i(kT,{maxLength:t,type:e,input:{onInput:rj,value:n.value,onBlur:function(t){r()},onFocus:s,onChange:function(t){var e=t.target.value;e!==l&&a(e)},"aria-describedby":"field-error-"+n.id},meta:{invalid:!!n.error,touched:n.isErrorShowed},isRequired:n.isRequired,animationEffect:c===ow,focused:n.isFocused,isDisabled:d,id:"field-"+n.id}))}))}(128,"number"),cj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={},n.handleDocumentClick=n.handleDocumentClick.bind(ct(n)),n.anchorElRef=null,n.contentRef=null,n.doc=null,n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.doc=Nt(this.anchorElRef),this.doc.addEventListener("click",this.handleDocumentClick,!0),this.doc.addEventListener("touchend",this.handleDocumentClick,!0)},n.componentDidUpdate=function(t){var e=this;if(this.props.open&&this.props.open!==t.open&&this.doc)setTimeout((function(){e.contentRef.querySelector("[tabindex='0'],[tabindex='-1']").focus()}),20);else if(!this.props.open){if(!t.open)return;setTimeout((function(){e.anchorElRef.querySelector("[tabindex='0'],[tabindex='-1']").focus()}),20)}},n.componentWillUnmount=function(){this.doc&&(this.doc.removeEventListener("click",this.handleDocumentClick,!0),this.doc.removeEventListener("touchend",this.handleDocumentClick,!0))},n.handleDocumentClick=function(t){this.props.open&&this.contentRef&&!this.contentRef.contains(t.target)&&this.props.onClose()},n.render=function(){var t=this;this.state;var e=this.props,n=e.children,o=e.anchorEl,a=e.open;return i("div",{className:h(["taskbot-dropdown"]),onClick:this.onClick},i("div",{className:h(["taskbot-dropdown-trigger"]),ref:function(e){t.anchorElRef=e}},o),a&&i("div",{className:h(["taskbot-dropdown-content"]),ref:function(e){t.contentRef=e}},n))},e}(p),dj=["options","mainColor","isProcessed","onBlur","error","ariaLabel","required"],lj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={open:!1,inputWidth:e.width?e.width+"px":"192px",sIndex:0,value:Array.isArray(e.value)?e.value:[]},n.handleOpen=n.handleOpen.bind(ct(n)),n.handleClose=n.handleClose.bind(ct(n)),n.handleToggle=n.handleToggle.bind(ct(n)),n.handleChange=n.handleChange.bind(ct(n)),n.handleDelete=n.handleDelete.bind(ct(n)),n.handleKeydown=n.handleKeydown.bind(ct(n)),n.handleOptionKeyDown=n.handleOptionKeyDown.bind(ct(n)),n._isSelected=n._isSelected.bind(ct(n)),n.isClose=!1,n}st(e,t);var n=e.prototype;return n.componentDidUpdate=function(t,e){!0===this.state.open&&!1===e.open&&this.setState({sIndex:0})},n.handleToggle=function(){this.isClose?this.isClose=!1:this.setState({open:!this.state.open})},n.handleOpen=function(){this.state.open||this.setState({open:!0})},n.handleClose=function(){var t=this,e=this.props.onClose;e&&e(),this.isClose=!0,this.setState({open:!1}),setTimeout((function(){t.isClose=!1}),100)},n.handleDelete=function(t,e){void 0===e&&(e=0),t.stopPropagation();var n=this.props.onChange;if(e>=0){var i=[].concat(this.state.value);i.splice(e,1),this.setState({value:i}),n(i)}window.event?window.event.cancelBubble=!0:t.stopPropagation()},n.handleChange=function(t,e){var n=this.props,i=n.onChange;n.options;var o=this.state.value.indexOf(t),a=[].concat(this.state.value);-1!==o?a.splice(o,1):a.push(t),this.setState({value:a}),void 0!==e&&this.setState({sIndex:e}),i(a)},n.handleKeydown=function(t){13!==t.keyCode&&32!==t.keyCode||this.handleToggle()},n.handleOptionKeyDown=function(t){t.stopPropagation();var e=t.keyCode,n=this.state.sIndex,i=this.props.options;38===e||37===e?(n=0===n?i.length-1:n-1,this.setState({sIndex:n})):39===e||40===e?(n=n===i.length-1?0:n+1,this.setState({sIndex:n})):13===e?this.handleChange(i[n].value):27!==event.keyCode&&9!==event.keyCode||(event.stopPropagation(),event.preventDefault(),this.handleClose())},n._isSelected=function(t){return-1!==this.state.value.indexOf(t)},n.render=function(){var t=this,e=this.props,n=e.options,o=void 0===n?[]:n;e.mainColor;var a=e.isProcessed,r=e.onBlur,s=e.error,c=e.ariaLabel,d=e.required,l=F(e,dj),u=this.state,p=u.sIndex,f=u.value;return a?null:i(cj,{open:this.state.open,onClose:this.handleClose,anchorEl:i("div",dt({className:h("taskbot_input","taskbot_select_box",s&&"taskbot_input_error"),"aria-label":c||"multiple select"+(f&&f.length>0?" selected "+f.join(","):""),onClick:this.handleToggle,onKeyDown:this.handleKeydown,tabIndex:0,onBlur:r,role:"listbox","aria-expanded":this.state.open,"aria-required":d},l),i("div",{className:"taskbot_select_multiple"},f.map((function(e,n){return i("div",{className:"taskbot_select_multiple_item"},i("span",null,e),i("svg",{className:"delete_icon",onClick:function(e){return t.handleDelete(e,n)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18.008 18.003"},i("path",{d:"M15.367,2.634a9,9,0,1,0,0,12.733A9,9,0,0,0,15.367, 2.634Zm-1.867,9.6L12.23,13.5,9, 10.269H9L5.769,13.5,4.5,12.231,7.731,9,4.5,5.769, 5.769,4.5,9,7.731,12.231,4.5,13.5,5.769,10.269,9Z",transform:"translate(0.004 0.003)"})))}))),i(xt,{type:Vt,className:h("arrow",{arrow_down:!this.state.open})})),onSelectionKeydown:this.handleOptionKeyDown},i("div",{className:"taskbot_select_option_container",style:{height:o.length>8?264:32*o.length}},i("ul",{ref:function(e){t.selectOptionRef=e},className:"taskbot_select_option_list",style:{width:this.state.inputWidth},tabIndex:-1,onKeyDown:this.handleOptionKeyDown,role:"listbox","aria-activedescendant":"taskbot_select_option_item_"+p,"aria-multiselectable":"true"},o.map((function(e,n){return i("li",{id:"taskbot_select_option_item_"+n,key:e.value,className:h("taskbot_select_option_item",{selected:t._isSelected(e.value),active:p===n}),onClick:function(){return t.handleChange(e.value,n)},role:"option","aria-selected":t._isSelected(e.value),"data-value":e.value,"aria-label":e.label},e.label)})))))},e}(p),uj=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;e.languages;var s=t.value,c=t.options;return c||(c=[]),i(lj,{options:c,value:s,onChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id,width:308,error:t.error})})),pj=gT((function(t,e){var n=e.onChange;e.onBlur;var o=e.onFocus,a=e.disabled;e.style;var r=t.value;return r||n(Dt(new Date,"YYYY/MM/DD")),i(Rt,{value:r,onChange:n,onFocus:o,disabled:a,id:"field-"+t.id})})),hj=function(t,e){void 0===e&&(e="AM");var n=t%60,i=(t-n)/60;return"PM"===e&&0===i&&(i="12"),i+":"+(n=n<10?"0"+n:""+n)+" "+e},fj=function(t){if("number"!=typeof t)return"";return t<720?hj(t):hj(t-720,"PM")},gj=function(){var t=new Date;return 60*t.getHours()+t.getMinutes()},mj=gT((function(t,e){var n=e.onChange;e.onBlur;var o=e.onFocus,a=e.disabled;e.style;var r=t.value,s=r?function(t){var e=Dt(new Date,"YYYY/MM/DD"),n=new Date(e+" "+t);return 60*n.getHours()+n.getMinutes()}(r):gj();return r||n(fj(gj())),i(Et,{value:s,onChange:function(t){n(fj(t))},onFocus:o,disabled:a,formatType:"min",id:"field-"+t.id})})),wj=mj,bj=gT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;e.languages;var s=t.value,c=t.options;return c||(c=[]),i(zt,{options:c,value:s,onChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id,error:t.error})})),vj={},_j=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentWillMount=function(){var t=this,e=this.chatWindow(),n=ft(this.context);this.captcha=i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":n.loading,"aria-busy":"true",style:{transform:"none"}}),e.recaptchaLoadedCallback=function(){t.renderRecaptcha(e.grecaptcha)}},n.componentDidMount=function(){var t=this.chatWindow();t.grecaptcha&&t.grecaptcha.reset?t.grecaptcha.reset(vj[this.container.id]):(!function(t,e){var n=V.brandingNameLowerCase,i=t.head;if(i){var o=i.querySelector("style#recaptch");o||((o=t.createElement("style")).id="recaptch",i.appendChild(o));var a="#"+n+"-container ~ div > :last-child {max-height: 550px !important;overflow-y: auto !important;}#"+n+"-container ~ div > :last-child::-webkit-scrollbar-thumb {background-color: #c8c8c8;}#"+n+"-container ~ div:last-child {left: 0px !important;}#container ~ div:last-child {left: 0px !important;}";o.innerHTML=a}}(t.document,this.props.brandConfig),t.document.head.appendChild(this.createRecaptchaApiScript()))},n.shouldComponentUpdate=function(){return!1},n.createRecaptchaApiScript=function(){var t=this.chatWindow().document.createElement("script"),e=this.props,n=e.settings,i=e.language;return t.src="https://"+n.host+"/recaptcha/api.js?hl="+i+"&render=explicit&onload=recaptchaLoadedCallback",t.defer=!0,t.async=!0,t},n.componentWillUnmount=function(){this.chatWindow().grecaptcha=null},n.chatWindow=function(){var t=window.parent||window,e=t.document.getElementById("chat_window_container");return e&&"iframe"===e.tagName.toLowerCase()?e.contentWindow:t},n.renderRecaptcha=function(t){var e=this.props,n=e.settings,i=e.onError,o=e.onExpired,a=e.onSuccess,r=n.siteKey,s=n.isCompact;this.container.innerHTML="",vj[this.container.id]=t.render(this.container,{sitekey:r,size:s?"compact":"normal",callback:a,"expired-callback":o,"error-callback":i}),this.container.height=this.container.height+1},n.render=function(){var t=this;return i("div",{id:this.props.id,ref:function(e){t.container=e},className:h(!this.props.settings.isCompact&&"captcha")},this.captcha)},e}(p),xj=_j,yj=gT((function(t,e){var n=e.isHorizontal,o=e.onChange,a=e.captchaSettings,r=e.languageTag,s=e.brandConfig;return i(xj,{id:"captcha-"+t.id,isCompact:n,onSuccess:o,onExpired:function(){return o(null)},settings:a,language:r,brandConfig:s})})),Sj=yj,Cj=["fields"],kj=Ct((function(){return import("./NPS.b8d48b77.js")})),Ij=((rT={})[Ho]=WT,rT[qo]=IT,rT[Uo]=NT,rT[Go]=VT,rT[Ko]=LT,rT[Yo]=UT,rT[Qo]=KT,rT[Zo]=jT,rT[$o]=jT,rT[Xo]=HT,rT[Jo]=JT,rT[ia]=mT,rT[oa]=mT,rT[aa]=_T,rT.checkBoxList=_T,rT.custom=yT,rT.radioBox=OT,rT.radio=OT,rT.dropdownList=LT,rT.dropDownList=LT,rT[na]=jT,rT[ea]=FT,rT[ta]=ej,rT[ra]=kj,rT[sa]=Sj,rT[ca]=bj,rT[da]=uj,rT[la]=pj,rT[ua]=wj,rT[pa]=oj,rT[fa]=sj,rT[ha]=aj,rT),Mj=iB("form")((function(t){var e=t.fields,n=F(t,Cj);return i("div",{className:"field-table form-style-hor"},e.map((function(t){return t.type===ra?i(kt,null,i(It,null,i(Ij[t.type],Object.assign({},n,{field:t,key:t.id})))):i(Ij[t.type],Object.assign({},n,{field:t,key:t.id}))})))})),Oj=["disabled","text","onClick","className","htmlType","loading","size","icon","iconPosition","type","children","spanStyle","ariaLabelText"],Aj={large:"btn-lg",small:"btn-sm"},Bj={primary:"btn-primary",default:"btn-default",gray:"btn-grey",noborder:"btn-noborder"},Tj=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=JA(ct(n),["disabled","text","className","loading","size","icon","iconPosition","type","children"]),n}return st(e,t),e.prototype.render=function(){var t=this.props,e=t.disabled,n=t.text,o=t.onClick,a=t.className,r=t.htmlType;t.loading;var s=t.size,c=t.icon,d=t.iconPosition,l=t.type,u=t.children;t.spanStyle;var p=t.ariaLabelText,f=F(t,Oj),g=null;return c&&(g=c),i("button",dt({},f,{className:h("btn",e&&"disabled",Aj[s]||"",Bj[l]||"btn-default",a),onClick:e?void 0:o,type:r,"aria-label":p,"aria-disabled":e}),"right"!==d&&g,"right"!==d&&u,n&&i("span",{className:"window_quick_reply_buttons_item_inner"},i("span",null,n)),"right"===d&&u,"right"===d&&g)},e}(p),jj=["isSubmitting","onClick","success","text","disabled"],Pj=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidUpdate=function(t){var e=this;if(this.props.success&&!t.success&&mt)var n=0,i=setInterval((function(){e.btn&&(e.btn.style.fontSize=n/50%2==0?"1rem":"1.0001rem"),(n+=50)>500&&clearInterval(i)}),50);this.props.success&&!t.success&&this.svg.focus()},n.render=function(){var t=this,e=this.props,n=e.isSubmitting,o=e.onClick,a=e.success,r=e.text,s=e.disabled,c=F(e,jj),d=ft(this.context);return a?d.submitted:n&&d.uploading,i("div",dt({className:h("buttonProgressContainer",n&&!a&&"buttonProgressContainerLoading",a&&"buttonProgressContainerSuccess"),ref:function(e){t.btn=e}},c),i(Tj,{type:"primary",text:r,className:"buttonProgressBtnAnimated buttonProgressBtnDefaultSize",htmlType:"submit",onClick:o,disabled:s||n}),i("div",{className:"lds-css ng-scope"},i("div",{className:"lds-rolling"})),i("svg",{version:"1.1",className:"buttonProgress__layerCircle",id:"buttonProgress__layer-circle",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 30 30",xmlSpace:"preserve",focusable:"false",ref:function(e){t.svg=e},tabindex:"-1","aria-label":d.submitted},i("path",{className:"buttonProgress__submitCirclePath",d:"M15,1.5c7.4,0,13.5,6.1,13.5,13.5S22.4,28.5,15,28.5S1.5,22.4, 1.5,15S7.6,1.5,15,1.5L15,1.5z"})),i("svg",{version:"1.1",className:"buttonProgress__layerSuccess",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"16px",height:"16px",viewBox:"0 0 16 16",xmlSpace:"preserve"},i("title",null,d.submitted),i("polygon",{className:"buttonProgress__submitSuccessPath",points:"16,3.5 12.8,1 6.5,9.2 2.5,6.1 0,9.3 6,14 7.3,15"})))},e}(p),Fj=iB("submit")((function(t){return i(Pj,{onClick:t.onClick,isSubmitting:t.isSubmitting,success:t.success,text:t.text,disabled:t.disabled})})),Wj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={reCaptchaError:""},n.onSubmit=n.onSubmit.bind(ct(n)),n.onReCaptchaErrorClose=n.onReCaptchaErrorClose.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.onSubmit=function(t){var e=this;t.preventDefault(),setTimeout((function(){if(e.props.submitStatus!==ap){var t=e.props.fields.filter((function(t){return""!==t.error}));if(t.length>0){var n=t.map((function(t){return t.id}));e.props.onValidateAll(n);for(var i=0;i<n.length;i+=1)if(-1===n[i]){e.setState({reCaptchaError:e.props.languages.recaptchaError});break}}else e.props.onSubmit(e.props.fields)}}),0)},n.onReCaptchaErrorClose=function(t){t.preventDefault(),this.setState({reCaptchaError:""})},n.render=function(){var t=this.props,e=t.fieldId,n=t.isHorizontal,o=t.tab,a=t.fields,r=t.siteId,s=t.onChange,c=t.onBlur,d=t.onFocus,l=t.onError,u=t.disabled,p=t.windowStyle,f=t.languages,g=t.submitStatus,m=t.buttonText,w=t.languageTag,b=t.captchaSettings,v=t.brandConfig,_=t.ifCrossSiteTransfer,x=ft(this.context),y=a.some((function(t){return t.isRequired}));return i("form",{onSubmit:this.onSubmit},i("div",{id:e,className:h("form-fields",n&&"form-fields--horizonal")},y&&i("i",{className:"form-note",tabIndex:0},x.requiredMark),i(Mj,{tab:o,fields:a,siteId:r,onError:l,onChange:s,onBlur:c,onFocus:d,style:p,disabled:u,languages:f,languageTag:w,captchaSettings:b,isHorizontal:n,brandConfig:v,ifCrossSiteTransfer:_})),i("div",{className:"form-bottom form__submitContainer"},this.state.reCaptchaError&&i(pT,{message:this.state.reCaptchaError,type:cT,onClose:this.onReCaptchaErrorClose}),i(Fj,{tab:o,onClick:this.onSubmit,isSubmitting:g===ap,success:g===rp,text:m,disabled:u})))},e}(p),Nj=function(t){function e(e){var n;(n=t.call(this,e)||this).onClick=n.onClick.bind(ct(n)),n.toggle=n.toggle.bind(ct(n)),n.onButtonFocus=n.onButtonFocus.bind(ct(n));var i=function(){n.props.focus&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}st(e,t);var n=e.prototype;return n.componentWillMount=function(){this.props.isActive&&this.toggle(!0)},n.componentWillReceiveProps=function(t){t.isActive&&this.toggle(!0)},n.onClick=function(){this.toggle(!0)},n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.toggle=function(t){this.props.onDialogToggle(!0,"sendEmail")},n.render=function(){var t=this,e=this.props,n=this.props.languages,o=e.windowDisabled||this.state.active?null:function(e){e.stopPropagation(),t.onClick(e)};return i("li",{role:"none"},i("button",dt({},{role:"menuitem"},{onClick:o,tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(e){t.btn=e},onTouchEnd:function(t){if(t&&t.stopPropagation)t.stopPropagation();else if(window.event)return window.event.cancelBubble=!0,!1;return!0}}),i(xt,{id:"iconSendEmail",type:Ht,title:n.buttonTranscript,ariaHidden:!0}),i("div",{className:"menu__text-container"},n.buttonTranscript)))},e}(p);Nj.displayName="SendEmail";var Vj,Dj=f((function(t){var e=Af(t),n=ug(t),i=Yf(t,"email");return{isPoppedOut:lh(t),isRightToLeft:pg(t),isActive:n&&!e,disabled:!1,emailAddress:i,languages:c_(t),popupBubbleType:Kg(t)}}),(function(t){return{onSubmit:function(e){ck("livechat.chat.visitor.setEmail",e),t(ES(e))},onToggle:function(e){t(Ay(e?"sendEmail":"none"))}}}))(Nj),Rj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowDialog:!1},n.toggle=n.toggle.bind(ct(n)),n.onClick=n.onClick.bind(ct(n)),n.onContinue=n.onContinue.bind(ct(n)),n.onCancel=n.onCancel.bind(ct(n)),n.beforeUnload=n.beforeUnload.bind(ct(n)),n.unload=n.unload.bind(ct(n)),n.onButtonFocus=n.onButtonFocus.bind(ct(n)),n.onKeyDown=Ot(n.onClick),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.isPopout&&(V.addEventListener("beforeunload",this.beforeUnload),V.addEventListener("unload",this.unload))},n.componentWillReceiveProps=function(t){var e=this;t.focus&&setTimeout((function(){return e.btn.focus()}),0)},n.componentWillUnmount=function(){this.props.isAudioVideoChatting&&this.props.onContinue()},n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.onClick=function(t){this.props.isAudioVideoChatting||this.props.isScreenSharing?this.toggle(!0,t):this.props.onClick()},n.onContinue=function(t){this.toggle(!1,t),this.props.onContinue(this.props.isAudioVideoChatting,this.props.isScreenSharing)},n.onCancel=function(t){this.toggle(!1,t)},n.beforeUnload=function(t){if(this.props.isAudioVideoChatting){var e=this.props.languages.audioVideoChangeWindowType,n=t||V.event;return n.stopPropagation(),n.preventDefault(),n.returnValue=e,e}},n.unload=function(){this.props.isAudioVideoChatting&&this.props.onContinue()},n.toggle=function(t,e){e&&e.stopPropagation(),this.setState({ifShowDialog:t}),this.props.onDialogToggle(t)},n.render=function(){var t=this,e=this.props,n=this.props.languages,o=e.isPopout?n.embeddedWindowPopup:n.embeddedWindowPopin,a=e.isPopout?qt:Ut,r=ft(this.context),s=this.props.isAudioVideoChatting&&!this.props.isScreenSharing?n.audioVideoChangeWindowType:r.confirmStopAudioVideoOrScreenSharing;return i("li",{role:"none"},i("button",{role:"menuitem",onClick:this.onClick,tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(e){t.btn=e},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}},i(xt,{type:a,title:o,ariaHidden:!0}),i("div",{className:"menu__text-container"},o)),i(qB,{globalClass:"body__dialog-menu",iconId:"iconPop",ifShow:this.state.ifShowDialog,onClose:function(e){return t.toggle(!1,e)},width:e.isPopout?305:385},i("div",{className:"bubble--desc"},s),i("div",{className:"embedded-end-chatConfirmAction bubble__operation"},i("button",{id:"embedded-continue",className:"btn btn-primary",onClick:function(e){return t.onContinue(e)},tabIndex:"0"},n.buttonContinue),i("button",{id:"embedded-cancel",className:"btn btn-grey",onClick:function(e){return t.onCancel(e)},tabIndex:"0"},n.buttonCancel))))},e}(p);Rj.displayName="PopOutOrRestore";var Ej,zj,Lj=[],Hj="visitorMsgRestritUnlockTimeKey2",qj="visitorMsgSentTimeKey",Uj="penaltyFactorKey",Gj=1,Kj=null,Yj=[],Jj=null,Qj={},Zj=function(t){var e=mb(Sb());return null==e?"":e[t]},Xj=function(t,e){return Qj[Hj]=Zj(Hj),Qj[qj]=Zj(qj),Qj[Uj]=Zj(Uj),Qj[t]=e,Qj};function $j(){var t=Zj(Hj);return null!=t&&""!==t?new Date(+t):null}function tP(){Cb(Xj(qj,Lj.join(":")))}var eP=function(){Kj&&(clearInterval(Kj),Kj=null)};function nP(){Yj.forEach((function(t){clearTimeout(t)})),Yj=[]}function iP(){Jj&&clearTimeout(Jj),Jj=null}function oP(){zj(!1),Lj=[],nP(),iP(),Cb(Xj(Hj,"")),Cb(Xj(qj,""))}function aP(){var t=Vj.penalty*Gj*1e3;Cb(Xj(Hj,(new Date).getTime()+t)),zj(!0),Jj=setTimeout(oP,t),(Gj*=2)>Math.pow(2,Vj.repeat-1)&&(Gj=1),Cb(Xj(Uj,Gj))}function rP(){return!!Jj||!(Lj.length<=Vj.count)&&(aP(),!0)}function sP(){Lj.shift(),Yj.shift(),tP()}var cP=function(t,e,n){var i;Vj=t,Ej=e,zj=n,(i={})[Hj]="",i[qj]="",i[Uj]="",Qj=i,nP(),eP(),iP(),Lj=[],Gj=1,Kj=null,function(){var t=(new Date).getTime(),e=Zj(qj);if(null!=e&&""!==e){var n=!1;e.split(":").forEach((function(e){var i=new Date(+e);t-i<=1e3*Vj.penalty&&(Lj.push(+e),Yj.push(setTimeout(sP,1e3*Vj.penalty-(t-i))),n=!0)})),n&&tP()}var i=$j();i&&t<i&&(zj(!0),Jj=setTimeout(oP,i-t));var o=Zj(Uj);Gj=null==o||""===o||isNaN(+o)?1:+o}()},dP=function(){oP(),Cb(Xj(Uj,1)),eP()},lP=function(){!function(){if(!Jj){Lj.push((new Date).getTime()),tP();var t=setTimeout(sP,1e3*Vj.duration);Yj.push(t)}}();var t=rP(),e=0;return t&&(e=Math.max(0,Math.floor(($j()-(new Date).getTime())/1e3))),t&&!Kj&&(Kj=setInterval((function(){var t=rP(),e=Math.max(0,Math.floor(($j()-(new Date).getTime())/1e3));t&&e>0?Ej(e):(Ej(0),eP())}),1e3)),!t&&Kj&&eP(),{isLimited:t,waitSecond:e}},uP=f((function(t){return{isPopout:!0,isAudioVideoChatting:sg(t),isScreenSharing:am(t),languages:c_(t)}}),(function(t){return{onClick:function(){eP(),t(fy())},onContinue:function(e,n){e&&t(tC()),n&&t(eC()),setTimeout((function(){eP(),t(fy())}),1e3)}}}))(Rj),pP=f((function(t){return{isPopout:!1,isAudioVideoChatting:sg(t),isScreenSharing:am(t),languages:c_(t)}}),(function(t){return{onClick:function(){t(gy())},onContinue:function(e,n){e&&t(tC()),n&&t(eC()),t(gy())}}}))(Rj),hP=function(t){function e(e){var n;(n=t.call(this,e)||this).onButtonFocus=n.onButtonFocus.bind(ct(n));var i=function(){n.props.focus&&n.btn&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}st(e,t);var n=e.prototype;return n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.render=function(){var t=this,e=this.props,n=this.props,o=n.languages,a=n.isSoundOff,r=n.setSoundOff;return i("li",{role:"none"},i("button",dt({},{role:"menuitem"},{onClick:function(){return r(!t.props.isSoundOff)},tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,onKeyDown:this.onKeyDown,ref:function(e){t.btn=e},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}}),i(xt,{type:a?Gt:Kt,title:a?o.buttonSoundOff:o.buttonSoundOn,id:"iconSound",ariaHidden:!0}),i("div",{className:"menu__text-container"},a?o.buttonSoundOff:o.buttonSoundOn)))},e}(p);hP.displayName="Sound";var fP,gP=f((function(t){return{languages:c_(t),isSoundOff:gh(t)}}),(function(t){return{setSoundOff:function(e){t(E_(e))}}}))(hP),mP=Ct((function(){return import("./Print.7ac9a9c1.js")})),wP=((fP={})[tp]="livechat.chat",fP[$u]="livechat.prechat",fP[ep]="livechat.postChat",fP[np]="livechat.offlineMessage",fP),bP=f((function(t){var e=Zh(t),n=nf(t),i=Vv(t,n.id),o=ym(t),a=Qf(t),r=Ov(t),s=Wv(t,r),c=s&&function(t,e){return!!(cm&Km(t,e))&&t.window.chatStatus!==gp}(t,r)&&nw(t),d=s&&Ym(t,r)&&!Af(t),l=s&&function(t,e){return!!(pm&Km(t,e))&&!Af(t)&&!Pm(t)}(t,r),u=lh(t),p=S_(t),h=!u&&!p,f=ph(t),g=qh(t),m=e===tp&&g===fp,w=f&&m,b=s_(t),v=Pm(t),_=!u;_=_&&!qg(t);var x=zm(t),y=s&&$m(t,r),S=!b&&!_&&!m;return Object.assign({tab:e,hasMinimize:h,hasEndChat:w,hasPrint:l,icons:[c&&sT,d&&Dj,l&&{type:"lazy",name:"Print",component:mP},y&&gP,b&&pP,_&&uP].filter((function(t){return t})),windowDisabled:Jf(t),chatWindowStyle:i,isAvatarGray:e===np||e===ip&&!jm(t,n.id),ifViewConfirmBubble:e!==ep,ifHideBio:Gf(t),isPopout:lh(t),languages:n.languages,ifViewHeader:!0,ifViewHeaderBox:x>340,color:Xv(t),mainColor:of(t),windowStatus:o,ifShowSideWindow:a,height:zm(t)},oT(i,t,n),{isMobile:v,popupBubbleType:Kg(t),emailAddress:Yf(t,"email"),hideCloseButton:S})}),(function(t){return{onMinimize:function(e){var n=wP[e];n&&ck(n+".minimize"),t(ix())},onEnterMinimize:function(){t(rx(!0))},onClose:function(e){var n=wP[e];n&&ck(n+".close"),t(ox())},onEndChat:function(){t(zS()),t(Q_())},onUpdateScrollStatus:function(e){t(ly(e))}}}))(XB),vP=function(t){function e(e){var n;return(n=t.call(this,e)||this).handlerKeydown=n.handlerKeydown.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.handlerKeydown=function(t){if(9===t.keyCode&&!top.frames.chat_button_adaptive_container){var e=top.frames.side_window_container&&top.frames.side_window_container.contentWindow,n=e&&e.document.querySelector(".sideWindow");if(n)return void n.focus();var i=this.poweredByRef.ownerDocument.querySelector(".whole-window");i&&i.focus()}},n.render=function(){var t=this,e=this.props,n=ft(this.context);return"Comm100"===e.brandingName?i("div",{className:"poweredby",onKeyDown:this.handlerKeydown,ref:function(e){t.poweredByRef=e}},i("a",{rel:"noopener noreferrer nofollow",target:"_blank",href:e.poweredByUrl,onClick:void 0,hrefLang:"en","aria-label":n.poweredBy.replace("${brandingName}",V.brandingName),title:"Powered by "+e.brandingName},i("svg",{viewBox:"0 0 75.1 13.5",style:{width:75.1},focusable:"false"},i("polygon",{points:"9.1,4.9 5.4,4.9 7.8,0.3 3,0.3 0,8 3.6,8 1.6,13.5"}),i("path",{d:"M33.6,2.5c0.5,0.1,1,0.4,1.4,0.8c0.3-0.3,0.7-0.6,1-0.8c-0.5-0.6-1.3-1-2.1-1.2c-2.1-0.4-4.1,1-4.5,3c-0.4,2.1,1,4.1,3,4.5c0.9,0.2,1.7,0,2.4-0.3c-0.2-0.3-0.5-0.8-0.6-1.1c-0.5,0.1-1,0.2-1.6,0.1c-1.4-0.3-2.3-1.6-2-3C30.9,3.1,32.2,2.2,33.6,2.5z M23.1,6.2C23,6.6,22.9,7,22.8,7.3c-0.1-0.3-0.2-0.8-0.3-1.2l-1.1-3.4H20l2.1,5.6c0.1,0.2,0.1,0.2,0.1,0.3c0,0.2-0.5,1.4-1.8,1.9l0.3,1.1c0.3-0.1,0.9-0.3,1.4-0.8C22.8,10.1,23.3,9,24,7l1.4-4.2h-1.3L23.1,6.2zM38,3c-1.6,0-2.9,1.3-2.9,2.9c0,1.6,1.3,2.9,2.9,2.9s2.9-1.3,2.9-2.9C40.9,4.3,39.6,3,38,3z M38,7.7c-1,0-1.8-0.8-1.8-1.8S37,4.1,38,4.1s1.8,0.8,1.8,1.8S39.1,7.7,38,7.7z M17.7,2.6c-0.8,0-1.4,0.4-1.8,1L15.8,0h-1.3v8.8h1.1l0.1-0.9c0.4,0.7,1,1,1.8,1c1.2,0,2.5-1,2.5-3.2C20,3.8,19.1,2.6,17.7,2.6z M17.2,7.9c-0.9,0-1.4-0.7-1.4-1.5V5.2c0-0.8,0.6-1.6,1.4-1.6c1,0,1.5,1,1.5,2.1C18.7,7,18.2,7.9,17.2,7.9z M72.5,1.2c-1.1,0-2.6,0.8-2.6,3.8c0,3.1,1.6,3.8,2.6,3.8c1.2,0.1,2.6-0.7,2.6-3.8S73.6,1.2,72.5,1.2zM72.5,7.9C71.6,7.9,71,7,71,5s0.6-2.9,1.5-2.9S74,3,74,5S73.4,7.9,72.5,7.9z M66.4,1.2c-1.1,0-2.6,0.8-2.6,3.8c0,3.1,1.6,3.8,2.6,3.8C67.5,8.9,69,8.1,69,5S67.5,1.2,66.4,1.2z M66.3,7.9c-0.9,0-1.5-0.9-1.5-2.9s0.6-2.9,1.5-2.9c0.9,0,1.5,0.9,1.5,2.9S67.2,7.9,66.3,7.9z M57.7,3c-0.8,0-1.5,0.4-1.9,1.2c-0.1-0.4-0.2-0.7-0.5-0.9S54.7,3,54.3,3c-0.8,0-1.4,0.3-1.8,1V3.1h-1.2v5.8h1.2V5.8c0-0.6,0-1,0.3-1.3S53.3,4,53.7,4c0.7,0,1.1,0.5,1.1,1.6v3.2H56V5.7c0-0.5-0.1-0.9,0.2-1.2S56.8,4,57.1,4c0.4,0,0.7,0.1,0.9,0.4c0.2,0.3,0.3,0.7,0.3,1.3v3.1h1.2V5.4C59.5,3.8,59,3,57.7,3z M48.2,3c-0.8,0-1.5,0.4-1.9,1.2c-0.1-0.4-0.2-0.7-0.5-0.9S45.2,3,44.8,3C44,3,43.4,3.3,43,4V3.1h-1.2v5.7H43V5.7c0-0.5-0.1-0.9,0.2-1.2S43.7,4,44.1,4c0.7,0,1.1,0.5,1.1,1.6v3.2h1.2V5.7c0-0.5,0.2-0.9,0.4-1.2C47.1,4.2,47.4,4,47.7,4c0.4,0,0.7,0.1,0.9,0.4c0.2,0.3,0.3,0.7,0.3,1.3v3.1h1.2L50,5.4C50,3.8,49.5,3,48.2,3z M60.5,2.1h0.8v6.7h1V1.1h-1.8V2.1z"})))):i("div",{className:"poweredby",dangerouslySetInnerHTML:{__html:e.poweredByContent},onKeyDown:this.handlerKeydown,ref:function(e){t.poweredByRef=e}})},e}(p),_P=iB("footer.poweredby")(vP),xP=function(t){function e(e){var n;return(n=t.call(this,e)||this).focusInput=n.focusInput.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){if(t.isPopout&&!t.isBubble&&this.container.parentElement){var e=Yt(t.width);this.container.parentElement.style.marginLeft=e.marginLeft||"",this.container.parentElement.style.marginRight=e.marginRight||""}},n.focusInput=function(){var t=this.container.ownerDocument.querySelector("#chat-input textarea");t&&t.focus()},n.render=function(){var t=this,e=this.props;return i("footer",{ref:function(e){t.container=e},className:h("footer window__footer",!e.poweredByUrl&&!e.showChatWithAgent&&"footer--empty"),style:e.style,onTouchMove:lt,onClick:this.focusInput},e.poweredByUrl&&i(_P,e),e.showChatWithAgent&&i("button",{onClick:e.onChatWithAgentClick,className:"window__chatWithAgent window__chatWithAgent--bottom"},e.chatWithAgentText))},e}(p),yP=iB("footer","footer-container")(xP),SP=f((function(t){var e=Pm(t)||Iw(t)?null:Of(),n=Zh(t),i=Wh(t),o=$h(t),a=Vv(t,o)===rw;return{tab:n,poweredByUrl:e,showChatWithAgent:!1,chatWithAgentText:l_(t,"buttonChatbotChatWithAgent"),brandingName:i&&i.brandingName,partnerId:i&&i.partnerId,poweredByContent:i&&i.poweredByContent,isPopout:lh(t),width:Zg(t),isBubble:a}}),(function(t){return{onChatWithAgentClick:function(){t($x())}}}))(yP),CP={},kP=t(5)((function(t){return at("iframe",{src:t,style:{display:"none"},title:"Login"},document.body).then((function(e){var n=MO(e.contentWindow,t),i=function(t){try{return JSON.parse(t)}catch(t){return}};return n.subscribe((function(t){var e=t.data,n=i(e);if(n&&CP[n.meta]){var o=CP[n.meta],a=o.reject,r=o.resolve;n.error?a(n.payload):r(n.payload)}})),n}))}));function IP(t,e){var n=Math.random().toString();return kP(e).then((function(e){return new Promise((function(i,o){var a=Object.assign({meta:n},t);CP[a.meta]={resolve:i,reject:o},e.dispatch(a)}))}))}var MP,OP=function(t,e){return IP({type:"facebook-init",payload:t},e)},AP=((MP={})[1]={text:"Facebook",color:"#39599C",svg:"M9.253,4.07a1.3,1.3,0,0,1,1.24-1.3,5.294,5.294,0,0,1,1.648.247l.5-2.7A12.567,12.567,0,0,0,9.315.01,3.286,3.286,0,0,0,6.427,1.328a4.764,4.764,0,0,0-.566,2.761V5.9H4.046V8.54H5.86V16H9.315V8.481h2.7l.19-2.636V5.778H9.253Z",id:"fb-login"},MP),BP=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this,e=this.btn.style.backgroundColor;this.btn.style.backgroundColor="initital",setTimeout((function(){t.btn&&(t.btn.style.backgroundColor=e)}),0)},n.render=function(){var t=this,e=this.props,n=AP[e.type];return i("button",{className:h("prechatForm__socialBtn",e.isSimpleIcon&&"socialBtn--simple"),onClick:e.onClick,id:n.id,style:{backgroundColor:n.color},"aria-label":n.text,ref:function(e){t.btn=e}},i("svg",{viewBox:"0 0 16 16",focusable:"false"},i("path",{d:n.svg})),i("span",null,n.text))},e}(p),TP=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return t.prefix!==this.props.prefix||t.greeting!==this.props.greeting},n.render=function(){var t=this.props,e=t.prefix,n=t.greeting;return i("div",{className:"greeting-message window__formGreeting",id:e+"-greeting",dangerouslySetInnerHTML:{__html:n}})},e}(p),jP=iB("greeting")(TP),PP=t(1)((function(t,e,n,o,a,r){if(!t)return null;var s,c,d,l=e+"&key="+o;if(t){var u=(c=K(OP,t,l),d=BP,function(t){function e(e){var n;return(n=t.call(this,e)||this).state={status:"loading"},n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;c().then((function(){t.setState({status:"done"})}),(function(){t.setState({status:"error"})}))},n.render=function(){var t=ft(this.context);return"loading"===this.state.status?i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":t.loading,"aria-busy":"true"}):"done"===this.state.status?i(d,this.props):null},e}(p));s=i(u,{type:1,onClick:function(){return function(t){return IP({type:"facebook-login"},t)}(l).then(n)},isSimpleIcon:r})}else s=null;return iB("social")((function(){return i("div",{id:"social-logins",className:h("prechatForm__login",r&&"form-fields--horizonal","form-fields")},i("div",{className:"box-field"},i("div",{className:"field-name clearfix"},i("span",{className:"lang-sign-in-with system LanguagePreChatSocialMediaSignInWith prechatForm__signinwith field__label"},a.preChatSocialMediaSignInWith)),i("span",{id:"social-login-icons",className:"float-left box-icons prechatForm__social field-control"},s)),i("div",{className:"box-hor-or"},i("span",{className:"LanguagePreChatSocialMediaOr hor-or prechatForm__divide"},a.preChatSocialMediaOr)))}))})),FP=function(t,e){var n=t.facebookAppId,i=t.iframeSrc,o=t.onLogin,a=t.languages,r=t.isHorizontal;return PP(n,i,o,e,a,r)},WP=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={animated:!1,isAnimationEnd:!1},n.social=null,n.key=+new Date,n.social=FP(e,n.key),n.onAnimated=n.onAnimated.bind(ct(n)),n.onAnimationEnd=n.onAnimationEnd.bind(ct(n)),n.onScroll=n.onScroll.bind(ct(n)),n.canUpdateHideBio=!0,n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.onMounted(),setTimeout((function(){t.element&&(t.element.scrollTop=0)}),0),Q&&this.onAnimationEnd(),ut(this.animation,this.onAnimationEnd),setTimeout((function(){}),10),ut(this.animation,this.onAnimated)},n.componentWillReceiveProps=function(t){this.social=FP(t,this.key)},n.componentDidUpdate=function(t){var e=this,n=t.ifHideBio;this.props.ifHideBio!==n&&(this.canUpdateHideBio=!1,setTimeout((function(){e.canUpdateHideBio=!0}),625))},n.componentWillUnmount=function(){Jt(this.animation,this.onAnimated),Jt(this.animation,this.onAnimationEnd)},n.onAnimated=function(){this.setState({animated:!0})},n.onAnimationEnd=function(){this.setState({isAnimationEnd:!0})},n.onScroll=function(t){if(!(window.navigator.userAgent.toLowerCase().indexOf("msie 9.0")>=0)&&this.props.tab!==$u){var e=t.currentTarget.scrollTop;this.canUpdateHideBio&&e>0&&!this.props.ifHideBio&&this.props.onUpdateScrollStatus(!0),this.canUpdateHideBio&&0===e&&this.props.ifHideBio&&this.props.onUpdateScrollStatus(!1)}},n.render=function(){var t=this,e=this.props,n=e.prefix,o=e.greeting,a=e.submitStatus,r=e.onChange,s=e.onBlur,c=e.onFocus,d=e.isHorizontal,l=e.buttonText,u=e.siteId,p=e.style,f=e.error,g=e.windowStyle,m=e.disabled,w=e.tab,b=e.height,v=e.languages,_=e.isMobile,x=e.onError,y=e.onValidateAll,S=e.onSubmit;e.mainColor;var C,k=e.showAdaptiveMinimizeIcon,I=e.isIPad,M=e.fields,O=e.isPopout,A=e.hasPoweredBy,B=e.ifShowSideWindow,T=e.captchaSettings,j=e.languageTag,P=e.isEmbeddedWindow,F=e.brandConfig,W=e.ifCrossSiteTransfer,N=this.state.isAnimationEnd?"auto":"hidden";if(g===rw){if(C=b-(_?20:30),_||(C-=A?35:0),!_||I){k&&(C-=105)}if(I){B&&(C-=45)}_&&!I&&(C="100%")}var V=Xt(),D=M;gt&&(D=[{type:ea,isHidden:!0,value:"",error:""}].concat(D));var R="";n===mp?R="Pre-chat window":n===wp?R="Post-chat window":n===bp&&(R="Offline message window");var E={maxHeight:C},z={};return O&&(E=Object.assign({},E,Qt(this.props.width)),z=Zt(this.props.width)),g===rw?i("div",{className:"window__formContainer window__formContainer--bubble",style:{maxHeight:C,overflowY:N},ref:function(e){t.element=e}},i("div",{className:h("form window__form",!this.state.isAnimationEnd&&"window__form--animation"),id:n+"-window",ref:function(e){t.animation=e},style:!_&&{background:V}},i("h1",{className:"visually-hidden","aria-hidden":!0},R),f&&i("div",{className:"window__formError"},f),o&&i("div",{className:"greeting-message-container",ref:function(e){t.greetingElement=e},tabindex:-1},i(jP,{prefix:n,greeting:o,tab:w})),this.social&&i(this.social,{tab:w}),i(Wj,{onSubmit:S,onChange:r,onError:x,onBlur:s,onFocus:c,onValidateAll:y,fieldId:n+"-fields",isHorizontal:d,tab:w,fields:D,siteId:u,disabled:m,windowStyle:p,languages:v,submitStatus:a,buttonText:l,style:{background:V},captchaSettings:T,languageTag:j,ifCrossSiteTransfer:W}))):i("div",{onScroll:this.onScroll,className:h("form window__form",!this.state.isAnimationEnd&&"window__form--animation",(O||!P)&&"window__form_popout"),id:n+"-window",style:E,ref:function(e){t.element=e,t.animation=e}},i("div",{style:z},i("h1",{className:"visually-hidden","aria-hidden":!0},R),f&&i("div",{className:"window__formError"},f),o&&i("div",{tabIndex:0,ref:function(e){t.greetingElement=e}},i(jP,{prefix:n,greeting:o,tab:w})),this.social&&i(this.social,{tab:w}),i(Wj,{onSubmit:S,onChange:r,onError:x,onBlur:s,onFocus:c,onValidateAll:y,fieldId:n+"-fields",isHorizontal:d,tab:w,fields:D,siteId:u,disabled:m,windowStyle:p,languages:v,submitStatus:a,buttonText:l,captchaSettings:T,languageTag:j,brandConfig:F,ifCrossSiteTransfer:W})))},e}(p),NP=WP,VP=function(t){var e="";t===mp?e="livechat.prechat":t===wp?e="livechat.postChat":t===bp&&(e="livechat.offlineMessage");return f((function(n){var i,o=t===mp,a=function(t){return t.configuration.isChinaIP}(n),r=o&&function(t){var e=t.entities.campaigns.entities[t.window.id];return!!e.socialLogin&&e.socialLogin.facebook}(n),s=r&&!a?function(t){return t.configuration.facebookAppId}(n):void 0;t===mp?i=$u:t===wp?i=ep:t===bp&&(i=np);var c=lh(n),d=zm(n),l=$h(n),u=tf(n)||l,p=t===wp?bv(n):vv(n,t,u),h=Jf(n);t===bp&&0===p.length&&(h=!0);var f=c_(n),g=of(n),m=Pm(n),w=!m&&!Iw(n)&&!!Of(),b=d_(n),v=mw(n,l),_=Yv(n,t),x=Vv(n,l),y=m&&mt&&gg(n)||_&&x===rw||gg(n)&&mt&&pg(n),S=Object.assign({},function(t){return t.configuration.recaptchaSettings}(n),{isCompact:y});return{height:d,isPopout:c,tab:i,fields:p,prefix:t,facebookAppId:s,iframeSrc:bh(n,"/visitorside/html/socialiframe.1efca11d23c8aaad0ed8eaa08ef9ce9e3a166f1e.html?origin="+z.origin+"&id="+(window.frameElement?window.frameElement.id:"id")),captchaSettings:S,submitStatus:_v(n,t),greeting:Kv(n,t),isHorizontal:_,buttonText:Jv(n,t),hCallback:undefined,siteId:_m(n),style:Rv(n),error:yf(n),windowStyle:Vv(n,l),disabled:h,isMobile:m,isIPad:Fm(n),languages:f,languageTag:b,ifHideBio:Gf(n),mainColor:g,bottom:Ig(n),hasPoweredBy:w,showAdaptiveMinimizeIcon:S_(n),ifShowSideWindow:Qf(n),onMounted:function(){ck(e+".display",u)},isEmbeddedWindow:v,brandConfig:Wh(n),ifCrossSiteTransfer:!!kv(n),width:Zg(n)}}),(function(n){return{onChange:function(i,o){n(_C(t,i.id,o)),ck(e+".field.change",Object.assign({},i,{value:o}))},onError:function(e,i){n(xC(t,e.id,i))},onBlur:function(i){n(SC(t,i.id)),ck(e+".field.blur",Object.assign({},i,{isFocused:!1}))},onFocus:function(i){n(yC(t,i.id)),ck(e+".field.focus",Object.assign({},i,{isFocused:!0}))},onLogin:function(e){n(function(t,e){return{type:tl,payload:e,meta:{formType:t}}}(t,e))},onSubmit:function(e){return n(FC(t,1500,e))},onValidateAll:function(t){n(AC(xp,t))},onUpdateScrollStatus:function(t){n(ly(t))}}}))(NP)},DP=VP(mp),RP=VP(wp),EP=VP(bp);Math.pow("production",m.shape({fields:m.arrayOf(m.shape()),buttons:m.arrayOf(m.shape()),isEnable:m.bool,tabIndex:m.number}));var zP=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),ut(this.container,t)}},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Jt(this.container,this.props.scrollDown)},n.render=function(){var t=this,e=this.props,n=e.windowStyle===rw;return e.type===Xn?i("div",{className:"chat__greetingContainer"},i("div",{className:n?"chat-system-message window__chatSystemMessage":"greeting-message window__formGreeting"},i("div",{className:h(n&&"window__chatSystemMessageContent"),dangerouslySetInnerHTML:{__html:e.message}}))):i("div",{tabIndex:e.tabIndex,id:e.type===ke?"system-queue-position":null,className:"chat-system-message window__chatSystemMessage",ref:function(e){t.container=e}},i(uT,{id:e.messageGuid,message:e.liveMessage||e.message}),n&&i("div",{className:"window__chatSystemMessageContent"},e.message),!n&&e.message)},e}(p),LP={minimize:"minimize",popup:"popup",embedded:"embedded",close:"close",inputSend:"input-send",plus:"plus",bubble:"bubble",sendfile:"sendfile",kb:"icon-kb",kbActive:"icon-kb-active",bot:"icon-bot",botActive:"icon-bot-active",media:"icon-media",mediaActive:"icon-media-active",search:"kb-search"},HP=["type","color","size","className","hoverScale","disabled","hoverColor"],qP=function(t){function e(){var e;return(e=t.call(this)||this).state={isHover:!1},e.updateHoverStatus=e.updateHoverStatus.bind(ct(e)),e.shouldComponentUpdate=JA(ct(e),["type","disabled","size","className","color","id","onClick"],["isHover"]),e}st(e,t);var n=e.prototype;return n.updateHoverStatus=function(t){this.setState({isHover:t})},n.render=function(){var t=this,e=this.props,n=e.type,o=e.color,a=e.size,r=e.className,s=e.hoverScale,c=e.disabled,d=e.hoverColor,l=F(e,HP),u={large:"icon-large",small:"icon-small",larger:"icon-larger",smaller:"icon-smaller",normal:"icon-normal"}[a]||"",p=n.split("#"),f=p[0],g=p[1],m=h("icon","icon-"+f,u,s&&"icon-hover",r),w=l.style||{};return d&&this.state.isHover?w.color=d:o?w.color=o:g&&(w.color="#"+g),"number"==typeof a&&(w.fontSize=a+"px"),c&&(w.color="#999"),i("i",dt({},l,{style:w,className:m,onMouseOver:function(){return t.updateHoverStatus(!0)},onMouseOut:function(){return t.updateHoverStatus(!1)}}))},e}(p);qP.types=LP;var UP=t(1)((function(t,e){return t?C(e,"guid",t):-1}));function GP(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent}var KP=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowLoading:!1,imgWidth:0,imgHeight:0},n.timer=null,n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;if(this.props.type===$n&&(this.timer=setTimeout((function(){t.setState({ifShowLoading:!0}),t.timer=null}),1e3)),(0,this.props.scrollDown)(!0),this.props.type===Ie&&this.props.message.url&&/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(this.props.message.name)){var e=new Image;e.src=Ar(this.props.message.url,!0),e.onload=function(){t.setState({imgWidth:e.width,imgHeight:e.height})}}},n.componentWillReceiveProps=function(t){t.type!==$n&&(this.timer&&clearTimeout(this.timer),this.setState({ifShowLoading:!1}))},n.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer)},n.getLiveMessage=function(){var t,e=ft(this.context),n=this.props,i=n.type;return i===$n?t=e.sendMessageLiveMessage.replace("${message}",n.displayedText?n.displayedText:n.message):i===Ce?t=n.translated&&n.translated!==n.message&&n.ifShowTranslationOnly?e.translateLiveMessage.replace("${translated}",n.translated).replace("${message}",n.message):e.sendMessageLiveMessage.replace("${message}",n.displayedText?n.displayedText:n.message):i===Me?t=e.sendImgLiveMessage:i===Ie?t=e.sendFileLiveMessage.replace("${name}",n.message.name):n.type===ei||n.type===ti?t=e.sendingFileLiveMessage.replace("${name}",n.message.fileName):i===Oe?t=e.sendPwdLiveMessage:i!==Yn&&i!==Kn||(t=e.sendMessageLiveMessage.replace("${message}",n.message.message)),t&&(t=e.visitorSendLiveMessage.replace("${message}",t).replace("${time}",$t(n.time))),t},n.render=function(){var t,e,n,o=this,a=this.props,r=!1,s=!1,c="",d="",l=a.isMobile&&!a.isIpad,u=ft(this.context);a.type===$n?t=sr(a.displayedText?a.displayedText:a.message,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin):a.type===Ce?a.translated&&a.translated!==a.message&&!a.ifShowTranslationOnly?((t=sr(a.translated,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin)).push(i("em",{className:"window__chatMessageOrignal window__chatMessageTranslatedTag"},"(",a.translatedTag,")")),t.push(i("em",{className:"window__chatMessageOrignal"},sr(a.message,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin)," (",a.originalTag,")"))):t=sr(a.displayedText?a.displayedText:a.message,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin):a.type===Me?(d=Hr(a.message.url,a.customizeFileService,a.standbyFileService),r=!0,c=/.*[.](gif)$/i.test(a.message.name)?d:d+"?maxWidth=200&maxHeight=200",t=i("a",{onClick:function(){a.onPreviewImage(c,a.message.name)}},i("img",{src:c,alt:a.message.name,style:{maxWidth:200,maxHeight:200},onLoad:function(){return a.scrollDown(!0)}}))):a.type===Ie?(d=Hr(a.message.url,a.customizeFileService,a.standbyFileService),/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(a.message.name)?(r=!0,0===this.state.imgWidth?(r=!1,t=i("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},i(qP,{type:LP.sendfile}),i("a",{href:d,target:"_blank",rel:"noopener noreferrer"},a.message.name))):(c=/.*[.](gif)$/i.test(a.message.name)?d:Ar(d,!1,this.state.imgWidth,this.state.imgHeight),t=i("a",{onClick:function(){a.onPreviewImage(d,a.message.name)},rel:"noopener noreferrer",style:Or(this.state.imgWidth,this.state.imgHeight)},i("div",{className:"image-container"},i("img",{src:c,alt:a.message.name,onLoad:function(){return a.scrollDown(!0)},style:Mr(this.state.imgWidth,this.state.imgHeight)}))))):te(a.message.name)?(s=!0,t=i("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},i("video",{controls:!0,src:d,alt:a.message.name}))):(r=!1,d=Hr(a.message.url,a.customizeFileService,a.standbyFileService),t=i("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},i(qP,{type:LP.sendfile}),i("a",{href:d,target:"_blank",rel:"noopener noreferrer"},a.message.name)))):a.type===ei||a.type===ti?(t=[a.fileName],a.percent&&t.push(i("span",{role:"progressbar","aria-valuenow":a.percent,"aria-valuemin":"0","aria-valuemax":"100"},"(",a.percent,"%)")),a.onCloseClick&&t.push(i("button",{onClick:function(t){t.preventDefault(),t.stopPropagation(),a.onCloseClick()},"aria-label":u.cancelUpload,className:"file__icon--cancel"},i(xt,{type:Mt}))),t.push(i("span",{className:"chat-message--loading","aria-label":u.uploading},i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":u.uploading,"aria-busy":"true"})))):a.type===Yn?(e=a.message,n=e.message?e.message.replace(/\r\n|\r|\n/g,"<br />"):"",t=i("div",null,i("div",{dangerouslySetInnerHTML:{__html:n}}),e.values.map((function(t,e){return i("div",{key:e},t.label," : ","checkbox"===t.type?"true"===t.value?GP(""):GP(""):"checkbox-list"===t.type?t.value.replace(/\u2299/gi,","):t.value)})))):a.type===Kn&&(t=a.message.message),a.textType===Oe&&(t=a.message?"".repeat(a.message.length):"");var p=this.getLiveMessage();return i("div",{className:h("chat-visitor","window__chatVisitor","clearfix",a.type===Yn&&"window__chatVisitorFormMessage"),ref:function(t){o.container=t}},i(uT,{id:a.msgGuid,message:p}),a.time&&i("span",{className:"chat-message-time"},$t(a.time)),i("div",{className:h("chat-visitor-message","window__chatVisitorMessage",r&&"chat-message--img",s&&"chat-message--video",a.meta.isFirst&&"window__chatVisitorFirstMessage",a.meta.isLast&&"window__chatVisitorLastMessage"),style:{background:A(a.mainColor),borderColor:A(a.mainColor)}},!function(t){return t===ei||t===ti}(a.type)&&function(t,e,n,o,a){if(t){var r=UP(n,a),s=UP(e,a),c=-1===r||r&&r>s?"message--notSeen":"message--seen",d=r>s?o:"";return i("div",{className:h("dot_container"),"aria-label":d},i("span",{title:d},i("svg",{version:"1.1",x:"0px",y:"0px",width:"6px",height:"6px",viewBox:"0 0 6 6",xmlSpace:"preserve",focusable:"false",className:c,"aria-hidden":"true"},i("circle",{r:"3",cy:"3",cx:"3",className:"innerDot"}))))}return null}(a.ifShowSeenDot,a.maxAgentReadId,a.msgGuid,a.tooltip,a.originalMessages),t,this.state.ifShowLoading&&i("span",{className:"chat-message--loading"},i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":u.uploading,"aria-busy":"true"}))))},e}(p),YP=function(t){function e(e){return t.call(this,e)||this}return st(e,t),e.prototype.render=function(){return i("div",null,this.props.message)},e}(p),JP=nB("livechat.invitation.message","invitation")(YP),QP=Ct((function(){return import("./AgentSendSSO.ade7087e.js")})),ZP=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={mobileShowTime:!1,imgWidth:0,imgHeight:0},n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this,e=this.props;if(e.isMessageScrollBottom&&(e.scrollDown(),ut(this.container,e.scrollDown)),ck("livechat.chat.agent.input",e.sender,e.message),(e.type===Ue||e.type===Ge)&&e.message.url&&/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(e.message.name)){var n=new Image;n.src=Ar(e.message.url,!0),n.onload=function(){t.setState({imgWidth:n.width,imgHeight:n.height})}}if(this.props.type===Je&&this.props.message&&this.props.chatStatus===fp){var i=H(this.props.message.url);switch(this.props.message.pushType){case"sideWindow":this.props.onPushPage(i);break;case"currentWindow":V.location.href=i;break;case"newWindow":V.open(i,"_blank")}}},n.componentDidUpdate=function(){var t=this,e=this.props;if(e.type===Ge&&e.message.url&&/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(e.message.name)){var n=new Image;n.src=Ar(e.message.url,!0),n.onload=function(){t.setState({imgWidth:n.width,imgHeight:n.height})}}},n.shouldComponentUpdate=function(t,e){return this.props.message!==t.message||t.sender.name!==this.props.sender.name||t.sender.avatar!==this.props.sender.avatar||t.time!==this.props.time||t.translated!==this.props.translated||t.ifShowName!==this.props.ifShowName||t.ifShowAvatar!==this.props.ifShowAvatar||t.isMobile!==this.props.isMobile||t.type!==this.props.type||e.mobileShowTime!==this.state.mobileShowTime||e.imgWidth!==this.state.imgWidth||e.imgHeight!==this.state.imgHeight||t.isSSOLoggedIn!==this.props.isSSOLoggedIn||t.isChatting!==this.props.isChatting},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Jt(this.container,this.props.scrollDown)},n.getLiveMessage=function(){var t,e=ft(this.context),n=this.props,i=n.type;if(i===Fe||i===si||i===We||i===Nn||i===Wn?t=n.translated&&n.translated!==n.message&&!n.ifShowTranslationOnly?e.translateLiveMessage.replace("${translated}",n.translated).replace("${message}",n.message):e.sendMessageLiveMessage.replace("${message}",n.message):i===ze?t=e.sendLinkLiveMessage.replace("${message}",n.message):i===Je?t=e.sendPageLiveMessage.replace("${url}",n.message.url):i===Ge?t=e.sendImgLiveMessage:i===Ue&&(t=e.sendFileLiveMessage.replace("${name}",n.message.name)),t)return e.agentSendLiveMessage.replace("${senderName}",n.sender.name).replace("${message}",t).replace("${time}",$t(n.time))},n.render=function(){var t,e=this,n=this.props,o=!1,a=!1,r="",s="",c=n.isMobile&&!n.isIpad,d=ft(this.context);if(n.type===Fe||n.type===si||n.type===We||n.type===Wn||n.type===Nn)if(n.translated&&n.translated!==n.message)n.ifShowTranslationOnly?t=sr(n.translated,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin):((t=sr(n.translated,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin)).push(i("em",{className:"window__chatMessageOrignal window__chatMessageTranslatedTag"},"(",n.translatedTag,")")),t.push(i("em",{className:"window__chatMessageOrignal"},sr(n.message,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin)," (",n.originalTag,")")));else if(n.type===si){var l=sr(n.message,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin);t=[i(JP,{message:l})]}else t=sr(n.message,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin);else n.type===ze?t=ee(n.message):n.type===Je?t=sr(n.message.url,i("br",null)):n.type===Ge?/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(n.message.name)&&(o=!0,r=s=Hr(n.message.url,n.customizeFileService,n.standbyFileService),0===this.state.imgWidth?(o=!1,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i("span",{className:"chat-message--loading","aria-label":d.uploading},i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":d.uploading,"aria-busy":"true"})),i("a",{href:r,target:"_blank",rel:"noopener noreferrer"},n.message.name))):(r=s,t=i("a",{onClick:function(){n.onPreviewImage(s,n.message.name)},rel:"noopener noreferrer",style:Or(this.state.imgWidth,this.state.imgHeight)},i("div",{className:"image-container"},i("img",{src:r,alt:n.message.name,style:Mr(this.state.imgWidth,this.state.imgHeight),onLoad:function(){n.isMessageScrollBottom&&n.scrollDown()}}))))):n.type===Ue&&(/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(n.message.name)?(o=!0,r=s=Hr(n.message.url,n.customizeFileService,n.standbyFileService),0===this.state.imgWidth?(o=!1,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i("span",{className:"chat-message--loading","aria-label":d.uploading},i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":d.uploading,"aria-busy":"true"})),i("a",{href:r,target:"_blank",rel:"noopener noreferrer"},n.message.name))):(r=/.*[.](gif)$/i.test(n.message.name)?s:Ar(s,!1,this.state.imgWidth,this.state.imgHeight),t=i("a",{onClick:function(){n.onPreviewImage(s,n.message.name)},href:""+s,target:"_blank",rel:"noopener noreferrer",style:Or(this.state.imgWidth,this.state.imgHeight)},i("div",{className:"image-container"},i("img",{src:r,alt:n.message.name,style:Mr(this.state.imgWidth,this.state.imgHeight),onLoad:function(){n.isMessageScrollBottom&&n.scrollDown()}}))))):te(n.message.name)?(s=Hr(n.message.url,n.customizeFileService,n.standbyFileService),a=!0,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i("video",{controls:!0,src:s,alt:n.message.name}))):(s=Hr(n.message.url,n.customizeFileService,n.standbyFileService),o=!1,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i(qP,{type:LP.sendfile}),i("a",{href:s,target:"_blank",rel:"noopener noreferrer"},n.message.name))));var u=this.getLiveMessage(),p=n.isMobile?"#fff":Xt(n.mainColor);return i("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},i(uT,{id:n.messageGuid,message:u}),n.ifShowAvatar&&n.sender.avatar&&i("div",{className:"agentMessage__avatar"},i(YB,{src:n.sender.avatar,alt:d.avatar,className:"agentMessage__avatarImg"})),i("div",{className:"window__chatAgentMessage_container"},i("div",{className:"chat-message-extra-info"},n.sender.name&&i("span",{className:"chat-operator-name window__chatAgentName"},n.sender.name),n.time&&i("span",{className:"chat-message-time"},$t(n.time))),i("div",{className:h("chat-operator-message","window__chatAgentMessage",o&&"chat-message--img",a&&"chat-message--video",n.type===Ke&&"chat-message--imgLoading",(!n.ifShowAvatar||!n.sender.avatar)&&"window__chatMessageNoAvatar"),style:{background:p}},n.type===Ke&&i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":d.loading,"aria-busy":"true"}),n.type===jn?i(kt,null,i(It,null,i(QP,{message:n.message,ifDisable:n.isSSOLoggedIn||!n.isChatting||n.message.isDisable,onClick:n.onSSORequestClick,mainColor:n.mainColor,isPopoutWindow:n.isPopoutWindow}))):t)))},e}(p),XP=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),ut(this.container,t)}},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Jt(this.container,this.props.scrollDown)},n.render=function(){var t=this,e=this.props,n=e.fields,o=e.greeting,a=e.buttonText,r=e.onFocus,s=e.onBlur,c=e.onChange,d=e.onSubmit,l=e.onValidateAll,u=e.submitStatus,p=e.languages,h=e.isHorizontal,f=e.isMobile?"#fff":Xt(e.mainColor),g=u!==op;return 0===n.length?null:i("div",{className:"window__formMessageContainer"},i("div",{tabIndex:e.tabIndex,className:"window__formMessage",style:{background:f},ref:function(e){t.container=e}},e.greeting&&i("div",{className:"greeting-message-container greeting-message window__formGreeting",ref:function(e){t.greetingElement=e},tabIndex:-1,dangerouslySetInnerHTML:{__html:e.greeting}}),i(Wj,{fields:n,greeting:o,buttonText:a,onFocus:r,onBlur:s,onSubmit:d,onChange:c,onValidateAll:l,submitStatus:u,text:a,disabled:g,languages:p,isHorizontal:h,tab:e.tab})))},e}(p);function $P(t,e){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var r=t.state.fields.map((function(i){return i.id!==n.id?i:function(t,e){if(t.isRequired){if(!t.value&&!t.error)return Object.assign({},t,{error:e.promptRequired});if(t.value&&t.error)return Object.assign({},t,{error:""})}return t}(Object.assign({},i,e.apply(void 0,o)),t.props.languages)}));t.setState({fields:r})}}var tF,eF=function(t){function e(e){var n;n=t.call(this,e)||this;var i=e.fields;return i=i.map((function(t){return"rating"===t.type?t.value=0:"comment"===t.type&&(t.value=""),t})),n.state={fields:i},n.onBlur=$P(ct(n),(function(){return{isFocused:!1,isErrorShowed:!0}})),n.onFocus=$P(ct(n),(function(){return{isFocused:!0}})),n.onChange=$P(ct(n),(function(t){return{value:t}})),n.onSubmit=n.onSubmit.bind(ct(n)),n.onErrorToggle=n.onErrorToggle.bind(ct(n)),n.onValidateAll=n.onErrorToggle.bind(ct(n),!0),n}st(e,t);var n=e.prototype;return n.onSubmit=function(){var t=this.state.fields,e=t.filter((function(t){return"rating"===t.type}))[0],n=t.filter((function(t){return"comment"===t.type}))[0],i=e?e.value:0,o=n?n.value:"";this.props.onSubmitRating({score:i,comment:o})},n.onErrorToggle=function(t){var e=this.state.fields.map((function(e){return Object.assign({},e,{isErrorShowed:t})}));this.setState({fields:e})},n.render=function(){var t=this.props;return 0===t.fields.length?null:i(XP,dt({},t,{onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onSubmit:this.onSubmit,onValidateAll:this.onValidateAll,fields:this.state.fields}))},e}(p),nF=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.onPostChatMounted(),this.anchor.scrollIntoView(!0),setTimeout((function(){return t.props.updatePostChatVisible(!0)}),500),this.props.enableGa&&zA()},n.render=function(){var t=this,e=this.props;return 0===e.fields.length?null:i(w,null,i("div",{style:{position:"relative",top:"-15px",width:"100%"},ref:function(e){t.anchor=e}}),i(XP,dt({},e,{tab:ep})))},e}(p),iF=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),ut(this.container,t)}},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Jt(this.container,this.props.scrollDown)},n.render=function(){var t=this,e=this.props;if(this.state.timeout)return null;var n=e.isMobile?"#fff":Xt(e.mainColor),o=ft(this.context);return i("div",{className:"window__chatAgent clearfix",ref:function(e){t.container=e}},e.ifShowAvatar&&e.sender.avatar&&i("div",{className:"agentMessage__avatar"},i(YB,{src:e.sender.avatar,alt:o.avatar,className:"agentMessage__avatarImg"})),i("div",{className:"window__chatAgentMessage_container"},i("div",{className:"chat-message-extra-info"},e.sender.name&&i("span",{className:"chat-operator-name window__chatAgentName"},e.sender.name),e.time&&i("span",{className:"chat-message-time"},$t(e.time))),i("div",{className:h("chat-operator-message","window__chatAgentMessage",(!e.ifShowAvatar||!e.sender.avatar)&&"window__chatMessageNoAvatar"),style:{background:n}},i("div",{className:"dot","aria-label":o.typing},i("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames7"},i("circle",{r:"2"})),i("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames10"},i("circle",{r:"2"})),i("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames13"},i("circle",{r:"2"}))))))},e}(p),oF=["messages"],aF=Ct((function(){return import("./BotEntry.1519a3b9.js")})),rF=Ct((function(){return import("./SecureForm.af06721f.js")})),sF="{queuePosition}",cF="{estimatedWaitTime}",dF=0,lF=0,uF=function(t,e){if(t.type===_e){for(var n=[],i=t.originalMessage.split(/{linkText}/gi),o=0;o<i.length;o+=1)n.push(i[o]),o<i.length-1&&n.push(e);return n.join(" ")}if(t.type===Zn)return t.content.text;if(t.type===jn){var a=t.originalMessage.split($i);return a.length>1?a[0]+"\n["+a[1]+"]":t.originalMessage}return t.type===Ln||t.type===En||t.type===zn||t.type===qn||t.type===Un||t.type===Gn||t.type===Qn||t.type===Jn||t.type===Kn||t.type===Yn?JSON.stringify(t.content):t.type===Qi?t.content:t.originalMessage},pF=((tF={})[ke]=function(t,e){var n=e.windowStyle,o=e.scrollDown,a=e.chatStatus,r=e.isMessageScrollBottom;if(t.content){var s=t.content;if(s.indexOf(sF)>=0&&void 0===t.queuePosition)return null;if(s.indexOf(cF)>=0&&(void 0===t.estimatedWaitTime||0===t.estimatedWaitTime))return null;for(;s.indexOf(sF)>=0;)a===fp||a===gp?s=s.replace(sF,dF):(s=s.replace(sF,t.queuePosition),dF=t.queuePosition);for(;s.indexOf(cF)>=0;)a===fp||a===gp?s=s.replace(cF,lF):(s=s.replace(cF,t.estimatedWaitTime),lF=t.estimatedWaitTime);return i(zP,{key:t.guid,messageGuid:t.guid,type:t.type,message:s,windowStyle:n,scrollDown:o,isMessageScrollBottom:r})}return null},tF[_e]=function(t,e){var n=e.gotoOfflineLinkText,o=e.onOfflineLinkClick,a=e.windowStyle,r=e.scrollDown,s=e.chatStatus,c=e.isMessageScrollBottom;if(s===pp){var d=[];if(t.content){for(var l=t.content.split(/{linkText}/gi),u=0;u<l.length;u+=1){var p=l[u];d.push(p),u<l.length-1&&d.push(i("a",{href:"",onClick:o},n))}return i(zP,{key:t.guid,messageGuid:t.guid,liveMessage:t.content.replace(/{linkText}/gi,n),type:t.type,message:d,windowStyle:a,scrollDown:r,tabIndex:-1,isMessageScrollBottom:c})}}return null},tF[ii]=function(t,e){var n=e.onStartChatAgainClick,o=e.windowStyle,a=e.scrollDown,r=e.isMessageScrollBottom,s=e.isPrint;if(t.content){var c=s?i("span",null,t.content):i(w,null,i(xt,{type:ne,ariaHidden:!0}),i("a",{href:"",onClick:n},t.content));return i(zP,{key:t.guid,type:ii,message:c,messageGuid:t.guid,liveMessage:t.content+" link",windowStyle:o,scrollDown:a,isMessageScrollBottom:r})}return null},tF[oi]=function(t,n){var o=n.windowStyle,a=n.scrollDown,r=n.chatWindowIfCanDownloadChatDetail,s=n.agents,c=n.prechatDepartment,d=n.startTime,l=n.endTime,u=n.campaignId,p=n.originalMessages,h=n.gotoOfflineLinkText,f=n.isMessageScrollBottom,g=n.isPrint;if(t.content&&r){var m=t.content,b=m.text,v=m.url,_=g?i("span",null,b):i(w,null,i(xt,{type:ie,ariaHidden:!0}),i("a",{onClick:function(t){var n=function(t){return t.filter((function(t){return t.guid&&!(Pr.indexOf(t.type)>=0)}))}(p).map((function(t){return{type:t.type,message:uF(t,h),senderType:t.sender.type,senderName:t.senderName,time:Math.round(t.originalTime/1e3),translated:t.translated}}));ae(v,e.Base64.encode(JSON.stringify({agents:s,department:c,startTime:d,endTime:l,campaignId:u,timezone:Fa(),messages:n}))),t.preventDefault(),t.stopPropagation()},target:"_blank",rel:"noopener noreferrer",href:""},b));return i(zP,{key:t.guid,type:oi,message:_,liveMessage:b+" link",messageGuid:t.guid,windowStyle:o,scrollDown:a,isMessageScrollBottom:f})}return null},tF[Ye]=function(t,e){var n=e.isPrint,o=e.windowStyle,a=e.scrollDown,r=e.isMessageScrollBottom,s=[];return s.push(i(zP,{key:t.guid,type:t.type,message:t.content.text,messageGuid:t.guid,windowStyle:o,sender:t.sender,scrollDown:a,isMessageScrollBottom:r})),n||s.push(i(kt,null,i(It,null,i(rF,{isHidden:t.isHidden,url:t.content.url,targetUrl:z.href,getSecureFormFailure:e.getSecureFormFailure,submitSecureForm:e.submitSecureForm,cancelSecureForm:e.cancelSecureForm,windowStyle:o,scrollDown:a,isPopedOut:e.isPopout})))),s},tF[Le]=function(t,e){var n=e.isPrint,o=e.windowStyle,a=e.ifShowName,r=e.ifShowAvatar,s=e.isMobile,c=e.scrollDown,d=e.mainColor,l=e.agentTypingText,u=e.isMessageScrollBottom;return n?null:i(iF,{key:t.guid,message:l,time:t.time,windowStyle:o,sender:t.sender,ifShowName:a,ifShowAvatar:r,isMobile:s,scrollDown:c,mainColor:d,isMessageScrollBottom:u})},tF[ve]=function(t,e){if(t.content){var n=e.windowStyle,o=e.scrollDown,a=e.isMessageScrollBottom,r=t.time,s=r.getHours(),c=r.getMinutes(),d=r.getSeconds(),l=t.content.concat(" ("+oe(s)+":"+oe(c)+":"+oe(d)+")");return i(zP,{key:t.guid,type:t.type,message:l,messageGuid:t.guid,windowStyle:n,sender:t.sender,scrollDown:o,isMessageScrollBottom:a})}return null},tF[ai]=function(t,e){var n=e.onEmailTranscriptClick,o=e.ifCanEmailTranscript,a=e.windowStyle,r=e.scrollDown,s=e.isMessageScrollBottom,c=e.isPrint;if(t.content&&o){var d=c?i("span",null,t.content):i(w,null,i(xt,{type:Ht,ariaHidden:!0}),i("a",{href:"",onClick:n},t.content));return i(zP,{key:t.guid,type:ai,message:d,messageGuid:t.guid,liveMessage:t.content+" link",windowStyle:a,scrollDown:r,isMessageScrollBottom:s})}return null},tF);var hF=function(t,e){if(function(t){return t.type===ri||t.type===ui||t.type===Ri||t.type===zi||t.type===li||t.type===Di||t.type===pi||t.type===Ei||t.type===di||t.type===mi||t.type===wi||t.type===bi||t.type===vi||t.type===_i||t.type===xi||t.type===yi||t.type===un}(t))return null;if(fr(t))return function(t,e){var n=e.windowStyle,o=e.scrollDown,a=e.isMessageScrollBottom;return t.content?"string"==typeof t.content&&t.content?i(zP,{key:t.guid,messageGuid:t.guid,type:t.type,message:t.content,windowStyle:n,sender:t.sender,scrollDown:o,isMessageScrollBottom:a}):"string"==typeof t.content.text&&t.content.text?i(zP,{key:t.guid,messageGuid:t.guid,type:t.type,message:t.content.text,windowStyle:n,sender:t.sender,scrollDown:o,isMessageScrollBottom:a}):null:null}(t,e);if(gr(t))return function(t,e){return i(KP,dt({key:t.guid,type:t.type,textType:t.textType,message:t.content,time:t.time,meta:t.meta,translated:t.translated,fileName:t.content.fileName,percent:t.content.percent,onCloseClick:t.content.onCancel,ifShowSeenDot:e.ifEnableVisitorSeeMsgSentSeen&&e.isChattingWithAgent,msgId:t.id,msgGuid:t.guid,tooltip:e.msgNotSeenByAgent,displayedText:t.displayedText},e))}(t,e);if(mr(t))return function(t,e){return i(ZP,dt({key:t.guid,messageGuid:t.guid,type:t.type,message:t.content,sender:t.sender,time:t.time,translated:t.translated},e))}(t,e);if(function(t){return t.type===Vn}(t))return function(t,e){return e.isPrint?null:e.isChatting?i(eF,dt({fields:e.ratingForm.fields,greeting:e.ratingForm.greeting,buttonText:e.ratingForm.buttonText,submitStatus:e.ratingForm.submitStatus,onChange:function(t,e){return othersProps.onChange(t,e,!0)},onBlur:function(t){return e.onBlur(t,!0)},onFocus:function(t){return e.onFocus(t,!0)}},e)):i(nF,dt({fields:e.ratingForm.fields,greeting:e.ratingForm.greeting,buttonText:e.ratingForm.buttonText,submitStatus:e.ratingForm.submitStatus,onChange:function(t,e){return othersProps.onChange(t,e,!1)},onBlur:function(t){return e.onBlur(t,!1)},onFocus:function(t){return e.onFocus(t,!1)}},e))}(0,e);if(function(t){return wr(t)||vr(t)||_r(t)}(t))return i(kt,null,i(It,null,i(aF,{message:t,otherProps:e})));var n=pF[t.type];return n?n(t,e):null},fF=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={botLoaded:!1},n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.element;if(t&&this.props.isBubble){var e=t.getBoundingClientRect().width;t.style.width=e+"px"}},n.render=function(){var t=this,e=this.props,n=e.messages,o=F(e,oF),a=n.reduce((function(t,e){return function(t,e){if(!gr(e))return t.concat(e);if(t.length>0){var n=t[t.length-1];if(gr(n))return n.meta.isLast=!1,t.concat(Object.assign({},e,{meta:{isLast:!0}}))}return t.concat(Object.assign({},e,{meta:{isFirst:!0}}))}(t,e)}),[]).map((function(t){return hF(t,o)})).filter((function(t){return null!==t})).reduce((function(t,e){return t.concat(e)}),[]);return i("div",{ref:function(e){t.element=e},id:"chatMessages"},a)},e}(p),gF=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return t.isBubble!==this.props.isBubble||t.greeting!==this.props.greeting},n.render=function(){var t=this.props,e=t.isBubble,n=t.greeting;return i("div",{className:"chat__greetingContainer"},i("div",{className:e?"chat-system-message window__chatSystemMessage":"greeting-message window__formGreeting"},i("div",{className:h(e&&"window__chatSystemMessageContent"),dangerouslySetInnerHTML:{__html:n}})))},e}(p),mF=["greeting","height","hasMobileSideWindow","bottom","ifShowBio","ifHideBio"];function wF(t,e){if(function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}var bF,vF,_F=function(t){function e(e){var n;return(n=t.call(this,e)||this).onScroll=n.onScroll.bind(ct(n)),n.scrollDown=n.scrollDown.bind(ct(n)),n.canUpdateHideBio=!0,n.beforeunload=n.beforeunload.bind(ct(n)),n.onTouch=n.onTouch.bind(ct(n)),n.io=null,n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.onMounted(),setTimeout((function(){t.element&&(t.hasAnimation=!0,wF(t.element,"window__chat--animation"))}),625),V.addEventListener("beforeunload",this.beforeunload),dk("livechat.chatwindow.restore",(function(){t.scrollDown()})),!this.props.isPrint&&window.IntersectionObserver&&(this.io=new window.IntersectionObserver((function(e){e[0].intersectionRatio<=0?t.props.updateIsMessageScrollBottom(!1):(t.props.updateIsMessageScrollBottom(!0),t.props.onReadNewMsg())})),this.io.observe(this.refBottomElement))},n.shouldComponentUpdate=function(t){return this.props.messages!==t.messages||t.ifHideBio!==this.props.ifHideBio||t.height!==this.props.height||t.hasMobileSideWindow!==this.props.hasMobileSideWindow||t.isInputVisible!==this.props.isInputVisible||t.showToolbox!==this.props.showToolbox||t.maxAgentReadId!==this.props.maxAgentReadId||t.isSSOLoggedIn!==this.props.isSSOLoggedIn||t.isChatting!==this.props.isChatting||t.isMessageScrollBottom!==this.props.isMessageScrollBottom||JSON.stringify(t.ratingForm.fields)!==JSON.stringify(this.props.ratingForm.fields)||t.ratingForm.submitStatus!==this.props.ratingForm.submitStatus||t.width!==this.props.width},n.componentDidUpdate=function(t){var e=this,n=t.ifHideBio;this.props.ifHideBio!==n&&(this.canUpdateHideBio=!1,setTimeout((function(){e.canUpdateHideBio=!0}),625)),this.hasAnimation&&wF(this.element,"window__chat--animation")},n.componentWillUnmount=function(){V.removeEventListener("beforeunload",this.beforeunload),!this.props.isPrint&&this.io&&this.io.disconnect()},n.componentWillReceiveProps=function(t){var e=this;t.isInputVisible!==this.props.isInputVisible&&t.isInputVisible&&setTimeout((function(){e.scrollDown()}),625)},n.onTouch=function(){var t=this.element.ownerDocument.getElementById("chat-input-control");t&&t.blur()},n.onScroll=function(t){if(!ot){var e=t.currentTarget.scrollTop;this.canUpdateHideBio&&e>0&&!this.props.ifHideBio&&this.props.onUpdateScrollStatus(!0),this.canUpdateHideBio&&0===e&&this.props.ifHideBio&&this.props.onUpdateScrollStatus(!1)}},n.beforeunload=function(){Nb(this.props.chatGuid)},n.scrollDown=function(t){if(this.element&&(this.props.isMessageScrollBottom||t)){if(!this.props.isChatting&&!this.props.isPostChatVisible){var e=this.props.messages.length>1?this.props.messages[this.props.messages.length-1]:null;if(e&&e.type===Vn)return}this.element.scrollTop=this.element.scrollHeight}},n.render=function(){var t=this,e=this.props,n=e.greeting,o=e.height,a=e.hasMobileSideWindow,r=e.bottom,s=e.ifShowBio;e.ifHideBio;var c,d,l=F(e,mF),u=l.isInputVisible,p=!1;if(l.windowStyle===rw){p=!0;var f=0;if(this.element){var g,m=this.element.nextElementSibling;(g=this.props.ifShowQuickReply?m.nextSibling:m)&&"chat-input"===g.id&&(f=g.getBoundingClientRect().height)}if(l.isMobile){if(c=o-20,l.isIpad&&(c-=r),u&&(c-=Math.max(f,70)),a){c-=45}}else{c=o-35,u&&(c-=Math.max(f,47))}this.props.showAdaptiveMinimizeIcon&&(c-=105)}l.isPrint&&(c="");var w=i("div",null,(d="<div>&nbsp;</div>"!==n&&!!n)&&i(gF,{isBubble:p,greeting:n}),i(fF,dt({},l,{scrollDown:this.scrollDown}))),b=i(fF,dt({},l,{scrollDown:this.scrollDown})),v=ft(this.context),_={maxHeight:c};return this.props.isPopout&&!p&&(_=Object.assign({},_,Yt(this.props.width,!0))),i("div",{id:"window-chat-wrapper",ref:function(e){t.element=e},className:h("chat window__chat window__chat--animation",s?"window__chat--withBio":"window__chat--noBio",this.props.ifShowQuickReply&&"window__chat--withQuickReply"),onScroll:this.onScroll,onTouchEnd:this.onTouch,style:_},i("h1",{className:"visually-hidden","aria-hidden":!0},"Chat window"),i(uT,{id:"greeting"+this.props.chatGuid,message:n,isHtml:!0}),!(p&&l.isMobile)&&d&&i(gF,{isBubble:p,greeting:n}),p&&l.isMobile?w:b,i("div",{ref:function(e){t.refBottomElement=e},style:{height:1,padding:0}}),!this.props.isMessageScrollBottom&&!l.isPrint&&i("button",{onClick:this.scrollDown,"aria-label":v.scrollToBottom,className:h("btnScrollToBottom",{btnScrollToBottomWithBadge:this.props.unReadMessageCount>0}),title:v.scrollToBottom},this.props.unReadMessageCount>0&&i("span",null,this.props.unReadMessageCount," "),i("svg",{viewBox:"0 0 24 24","aria-hidden":!0,focusable:!1},i("path",{d:"M12,17.013,23.609,5.405A1.333,1.333,0,0,0,21.724,3.52L12,13.243,2.28,3.52A1.333,1.333,0,0,0,.4,5.405Zm10.652,1.4H1.332a1.334,1.334,0,0,0,0,2.667H22.654a1.334,1.334,0,0,0,0-2.667Z"}))))},e}(p),xF=function(){return{type:TM,payload:{type:"locationCancelled"}}},yF=function(){return{type:jM,payload:{type:"visitorSSOCancelled"}}},SF=function(t){var e=t.fromSource;return{type:PM,payload:{type:"meetingCancelled",fromSource:e}}},CF=function(t){var e=t.eventUri,n=t.inviteeUri,i=t.fromSource;return{type:FM,payload:{bookMeetingEventUri:e,bookMeetingEventInviteeUri:n,fromSource:i,type:"meetingSubmitted"}}},kF=function(){return{type:WM,payload:{type:"formCancelled"}}},IF=function(t){var e=t.fromSource;return{type:NM,payload:{fromSource:e,type:"microsoftBooking"}}},MF=function(t,e){return{type:t,guid:Y(),time:new Date,content:e,sender:{type:sp}}},OF=f((function(t){var e=pf(t),n=mf(t).length;e.filter((function(t){return t.type===Hn||t.type===Hi||t.type===qi})).length>0&&(n+=1);var i=lh(t),o=zm(t),a=Pm(t),r=$h(t),s=function(t){return t.entities.campaigns.entities[t.window.id].greetingMessages.chatWindowGreetingMessage}(t);!s||"<div>&nbsp;</div>"!==s&&"<div></div>"!==s&&"<div/>"!==s||(s="");var c=function(t){var e=km(t).url;return L(e)}(t),d=Ov(t),l=function(t,e){return E(t,"entities.campaigns.entities."+e+".chatWindowIfCanDownloadChatDetail")}(t,d),u=Ym(t,d),p=Ov(t),h=qh(t)===fp,f=bv(t),g=h?f.filter((function(t){return"rating"===t.type||"comment"===t.type})):f,m=_v(t,h?_p:wp);return{siteId:_m(t),transferSiteId:xm(t),KbHost:c,height:o,isPopout:i,isMobile:a,isIpad:Fm(t),ifShowBio:fg(t),hasMobileSideWindow:Qf(t)&&a,windowStyle:Vv(t,r),greeting:s||"",messages:e,ifShowName:n>1,gotoOfflineLinkText:l_(t,"eventLinkText")||"here",startChatAgainText:l_(t,"startChatAgain",p),emailTranscriptText:l_(t,"buttonTranscript",p),translatedTag:l_(t,"translation"),originalTag:l_(t,"original"),agentTypingText:l_(t,"eventOperatorIsTyping",p),chatStatus:qh(t),ifShowAvatar:Rv(t)===rw||$v(t),chatGuid:bf(t),ifHideBio:Gf(t),isInputVisible:Bf(t),mainColor:of(t),bottom:Ig(t),showAdaptiveMinimizeIcon:S_(t),showToolbox:Ng(t),onMounted:function(){ck("livechat.chat.display",r)},maxAgentReadId:Ag(t),ifEnableVisitorSeeMsgSentSeen:Og(t,p),msgNotSeenByAgent:l_(t,"msgNotSeenByAgent",p),isChattingWithAgent:qh(t)===fp&&!cf(t)&&!pv(t)||qh(t)===hp||qh(t)===pp||qh(t)===gp&&0!==mf(t).length,languages:c_(t),ifShowQuickReply:!!Tg(t),agents:M_(t),prechatDepartment:I_(t),startTime:Eg(t),endTime:zg(t),campaignId:wm(t),transferCampaignId:Ov(t),originalMessages:hf(t),chatWindowIfCanDownloadChatDetail:l,ifCanEmailTranscript:u,isSSOLoggedIn:null!==Ew(qb)&&Ew(qb),isChatting:h,isPopoutWindow:lh(t),isFreemiumSignupFormInsideChatWindowEnabled:Fv(t),isChatEnded:O_(t)===su,prechatEmail:Yf(t,"email"),customizeFileService:f_(t),standbyFileService:g_(t),apiHost:m_(t),isMessageScrollBottom:Jg(t),unReadMessageCount:Qg(t),ratingForm:{fields:g,greeting:Kv(t,wp),buttonText:Jv(t,wp),submitStatus:m,ratingValue:Yf(t,"rating"),commentValue:Yf(t,"comment")},isHorizontal:Yv(t,wp),width:Zg(t),isPostChatVisible:Xg(t),onPostChatMounted:function(){ck("livechat.postChat.display",r)},enableGa:Nv(t),ifShowTranslationOnly:Dh(t),resourceOrigin:vh(t)}}),(function(t){return{submitSecureForm:function(e,n){var i=MF(hi,""+e+$i+n);t($S([i]))},cancelSecureForm:function(e){t(qx(e));var n=MF(fi,"");t($S([n]))},getSecureFormFailure:function(){var e=MF(gi,"");t($S([e]))},onOfflineLinkClick:function(e){e.preventDefault(),t(Tx(np))},onChatWithAgentClick:function(){t($x())},onRateClick:function(e,n,i,o,a,r){t(ey(n,e,i,o,a,r))},onStartChatAgainClick:function(e){e.preventDefault(),t(cy())},onEmailTranscriptClick:function(e){e.preventDefault(),t(xS(!0))},onUpdateScrollStatus:function(e){t(ly(e))},onChatbotTimeout:function(e){t(Fy(e))},onKbLinkClick:function(e,n){t(rC(e,n))},onSideWindowLinkClick:function(e){var n=e.url,i=e.type,o=e.title,a=e.iframe,r=e.noFocus,s=e.botId;t(Hy(n,i,o,a,r,s))},onCloseBotSignWindow:function(){t(qy())},onWebViewLinkClick:function(e){t(Ry(e))},onIntentLinkClick:function(e,n,i,o,a,r){t(dS(r)),t(ty({id:e,name:n,clickType:i,agentId:o,botId:a}))},onPushPage:function(e){t(Vy(e))},onSSORequestClick:function(e){e.isPopoutWindow?t(cS()):e.content.ifOpenSignInPageEmbeddedWindow?t(Ry(e)):t(rS())},onTaskBotQuickReplyClick:function(e,n){ck("livechat.chat.visitor.input",e),t(Dx(e)),t(GI(n))},onTaskBotCollectInput:function(e,n){ck("livechat.chat.visitor.input",e),setTimeout((function(){t(Dx(e)),t(GI(n))}),1350)},onChatbotActionSendText:function(e){var n=e.text,i=e.messageGuid,o=e.delay,a=void 0===o?0:o,r=e.textType,s=e.isCollect,c=void 0!==s&&s,d=e.displayedText,l=e.quickReplyNextActionId;ck("livechat.chat.visitor.input",n),setTimeout((function(){t(Dx(n,!1,{textType:r,isCollect:c,displayedText:d,quickReplyNextActionId:l})),i&&t(dS(i))}),a)},onChatbotActionChatWithAgentoptions:function(e){e.text;var n=e.messageGuid;t($x()),t(dS(n)),ck("livechat.chat.visitor.chatwithagent")},hideQuickReply:function(){t(aS())},onInputAreaVisibleChange:function(e){t(bS(e))},onReadNewMsg:function(){t(gC()),t(_S())},updateIsMessageScrollBottom:function(e){t(vS(e))},onBotFeedback:function(e){t(function(t){return{type:Ak,payload:Object.assign({},t,{type:"botFeedback"})}}(e))},onChange:function(e,n,i){t(_C(wp,e.id,n)),i||ck("livechat.postChat.field.change",Object.assign({},e,{value:n}))},onError:function(e,n){t(xC(wp,e.id,n))},onBlur:function(e,n){t(SC(wp,e.id)),n||ck("livechat.postChat.field.blur",Object.assign({},e,{isFocused:!1}))},onFocus:function(e,n){t(yC(wp,e.id)),n||ck("livechat.postChat.field.focus",Object.assign({},e,{isFocused:!0}))},onSubmit:function(e){t(CC(wp)),t(FC(wp,1500,e)).then((function(){return t(yS())}))},onSubmitRating:function(e){t(CC(_p)),ck("livechat.chat.visitor.rate",e),t(RS(e)),t({type:Ws,payload:e})},onValidateAll:function(e){t(AC(xp,e))},updatePostChatVisible:function(e){t(CS(e))},onPreviewImage:function(e,n){t(FS({url:e,name:n}))},onChatbotCanvasAuthorization:function(e){var n=e.status,i=e.fromSource;t(function(t){var e=t.status,n=t.fromSource;return{type:VM,payload:{type:"canvasAuthorization",status:e,fromSource:n}}}({status:n,fromSource:i}))}}}))(_F),AF=function(t){function e(){var e;return(e=t.call(this)||this).state={showIcon:!1,animated:!1},e.animated=function(){e.setState({animated:!0})},e}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.timer=setTimeout((function(){return t.setState({showIcon:!0})}),200),ut(this.element,this.animated)},n.componentWillUnmount=function(){clearTimeout(this.timer),Jt(this.element,this.animated)},n.render=function(){var t=this,e=this.props,n=ft(this.context);return i("div",{className:h("window__form",this.state.animated&&"window__form--animation"),ref:function(e){t.element=e}},e.errorMessage&&i("div",{className:"window__formError"},e.errorMessage),this.state.showIcon&&!e.errorMessage&&i(xt,{type:Lt,className:"svg--loadingChat",viewBox:"0 0 100 100","aria-label":n.loading,"aria-busy":"true"}))},e}(p),BF=f((function(t){return{errorMessage:yf(t),windowStyle:Vv(t,wm(t))}}))(AF),TF=Ct((function(){return import("./SideWindow.49c5e131.js")})),jF=function(t){return i(kt,{key:"sideWindow",style:{background:"#f2f2f2",display:"flex",alignItems:"center",position:"absolute",boxShadow:"0 5px 15px 0 rgba(0,0,0,.15)",width:"calc(100% - 15px)",bottom:12.5,height:"calc(100% - 15px)",borderRadius:5,right:0}},i(It,null,i(TF,t)))},PF=Ct((function(){return import("./KBsearch.8a0c8294.js")}));Ct((function(){return import("./SideWindow.49c5e131.js")}));var FF,WF=Ct((function(){return import("./ChatInput.550663b5.js")})),NF=Ct((function(){return import("./WebView.2b009dac.js")})),VF=Ct((function(){return import("./PreLogin.65d368c5.js")})),DF=Ct((function(){return import("./SSOLogin.3c0e141a.js")})),RF=((bF={})[$u]=DP,bF[ep]=RP,bF[np]=EP,bF[tp]=OF,bF[Zu]=VF,bF[Xu]=DF,bF[Qu]=BF,bF[ip]=PF,bF),EF=((vF={})[$u]={timespan:0,duration:20},vF[ep]={timespan:0,duration:20},vF[np]={timespan:0,duration:20},vF[tp]={timespan:0,duration:2},vF[Zu]=null,vF[Xu]=null,vF[Qu]=null,vF[ip]={timespan:0,duration:20},vF),zF=function(){},LF=f((function(t){var e,n=Zh(t),o=RF[n],a=Gg(t);n!==Xu||a||(o=VF);var r=ym(t),s=r===Xl,c=Fm(t),d=n===Zu||n===Xu||n===ip?i(kt,null,i(It,null,i(o))):i(o);e=n===Xu?a?[d]:[i(bP,null),d]:[i(bP,null),d,Bf(t)&&i(kt,null,i(It,null,i(WF,{isIPad:c}))),i(SP,null),Tf(t)&&i(kt,null,i(It,null,i(NF,null)))].filter((function(t){return t}));var l=qh(t),u=l===fp,p=Rv(t),h=Ev(t),f=Sf(t),g=yf(t),m=kf(t),w=Qv(t,m),b=Zv(t),v=EF[n];l!==gp||n!==tp&&n!==ep||(v={timespan:0,duration:10});var _=l===gp,x=l===gp?180:void 0,y=ig(t),S=0,C=Qf(t),k=C?jF:null;p===rw&&(S=Math.random());var I=Lm(t),M=zm(t),O=wm(t),A=yw(t,O),B=hw(t,O),T=pg(t),j=function(t){return t.page.orientation}(t),P=oT(p,t,ah(t,O)),F=vm(t)[O],W=S_(t),N=Mg(t),V=Ig(t),D=pf(t),R=Lg(t),E=function(t){return t.configuration.visitorsideCustomCSS}(t),z=Ov(t),L=Jg(t);return{isPoppedOut:lh(t),fontCSS:er(K(bh,t)),mainColor:of(t),background:af(t),isFocused:dg(t),children:e,windowTab:n,windowStatus:r,windowStyle:p,warning:f,error:g,isMobile:Pm(t),isIPad:c,showChatWindowInSidewindow:tg(t),title:u?w:void 0,seed:S,hOnline:v,writeReply:b,ifShowSideWindow:C,sideWindow:k,customCss:y,amyCustomCSS:E,width:I,height:M,isRightToLeft:T,iframeStyle:A,orientation:j,showAvatar:!!(P.avatars||P.avatar||P.agent&&P.agent.avatar),isMinimized:s,iconStyle:B.svg,ifCobrowsingShowing:Cg(t),languageCobrowseStop:v_(t),cornerStyle:h,languageTag:d_(t),online:F,showAdaptiveMinimizeIcon:W,isCurrentAdaptiveButton:y_(t),right:N,bottom:V,ifEnableVisitorSeeMsgSentSeen:Og(t,z),maxVisitorReadId:Bg(t),maxMsgId:xf(t),maxGuid:R,messages:D,chatStatus:l,showToolbox:Ng(t),hDelay:_,hStop:x,brandConfig:Wh(t),isSideWindowSelectedTabKb:eg(t)===Op,isMessageScrollBottom:L}}),(function(t){return{dispatch:t,onMounted:function(){t(Py())},onErrorClose:function(){t(Xx())},onWarningClose:function(){t(Yx())},onFocusToggle:function(e){t(Gx(e))},onPositionChange:function(e,n){t(Yy(e,n))},onReadNewMsg:function(e){t(gC(e))},hOnInit:function(){t(P_(!0))},hOnStopped:function(){t(P_(!1))},minimize:function(){t(ix())},updateMainWindowWidth:function(e){t(SS(e))}}}),(function(t,e){var n=t.windowTab,i=e.dispatch,o=zF;return n===tp?o=function(){return i(DS())}:n===$u||n===ip?o=function(){return i(QS())}:n===ep?o=function(){return i(DS())}:n===np&&(o=function(){return i(ZS())}),Object.assign({},t,e,{hCallback:o})}))(RB),HF=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return this.props.message!==t.message},n.render=function(){return i("div",{"aria-live":"polite",style:{position:"absolute",left:-1e4,top:-1e4,width:1,height:1}},this.props.message)},e}(p),qF=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={message:"",htmlMessage:""},n.pendingMessage=[],n.announcedMessageIds={},n.announce=n.announce.bind(ct(n)),n.removeMessage=n.removeMessage.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),this.htmlTimer&&clearTimeout(this.htmlTimer)},n.shouldComponentUpdate=function(t,e){return this.props.children!==t.children||this.state.message!==e.message},n.announce=function(t,e,n){var i,o,a=this;this.announcedMessageIds[t]||(this.announcedMessageIds[t]=!0,this.pendingMessage.push(n?(i=e,(o=document.createElement("div")).innerHTML=i,o.textContent||o.innerHTML):e),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t=a.pendingMessage.join("\n");a.pendingMessage=[],a.setState({message:t})}),100))},n.removeMessage=function(t,e){this.announcedMessageIds[t]&&(this.announcedMessageIds[t]=void 0,e&&this.state.message===e&&this.setState({message:""}))},n.render=function(){return i(lT.Provider,{value:{announce:this.announce,removeMessage:this.removeMessage}},i(HF,{message:this.state.message}),this.props.children)},e}(p),UF=Ct((function(){return import("./ImagePinch.9cdca743.js")})),GF=function(t){return i(kt,null,i(It,null,i(UF,t)))},KF=function(t,e){var n=.95*V.document.documentElement.clientWidth,i=.95*V.document.documentElement.clientHeight,o=1;return{width:t/(o=t/e>=n/i?t>=n?t/n:1:e>=i?e/i:1),height:e/o}},YF=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={loading:!0,rotation:1},n.hidePreview=n.hidePreview.bind(ct(n)),n.rotate=n.rotate.bind(ct(n)),n.onImgLoad=n.onImgLoad.bind(ct(n)),n.setImageSize=n.setImageSize.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.onImgLoad=function(t){var e=t.target.naturalWidth,n=t.target.naturalHeight;this.setState({originalWidth:e,originalHeight:n},this.setImageSize)},n.setImageSize=function(){if(this.state.rotation%2==1){var t=KF(this.state.originalWidth,this.state.originalHeight),e=t.width,n=t.height;this.image.style.width=e+"px",this.image.style.height=n+"px"}else{var i=KF(this.state.originalHeight,this.state.originalWidth),o=i.width,a=i.height;this.image.style.width=a+"px",this.image.style.height=o+"px"}},n.rotate=function(t){var e=this;t.stopPropagation(),this.container.style.overflow="hidden",this.setState({rotation:this.state.rotation+1},(function(){e.container.style.overflow="",e.setImageSize()})),this.image.style.transform="rotate(-"+90*this.state.rotation+"deg)"},n.hidePreview=function(t){t.target!==this.image&&(this.props.onResetPreviewImage(),this.setState({rotation:1}))},n.render=function(){var t=this,e=this.props,n=e.url,o=e.labels,a=e.name,r=e.isMobile;if(!n)return null;var s=ft(this.context);return i(w,null,i("style",null,".preview-modal {\n      position: absolute;\n      background: rgba(0, 0, 0, 0.5);\n      z-index: 2147483647;\n      width: 100%;\n      height: 100%;\n      right: 0;\n      bottom: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n    }\n    .preview-modal img {\n      transition: 160ms ease-in-out;\n    }\n    .preview-operation {\n      position: absolute;\n      top: 10px;\n      right: 15px;\n      background-color: #212121;\n      border-radius: 4px;\n      height: 42px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 8px;\n      padding: 2px 12px;\n      z-index: 99;\n    }\n    .preview-operation button {\n      outline: none;\n      border: none;\n      background: none;\n      width: 38px;\n      height: 38px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      padding: 0;\n    }\n    .preview-operation button:hover,\n    .preview-operation button:active {\n      background-color: #000;\n      border-radius: 4px;\n    }\n    .preview-operation svg {\n      width: 28px;\n      height: 28px;\n      fill: #fff;\n    }\n    svg.icon-popout {\n      width: 20px;\n    }\n    svg.icon-close {\n      width: 16px;\n      height: 16px;\n    }"),i("div",{className:"preview-modal",onClick:this.hidePreview,ref:function(e){t.container=e}},i("div",{className:"preview-operation"},i("button",{"aria-label":s.rotate,title:s.rotate,onClick:this.rotate},i(xt,{type:re,viewBox:"0 0 20 20"})),i("button",{"aria-label":o.popout,title:o.popout,onClick:function(){V.open(n)}},i(xt,{type:se,className:"icon-popout"})),i("button",{"aria-label":o.close,title:o.close,onClick:this.hidePreview},i(xt,{type:Mt,className:"icon-close"}))),r?i(GF,null,i("img",{src:n,alt:a,ref:function(e){t.image=e},onLoad:this.onImgLoad})):i("img",{src:n,alt:a,ref:function(e){t.image=e},onLoad:this.onImgLoad})))},e}(p),JF=DB(YF),QF=f((function(t){var e=rm(t),n=c_(t);return Object.assign({},e,{labels:{close:n.buttonClose,popout:n.embeddedWindowPopup},languageTag:d_(t),isMobile:Pm(t)})}),(function(t){return{onResetPreviewImage:function(){t(FS({}))}}}))(JF),ZF="chatButton",XF="chatButton--ripple",$F=t(1)(Tt),tW=t(1)((function(t,e,n){var i="";return e&&(i=".chatButton--avatar:after{background-image:url("+e+");background-color:#f4f5f6;background-size:60px 60px;}"),[[tr(aB,t),".online .chatButton:after{","background:"+$F(t),"}",".online ."+XF+"."+ZF+":before{","animation:at-ripple 16.417s linear 3.625s infinite","}",".offline .chatButton:after{","background:"+$F("#bbb"),"}",".innerIcon {","fill:"+$F(t),"}"].join(""),i,n]})),eW=t(1)(ce),nW=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifReceiveNewMessage:!0,customizeIcon:""},n.removeAnimationClass=n.removeAnimationClass.bind(ct(n)),n.getCustomSvgIcon=n.getCustomSvgIcon.bind(ct(n)),n.shouldComponentUpdate=JA(ct(n),["iconStyle","count","href","status","avatar","online","mainColor","showArrowDown","customCSS","ifUseCustomizeIcon","customizeIcon"],["ifReceiveNewMessage","customizeIcon"]),n.handleReFocus=n.handleReFocus.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;setTimeout((function(){t.button&&(t.button.style.zIndex=oA)}),0),this.button.addEventListener("mouseenter",(function(){if(t.icon&&t.props.online&&(!t.props.ifUseCustomizeIcon||!t.props.customizeIcon)){t.icon.classList.add("moveIn"),t.icon.classList.remove("moveOut");var e=t.props.online?t.props.mainColor:"#bbb";t.dotContainer.innerHTML='<svg viewBox="0 0 32 32" width="32px" fill='+e+' aria-hidden="true">\n        <circle r="2" cy="15" cx="10" class="innerDot" />\n        <circle r="2" cy="15" cx="16" class="innerDot" />\n        <circle r="2" cy="15" cx="22" class="innerDot" />\n        </svg>'}})),this.button.addEventListener("mouseleave",(function(){!t.icon||!t.props.online||t.props.ifUseCustomizeIcon&&t.props.customizeIcon||(t.icon.classList.remove("moveIn"),t.icon.classList.add("moveOut"),t.dotContainer.innerHTML="")}))},n.componentWillReceiveProps=function(t){t.status===$l&&this.button&&(this.button.style.zIndex=oA+1),t.count!==this.props.count&&this.setState({ifReceiveNewMessage:!0})},n.getCustomSvgIcon=function(t){var e=this;if(""!==t)if(t.indexOf("<svg")>=0)this.setState({customizeIcon:t});else{var n=t.indexOf("http")>=0?t:""+this.props.chatserverUrl+t;pM(n).then((function(t){e.setState({customizeIcon:t.output})}))}},n.removeAnimationClass=function(){this.setState({ifReceiveNewMessage:!1})},n.handleReFocus=function(t){var e=this.props.status;if([Ql,Zl].includes(e)&&9===t.keyCode){var n=top.frames.chat_window_container.contentWindow,i=top.frames.side_window_container&&top.frames.side_window_container.contentWindow,o=i&&i.document.querySelector(".sideWindow");if(o)return void o.focus();if(n){var a=n.document.querySelector(".whole-window");a&&a.focus()}}},n.render=function(){var t=this,e=this.props,n=e.onClick,o=e.href,a=e.count,r=e.status,s=e.avatar,c=e.online,d=e.ifRipple,l=e.isMobile;e.iconStyle;var u=e.mainColor,p=e.showArrowDown,f=e.customCSS,g=e.onTouchStart,m=e.onMouseEnter,w=e.ifUseCustomizeIcon,b=tW(u,s,f),v=ft(this.context),_=eW(c?u:"#bbb"),x=_.startColor,y=_.stopColor,S=this.props.customizeIcon;return i("div",{className:h("chatButtonContainer",l&&"chatButtonContainer--mobile",r===Xl&&s&&"chatButton--avatar",c?"online":"offline"),ref:function(e){t.button=e}},i(cB,{css:b,id:"adaptive"}),i("a",{className:h(d&&XF,ZF),href:o||"",onClick:n,onTouchStart:g,onMouseEnter:m,"aria-label":this.props["aria-label"],role:"button","aria-expanded":p?"true":"false",onKeyDown:this.handleReFocus},p?i("svg",{x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32",focusable:"false",className:"chatButton__svg-chat","aria-hidden":"true"},i("path",{className:"chatButton__svg-chat-path",stroke:"#fff",d:"M25.8,14.9c-0.5-0.4-1.3-0.3-1.7,0.2l-6,6l-6.2-6.1c-0.6-0.5-1.3-0.6-1.7-0.2c-0.3,0.5-0.3,1.2,0.2,1.7l6.6,6.5c0.2,0.2,0.4,0.3,0.6,0.4h0.1c0.1,0,0.1,0,0.2,0c0.4,0,0.8-0.1,1.1-0.4l6.6-6.6C26,16,26.2,15.4,25.8,14.9z"})):w&&S?i("div",{className:"chatButton__svg-container",dangerouslySetInnerHTML:{__html:S}}):i("div",{className:"svg-container",ref:function(e){t.icon=e}},i("svg",{x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32",focusable:"false",className:"outIcon","aria-hidden":"true"},i("g",null,i("defs",null,i("linearGradient",{id:"linear"},i("stop",{offset:"0%","stop-color":x}),i("stop",{offset:"100%","stop-color":y}))),i("path",{fill:"#fff",className:"chatButton__svg-chat-path",d:"M16.007 0c-8.299 0-14.023 6.836-14.023 14.024 0 5.88 2.982 8.636 4.107 9.916 0 0 4.093 4.585 12.068 8.060v-4.121c4.783-0.563 11.858-5.289 11.858-13.855-0.001-8.271-6.794-14.024-14.010-14.024z"}),i("path",{fill:"url(#linear)",ref:function(e){t.path=e},className:"innerIcon",d:"M18.035 22.372v3.657c-0.014 0-2.729-1.364-4.276-2.574-2.926-2.236-6.498-4.416-6.498-9.438 0-4.993 4.149-8.622 8.622-8.622 0.005 0 0.011-0 0.017-0 4.744 0 8.591 3.838 8.605 8.579v0.043c0 5.162-4.164 7.779-6.47 8.355z"}))),i("div",{className:"innerDotContainer",ref:function(e){t.dotContainer=e}})),!!a&&a>0&&i("div",{ref:function(e){e&&(t.newMessageCount=e)},className:h("chatButton--newMessage",this.state.ifReceiveNewMessage&&"chatButton--newMessageAnimation"),onAnimationEnd:this.removeAnimationClass,"aria-label":v.unread},a)))},e}(p),iW=Object.freeze({__proto__:null,default:nW}),oW={width:110,height:110,position:"fixed",border:"none",zIndex:oA},aW=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showNotify:!0},n.onClick=n.onClick.bind(ct(n)),n.onAccept=n.onAccept.bind(ct(n)),n.onRefuse=n.onRefuse.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){t.unread!==this.props.unread&&this.setState({showNotify:!0})},n.onAccept=function(t,e,n){this.props.onMaximize(this.props.windowTab),e&&this.props.onSend(e,n)},n.onRefuse=function(){this.setState({showNotify:!1}),this.props.isBubbleManualInvited&&this.props.onRefuse()},n.onClick=function(t){t.preventDefault(),(this.props.windowStatus===Xl?this.props.onMaximize:this.props.onMinimize)(this.props.windowTab)},n.render=function(){var t=this.props,e=t.windowStatus===Xl,n=this.state.showNotify&&t.NotifyBubble,o=this.props.isBubbleManualInvited?t.refuseText:t.closeText,a=this.props.isBubbleManualInvited?t.acceptText:t.openText,r=!1,s=ft(this.context),c=s.maximize;e&&(c=s.minimizeBar),e||(r=!0);var d=this.onAccept,l=this.onRefuse,u=t.windowStyle===rw?350:t.chatWindowWidth,p=Math.min(t.right,n?t.windowWidth-270-25:t.windowWidth-u)||0,h=Math.min(t.windowHeight-87.5,t.chatWindowHeight),f=Math.min(t.bottom,n?t.windowHeight-177.5-87.5:t.windowHeight-h-87.5);t.windowStyle!==rw||n||(f=0);var g=t.isRightToLeft,m=t.fontCSS;return i("div",null,n&&i(t.NotifyBubble,{onAccept:d,onRefuse:l,xText:o,acceptText:a,fontCSS:m,isRightToLeft:g}),i(uB,{style:Object.assign({},oW,{right:p,bottom:f}),title:s.minimizeBtn,id:"chat_button_adaptive_container",languageTag:t.languageTag},i(nW,{isMobile:t.isMobile,avatar:t.avatar,onClick:this.onClick,count:t.unread,status:t.windowStatus,online:t.online,iconStyle:t.iconStyle,showArrowDown:r,mainColor:t.buttonColor,"aria-label":c,customCSS:t.customCSS,ifUseCustomizeIcon:t.isCustomizedAdaptiveButtonUsed,customizeIcon:t.customizeIcon})))},e}(p),rW=Ct((function(){return import("./Bar.c9df3c7e.js")})),sW=DB((function(t){return t.showAdaptiveMinimizeIcon?i(aW,t):i(kt,{fallback:i("div",null)},i(It,null,i(rW,t)))})),cW=Ct((function(){return import("./NotifyBubble.fdfec89f.js")})),dW=function(t){return i(kt,{fallback:i("div",null)},i(It,null,i(cW,t)))};var lW,uW=((FF={})[tp]="livechat.chat",FF[$u]="livechat.prechat",FF[ep]="livechat.postChat",FF[np]="livechat.offlineMessage",FF),pW=f((function(t){var e=function(t){var e,n=Rv(t);return t_(t)&&n!==rw&&(e=Rf(t)),e}(t),n=$h(t),i=Zh(t),o=ym(t),a=function(t){if(ym(t)===Xl)return kf(t)}(t),r=function(t){var e=wm(t);return vm(t)[e]}(t),s=function(t){var e=wm(t);return hw(t,e).svg}(t),c=of(t),d=S_(t),l=hw(t,n),u=l.color,p=Ev(t),h=k_(t),f=Qv(t,a),g=Mg(t),m=Ig(t),w=o===Xl,b=o_(t),v=function(t){return(Mm(t)||{}).invitationType===fu}(t),_=ig(t),x=d_(t),y=wm(t),S=yw(t,y),C=S&&S.width,k=Lm(t),I=S&&S.height,M=zm(t),O=Rv(t);return{isMobile:Pm(t),isIPad:Fm(t),avatar:e,windowTab:i,windowStatus:o,unread:a,online:r,iconStyle:s,mainColor:c,buttonColor:u,showAdaptiveMinimizeIcon:d,cornerStyle:p,text:h,notification:f,right:g,bottom:m,isBubbleManualInvited:b&&v,customCSS:_,NotifyBubble:w?dW:null,languageTag:x,languages:c_(t),openText:U[x].minimizeBar,acceptText:U[x].acceptInv,refuseText:U[x].refuseInv,closeText:U[x].closeNewMsg,chatWindowWidth:C,windowWidth:k,windowStyle:O,isPoppedOut:lh(t),fontCSS:er(K(bh,t)),isRightToLeft:pg(t),chatWindowHeight:I,windowHeight:M,isCustomizedAdaptiveButtonUsed:l.isCustomizedAdaptiveButtonUsed,customizeIcon:l.customizeIcon,shouldFocusBar:Um(t)}}),(function(t){return{onMinimize:function(e){var n=uW[e];n&&ck(n+".minimize"),t(ix())},onMaximize:function(e){var n=uW[e];n&&ck(n+".restore"),t(ax())},onRefuse:function(){t(Oy())},onSend:function(e,n){t(Qy(e,n))},onBlurMinimize:function(){t(rx(!1))}}}))(sW),hW=Ct((function(){return import("./Button.7c4a2241.js")})),fW=Ct((function(){return import("./Invitation.25f4a1d2.js")})),gW=f((function(t){var e,n=ch(t);if(!n)return{isReady:n};var i=S_(t);return{isReady:n,enableGa:Nv(t),tab:Zh(t),invitation:rv(t),guid:bf(t),ban:uh(t),isCampaignReady:Qh(t),windowStatus:ym(t),isPoppedOut:lh(t),customJs:a_(t),chatStatus:qh(t),showAdaptiveMinimizeIcon:i,languageMaxmized:null==(e=U[d_(t)])?void 0:e.maximized}}))((function(t){var e=t.isReady,n=t.windowStatus,o=t.tab,a=t.enableGa,r=t.customJs,s=t.chatStatus,c=t.invitation,d=t.guid,l=t.ban,u=t.isCampaignReady,p=t.isPoppedOut,h=t.showAdaptiveMinimizeIcon,f=t.languageMaxmized;if(t.previewImageUrl,!e)return null;if(l)return null;var g=n!==$l,m=n===Xl,w=m;return m||(w=h),i("div",null,r&&i(tB,{key:"js",textContent:r,name:"script",type:"text/javascript",nonce:"setupVisitorSideCustomJS"}),i(XA,{enableGa:a,windowTab:o,invitation:c,guid:d,chatStatus:s}),!p&&i(kt,{fallback:i("div",null)},i(It,{isShowError:!1},i(hW,null))),u&&g&&i(qF,{key:"chatwindow"},i(LF,null)),i(qF,{key:"invitation"},c&&c.type===fu&&i(uT,{id:"invitation",message:(c.agent?c.agent+": ":"")+c.message+"}",isHtml:!0,removeMessageWhenUnmount:!0}),c&&i(kt,{fallback:i("div",null)},i(It,{isShowError:!1},i(fW,null))),w&&i(pW,null),!m&&!w&&g&&i(uT,{id:"restoreChatWindow",message:f,removeMessageWhenUnmount:!0})),u&&i(QF,null))})),mW=function(t){var e=t.store;return i(oB,{getRender:rk},i(b,{store:e},i(gW,null)))},wW="$brandingName-container".replace("$brandingName",V.brandingNameLowerCase);lW=[function(t){var e=N.getElementById(wW),n=e||N.createElement("div");return e||(n.id=wW,N.body.appendChild(n)),l(i(mW,{store:t}),n),function(){n.innerHTML=""}},function(t){if(lh(t.getState()))return null;var e=null,n=null,i=function(){if(null===e){var n=t.getState(),i=zv(n),o=K(RC,t);e=setInterval((function(){var t=Pa(i);o(t)}),1e3)}},o=function(){e&&clearInterval(e),n&&clearTimeout(n),e=null,n=null},a=t.getState(),r=t.subscribe((function(){var e=t.getState();if(uh(e)||hh(e))o();else if(!ch(a)&&ch(e)){if(uh(e))return;if(null==zv(e))return;i(),n=setTimeout(o,1e3*Ih(e))}else ch(e)&&Ch(e)!==Ch(a)&&(o(),i(),n=setTimeout(o,1e3*Ih(e)));a=e}));return function(){r(),o()}},function(t){ak={},sk={},T.get=lk(function(t){return{"livechat.siteId":UC(t),"livechat.campaignIds":Yr,"livechat.isDynamicCampaign":GC(t),"livechat.isMobile":KC(t),"livechat.button.isVisible":YC(t),"livechat.button.status":JC(t),"livechat.prechat.isSkip":QC(t),"livechat.prechat.fields":XC(mp,t),"livechat.postChat.fields":XC(wp,t),"livechat.offlineMessage.fields":XC(bp,t),"livechat.sideWindow.isVisible":ZC(t),"livechat.sideWindow.tabs":tk(t),"livechat.visitor.guid":ek(t),"livechat.chat.maxMessageLength":nk(t),"livechat.sso.artifact":$C(t)}}(t)),T.set=lk(function(t){var e=HC(t),n=e(Sx);return{"livechat.customVariables":function(e){void 0===e&&(e=[]),RC(t,Array.prototype.reduce.call(e,(function(t,e){var n=t;return void 0===e.value||(n[e.name]=""+e.value),n}),{}),!1)},"livechat.button.isVisible":function(e,i){void 0===i&&(i=wm(t.getState())),n(e,i)},"livechat.button.color":function(n,i){void 0===i&&(i=wm(t.getState())),e(yx)({id:i,entity:{color:n}})},"livechat.prechat.isSkip":e(sx),"livechat.prechat.fields":ik(t,mp),"livechat.postChat.fields":ik(t,wp),"livechat.offlineMessage.fields":ik(t,bp),"livechat.sideWindow.isVisible":e(Sy),"livechat.sideWindow.tabs":e(Cy),"livechat.chat.maxMessageLength":e(vx),"livechat.sso.artifact":e(gx),"livechat.chatWindow.color":function(n,i){void 0===i&&(i=wm(t.getState())),e(xx)({id:i,entity:{mainColor:n}})},"livechat.sso.jwt":e(wx)}}(t)),T.do=lk(function(t){var e=HC(t),n=e(ix),i=e(ax),o=e(ox),a=e(zS),r=function(t){return e(K(yC,t))},s=function(e){return function(n){var i=rv(t.getState());i&&n===i.id&&e(wm(t.getState()))}},c=e(Y_,$_);function d(e,n,i){return function(){return new Promise((function(o,a){var r=t.getState();if(qh(r)!==fp||qf(r))return a("not_chatting");if(!v||!1===Zf(r))return a("webrtc_not_supported");var s=$h(r);return e(r,s)?$f(r)?a("audio_video_chatting"):lg(r)?a("frequency_limited"):(t.dispatch(i()),o()):a(n)}))}}var l,u=d(Qm,"audio_not_enabled",Xy),p=d(Zm,"video_not_enabled",$y);return{"livechat.button.click":function(e){return void 0===e&&(e=wm(t.getState())),c(e)},"livechat.invitation.accept":s(e(K_,$_)),"livechat.invitation.refuse":s(e(J_)),"livechat.prechat.minimize":n,"livechat.chat.minimize":n,"livechat.postChat.minimize":n,"livechat.offlineMessage.minimize":n,"livechat.prechat.restore":i,"livechat.chat.restore":i,"livechat.postChat.restore":i,"livechat.offlineMessage.restore":i,"livechat.prechat.close":o,"livechat.chat.close":o,"livechat.postChat.close":o,"livechat.offlineMessage.close":o,"livechat.chat.endChat":a,"livechat.prechat.field.focus":r(mp),"livechat.postChat.field.focus":r(wp),"livechat.offlineMessage.field.focus":r(bp),"livechat.prechat.submit":ok(mp,t),"livechat.postChat.submit":ok(wp,t),"livechat.offlineMessage.submit":ok(bp,t),"livechat.sideWindow.tabs.click":e(yy),"livechat.chat.audio.request":u,"livechat.chat.video.request":p,"livechat.pageVisit":e(YS),"livechat.invitation.show":(l=e(bC),function(e){var n=t.getState(),i=O_(n);Ff(n)||ym(n)===Ql||ym(n)===Zl||i===ou||i===iu||i===du||Wf(n)||l(e)}),"livechat.chat.visitor.sendText":function(e){Bf(t.getState())&&t.dispatch(PS(e))}}}(t)),T.render=function(t,e){ak[t]=e},T.on=dk;var e=HC(t),n=function(){};qC("ban",e(B_)),qC("end_chat",e(zS)),qC("setIfSkipPrechat",e(sx));var i=K(dk,"livechat.invitation.display");qC("onBeforeImageInvitationDisplay",i),qC("onAfterImageInvitationDisplay",i);var o=K(dk,"livechat.chat.display");qC("onChatWindowLoadBegin",o),qC("onChatWindowLoaded",o),qC("setIfHideChatWindowLoadingAnimation",n),qC("onChatWindowStatusChanged",n);var a=e(Y_,$_);qC("open_chat_window",(function(e,n){return void 0===n&&(n=wm(t.getState())),a(n)})),qC("set_custom_variables",(function(e){return void 0===e&&(e=[]),RC(t,Array.prototype.reduce.call(e,(function(t,e){var n=t;return n[e.name]=""+e.value,n}),{}),!1)})),T.setCustomVariables=T.set_custom_variables;var r=t.getState(),s=t.subscribe((function(){if(!ch(r)){var e=t.getState();ch(e)&&(s(),function(){"function"==typeof Zr&&Zr(),T.onReady&&T.onReady!==Zr&&T.onReady();var t=T.onReady;Object.defineProperty(T,"onReady",{get:function(){return t},set:function(e){"function"==typeof e&&e(),t=e},configurable:!1})}()),r=e}}));return function(){delete T.get,delete T.set,delete T.do,delete T.render,delete T.on,s()}},function(t){var e=function(t){return t&&t.indexOf("landscape")>=0},n=function(){var e=t.getState(),n=Lm(e),i=zm(e),o=G(),a=wm(e),r=Sw(e,a);o.width===n&&o.height===i||t.dispatch(cx(o,r))},i=function(){!function(){var t=V.screen,n=t.msOrientation||t.mozOrientation||t.orientation,i=typeof n;return"undefined"===i?"orientation"in V&&90===Math.abs(V.orientation):e("string"===i?n:n.type)}()?t.dispatch(ux()):t.dispatch(lx())},o=$((function(){t.dispatch(JS())}),500);V.addEventListener("resize",$(n,200)),V.addEventListener("orientationchange",$(i,50)),V.addEventListener("hashchange",o),V.addEventListener("popstate",o);var a=V.history.pushState,r=V.history.replaceState;return V.history.pushState=function(t,e,n){a.call(V.history,t,e,n),o()},V.history.replaceState=function(t,e,n){r.call(V.history,t,e,n),o()},n(),i(),function(){V.removeEventListener("resize",n),V.removeEventListener("orientationchange",i),V.removeEventListener("hashchange",o),V.addEventListener("popstate",o),V.history.pushState=a,V.history.replaceState=r}}];var bW=10,vW=[];function _W(t){vW.length>=bW&&vW.shift(),vW.push(t)}window.getStoredErrors=function(){return vW},function(t){return function(e,n,i,o){if(!T.loaded){T.loaded=!0,function(t){var e=t.length>0?t[t.length-1].div_id:null;if(e&&N.body&&!N.getElementById(e)){var n=N.getElementsByTagName("head")[0];if(n)for(var i=n.getElementsByTagName("script"),o=0;o<i.length;o+=1)if(new RegExp("var\\s+"+"$brandingNameAPI".replace("$brandingName",V.brandingName)).test(i[o].innerHTML)){var a=N.createElement("div");a.id=e,N.body.appendChild(a);break}}}(T.chat_buttons);var a=null,r=null,s=null;if(o)try{var c=JSON.parse(o);c.chatserver&&(a=W(c.chatserver)),c.fileservice&&(r=W(c.fileservice)),c.apiserver&&(s=W(c.apiserver))}catch(t){}window.store=t({siteId:Gr,chatGroup:Kr,mainCampaignId:is,campaignIds:Yr(),isDynamicCampaign:!!T.dynamic,serverUrl:{url:a||e,standbyUrl:n,vue:i,fileService:r,apiHost:s}});var d=N.getElementById(V.brandingNameLowerCase+"-iframe");d&&(d.contentDocument.documentElement.setAttribute("lang","en"),d.contentDocument.title=V.brandingName+" scripts")}}}((function(t){var e=t.siteId,n=t.chatGroup,i=t.mainCampaignId,o=t.campaignIds,a=t.isDynamicCampaign,r=t.serverUrl;jb();var s,l=T.popout,u=function(t){return t?Object.assign({},So(t.planId,{type:t.chatSource,invitationId:t.invitationId},!1,t.ticketId,t.departmentId),{lastChattedAgents:Db()}):null}(l),p=(s=l,Object.keys(s||{}).reduce((function(t,e){var n,i="CUSTOM!";return 0===e.indexOf(i)?Object.assign({},t,((n={})[e.substr(i.length)]=s[e],n)):t}),{})),h=function(t){if(t){var e=t.visitorGuid;if(e)return{guid:e}}return{guid:hb()}}(l);!function(t){t.guid&&fb(t.guid)}(h);var f,g=function(t){return t&&t.isStandbyServer?"standby":sh}(l),m=(f={app:{isReady:!1,isActive:!0,server:g,isPoppedOut:!!l,isOpenerExists:!!V.opener,banned:bb().isBanned,recoverFailTimes:0,isRecovering:!1,lastSuccessTime:0,isSoundOff:Xb()||!1},page:{siteId:e,isDynamicCampaign:a,campaignId:a?eo:i,buttons:o.reduce((function(t,e){var n;return Object.assign({},t,((n={})[e]=!1,n))}),{}),platform:Ga(),chatGroup:n,visitor:h,windowStatus:$l,requestChatAction:u,popout:T.popout,visitorStatus:cu},configuration:Object.assign({},r,{customVariableResult:p})},c(CI,f,d(as,FA)));return function(t){var e=lW.map((function(e){return e(t)}))}(m),m.dispatch(iC()),m}))(T.main,T.standby,T.vue,T.others),window.addEventListener("unhandledrejection",(function(t){_W(t.reason)})),window.addEventListener("error",(function(t){_W(t.error)}));export{kw as $,fu as A,er as B,bh as C,_m as D,Pm as E,Lm as F,zm as G,wh as H,uB as I,Wh as J,Nv as K,$l as L,Y_ as M,$_ as N,LA as O,HA as P,K_ as Q,VS as R,P_ as S,rA as T,aA as U,gu as V,pu as W,Sw as X,Dv as Y,mu as Z,pw as _,nB as a,Bp as a$,hg as a0,y_ as a1,vh as a2,J_ as a3,rw as a4,Pj as a5,pT as a6,cT as a7,qP as a8,LP as a9,jp as aA,Pp as aB,Wy as aC,Tx as aD,np as aE,Ny as aF,aC as aG,Xx as aH,qB as aI,Xl as aJ,Bb as aK,Tb as aL,fp as aM,hB as aN,cw as aO,cB as aP,tr as aQ,aw as aR,ow as aS,__ as aT,x_ as aU,cC as aV,lC as aW,yg as aX,qy as aY,ng as aZ,Z_ as a_,uT as aa,wm as ab,wg as ac,jm as ad,l_ as ae,Pw as af,Fw as ag,Cw as ah,Vv as ai,$h as aj,yf as ak,vg as al,_g as am,xg as an,lh as ao,tg as ap,Qf as aq,Fm as ar,of as as,S_ as at,Ig as au,Iw as av,Of as aw,bg as ax,Zg as ay,X_ as az,le as b,Sf as b$,Tp as b0,Op as b1,Ap as b2,Fp as b3,Wp as b4,Np as b5,kf as b6,eg as b7,mg as b8,Xf as b9,dT as bA,eP as bB,$f as bC,lg as bD,Zf as bE,Fh as bF,c_ as bG,Xy as bH,$y as bI,am as bJ,MS as bK,nf as bL,Xh as bM,Ov as bN,Tv as bO,Pf as bP,Jm as bQ,qf as bR,Gh as bS,df as bT,Mw as bU,Hv as bV,qv as bW,jf as bX,bf as bY,Mh as bZ,Oh as b_,pg as ba,qh as bb,ph as bc,Zh as bd,ah as be,yy as bf,gC as bg,rx as bh,ix as bi,zS as bj,Q_ as bk,ox as bl,tp as bm,QT as bn,lr as bo,Nr as bp,cP as bq,Mp as br,gp as bs,dP as bt,Fr as bu,Ir as bv,Cp as bw,lP as bx,kp as by,Ya as bz,oA as c,fa as c$,Ah as c0,af as c1,Bf as c2,tw as c3,Wv as c4,Ng as c5,Ww as c6,Dx as c7,Rx as c8,ry as c9,Rv as cA,Pg as cB,Fg as cC,zy as cD,iy as cE,tS as cF,Ey as cG,ny as cH,MO as cI,BA as cJ,Sm as cK,TA as cL,Wg as cM,wC as cN,OA as cO,AA as cP,_h as cQ,mC as cR,MA as cS,xh as cT,GS as cU,UI as cV,EI as cW,zI as cX,GI as cY,qI as cZ,pa as c_,Yx as ca,sy as cb,wy as cc,$x as cd,Zy as ce,eS as cf,cf as cg,Qm as ch,Zm as ci,Xm as cj,pv as ck,ia as cl,aa as cm,$i as cn,qo as co,Ha as cp,ea as cq,Mj as cr,Ho as cs,Go as ct,Uo as cu,Zo as cv,$o as cw,Xo as cx,na as cy,Yv as cz,Iu as d,fj as d$,ha as d0,ca as d1,da as d2,la as d3,ua as d4,Ua as d5,Lv as d6,lS as d7,kF as d8,oy as d9,En as dA,Gn as dB,Qn as dC,Jn as dD,Un as dE,fr as dF,Mf as dG,Zv as dH,Mg as dI,Ev as dJ,ig as dK,Tm as dL,uk as dM,hk as dN,wk as dO,fk as dP,bk as dQ,sw as dR,OF as dS,xr as dT,ge as dU,fB as dV,ab as dW,Tj as dX,kT as dY,Oe as dZ,gj as d_,Yh as da,Jh as db,bx as dc,XS as dd,xF as de,dS as df,CF as dg,jg as dh,IF as di,SF as dj,yF as dk,HI as dl,LI as dm,sf as dn,Gg as dp,KS as dq,NS as dr,Xu as ds,rS as dt,cS as du,rf as dv,Gm as dw,US as dx,Zu as dy,If as dz,ck as e,ba as e$,TT as e0,lj as e1,zh as e2,Rh as e3,Eh as e4,eo as e5,ob as e6,Ur as e7,lp as e8,$p as e9,zn as eA,Ui as eB,Wj as eC,iw as eD,nw as eE,Kg as eF,Yf as eG,RS as eH,Ws as eI,Ay as eJ,Af as eK,ug as eL,Ym as eM,ES as eN,gT as eO,JP as eP,sr as eQ,pe as eR,he as eS,Za as eT,fe as eU,ue as eV,de as eW,Ja as eX,_a as eY,va as eZ,xa as e_,Yp as ea,Qp as eb,Zp as ec,Gp as ed,qp as ee,Lp as ef,Kp as eg,Vp as eh,Dp as ei,Rp as ej,Ep as ek,zp as el,Hp as em,Xp as en,Up as eo,Jp as ep,th as eq,YB as er,gk as es,pk as et,mk as eu,vk as ev,qn as ew,Yi as ex,Dn as ey,Ln as ez,ku as f,ga as f0,wa as f1,zf as f2,Ef as f3,rg as f4,ag as f5,cg as f6,_y as f7,tC as f8,by as f9,vy as fa,xy as fb,ka as fc,Ca as fd,Sa as fe,Ma as ff,Ia as fg,im as fh,om as fi,$g as fj,kS as fk,eC as fl,BS as fm,IS as fn,AS as fo,TS as fp,iW as fq,$a as g,PB as h,Cu as i,ym as j,vm as k,DB as l,yu as m,Dm as n,d_ as o,mh as p,og as q,UA as r,JA as s,Su as t,jv as u,ZA as v,Ch as w,kh as x,Ih as y,rv as z};
